function initCustomCodesOnEvent(e) {
    initCustomCodes(),
    e.currentTarget.removeEventListener(e.type, initCustomCodesOnEvent)
}
function initCustomCodes() {
    if (window.customCodesDidInit)
        return !1;
    window.customCodesDidInit = !0;
    let e = document.querySelector("script[data-custom-codes]");
    e && e.setAttribute("src", e.getAttribute("data-src"))
}
if (function(e, t) {
    "use strict";
    "object" == typeof module && "object" == typeof module.exports ? module.exports = e.document ? t(e, !0) : function(e) {
        if (!e.document)
            throw new Error("jQuery requires a window with a document");
        return t(e)
    }
    : t(e)
}("undefined" != typeof window ? window : this, (function(e, t) {
    "use strict";
    var i = []
      , n = Object.getPrototypeOf
      , s = i.slice
      , r = i.flat ? function(e) {
        return i.flat.call(e)
    }
    : function(e) {
        return i.concat.apply([], e)
    }
      , a = i.push
      , o = i.indexOf
      , l = {}
      , d = l.toString
      , c = l.hasOwnProperty
      , u = c.toString
      , h = u.call(Object)
      , p = {}
      , f = function(e) {
        return "function" == typeof e && "number" != typeof e.nodeType && "function" != typeof e.item
    }
      , m = function(e) {
        return null != e && e === e.window
    }
      , g = e.document
      , v = {
        type: !0,
        src: !0,
        nonce: !0,
        noModule: !0
    };
    function y(e, t, i) {
        var n, s, r = (i = i || g).createElement("script");
        if (r.text = e,
        t)
            for (n in v)
                (s = t[n] || t.getAttribute && t.getAttribute(n)) && r.setAttribute(n, s);
        i.head.appendChild(r).parentNode.removeChild(r)
    }
    function b(e) {
        return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? l[d.call(e)] || "object" : typeof e
    }
    var _ = "3.6.4"
      , T = function(e, t) {
        return new T.fn.init(e,t)
    };
    function w(e) {
        var t = !!e && "length"in e && e.length
          , i = b(e);
        return !f(e) && !m(e) && ("array" === i || 0 === t || "number" == typeof t && 0 < t && t - 1 in e)
    }
    T.fn = T.prototype = {
        jquery: _,
        constructor: T,
        length: 0,
        toArray: function() {
            return s.call(this)
        },
        get: function(e) {
            return null == e ? s.call(this) : e < 0 ? this[e + this.length] : this[e]
        },
        pushStack: function(e) {
            var t = T.merge(this.constructor(), e);
            return t.prevObject = this,
            t
        },
        each: function(e) {
            return T.each(this, e)
        },
        map: function(e) {
            return this.pushStack(T.map(this, (function(t, i) {
                return e.call(t, i, t)
            }
            )))
        },
        slice: function() {
            return this.pushStack(s.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        even: function() {
            return this.pushStack(T.grep(this, (function(e, t) {
                return (t + 1) % 2
            }
            )))
        },
        odd: function() {
            return this.pushStack(T.grep(this, (function(e, t) {
                return t % 2
            }
            )))
        },
        eq: function(e) {
            var t = this.length
              , i = +e + (e < 0 ? t : 0);
            return this.pushStack(0 <= i && i < t ? [this[i]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor()
        },
        push: a,
        sort: i.sort,
        splice: i.splice
    },
    T.extend = T.fn.extend = function() {
        var e, t, i, n, s, r, a = arguments[0] || {}, o = 1, l = arguments.length, d = !1;
        for ("boolean" == typeof a && (d = a,
        a = arguments[o] || {},
        o++),
        "object" == typeof a || f(a) || (a = {}),
        o === l && (a = this,
        o--); o < l; o++)
            if (null != (e = arguments[o]))
                for (t in e)
                    n = e[t],
                    "__proto__" !== t && a !== n && (d && n && (T.isPlainObject(n) || (s = Array.isArray(n))) ? (i = a[t],
                    r = s && !Array.isArray(i) ? [] : s || T.isPlainObject(i) ? i : {},
                    s = !1,
                    a[t] = T.extend(d, r, n)) : void 0 !== n && (a[t] = n));
        return a
    }
    ,
    T.extend({
        expando: "jQuery" + (_ + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(e) {
            throw new Error(e)
        },
        noop: function() {},
        isPlainObject: function(e) {
            var t, i;
            return !(!e || "[object Object]" !== d.call(e) || (t = n(e)) && ("function" != typeof (i = c.call(t, "constructor") && t.constructor) || u.call(i) !== h))
        },
        isEmptyObject: function(e) {
            var t;
            for (t in e)
                return !1;
            return !0
        },
        globalEval: function(e, t, i) {
            y(e, {
                nonce: t && t.nonce
            }, i)
        },
        each: function(e, t) {
            var i, n = 0;
            if (w(e))
                for (i = e.length; n < i && !1 !== t.call(e[n], n, e[n]); n++)
                    ;
            else
                for (n in e)
                    if (!1 === t.call(e[n], n, e[n]))
                        break;
            return e
        },
        makeArray: function(e, t) {
            var i = t || [];
            return null != e && (w(Object(e)) ? T.merge(i, "string" == typeof e ? [e] : e) : a.call(i, e)),
            i
        },
        inArray: function(e, t, i) {
            return null == t ? -1 : o.call(t, e, i)
        },
        merge: function(e, t) {
            for (var i = +t.length, n = 0, s = e.length; n < i; n++)
                e[s++] = t[n];
            return e.length = s,
            e
        },
        grep: function(e, t, i) {
            for (var n = [], s = 0, r = e.length, a = !i; s < r; s++)
                !t(e[s], s) !== a && n.push(e[s]);
            return n
        },
        map: function(e, t, i) {
            var n, s, a = 0, o = [];
            if (w(e))
                for (n = e.length; a < n; a++)
                    null != (s = t(e[a], a, i)) && o.push(s);
            else
                for (a in e)
                    null != (s = t(e[a], a, i)) && o.push(s);
            return r(o)
        },
        guid: 1,
        support: p
    }),
    "function" == typeof Symbol && (T.fn[Symbol.iterator] = i[Symbol.iterator]),
    T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), (function(e, t) {
        l["[object " + t + "]"] = t.toLowerCase()
    }
    ));
    var S = function(e) {
        var t, i, n, s, r, a, o, l, d, c, u, h, p, f, m, g, v, y, b, _ = "sizzle" + 1 * new Date, T = e.document, w = 0, S = 0, k = le(), x = le(), C = le(), E = le(), P = function(e, t) {
            return e === t && (u = !0),
            0
        }, A = {}.hasOwnProperty, I = [], O = I.pop, L = I.push, M = I.push, D = I.slice, R = function(e, t) {
            for (var i = 0, n = e.length; i < n; i++)
                if (e[i] === t)
                    return i;
            return -1
        }, N = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", B = "[\\x20\\t\\r\\n\\f]", j = "(?:\\\\[\\da-fA-F]{1,6}" + B + "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+", F = "\\[" + B + "*(" + j + ")(?:" + B + "*([*^$|!~]?=)" + B + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + j + "))|)" + B + "*\\]", U = ":(" + j + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + F + ")*)|.*)\\)|)", $ = new RegExp(B + "+","g"), H = new RegExp("^" + B + "+|((?:^|[^\\\\])(?:\\\\.)*)" + B + "+$","g"), z = new RegExp("^" + B + "*," + B + "*"), q = new RegExp("^" + B + "*([>+~]|" + B + ")" + B + "*"), W = new RegExp(B + "|>"), V = new RegExp(U), G = new RegExp("^" + j + "$"), X = {
            ID: new RegExp("^#(" + j + ")"),
            CLASS: new RegExp("^\\.(" + j + ")"),
            TAG: new RegExp("^(" + j + "|[*])"),
            ATTR: new RegExp("^" + F),
            PSEUDO: new RegExp("^" + U),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + B + "*(even|odd|(([+-]|)(\\d*)n|)" + B + "*(?:([+-]|)" + B + "*(\\d+)|))" + B + "*\\)|)","i"),
            bool: new RegExp("^(?:" + N + ")$","i"),
            needsContext: new RegExp("^" + B + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + B + "*((?:-\\d)?\\d*)" + B + "*\\)|)(?=[^-]|$)","i")
        }, Y = /HTML$/i, K = /^(?:input|select|textarea|button)$/i, Q = /^h\d$/i, Z = /^[^{]+\{\s*\[native \w/, J = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, ee = /[+~]/, te = new RegExp("\\\\[\\da-fA-F]{1,6}" + B + "?|\\\\([^\\r\\n\\f])","g"), ie = function(e, t) {
            var i = "0x" + e.slice(1) - 65536;
            return t || (i < 0 ? String.fromCharCode(i + 65536) : String.fromCharCode(i >> 10 | 55296, 1023 & i | 56320))
        }, ne = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, se = function(e, t) {
            return t ? "\0" === e ? "ï¿½" : e.slice(0, -1) + "\\" + e.charCodeAt(e.length - 1).toString(16) + " " : "\\" + e
        }, re = function() {
            h()
        }, ae = _e((function(e) {
            return !0 === e.disabled && "fieldset" === e.nodeName.toLowerCase()
        }
        ), {
            dir: "parentNode",
            next: "legend"
        });
        try {
            M.apply(I = D.call(T.childNodes), T.childNodes),
            I[T.childNodes.length].nodeType
        } catch (t) {
            M = {
                apply: I.length ? function(e, t) {
                    L.apply(e, D.call(t))
                }
                : function(e, t) {
                    for (var i = e.length, n = 0; e[i++] = t[n++]; )
                        ;
                    e.length = i - 1
                }
            }
        }
        function oe(e, t, n, s) {
            var r, o, d, c, u, f, v, y = t && t.ownerDocument, T = t ? t.nodeType : 9;
            if (n = n || [],
            "string" != typeof e || !e || 1 !== T && 9 !== T && 11 !== T)
                return n;
            if (!s && (h(t),
            t = t || p,
            m)) {
                if (11 !== T && (u = J.exec(e)))
                    if (r = u[1]) {
                        if (9 === T) {
                            if (!(d = t.getElementById(r)))
                                return n;
                            if (d.id === r)
                                return n.push(d),
                                n
                        } else if (y && (d = y.getElementById(r)) && b(t, d) && d.id === r)
                            return n.push(d),
                            n
                    } else {
                        if (u[2])
                            return M.apply(n, t.getElementsByTagName(e)),
                            n;
                        if ((r = u[3]) && i.getElementsByClassName && t.getElementsByClassName)
                            return M.apply(n, t.getElementsByClassName(r)),
                            n
                    }
                if (i.qsa && !E[e + " "] && (!g || !g.test(e)) && (1 !== T || "object" !== t.nodeName.toLowerCase())) {
                    if (v = e,
                    y = t,
                    1 === T && (W.test(e) || q.test(e))) {
                        for ((y = ee.test(e) && ve(t.parentNode) || t) === t && i.scope || ((c = t.getAttribute("id")) ? c = c.replace(ne, se) : t.setAttribute("id", c = _)),
                        o = (f = a(e)).length; o--; )
                            f[o] = (c ? "#" + c : ":scope") + " " + be(f[o]);
                        v = f.join(",")
                    }
                    try {
                        return M.apply(n, y.querySelectorAll(v)),
                        n
                    } catch (t) {
                        E(e, !0)
                    } finally {
                        c === _ && t.removeAttribute("id")
                    }
                }
            }
            return l(e.replace(H, "$1"), t, n, s)
        }
        function le() {
            var e = [];
            return function t(i, s) {
                return e.push(i + " ") > n.cacheLength && delete t[e.shift()],
                t[i + " "] = s
            }
        }
        function de(e) {
            return e[_] = !0,
            e
        }
        function ce(e) {
            var t = p.createElement("fieldset");
            try {
                return !!e(t)
            } catch (e) {
                return !1
            } finally {
                t.parentNode && t.parentNode.removeChild(t),
                t = null
            }
        }
        function ue(e, t) {
            for (var i = e.split("|"), s = i.length; s--; )
                n.attrHandle[i[s]] = t
        }
        function he(e, t) {
            var i = t && e
              , n = i && 1 === e.nodeType && 1 === t.nodeType && e.sourceIndex - t.sourceIndex;
            if (n)
                return n;
            if (i)
                for (; i = i.nextSibling; )
                    if (i === t)
                        return -1;
            return e ? 1 : -1
        }
        function pe(e) {
            return function(t) {
                return "input" === t.nodeName.toLowerCase() && t.type === e
            }
        }
        function fe(e) {
            return function(t) {
                var i = t.nodeName.toLowerCase();
                return ("input" === i || "button" === i) && t.type === e
            }
        }
        function me(e) {
            return function(t) {
                return "form"in t ? t.parentNode && !1 === t.disabled ? "label"in t ? "label"in t.parentNode ? t.parentNode.disabled === e : t.disabled === e : t.isDisabled === e || t.isDisabled !== !e && ae(t) === e : t.disabled === e : "label"in t && t.disabled === e
            }
        }
        function ge(e) {
            return de((function(t) {
                return t = +t,
                de((function(i, n) {
                    for (var s, r = e([], i.length, t), a = r.length; a--; )
                        i[s = r[a]] && (i[s] = !(n[s] = i[s]))
                }
                ))
            }
            ))
        }
        function ve(e) {
            return e && void 0 !== e.getElementsByTagName && e
        }
        for (t in i = oe.support = {},
        r = oe.isXML = function(e) {
            var t = e && e.namespaceURI
              , i = e && (e.ownerDocument || e).documentElement;
            return !Y.test(t || i && i.nodeName || "HTML")
        }
        ,
        h = oe.setDocument = function(e) {
            var t, s, a = e ? e.ownerDocument || e : T;
            return a != p && 9 === a.nodeType && a.documentElement && (f = (p = a).documentElement,
            m = !r(p),
            T != p && (s = p.defaultView) && s.top !== s && (s.addEventListener ? s.addEventListener("unload", re, !1) : s.attachEvent && s.attachEvent("onunload", re)),
            i.scope = ce((function(e) {
                return f.appendChild(e).appendChild(p.createElement("div")),
                void 0 !== e.querySelectorAll && !e.querySelectorAll(":scope fieldset div").length
            }
            )),
            i.cssHas = ce((function() {
                try {
                    return p.querySelector(":has(*,:jqfake)"),
                    !1
                } catch (e) {
                    return !0
                }
            }
            )),
            i.attributes = ce((function(e) {
                return e.className = "i",
                !e.getAttribute("className")
            }
            )),
            i.getElementsByTagName = ce((function(e) {
                return e.appendChild(p.createComment("")),
                !e.getElementsByTagName("*").length
            }
            )),
            i.getElementsByClassName = Z.test(p.getElementsByClassName),
            i.getById = ce((function(e) {
                return f.appendChild(e).id = _,
                !p.getElementsByName || !p.getElementsByName(_).length
            }
            )),
            i.getById ? (n.filter.ID = function(e) {
                var t = e.replace(te, ie);
                return function(e) {
                    return e.getAttribute("id") === t
                }
            }
            ,
            n.find.ID = function(e, t) {
                if (void 0 !== t.getElementById && m) {
                    var i = t.getElementById(e);
                    return i ? [i] : []
                }
            }
            ) : (n.filter.ID = function(e) {
                var t = e.replace(te, ie);
                return function(e) {
                    var i = void 0 !== e.getAttributeNode && e.getAttributeNode("id");
                    return i && i.value === t
                }
            }
            ,
            n.find.ID = function(e, t) {
                if (void 0 !== t.getElementById && m) {
                    var i, n, s, r = t.getElementById(e);
                    if (r) {
                        if ((i = r.getAttributeNode("id")) && i.value === e)
                            return [r];
                        for (s = t.getElementsByName(e),
                        n = 0; r = s[n++]; )
                            if ((i = r.getAttributeNode("id")) && i.value === e)
                                return [r]
                    }
                    return []
                }
            }
            ),
            n.find.TAG = i.getElementsByTagName ? function(e, t) {
                return void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e) : i.qsa ? t.querySelectorAll(e) : void 0
            }
            : function(e, t) {
                var i, n = [], s = 0, r = t.getElementsByTagName(e);
                if ("*" === e) {
                    for (; i = r[s++]; )
                        1 === i.nodeType && n.push(i);
                    return n
                }
                return r
            }
            ,
            n.find.CLASS = i.getElementsByClassName && function(e, t) {
                if (void 0 !== t.getElementsByClassName && m)
                    return t.getElementsByClassName(e)
            }
            ,
            v = [],
            g = [],
            (i.qsa = Z.test(p.querySelectorAll)) && (ce((function(e) {
                var t;
                f.appendChild(e).innerHTML = "<a id='" + _ + "'></a><select id='" + _ + "-\r\\' msallowcapture=''><option selected=''></option></select>",
                e.querySelectorAll("[msallowcapture^='']").length && g.push("[*^$]=" + B + "*(?:''|\"\")"),
                e.querySelectorAll("[selected]").length || g.push("\\[" + B + "*(?:value|" + N + ")"),
                e.querySelectorAll("[id~=" + _ + "-]").length || g.push("~="),
                (t = p.createElement("input")).setAttribute("name", ""),
                e.appendChild(t),
                e.querySelectorAll("[name='']").length || g.push("\\[" + B + "*name" + B + "*=" + B + "*(?:''|\"\")"),
                e.querySelectorAll(":checked").length || g.push(":checked"),
                e.querySelectorAll("a#" + _ + "+*").length || g.push(".#.+[+~]"),
                e.querySelectorAll("\\\f"),
                g.push("[\\r\\n\\f]")
            }
            )),
            ce((function(e) {
                e.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                var t = p.createElement("input");
                t.setAttribute("type", "hidden"),
                e.appendChild(t).setAttribute("name", "D"),
                e.querySelectorAll("[name=d]").length && g.push("name" + B + "*[*^$|!~]?="),
                2 !== e.querySelectorAll(":enabled").length && g.push(":enabled", ":disabled"),
                f.appendChild(e).disabled = !0,
                2 !== e.querySelectorAll(":disabled").length && g.push(":enabled", ":disabled"),
                e.querySelectorAll("*,:x"),
                g.push(",.*:")
            }
            ))),
            (i.matchesSelector = Z.test(y = f.matches || f.webkitMatchesSelector || f.mozMatchesSelector || f.oMatchesSelector || f.msMatchesSelector)) && ce((function(e) {
                i.disconnectedMatch = y.call(e, "*"),
                y.call(e, "[s!='']:x"),
                v.push("!=", U)
            }
            )),
            i.cssHas || g.push(":has"),
            g = g.length && new RegExp(g.join("|")),
            v = v.length && new RegExp(v.join("|")),
            t = Z.test(f.compareDocumentPosition),
            b = t || Z.test(f.contains) ? function(e, t) {
                var i = 9 === e.nodeType && e.documentElement || e
                  , n = t && t.parentNode;
                return e === n || !(!n || 1 !== n.nodeType || !(i.contains ? i.contains(n) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(n)))
            }
            : function(e, t) {
                if (t)
                    for (; t = t.parentNode; )
                        if (t === e)
                            return !0;
                return !1
            }
            ,
            P = t ? function(e, t) {
                if (e === t)
                    return u = !0,
                    0;
                var n = !e.compareDocumentPosition - !t.compareDocumentPosition;
                return n || (1 & (n = (e.ownerDocument || e) == (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1) || !i.sortDetached && t.compareDocumentPosition(e) === n ? e == p || e.ownerDocument == T && b(T, e) ? -1 : t == p || t.ownerDocument == T && b(T, t) ? 1 : c ? R(c, e) - R(c, t) : 0 : 4 & n ? -1 : 1)
            }
            : function(e, t) {
                if (e === t)
                    return u = !0,
                    0;
                var i, n = 0, s = e.parentNode, r = t.parentNode, a = [e], o = [t];
                if (!s || !r)
                    return e == p ? -1 : t == p ? 1 : s ? -1 : r ? 1 : c ? R(c, e) - R(c, t) : 0;
                if (s === r)
                    return he(e, t);
                for (i = e; i = i.parentNode; )
                    a.unshift(i);
                for (i = t; i = i.parentNode; )
                    o.unshift(i);
                for (; a[n] === o[n]; )
                    n++;
                return n ? he(a[n], o[n]) : a[n] == T ? -1 : o[n] == T ? 1 : 0
            }
            ),
            p
        }
        ,
        oe.matches = function(e, t) {
            return oe(e, null, null, t)
        }
        ,
        oe.matchesSelector = function(e, t) {
            if (h(e),
            i.matchesSelector && m && !E[t + " "] && (!v || !v.test(t)) && (!g || !g.test(t)))
                try {
                    var n = y.call(e, t);
                    if (n || i.disconnectedMatch || e.document && 11 !== e.document.nodeType)
                        return n
                } catch (e) {
                    E(t, !0)
                }
            return 0 < oe(t, p, null, [e]).length
        }
        ,
        oe.contains = function(e, t) {
            return (e.ownerDocument || e) != p && h(e),
            b(e, t)
        }
        ,
        oe.attr = function(e, t) {
            (e.ownerDocument || e) != p && h(e);
            var s = n.attrHandle[t.toLowerCase()]
              , r = s && A.call(n.attrHandle, t.toLowerCase()) ? s(e, t, !m) : void 0;
            return void 0 !== r ? r : i.attributes || !m ? e.getAttribute(t) : (r = e.getAttributeNode(t)) && r.specified ? r.value : null
        }
        ,
        oe.escape = function(e) {
            return (e + "").replace(ne, se)
        }
        ,
        oe.error = function(e) {
            throw new Error("Syntax error, unrecognized expression: " + e)
        }
        ,
        oe.uniqueSort = function(e) {
            var t, n = [], s = 0, r = 0;
            if (u = !i.detectDuplicates,
            c = !i.sortStable && e.slice(0),
            e.sort(P),
            u) {
                for (; t = e[r++]; )
                    t === e[r] && (s = n.push(r));
                for (; s--; )
                    e.splice(n[s], 1)
            }
            return c = null,
            e
        }
        ,
        s = oe.getText = function(e) {
            var t, i = "", n = 0, r = e.nodeType;
            if (r) {
                if (1 === r || 9 === r || 11 === r) {
                    if ("string" == typeof e.textContent)
                        return e.textContent;
                    for (e = e.firstChild; e; e = e.nextSibling)
                        i += s(e)
                } else if (3 === r || 4 === r)
                    return e.nodeValue
            } else
                for (; t = e[n++]; )
                    i += s(t);
            return i
        }
        ,
        (n = oe.selectors = {
            cacheLength: 50,
            createPseudo: de,
            match: X,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(e) {
                    return e[1] = e[1].replace(te, ie),
                    e[3] = (e[3] || e[4] || e[5] || "").replace(te, ie),
                    "~=" === e[2] && (e[3] = " " + e[3] + " "),
                    e.slice(0, 4)
                },
                CHILD: function(e) {
                    return e[1] = e[1].toLowerCase(),
                    "nth" === e[1].slice(0, 3) ? (e[3] || oe.error(e[0]),
                    e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])),
                    e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && oe.error(e[0]),
                    e
                },
                PSEUDO: function(e) {
                    var t, i = !e[6] && e[2];
                    return X.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : i && V.test(i) && (t = a(i, !0)) && (t = i.indexOf(")", i.length - t) - i.length) && (e[0] = e[0].slice(0, t),
                    e[2] = i.slice(0, t)),
                    e.slice(0, 3))
                }
            },
            filter: {
                TAG: function(e) {
                    var t = e.replace(te, ie).toLowerCase();
                    return "*" === e ? function() {
                        return !0
                    }
                    : function(e) {
                        return e.nodeName && e.nodeName.toLowerCase() === t
                    }
                },
                CLASS: function(e) {
                    var t = k[e + " "];
                    return t || (t = new RegExp("(^|" + B + ")" + e + "(" + B + "|$)")) && k(e, (function(e) {
                        return t.test("string" == typeof e.className && e.className || void 0 !== e.getAttribute && e.getAttribute("class") || "")
                    }
                    ))
                },
                ATTR: function(e, t, i) {
                    return function(n) {
                        var s = oe.attr(n, e);
                        return null == s ? "!=" === t : !t || (s += "",
                        "=" === t ? s === i : "!=" === t ? s !== i : "^=" === t ? i && 0 === s.indexOf(i) : "*=" === t ? i && -1 < s.indexOf(i) : "$=" === t ? i && s.slice(-i.length) === i : "~=" === t ? -1 < (" " + s.replace($, " ") + " ").indexOf(i) : "|=" === t && (s === i || s.slice(0, i.length + 1) === i + "-"))
                    }
                },
                CHILD: function(e, t, i, n, s) {
                    var r = "nth" !== e.slice(0, 3)
                      , a = "last" !== e.slice(-4)
                      , o = "of-type" === t;
                    return 1 === n && 0 === s ? function(e) {
                        return !!e.parentNode
                    }
                    : function(t, i, l) {
                        var d, c, u, h, p, f, m = r !== a ? "nextSibling" : "previousSibling", g = t.parentNode, v = o && t.nodeName.toLowerCase(), y = !l && !o, b = !1;
                        if (g) {
                            if (r) {
                                for (; m; ) {
                                    for (h = t; h = h[m]; )
                                        if (o ? h.nodeName.toLowerCase() === v : 1 === h.nodeType)
                                            return !1;
                                    f = m = "only" === e && !f && "nextSibling"
                                }
                                return !0
                            }
                            if (f = [a ? g.firstChild : g.lastChild],
                            a && y) {
                                for (b = (p = (d = (c = (u = (h = g)[_] || (h[_] = {}))[h.uniqueID] || (u[h.uniqueID] = {}))[e] || [])[0] === w && d[1]) && d[2],
                                h = p && g.childNodes[p]; h = ++p && h && h[m] || (b = p = 0) || f.pop(); )
                                    if (1 === h.nodeType && ++b && h === t) {
                                        c[e] = [w, p, b];
                                        break
                                    }
                            } else if (y && (b = p = (d = (c = (u = (h = t)[_] || (h[_] = {}))[h.uniqueID] || (u[h.uniqueID] = {}))[e] || [])[0] === w && d[1]),
                            !1 === b)
                                for (; (h = ++p && h && h[m] || (b = p = 0) || f.pop()) && ((o ? h.nodeName.toLowerCase() !== v : 1 !== h.nodeType) || !++b || (y && ((c = (u = h[_] || (h[_] = {}))[h.uniqueID] || (u[h.uniqueID] = {}))[e] = [w, b]),
                                h !== t)); )
                                    ;
                            return (b -= s) === n || b % n == 0 && 0 <= b / n
                        }
                    }
                },
                PSEUDO: function(e, t) {
                    var i, s = n.pseudos[e] || n.setFilters[e.toLowerCase()] || oe.error("unsupported pseudo: " + e);
                    return s[_] ? s(t) : 1 < s.length ? (i = [e, e, "", t],
                    n.setFilters.hasOwnProperty(e.toLowerCase()) ? de((function(e, i) {
                        for (var n, r = s(e, t), a = r.length; a--; )
                            e[n = R(e, r[a])] = !(i[n] = r[a])
                    }
                    )) : function(e) {
                        return s(e, 0, i)
                    }
                    ) : s
                }
            },
            pseudos: {
                not: de((function(e) {
                    var t = []
                      , i = []
                      , n = o(e.replace(H, "$1"));
                    return n[_] ? de((function(e, t, i, s) {
                        for (var r, a = n(e, null, s, []), o = e.length; o--; )
                            (r = a[o]) && (e[o] = !(t[o] = r))
                    }
                    )) : function(e, s, r) {
                        return t[0] = e,
                        n(t, null, r, i),
                        t[0] = null,
                        !i.pop()
                    }
                }
                )),
                has: de((function(e) {
                    return function(t) {
                        return 0 < oe(e, t).length
                    }
                }
                )),
                contains: de((function(e) {
                    return e = e.replace(te, ie),
                    function(t) {
                        return -1 < (t.textContent || s(t)).indexOf(e)
                    }
                }
                )),
                lang: de((function(e) {
                    return G.test(e || "") || oe.error("unsupported lang: " + e),
                    e = e.replace(te, ie).toLowerCase(),
                    function(t) {
                        var i;
                        do {
                            if (i = m ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang"))
                                return (i = i.toLowerCase()) === e || 0 === i.indexOf(e + "-")
                        } while ((t = t.parentNode) && 1 === t.nodeType);
                        return !1
                    }
                }
                )),
                target: function(t) {
                    var i = e.location && e.location.hash;
                    return i && i.slice(1) === t.id
                },
                root: function(e) {
                    return e === f
                },
                focus: function(e) {
                    return e === p.activeElement && (!p.hasFocus || p.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                },
                enabled: me(!1),
                disabled: me(!0),
                checked: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && !!e.checked || "option" === t && !!e.selected
                },
                selected: function(e) {
                    return e.parentNode && e.parentNode.selectedIndex,
                    !0 === e.selected
                },
                empty: function(e) {
                    for (e = e.firstChild; e; e = e.nextSibling)
                        if (e.nodeType < 6)
                            return !1;
                    return !0
                },
                parent: function(e) {
                    return !n.pseudos.empty(e)
                },
                header: function(e) {
                    return Q.test(e.nodeName)
                },
                input: function(e) {
                    return K.test(e.nodeName)
                },
                button: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && "button" === e.type || "button" === t
                },
                text: function(e) {
                    var t;
                    return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                },
                first: ge((function() {
                    return [0]
                }
                )),
                last: ge((function(e, t) {
                    return [t - 1]
                }
                )),
                eq: ge((function(e, t, i) {
                    return [i < 0 ? i + t : i]
                }
                )),
                even: ge((function(e, t) {
                    for (var i = 0; i < t; i += 2)
                        e.push(i);
                    return e
                }
                )),
                odd: ge((function(e, t) {
                    for (var i = 1; i < t; i += 2)
                        e.push(i);
                    return e
                }
                )),
                lt: ge((function(e, t, i) {
                    for (var n = i < 0 ? i + t : t < i ? t : i; 0 <= --n; )
                        e.push(n);
                    return e
                }
                )),
                gt: ge((function(e, t, i) {
                    for (var n = i < 0 ? i + t : i; ++n < t; )
                        e.push(n);
                    return e
                }
                ))
            }
        }).pseudos.nth = n.pseudos.eq,
        {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        })
            n.pseudos[t] = pe(t);
        for (t in {
            submit: !0,
            reset: !0
        })
            n.pseudos[t] = fe(t);
        function ye() {}
        function be(e) {
            for (var t = 0, i = e.length, n = ""; t < i; t++)
                n += e[t].value;
            return n
        }
        function _e(e, t, i) {
            var n = t.dir
              , s = t.next
              , r = s || n
              , a = i && "parentNode" === r
              , o = S++;
            return t.first ? function(t, i, s) {
                for (; t = t[n]; )
                    if (1 === t.nodeType || a)
                        return e(t, i, s);
                return !1
            }
            : function(t, i, l) {
                var d, c, u, h = [w, o];
                if (l) {
                    for (; t = t[n]; )
                        if ((1 === t.nodeType || a) && e(t, i, l))
                            return !0
                } else
                    for (; t = t[n]; )
                        if (1 === t.nodeType || a)
                            if (c = (u = t[_] || (t[_] = {}))[t.uniqueID] || (u[t.uniqueID] = {}),
                            s && s === t.nodeName.toLowerCase())
                                t = t[n] || t;
                            else {
                                if ((d = c[r]) && d[0] === w && d[1] === o)
                                    return h[2] = d[2];
                                if ((c[r] = h)[2] = e(t, i, l))
                                    return !0
                            }
                return !1
            }
        }
        function Te(e) {
            return 1 < e.length ? function(t, i, n) {
                for (var s = e.length; s--; )
                    if (!e[s](t, i, n))
                        return !1;
                return !0
            }
            : e[0]
        }
        function we(e, t, i, n, s) {
            for (var r, a = [], o = 0, l = e.length, d = null != t; o < l; o++)
                (r = e[o]) && (i && !i(r, n, s) || (a.push(r),
                d && t.push(o)));
            return a
        }
        function Se(e, t, i, n, s, r) {
            return n && !n[_] && (n = Se(n)),
            s && !s[_] && (s = Se(s, r)),
            de((function(r, a, o, l) {
                var d, c, u, h = [], p = [], f = a.length, m = r || function(e, t, i) {
                    for (var n = 0, s = t.length; n < s; n++)
                        oe(e, t[n], i);
                    return i
                }(t || "*", o.nodeType ? [o] : o, []), g = !e || !r && t ? m : we(m, h, e, o, l), v = i ? s || (r ? e : f || n) ? [] : a : g;
                if (i && i(g, v, o, l),
                n)
                    for (d = we(v, p),
                    n(d, [], o, l),
                    c = d.length; c--; )
                        (u = d[c]) && (v[p[c]] = !(g[p[c]] = u));
                if (r) {
                    if (s || e) {
                        if (s) {
                            for (d = [],
                            c = v.length; c--; )
                                (u = v[c]) && d.push(g[c] = u);
                            s(null, v = [], d, l)
                        }
                        for (c = v.length; c--; )
                            (u = v[c]) && -1 < (d = s ? R(r, u) : h[c]) && (r[d] = !(a[d] = u))
                    }
                } else
                    v = we(v === a ? v.splice(f, v.length) : v),
                    s ? s(null, a, v, l) : M.apply(a, v)
            }
            ))
        }
        function ke(e) {
            for (var t, i, s, r = e.length, a = n.relative[e[0].type], o = a || n.relative[" "], l = a ? 1 : 0, c = _e((function(e) {
                return e === t
            }
            ), o, !0), u = _e((function(e) {
                return -1 < R(t, e)
            }
            ), o, !0), h = [function(e, i, n) {
                var s = !a && (n || i !== d) || ((t = i).nodeType ? c(e, i, n) : u(e, i, n));
                return t = null,
                s
            }
            ]; l < r; l++)
                if (i = n.relative[e[l].type])
                    h = [_e(Te(h), i)];
                else {
                    if ((i = n.filter[e[l].type].apply(null, e[l].matches))[_]) {
                        for (s = ++l; s < r && !n.relative[e[s].type]; s++)
                            ;
                        return Se(1 < l && Te(h), 1 < l && be(e.slice(0, l - 1).concat({
                            value: " " === e[l - 2].type ? "*" : ""
                        })).replace(H, "$1"), i, l < s && ke(e.slice(l, s)), s < r && ke(e = e.slice(s)), s < r && be(e))
                    }
                    h.push(i)
                }
            return Te(h)
        }
        return ye.prototype = n.filters = n.pseudos,
        n.setFilters = new ye,
        a = oe.tokenize = function(e, t) {
            var i, s, r, a, o, l, d, c = x[e + " "];
            if (c)
                return t ? 0 : c.slice(0);
            for (o = e,
            l = [],
            d = n.preFilter; o; ) {
                for (a in i && !(s = z.exec(o)) || (s && (o = o.slice(s[0].length) || o),
                l.push(r = [])),
                i = !1,
                (s = q.exec(o)) && (i = s.shift(),
                r.push({
                    value: i,
                    type: s[0].replace(H, " ")
                }),
                o = o.slice(i.length)),
                n.filter)
                    !(s = X[a].exec(o)) || d[a] && !(s = d[a](s)) || (i = s.shift(),
                    r.push({
                        value: i,
                        type: a,
                        matches: s
                    }),
                    o = o.slice(i.length));
                if (!i)
                    break
            }
            return t ? o.length : o ? oe.error(e) : x(e, l).slice(0)
        }
        ,
        o = oe.compile = function(e, t) {
            var i, s, r, o, l, c, u = [], f = [], g = C[e + " "];
            if (!g) {
                for (t || (t = a(e)),
                i = t.length; i--; )
                    (g = ke(t[i]))[_] ? u.push(g) : f.push(g);
                (g = C(e, (s = f,
                o = 0 < (r = u).length,
                l = 0 < s.length,
                c = function(e, t, i, a, c) {
                    var u, f, g, v = 0, y = "0", b = e && [], _ = [], T = d, S = e || l && n.find.TAG("*", c), k = w += null == T ? 1 : Math.random() || .1, x = S.length;
                    for (c && (d = t == p || t || c); y !== x && null != (u = S[y]); y++) {
                        if (l && u) {
                            for (f = 0,
                            t || u.ownerDocument == p || (h(u),
                            i = !m); g = s[f++]; )
                                if (g(u, t || p, i)) {
                                    a.push(u);
                                    break
                                }
                            c && (w = k)
                        }
                        o && ((u = !g && u) && v--,
                        e && b.push(u))
                    }
                    if (v += y,
                    o && y !== v) {
                        for (f = 0; g = r[f++]; )
                            g(b, _, t, i);
                        if (e) {
                            if (0 < v)
                                for (; y--; )
                                    b[y] || _[y] || (_[y] = O.call(a));
                            _ = we(_)
                        }
                        M.apply(a, _),
                        c && !e && 0 < _.length && 1 < v + r.length && oe.uniqueSort(a)
                    }
                    return c && (w = k,
                    d = T),
                    b
                }
                ,
                o ? de(c) : c))).selector = e
            }
            return g
        }
        ,
        l = oe.select = function(e, t, i, s) {
            var r, l, d, c, u, h = "function" == typeof e && e, p = !s && a(e = h.selector || e);
            if (i = i || [],
            1 === p.length) {
                if (2 < (l = p[0] = p[0].slice(0)).length && "ID" === (d = l[0]).type && 9 === t.nodeType && m && n.relative[l[1].type]) {
                    if (!(t = (n.find.ID(d.matches[0].replace(te, ie), t) || [])[0]))
                        return i;
                    h && (t = t.parentNode),
                    e = e.slice(l.shift().value.length)
                }
                for (r = X.needsContext.test(e) ? 0 : l.length; r-- && (d = l[r],
                !n.relative[c = d.type]); )
                    if ((u = n.find[c]) && (s = u(d.matches[0].replace(te, ie), ee.test(l[0].type) && ve(t.parentNode) || t))) {
                        if (l.splice(r, 1),
                        !(e = s.length && be(l)))
                            return M.apply(i, s),
                            i;
                        break
                    }
            }
            return (h || o(e, p))(s, t, !m, i, !t || ee.test(e) && ve(t.parentNode) || t),
            i
        }
        ,
        i.sortStable = _.split("").sort(P).join("") === _,
        i.detectDuplicates = !!u,
        h(),
        i.sortDetached = ce((function(e) {
            return 1 & e.compareDocumentPosition(p.createElement("fieldset"))
        }
        )),
        ce((function(e) {
            return e.innerHTML = "<a href='#'></a>",
            "#" === e.firstChild.getAttribute("href")
        }
        )) || ue("type|href|height|width", (function(e, t, i) {
            if (!i)
                return e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2)
        }
        )),
        i.attributes && ce((function(e) {
            return e.innerHTML = "<input/>",
            e.firstChild.setAttribute("value", ""),
            "" === e.firstChild.getAttribute("value")
        }
        )) || ue("value", (function(e, t, i) {
            if (!i && "input" === e.nodeName.toLowerCase())
                return e.defaultValue
        }
        )),
        ce((function(e) {
            return null == e.getAttribute("disabled")
        }
        )) || ue(N, (function(e, t, i) {
            var n;
            if (!i)
                return !0 === e[t] ? t.toLowerCase() : (n = e.getAttributeNode(t)) && n.specified ? n.value : null
        }
        )),
        oe
    }(e);
    T.find = S,
    T.expr = S.selectors,
    T.expr[":"] = T.expr.pseudos,
    T.uniqueSort = T.unique = S.uniqueSort,
    T.text = S.getText,
    T.isXMLDoc = S.isXML,
    T.contains = S.contains,
    T.escapeSelector = S.escape;
    var k = function(e, t, i) {
        for (var n = [], s = void 0 !== i; (e = e[t]) && 9 !== e.nodeType; )
            if (1 === e.nodeType) {
                if (s && T(e).is(i))
                    break;
                n.push(e)
            }
        return n
    }
      , x = function(e, t) {
        for (var i = []; e; e = e.nextSibling)
            1 === e.nodeType && e !== t && i.push(e);
        return i
    }
      , C = T.expr.match.needsContext;
    function E(e, t) {
        return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
    }
    var P = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
    function A(e, t, i) {
        return f(t) ? T.grep(e, (function(e, n) {
            return !!t.call(e, n, e) !== i
        }
        )) : t.nodeType ? T.grep(e, (function(e) {
            return e === t !== i
        }
        )) : "string" != typeof t ? T.grep(e, (function(e) {
            return -1 < o.call(t, e) !== i
        }
        )) : T.filter(t, e, i)
    }
    T.filter = function(e, t, i) {
        var n = t[0];
        return i && (e = ":not(" + e + ")"),
        1 === t.length && 1 === n.nodeType ? T.find.matchesSelector(n, e) ? [n] : [] : T.find.matches(e, T.grep(t, (function(e) {
            return 1 === e.nodeType
        }
        )))
    }
    ,
    T.fn.extend({
        find: function(e) {
            var t, i, n = this.length, s = this;
            if ("string" != typeof e)
                return this.pushStack(T(e).filter((function() {
                    for (t = 0; t < n; t++)
                        if (T.contains(s[t], this))
                            return !0
                }
                )));
            for (i = this.pushStack([]),
            t = 0; t < n; t++)
                T.find(e, s[t], i);
            return 1 < n ? T.uniqueSort(i) : i
        },
        filter: function(e) {
            return this.pushStack(A(this, e || [], !1))
        },
        not: function(e) {
            return this.pushStack(A(this, e || [], !0))
        },
        is: function(e) {
            return !!A(this, "string" == typeof e && C.test(e) ? T(e) : e || [], !1).length
        }
    });
    var I, O = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;
    (T.fn.init = function(e, t, i) {
        var n, s;
        if (!e)
            return this;
        if (i = i || I,
        "string" == typeof e) {
            if (!(n = "<" === e[0] && ">" === e[e.length - 1] && 3 <= e.length ? [null, e, null] : O.exec(e)) || !n[1] && t)
                return !t || t.jquery ? (t || i).find(e) : this.constructor(t).find(e);
            if (n[1]) {
                if (t = t instanceof T ? t[0] : t,
                T.merge(this, T.parseHTML(n[1], t && t.nodeType ? t.ownerDocument || t : g, !0)),
                P.test(n[1]) && T.isPlainObject(t))
                    for (n in t)
                        f(this[n]) ? this[n](t[n]) : this.attr(n, t[n]);
                return this
            }
            return (s = g.getElementById(n[2])) && (this[0] = s,
            this.length = 1),
            this
        }
        return e.nodeType ? (this[0] = e,
        this.length = 1,
        this) : f(e) ? void 0 !== i.ready ? i.ready(e) : e(T) : T.makeArray(e, this)
    }
    ).prototype = T.fn,
    I = T(g);
    var L = /^(?:parents|prev(?:Until|All))/
      , M = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    function D(e, t) {
        for (; (e = e[t]) && 1 !== e.nodeType; )
            ;
        return e
    }
    T.fn.extend({
        has: function(e) {
            var t = T(e, this)
              , i = t.length;
            return this.filter((function() {
                for (var e = 0; e < i; e++)
                    if (T.contains(this, t[e]))
                        return !0
            }
            ))
        },
        closest: function(e, t) {
            var i, n = 0, s = this.length, r = [], a = "string" != typeof e && T(e);
            if (!C.test(e))
                for (; n < s; n++)
                    for (i = this[n]; i && i !== t; i = i.parentNode)
                        if (i.nodeType < 11 && (a ? -1 < a.index(i) : 1 === i.nodeType && T.find.matchesSelector(i, e))) {
                            r.push(i);
                            break
                        }
            return this.pushStack(1 < r.length ? T.uniqueSort(r) : r)
        },
        index: function(e) {
            return e ? "string" == typeof e ? o.call(T(e), this[0]) : o.call(this, e.jquery ? e[0] : e) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(e, t) {
            return this.pushStack(T.uniqueSort(T.merge(this.get(), T(e, t))))
        },
        addBack: function(e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }
    }),
    T.each({
        parent: function(e) {
            var t = e.parentNode;
            return t && 11 !== t.nodeType ? t : null
        },
        parents: function(e) {
            return k(e, "parentNode")
        },
        parentsUntil: function(e, t, i) {
            return k(e, "parentNode", i)
        },
        next: function(e) {
            return D(e, "nextSibling")
        },
        prev: function(e) {
            return D(e, "previousSibling")
        },
        nextAll: function(e) {
            return k(e, "nextSibling")
        },
        prevAll: function(e) {
            return k(e, "previousSibling")
        },
        nextUntil: function(e, t, i) {
            return k(e, "nextSibling", i)
        },
        prevUntil: function(e, t, i) {
            return k(e, "previousSibling", i)
        },
        siblings: function(e) {
            return x((e.parentNode || {}).firstChild, e)
        },
        children: function(e) {
            return x(e.firstChild)
        },
        contents: function(e) {
            return null != e.contentDocument && n(e.contentDocument) ? e.contentDocument : (E(e, "template") && (e = e.content || e),
            T.merge([], e.childNodes))
        }
    }, (function(e, t) {
        T.fn[e] = function(i, n) {
            var s = T.map(this, t, i);
            return "Until" !== e.slice(-5) && (n = i),
            n && "string" == typeof n && (s = T.filter(n, s)),
            1 < this.length && (M[e] || T.uniqueSort(s),
            L.test(e) && s.reverse()),
            this.pushStack(s)
        }
    }
    ));
    var R = /[^\x20\t\r\n\f]+/g;
    function N(e) {
        return e
    }
    function B(e) {
        throw e
    }
    function j(e, t, i, n) {
        var s;
        try {
            e && f(s = e.promise) ? s.call(e).done(t).fail(i) : e && f(s = e.then) ? s.call(e, t, i) : t.apply(void 0, [e].slice(n))
        } catch (e) {
            i.apply(void 0, [e])
        }
    }
    T.Callbacks = function(e) {
        var t, i;
        e = "string" == typeof e ? (t = e,
        i = {},
        T.each(t.match(R) || [], (function(e, t) {
            i[t] = !0
        }
        )),
        i) : T.extend({}, e);
        var n, s, r, a, o = [], l = [], d = -1, c = function() {
            for (a = a || e.once,
            r = n = !0; l.length; d = -1)
                for (s = l.shift(); ++d < o.length; )
                    !1 === o[d].apply(s[0], s[1]) && e.stopOnFalse && (d = o.length,
                    s = !1);
            e.memory || (s = !1),
            n = !1,
            a && (o = s ? [] : "")
        }, u = {
            add: function() {
                return o && (s && !n && (d = o.length - 1,
                l.push(s)),
                function t(i) {
                    T.each(i, (function(i, n) {
                        f(n) ? e.unique && u.has(n) || o.push(n) : n && n.length && "string" !== b(n) && t(n)
                    }
                    ))
                }(arguments),
                s && !n && c()),
                this
            },
            remove: function() {
                return T.each(arguments, (function(e, t) {
                    for (var i; -1 < (i = T.inArray(t, o, i)); )
                        o.splice(i, 1),
                        i <= d && d--
                }
                )),
                this
            },
            has: function(e) {
                return e ? -1 < T.inArray(e, o) : 0 < o.length
            },
            empty: function() {
                return o && (o = []),
                this
            },
            disable: function() {
                return a = l = [],
                o = s = "",
                this
            },
            disabled: function() {
                return !o
            },
            lock: function() {
                return a = l = [],
                s || n || (o = s = ""),
                this
            },
            locked: function() {
                return !!a
            },
            fireWith: function(e, t) {
                return a || (t = [e, (t = t || []).slice ? t.slice() : t],
                l.push(t),
                n || c()),
                this
            },
            fire: function() {
                return u.fireWith(this, arguments),
                this
            },
            fired: function() {
                return !!r
            }
        };
        return u
    }
    ,
    T.extend({
        Deferred: function(t) {
            var i = [["notify", "progress", T.Callbacks("memory"), T.Callbacks("memory"), 2], ["resolve", "done", T.Callbacks("once memory"), T.Callbacks("once memory"), 0, "resolved"], ["reject", "fail", T.Callbacks("once memory"), T.Callbacks("once memory"), 1, "rejected"]]
              , n = "pending"
              , s = {
                state: function() {
                    return n
                },
                always: function() {
                    return r.done(arguments).fail(arguments),
                    this
                },
                catch: function(e) {
                    return s.then(null, e)
                },
                pipe: function() {
                    var e = arguments;
                    return T.Deferred((function(t) {
                        T.each(i, (function(i, n) {
                            var s = f(e[n[4]]) && e[n[4]];
                            r[n[1]]((function() {
                                var e = s && s.apply(this, arguments);
                                e && f(e.promise) ? e.promise().progress(t.notify).done(t.resolve).fail(t.reject) : t[n[0] + "With"](this, s ? [e] : arguments)
                            }
                            ))
                        }
                        )),
                        e = null
                    }
                    )).promise()
                },
                then: function(t, n, s) {
                    var r = 0;
                    function a(t, i, n, s) {
                        return function() {
                            var o = this
                              , l = arguments
                              , d = function() {
                                var e, d;
                                if (!(t < r)) {
                                    if ((e = n.apply(o, l)) === i.promise())
                                        throw new TypeError("Thenable self-resolution");
                                    d = e && ("object" == typeof e || "function" == typeof e) && e.then,
                                    f(d) ? s ? d.call(e, a(r, i, N, s), a(r, i, B, s)) : (r++,
                                    d.call(e, a(r, i, N, s), a(r, i, B, s), a(r, i, N, i.notifyWith))) : (n !== N && (o = void 0,
                                    l = [e]),
                                    (s || i.resolveWith)(o, l))
                                }
                            }
                              , c = s ? d : function() {
                                try {
                                    d()
                                } catch (e) {
                                    T.Deferred.exceptionHook && T.Deferred.exceptionHook(e, c.stackTrace),
                                    r <= t + 1 && (n !== B && (o = void 0,
                                    l = [e]),
                                    i.rejectWith(o, l))
                                }
                            }
                            ;
                            t ? c() : (T.Deferred.getStackHook && (c.stackTrace = T.Deferred.getStackHook()),
                            e.setTimeout(c))
                        }
                    }
                    return T.Deferred((function(e) {
                        i[0][3].add(a(0, e, f(s) ? s : N, e.notifyWith)),
                        i[1][3].add(a(0, e, f(t) ? t : N)),
                        i[2][3].add(a(0, e, f(n) ? n : B))
                    }
                    )).promise()
                },
                promise: function(e) {
                    return null != e ? T.extend(e, s) : s
                }
            }
              , r = {};
            return T.each(i, (function(e, t) {
                var a = t[2]
                  , o = t[5];
                s[t[1]] = a.add,
                o && a.add((function() {
                    n = o
                }
                ), i[3 - e][2].disable, i[3 - e][3].disable, i[0][2].lock, i[0][3].lock),
                a.add(t[3].fire),
                r[t[0]] = function() {
                    return r[t[0] + "With"](this === r ? void 0 : this, arguments),
                    this
                }
                ,
                r[t[0] + "With"] = a.fireWith
            }
            )),
            s.promise(r),
            t && t.call(r, r),
            r
        },
        when: function(e) {
            var t = arguments.length
              , i = t
              , n = Array(i)
              , r = s.call(arguments)
              , a = T.Deferred()
              , o = function(e) {
                return function(i) {
                    n[e] = this,
                    r[e] = 1 < arguments.length ? s.call(arguments) : i,
                    --t || a.resolveWith(n, r)
                }
            };
            if (t <= 1 && (j(e, a.done(o(i)).resolve, a.reject, !t),
            "pending" === a.state() || f(r[i] && r[i].then)))
                return a.then();
            for (; i--; )
                j(r[i], o(i), a.reject);
            return a.promise()
        }
    });
    var F = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
    T.Deferred.exceptionHook = function(t, i) {
        e.console && e.console.warn && t && F.test(t.name) && e.console.warn("jQuery.Deferred exception: " + t.message, t.stack, i)
    }
    ,
    T.readyException = function(t) {
        e.setTimeout((function() {
            throw t
        }
        ))
    }
    ;
    var U = T.Deferred();
    function $() {
        g.removeEventListener("DOMContentLoaded", $),
        e.removeEventListener("load", $),
        T.ready()
    }
    T.fn.ready = function(e) {
        return U.then(e).catch((function(e) {
            T.readyException(e)
        }
        )),
        this
    }
    ,
    T.extend({
        isReady: !1,
        readyWait: 1,
        ready: function(e) {
            (!0 === e ? --T.readyWait : T.isReady) || (T.isReady = !0) !== e && 0 < --T.readyWait || U.resolveWith(g, [T])
        }
    }),
    T.ready.then = U.then,
    "complete" === g.readyState || "loading" !== g.readyState && !g.documentElement.doScroll ? e.setTimeout(T.ready) : (g.addEventListener("DOMContentLoaded", $),
    e.addEventListener("load", $));
    var H = function(e, t, i, n, s, r, a) {
        var o = 0
          , l = e.length
          , d = null == i;
        if ("object" === b(i))
            for (o in s = !0,
            i)
                H(e, t, o, i[o], !0, r, a);
        else if (void 0 !== n && (s = !0,
        f(n) || (a = !0),
        d && (a ? (t.call(e, n),
        t = null) : (d = t,
        t = function(e, t, i) {
            return d.call(T(e), i)
        }
        )),
        t))
            for (; o < l; o++)
                t(e[o], i, a ? n : n.call(e[o], o, t(e[o], i)));
        return s ? e : d ? t.call(e) : l ? t(e[0], i) : r
    }
      , z = /^-ms-/
      , q = /-([a-z])/g;
    function W(e, t) {
        return t.toUpperCase()
    }
    function V(e) {
        return e.replace(z, "ms-").replace(q, W)
    }
    var G = function(e) {
        return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType
    };
    function X() {
        this.expando = T.expando + X.uid++
    }
    X.uid = 1,
    X.prototype = {
        cache: function(e) {
            var t = e[this.expando];
            return t || (t = {},
            G(e) && (e.nodeType ? e[this.expando] = t : Object.defineProperty(e, this.expando, {
                value: t,
                configurable: !0
            }))),
            t
        },
        set: function(e, t, i) {
            var n, s = this.cache(e);
            if ("string" == typeof t)
                s[V(t)] = i;
            else
                for (n in t)
                    s[V(n)] = t[n];
            return s
        },
        get: function(e, t) {
            return void 0 === t ? this.cache(e) : e[this.expando] && e[this.expando][V(t)]
        },
        access: function(e, t, i) {
            return void 0 === t || t && "string" == typeof t && void 0 === i ? this.get(e, t) : (this.set(e, t, i),
            void 0 !== i ? i : t)
        },
        remove: function(e, t) {
            var i, n = e[this.expando];
            if (void 0 !== n) {
                if (void 0 !== t) {
                    i = (t = Array.isArray(t) ? t.map(V) : (t = V(t))in n ? [t] : t.match(R) || []).length;
                    for (; i--; )
                        delete n[t[i]]
                }
                (void 0 === t || T.isEmptyObject(n)) && (e.nodeType ? e[this.expando] = void 0 : delete e[this.expando])
            }
        },
        hasData: function(e) {
            var t = e[this.expando];
            return void 0 !== t && !T.isEmptyObject(t)
        }
    };
    var Y = new X
      , K = new X
      , Q = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/
      , Z = /[A-Z]/g;
    function J(e, t, i) {
        var n, s;
        if (void 0 === i && 1 === e.nodeType)
            if (n = "data-" + t.replace(Z, "-$&").toLowerCase(),
            "string" == typeof (i = e.getAttribute(n))) {
                try {
                    i = "true" === (s = i) || "false" !== s && ("null" === s ? null : s === +s + "" ? +s : Q.test(s) ? JSON.parse(s) : s)
                } catch (e) {}
                K.set(e, t, i)
            } else
                i = void 0;
        return i
    }
    T.extend({
        hasData: function(e) {
            return K.hasData(e) || Y.hasData(e)
        },
        data: function(e, t, i) {
            return K.access(e, t, i)
        },
        removeData: function(e, t) {
            K.remove(e, t)
        },
        _data: function(e, t, i) {
            return Y.access(e, t, i)
        },
        _removeData: function(e, t) {
            Y.remove(e, t)
        }
    }),
    T.fn.extend({
        data: function(e, t) {
            var i, n, s, r = this[0], a = r && r.attributes;
            if (void 0 === e) {
                if (this.length && (s = K.get(r),
                1 === r.nodeType && !Y.get(r, "hasDataAttrs"))) {
                    for (i = a.length; i--; )
                        a[i] && 0 === (n = a[i].name).indexOf("data-") && (n = V(n.slice(5)),
                        J(r, n, s[n]));
                    Y.set(r, "hasDataAttrs", !0)
                }
                return s
            }
            return "object" == typeof e ? this.each((function() {
                K.set(this, e)
            }
            )) : H(this, (function(t) {
                var i;
                if (r && void 0 === t)
                    return void 0 !== (i = K.get(r, e)) || void 0 !== (i = J(r, e)) ? i : void 0;
                this.each((function() {
                    K.set(this, e, t)
                }
                ))
            }
            ), null, t, 1 < arguments.length, null, !0)
        },
        removeData: function(e) {
            return this.each((function() {
                K.remove(this, e)
            }
            ))
        }
    }),
    T.extend({
        queue: function(e, t, i) {
            var n;
            if (e)
                return t = (t || "fx") + "queue",
                n = Y.get(e, t),
                i && (!n || Array.isArray(i) ? n = Y.access(e, t, T.makeArray(i)) : n.push(i)),
                n || []
        },
        dequeue: function(e, t) {
            t = t || "fx";
            var i = T.queue(e, t)
              , n = i.length
              , s = i.shift()
              , r = T._queueHooks(e, t);
            "inprogress" === s && (s = i.shift(),
            n--),
            s && ("fx" === t && i.unshift("inprogress"),
            delete r.stop,
            s.call(e, (function() {
                T.dequeue(e, t)
            }
            ), r)),
            !n && r && r.empty.fire()
        },
        _queueHooks: function(e, t) {
            var i = t + "queueHooks";
            return Y.get(e, i) || Y.access(e, i, {
                empty: T.Callbacks("once memory").add((function() {
                    Y.remove(e, [t + "queue", i])
                }
                ))
            })
        }
    }),
    T.fn.extend({
        queue: function(e, t) {
            var i = 2;
            return "string" != typeof e && (t = e,
            e = "fx",
            i--),
            arguments.length < i ? T.queue(this[0], e) : void 0 === t ? this : this.each((function() {
                var i = T.queue(this, e, t);
                T._queueHooks(this, e),
                "fx" === e && "inprogress" !== i[0] && T.dequeue(this, e)
            }
            ))
        },
        dequeue: function(e) {
            return this.each((function() {
                T.dequeue(this, e)
            }
            ))
        },
        clearQueue: function(e) {
            return this.queue(e || "fx", [])
        },
        promise: function(e, t) {
            var i, n = 1, s = T.Deferred(), r = this, a = this.length, o = function() {
                --n || s.resolveWith(r, [r])
            };
            for ("string" != typeof e && (t = e,
            e = void 0),
            e = e || "fx"; a--; )
                (i = Y.get(r[a], e + "queueHooks")) && i.empty && (n++,
                i.empty.add(o));
            return o(),
            s.promise(t)
        }
    });
    var ee = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source
      , te = new RegExp("^(?:([+-])=|)(" + ee + ")([a-z%]*)$","i")
      , ie = ["Top", "Right", "Bottom", "Left"]
      , ne = g.documentElement
      , se = function(e) {
        return T.contains(e.ownerDocument, e)
    }
      , re = {
        composed: !0
    };
    ne.getRootNode && (se = function(e) {
        return T.contains(e.ownerDocument, e) || e.getRootNode(re) === e.ownerDocument
    }
    );
    var ae = function(e, t) {
        return "none" === (e = t || e).style.display || "" === e.style.display && se(e) && "none" === T.css(e, "display")
    };
    function oe(e, t, i, n) {
        var s, r, a = 20, o = n ? function() {
            return n.cur()
        }
        : function() {
            return T.css(e, t, "")
        }
        , l = o(), d = i && i[3] || (T.cssNumber[t] ? "" : "px"), c = e.nodeType && (T.cssNumber[t] || "px" !== d && +l) && te.exec(T.css(e, t));
        if (c && c[3] !== d) {
            for (l /= 2,
            d = d || c[3],
            c = +l || 1; a--; )
                T.style(e, t, c + d),
                (1 - r) * (1 - (r = o() / l || .5)) <= 0 && (a = 0),
                c /= r;
            c *= 2,
            T.style(e, t, c + d),
            i = i || []
        }
        return i && (c = +c || +l || 0,
        s = i[1] ? c + (i[1] + 1) * i[2] : +i[2],
        n && (n.unit = d,
        n.start = c,
        n.end = s)),
        s
    }
    var le = {};
    function de(e, t) {
        for (var i, n, s, r, a, o, l, d = [], c = 0, u = e.length; c < u; c++)
            (n = e[c]).style && (i = n.style.display,
            t ? ("none" === i && (d[c] = Y.get(n, "display") || null,
            d[c] || (n.style.display = "")),
            "" === n.style.display && ae(n) && (d[c] = (l = a = r = void 0,
            a = (s = n).ownerDocument,
            o = s.nodeName,
            (l = le[o]) || (r = a.body.appendChild(a.createElement(o)),
            l = T.css(r, "display"),
            r.parentNode.removeChild(r),
            "none" === l && (l = "block"),
            le[o] = l)))) : "none" !== i && (d[c] = "none",
            Y.set(n, "display", i)));
        for (c = 0; c < u; c++)
            null != d[c] && (e[c].style.display = d[c]);
        return e
    }
    T.fn.extend({
        show: function() {
            return de(this, !0)
        },
        hide: function() {
            return de(this)
        },
        toggle: function(e) {
            return "boolean" == typeof e ? e ? this.show() : this.hide() : this.each((function() {
                ae(this) ? T(this).show() : T(this).hide()
            }
            ))
        }
    });
    var ce, ue, he = /^(?:checkbox|radio)$/i, pe = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i, fe = /^$|^module$|\/(?:java|ecma)script/i;
    ce = g.createDocumentFragment().appendChild(g.createElement("div")),
    (ue = g.createElement("input")).setAttribute("type", "radio"),
    ue.setAttribute("checked", "checked"),
    ue.setAttribute("name", "t"),
    ce.appendChild(ue),
    p.checkClone = ce.cloneNode(!0).cloneNode(!0).lastChild.checked,
    ce.innerHTML = "<textarea>x</textarea>",
    p.noCloneChecked = !!ce.cloneNode(!0).lastChild.defaultValue,
    ce.innerHTML = "<option></option>",
    p.option = !!ce.lastChild;
    var me = {
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""]
    };
    function ge(e, t) {
        var i;
        return i = void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t || "*") : void 0 !== e.querySelectorAll ? e.querySelectorAll(t || "*") : [],
        void 0 === t || t && E(e, t) ? T.merge([e], i) : i
    }
    function ve(e, t) {
        for (var i = 0, n = e.length; i < n; i++)
            Y.set(e[i], "globalEval", !t || Y.get(t[i], "globalEval"))
    }
    me.tbody = me.tfoot = me.colgroup = me.caption = me.thead,
    me.th = me.td,
    p.option || (me.optgroup = me.option = [1, "<select multiple='multiple'>", "</select>"]);
    var ye = /<|&#?\w+;/;
    function be(e, t, i, n, s) {
        for (var r, a, o, l, d, c, u = t.createDocumentFragment(), h = [], p = 0, f = e.length; p < f; p++)
            if ((r = e[p]) || 0 === r)
                if ("object" === b(r))
                    T.merge(h, r.nodeType ? [r] : r);
                else if (ye.test(r)) {
                    for (a = a || u.appendChild(t.createElement("div")),
                    o = (pe.exec(r) || ["", ""])[1].toLowerCase(),
                    l = me[o] || me._default,
                    a.innerHTML = l[1] + T.htmlPrefilter(r) + l[2],
                    c = l[0]; c--; )
                        a = a.lastChild;
                    T.merge(h, a.childNodes),
                    (a = u.firstChild).textContent = ""
                } else
                    h.push(t.createTextNode(r));
        for (u.textContent = "",
        p = 0; r = h[p++]; )
            if (n && -1 < T.inArray(r, n))
                s && s.push(r);
            else if (d = se(r),
            a = ge(u.appendChild(r), "script"),
            d && ve(a),
            i)
                for (c = 0; r = a[c++]; )
                    fe.test(r.type || "") && i.push(r);
        return u
    }
    var _e = /^([^.]*)(?:\.(.+)|)/;
    function Te() {
        return !0
    }
    function we() {
        return !1
    }
    function Se(e, t) {
        return e === function() {
            try {
                return g.activeElement
            } catch (e) {}
        }() == ("focus" === t)
    }
    function ke(e, t, i, n, s, r) {
        var a, o;
        if ("object" == typeof t) {
            for (o in "string" != typeof i && (n = n || i,
            i = void 0),
            t)
                ke(e, o, i, n, t[o], r);
            return e
        }
        if (null == n && null == s ? (s = i,
        n = i = void 0) : null == s && ("string" == typeof i ? (s = n,
        n = void 0) : (s = n,
        n = i,
        i = void 0)),
        !1 === s)
            s = we;
        else if (!s)
            return e;
        return 1 === r && (a = s,
        (s = function(e) {
            return T().off(e),
            a.apply(this, arguments)
        }
        ).guid = a.guid || (a.guid = T.guid++)),
        e.each((function() {
            T.event.add(this, t, s, n, i)
        }
        ))
    }
    function xe(e, t, i) {
        i ? (Y.set(e, t, !1),
        T.event.add(e, t, {
            namespace: !1,
            handler: function(e) {
                var n, r, a = Y.get(this, t);
                if (1 & e.isTrigger && this[t]) {
                    if (a.length)
                        (T.event.special[t] || {}).delegateType && e.stopPropagation();
                    else if (a = s.call(arguments),
                    Y.set(this, t, a),
                    n = i(this, t),
                    this[t](),
                    a !== (r = Y.get(this, t)) || n ? Y.set(this, t, !1) : r = {},
                    a !== r)
                        return e.stopImmediatePropagation(),
                        e.preventDefault(),
                        r && r.value
                } else
                    a.length && (Y.set(this, t, {
                        value: T.event.trigger(T.extend(a[0], T.Event.prototype), a.slice(1), this)
                    }),
                    e.stopImmediatePropagation())
            }
        })) : void 0 === Y.get(e, t) && T.event.add(e, t, Te)
    }
    T.event = {
        global: {},
        add: function(e, t, i, n, s) {
            var r, a, o, l, d, c, u, h, p, f, m, g = Y.get(e);
            if (G(e))
                for (i.handler && (i = (r = i).handler,
                s = r.selector),
                s && T.find.matchesSelector(ne, s),
                i.guid || (i.guid = T.guid++),
                (l = g.events) || (l = g.events = Object.create(null)),
                (a = g.handle) || (a = g.handle = function(t) {
                    return void 0 !== T && T.event.triggered !== t.type ? T.event.dispatch.apply(e, arguments) : void 0
                }
                ),
                d = (t = (t || "").match(R) || [""]).length; d--; )
                    p = m = (o = _e.exec(t[d]) || [])[1],
                    f = (o[2] || "").split(".").sort(),
                    p && (u = T.event.special[p] || {},
                    p = (s ? u.delegateType : u.bindType) || p,
                    u = T.event.special[p] || {},
                    c = T.extend({
                        type: p,
                        origType: m,
                        data: n,
                        handler: i,
                        guid: i.guid,
                        selector: s,
                        needsContext: s && T.expr.match.needsContext.test(s),
                        namespace: f.join(".")
                    }, r),
                    (h = l[p]) || ((h = l[p] = []).delegateCount = 0,
                    u.setup && !1 !== u.setup.call(e, n, f, a) || e.addEventListener && e.addEventListener(p, a)),
                    u.add && (u.add.call(e, c),
                    c.handler.guid || (c.handler.guid = i.guid)),
                    s ? h.splice(h.delegateCount++, 0, c) : h.push(c),
                    T.event.global[p] = !0)
        },
        remove: function(e, t, i, n, s) {
            var r, a, o, l, d, c, u, h, p, f, m, g = Y.hasData(e) && Y.get(e);
            if (g && (l = g.events)) {
                for (d = (t = (t || "").match(R) || [""]).length; d--; )
                    if (p = m = (o = _e.exec(t[d]) || [])[1],
                    f = (o[2] || "").split(".").sort(),
                    p) {
                        for (u = T.event.special[p] || {},
                        h = l[p = (n ? u.delegateType : u.bindType) || p] || [],
                        o = o[2] && new RegExp("(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                        a = r = h.length; r--; )
                            c = h[r],
                            !s && m !== c.origType || i && i.guid !== c.guid || o && !o.test(c.namespace) || n && n !== c.selector && ("**" !== n || !c.selector) || (h.splice(r, 1),
                            c.selector && h.delegateCount--,
                            u.remove && u.remove.call(e, c));
                        a && !h.length && (u.teardown && !1 !== u.teardown.call(e, f, g.handle) || T.removeEvent(e, p, g.handle),
                        delete l[p])
                    } else
                        for (p in l)
                            T.event.remove(e, p + t[d], i, n, !0);
                T.isEmptyObject(l) && Y.remove(e, "handle events")
            }
        },
        dispatch: function(e) {
            var t, i, n, s, r, a, o = new Array(arguments.length), l = T.event.fix(e), d = (Y.get(this, "events") || Object.create(null))[l.type] || [], c = T.event.special[l.type] || {};
            for (o[0] = l,
            t = 1; t < arguments.length; t++)
                o[t] = arguments[t];
            if (l.delegateTarget = this,
            !c.preDispatch || !1 !== c.preDispatch.call(this, l)) {
                for (a = T.event.handlers.call(this, l, d),
                t = 0; (s = a[t++]) && !l.isPropagationStopped(); )
                    for (l.currentTarget = s.elem,
                    i = 0; (r = s.handlers[i++]) && !l.isImmediatePropagationStopped(); )
                        l.rnamespace && !1 !== r.namespace && !l.rnamespace.test(r.namespace) || (l.handleObj = r,
                        l.data = r.data,
                        void 0 !== (n = ((T.event.special[r.origType] || {}).handle || r.handler).apply(s.elem, o)) && !1 === (l.result = n) && (l.preventDefault(),
                        l.stopPropagation()));
                return c.postDispatch && c.postDispatch.call(this, l),
                l.result
            }
        },
        handlers: function(e, t) {
            var i, n, s, r, a, o = [], l = t.delegateCount, d = e.target;
            if (l && d.nodeType && !("click" === e.type && 1 <= e.button))
                for (; d !== this; d = d.parentNode || this)
                    if (1 === d.nodeType && ("click" !== e.type || !0 !== d.disabled)) {
                        for (r = [],
                        a = {},
                        i = 0; i < l; i++)
                            void 0 === a[s = (n = t[i]).selector + " "] && (a[s] = n.needsContext ? -1 < T(s, this).index(d) : T.find(s, this, null, [d]).length),
                            a[s] && r.push(n);
                        r.length && o.push({
                            elem: d,
                            handlers: r
                        })
                    }
            return d = this,
            l < t.length && o.push({
                elem: d,
                handlers: t.slice(l)
            }),
            o
        },
        addProp: function(e, t) {
            Object.defineProperty(T.Event.prototype, e, {
                enumerable: !0,
                configurable: !0,
                get: f(t) ? function() {
                    if (this.originalEvent)
                        return t(this.originalEvent)
                }
                : function() {
                    if (this.originalEvent)
                        return this.originalEvent[e]
                }
                ,
                set: function(t) {
                    Object.defineProperty(this, e, {
                        enumerable: !0,
                        configurable: !0,
                        writable: !0,
                        value: t
                    })
                }
            })
        },
        fix: function(e) {
            return e[T.expando] ? e : new T.Event(e)
        },
        special: {
            load: {
                noBubble: !0
            },
            click: {
                setup: function(e) {
                    var t = this || e;
                    return he.test(t.type) && t.click && E(t, "input") && xe(t, "click", Te),
                    !1
                },
                trigger: function(e) {
                    var t = this || e;
                    return he.test(t.type) && t.click && E(t, "input") && xe(t, "click"),
                    !0
                },
                _default: function(e) {
                    var t = e.target;
                    return he.test(t.type) && t.click && E(t, "input") && Y.get(t, "click") || E(t, "a")
                }
            },
            beforeunload: {
                postDispatch: function(e) {
                    void 0 !== e.result && e.originalEvent && (e.originalEvent.returnValue = e.result)
                }
            }
        }
    },
    T.removeEvent = function(e, t, i) {
        e.removeEventListener && e.removeEventListener(t, i)
    }
    ,
    T.Event = function(e, t) {
        if (!(this instanceof T.Event))
            return new T.Event(e,t);
        e && e.type ? (this.originalEvent = e,
        this.type = e.type,
        this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && !1 === e.returnValue ? Te : we,
        this.target = e.target && 3 === e.target.nodeType ? e.target.parentNode : e.target,
        this.currentTarget = e.currentTarget,
        this.relatedTarget = e.relatedTarget) : this.type = e,
        t && T.extend(this, t),
        this.timeStamp = e && e.timeStamp || Date.now(),
        this[T.expando] = !0
    }
    ,
    T.Event.prototype = {
        constructor: T.Event,
        isDefaultPrevented: we,
        isPropagationStopped: we,
        isImmediatePropagationStopped: we,
        isSimulated: !1,
        preventDefault: function() {
            var e = this.originalEvent;
            this.isDefaultPrevented = Te,
            e && !this.isSimulated && e.preventDefault()
        },
        stopPropagation: function() {
            var e = this.originalEvent;
            this.isPropagationStopped = Te,
            e && !this.isSimulated && e.stopPropagation()
        },
        stopImmediatePropagation: function() {
            var e = this.originalEvent;
            this.isImmediatePropagationStopped = Te,
            e && !this.isSimulated && e.stopImmediatePropagation(),
            this.stopPropagation()
        }
    },
    T.each({
        altKey: !0,
        bubbles: !0,
        cancelable: !0,
        changedTouches: !0,
        ctrlKey: !0,
        detail: !0,
        eventPhase: !0,
        metaKey: !0,
        pageX: !0,
        pageY: !0,
        shiftKey: !0,
        view: !0,
        char: !0,
        code: !0,
        charCode: !0,
        key: !0,
        keyCode: !0,
        button: !0,
        buttons: !0,
        clientX: !0,
        clientY: !0,
        offsetX: !0,
        offsetY: !0,
        pointerId: !0,
        pointerType: !0,
        screenX: !0,
        screenY: !0,
        targetTouches: !0,
        toElement: !0,
        touches: !0,
        which: !0
    }, T.event.addProp),
    T.each({
        focus: "focusin",
        blur: "focusout"
    }, (function(e, t) {
        T.event.special[e] = {
            setup: function() {
                return xe(this, e, Se),
                !1
            },
            trigger: function() {
                return xe(this, e),
                !0
            },
            _default: function(t) {
                return Y.get(t.target, e)
            },
            delegateType: t
        }
    }
    )),
    T.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, (function(e, t) {
        T.event.special[e] = {
            delegateType: t,
            bindType: t,
            handle: function(e) {
                var i, n = e.relatedTarget, s = e.handleObj;
                return n && (n === this || T.contains(this, n)) || (e.type = s.origType,
                i = s.handler.apply(this, arguments),
                e.type = t),
                i
            }
        }
    }
    )),
    T.fn.extend({
        on: function(e, t, i, n) {
            return ke(this, e, t, i, n)
        },
        one: function(e, t, i, n) {
            return ke(this, e, t, i, n, 1)
        },
        off: function(e, t, i) {
            var n, s;
            if (e && e.preventDefault && e.handleObj)
                return n = e.handleObj,
                T(e.delegateTarget).off(n.namespace ? n.origType + "." + n.namespace : n.origType, n.selector, n.handler),
                this;
            if ("object" == typeof e) {
                for (s in e)
                    this.off(s, t, e[s]);
                return this
            }
            return !1 !== t && "function" != typeof t || (i = t,
            t = void 0),
            !1 === i && (i = we),
            this.each((function() {
                T.event.remove(this, e, i, t)
            }
            ))
        }
    });
    var Ce = /<script|<style|<link/i
      , Ee = /checked\s*(?:[^=]|=\s*.checked.)/i
      , Pe = /^\s*<!\[CDATA\[|\]\]>\s*$/g;
    function Ae(e, t) {
        return E(e, "table") && E(11 !== t.nodeType ? t : t.firstChild, "tr") && T(e).children("tbody")[0] || e
    }
    function Ie(e) {
        return e.type = (null !== e.getAttribute("type")) + "/" + e.type,
        e
    }
    function Oe(e) {
        return "true/" === (e.type || "").slice(0, 5) ? e.type = e.type.slice(5) : e.removeAttribute("type"),
        e
    }
    function Le(e, t) {
        var i, n, s, r, a, o;
        if (1 === t.nodeType) {
            if (Y.hasData(e) && (o = Y.get(e).events))
                for (s in Y.remove(t, "handle events"),
                o)
                    for (i = 0,
                    n = o[s].length; i < n; i++)
                        T.event.add(t, s, o[s][i]);
            K.hasData(e) && (r = K.access(e),
            a = T.extend({}, r),
            K.set(t, a))
        }
    }
    function Me(e, t, i, n) {
        t = r(t);
        var s, a, o, l, d, c, u = 0, h = e.length, m = h - 1, g = t[0], v = f(g);
        if (v || 1 < h && "string" == typeof g && !p.checkClone && Ee.test(g))
            return e.each((function(s) {
                var r = e.eq(s);
                v && (t[0] = g.call(this, s, r.html())),
                Me(r, t, i, n)
            }
            ));
        if (h && (a = (s = be(t, e[0].ownerDocument, !1, e, n)).firstChild,
        1 === s.childNodes.length && (s = a),
        a || n)) {
            for (l = (o = T.map(ge(s, "script"), Ie)).length; u < h; u++)
                d = s,
                u !== m && (d = T.clone(d, !0, !0),
                l && T.merge(o, ge(d, "script"))),
                i.call(e[u], d, u);
            if (l)
                for (c = o[o.length - 1].ownerDocument,
                T.map(o, Oe),
                u = 0; u < l; u++)
                    d = o[u],
                    fe.test(d.type || "") && !Y.access(d, "globalEval") && T.contains(c, d) && (d.src && "module" !== (d.type || "").toLowerCase() ? T._evalUrl && !d.noModule && T._evalUrl(d.src, {
                        nonce: d.nonce || d.getAttribute("nonce")
                    }, c) : y(d.textContent.replace(Pe, ""), d, c))
        }
        return e
    }
    function De(e, t, i) {
        for (var n, s = t ? T.filter(t, e) : e, r = 0; null != (n = s[r]); r++)
            i || 1 !== n.nodeType || T.cleanData(ge(n)),
            n.parentNode && (i && se(n) && ve(ge(n, "script")),
            n.parentNode.removeChild(n));
        return e
    }
    T.extend({
        htmlPrefilter: function(e) {
            return e
        },
        clone: function(e, t, i) {
            var n, s, r, a, o, l, d, c = e.cloneNode(!0), u = se(e);
            if (!(p.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || T.isXMLDoc(e)))
                for (a = ge(c),
                n = 0,
                s = (r = ge(e)).length; n < s; n++)
                    o = r[n],
                    "input" === (d = (l = a[n]).nodeName.toLowerCase()) && he.test(o.type) ? l.checked = o.checked : "input" !== d && "textarea" !== d || (l.defaultValue = o.defaultValue);
            if (t)
                if (i)
                    for (r = r || ge(e),
                    a = a || ge(c),
                    n = 0,
                    s = r.length; n < s; n++)
                        Le(r[n], a[n]);
                else
                    Le(e, c);
            return 0 < (a = ge(c, "script")).length && ve(a, !u && ge(e, "script")),
            c
        },
        cleanData: function(e) {
            for (var t, i, n, s = T.event.special, r = 0; void 0 !== (i = e[r]); r++)
                if (G(i)) {
                    if (t = i[Y.expando]) {
                        if (t.events)
                            for (n in t.events)
                                s[n] ? T.event.remove(i, n) : T.removeEvent(i, n, t.handle);
                        i[Y.expando] = void 0
                    }
                    i[K.expando] && (i[K.expando] = void 0)
                }
        }
    }),
    T.fn.extend({
        detach: function(e) {
            return De(this, e, !0)
        },
        remove: function(e) {
            return De(this, e)
        },
        text: function(e) {
            return H(this, (function(e) {
                return void 0 === e ? T.text(this) : this.empty().each((function() {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = e)
                }
                ))
            }
            ), null, e, arguments.length)
        },
        append: function() {
            return Me(this, arguments, (function(e) {
                1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || Ae(this, e).appendChild(e)
            }
            ))
        },
        prepend: function() {
            return Me(this, arguments, (function(e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var t = Ae(this, e);
                    t.insertBefore(e, t.firstChild)
                }
            }
            ))
        },
        before: function() {
            return Me(this, arguments, (function(e) {
                this.parentNode && this.parentNode.insertBefore(e, this)
            }
            ))
        },
        after: function() {
            return Me(this, arguments, (function(e) {
                this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
            }
            ))
        },
        empty: function() {
            for (var e, t = 0; null != (e = this[t]); t++)
                1 === e.nodeType && (T.cleanData(ge(e, !1)),
                e.textContent = "");
            return this
        },
        clone: function(e, t) {
            return e = null != e && e,
            t = null == t ? e : t,
            this.map((function() {
                return T.clone(this, e, t)
            }
            ))
        },
        html: function(e) {
            return H(this, (function(e) {
                var t = this[0] || {}
                  , i = 0
                  , n = this.length;
                if (void 0 === e && 1 === t.nodeType)
                    return t.innerHTML;
                if ("string" == typeof e && !Ce.test(e) && !me[(pe.exec(e) || ["", ""])[1].toLowerCase()]) {
                    e = T.htmlPrefilter(e);
                    try {
                        for (; i < n; i++)
                            1 === (t = this[i] || {}).nodeType && (T.cleanData(ge(t, !1)),
                            t.innerHTML = e);
                        t = 0
                    } catch (e) {}
                }
                t && this.empty().append(e)
            }
            ), null, e, arguments.length)
        },
        replaceWith: function() {
            var e = [];
            return Me(this, arguments, (function(t) {
                var i = this.parentNode;
                T.inArray(this, e) < 0 && (T.cleanData(ge(this)),
                i && i.replaceChild(t, this))
            }
            ), e)
        }
    }),
    T.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, (function(e, t) {
        T.fn[e] = function(e) {
            for (var i, n = [], s = T(e), r = s.length - 1, o = 0; o <= r; o++)
                i = o === r ? this : this.clone(!0),
                T(s[o])[t](i),
                a.apply(n, i.get());
            return this.pushStack(n)
        }
    }
    ));
    var Re = new RegExp("^(" + ee + ")(?!px)[a-z%]+$","i")
      , Ne = /^--/
      , Be = function(t) {
        var i = t.ownerDocument.defaultView;
        return i && i.opener || (i = e),
        i.getComputedStyle(t)
    }
      , je = function(e, t, i) {
        var n, s, r = {};
        for (s in t)
            r[s] = e.style[s],
            e.style[s] = t[s];
        for (s in n = i.call(e),
        t)
            e.style[s] = r[s];
        return n
    }
      , Fe = new RegExp(ie.join("|"),"i")
      , Ue = "[\\x20\\t\\r\\n\\f]"
      , $e = new RegExp("^" + Ue + "+|((?:^|[^\\\\])(?:\\\\.)*)" + Ue + "+$","g");
    function He(e, t, i) {
        var n, s, r, a, o = Ne.test(t), l = e.style;
        return (i = i || Be(e)) && (a = i.getPropertyValue(t) || i[t],
        o && a && (a = a.replace($e, "$1") || void 0),
        "" !== a || se(e) || (a = T.style(e, t)),
        !p.pixelBoxStyles() && Re.test(a) && Fe.test(t) && (n = l.width,
        s = l.minWidth,
        r = l.maxWidth,
        l.minWidth = l.maxWidth = l.width = a,
        a = i.width,
        l.width = n,
        l.minWidth = s,
        l.maxWidth = r)),
        void 0 !== a ? a + "" : a
    }
    function ze(e, t) {
        return {
            get: function() {
                if (!e())
                    return (this.get = t).apply(this, arguments);
                delete this.get
            }
        }
    }
    !function() {
        function t() {
            if (c) {
                d.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",
                c.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",
                ne.appendChild(d).appendChild(c);
                var t = e.getComputedStyle(c);
                n = "1%" !== t.top,
                l = 12 === i(t.marginLeft),
                c.style.right = "60%",
                a = 36 === i(t.right),
                s = 36 === i(t.width),
                c.style.position = "absolute",
                r = 12 === i(c.offsetWidth / 3),
                ne.removeChild(d),
                c = null
            }
        }
        function i(e) {
            return Math.round(parseFloat(e))
        }
        var n, s, r, a, o, l, d = g.createElement("div"), c = g.createElement("div");
        c.style && (c.style.backgroundClip = "content-box",
        c.cloneNode(!0).style.backgroundClip = "",
        p.clearCloneStyle = "content-box" === c.style.backgroundClip,
        T.extend(p, {
            boxSizingReliable: function() {
                return t(),
                s
            },
            pixelBoxStyles: function() {
                return t(),
                a
            },
            pixelPosition: function() {
                return t(),
                n
            },
            reliableMarginLeft: function() {
                return t(),
                l
            },
            scrollboxSize: function() {
                return t(),
                r
            },
            reliableTrDimensions: function() {
                var t, i, n, s;
                return null == o && (t = g.createElement("table"),
                i = g.createElement("tr"),
                n = g.createElement("div"),
                t.style.cssText = "position:absolute;left:-11111px;border-collapse:separate",
                i.style.cssText = "border:1px solid",
                i.style.height = "1px",
                n.style.height = "9px",
                n.style.display = "block",
                ne.appendChild(t).appendChild(i).appendChild(n),
                s = e.getComputedStyle(i),
                o = parseInt(s.height, 10) + parseInt(s.borderTopWidth, 10) + parseInt(s.borderBottomWidth, 10) === i.offsetHeight,
                ne.removeChild(t)),
                o
            }
        }))
    }();
    var qe = ["Webkit", "Moz", "ms"]
      , We = g.createElement("div").style
      , Ve = {};
    function Ge(e) {
        return T.cssProps[e] || Ve[e] || (e in We ? e : Ve[e] = function(e) {
            for (var t = e[0].toUpperCase() + e.slice(1), i = qe.length; i--; )
                if ((e = qe[i] + t)in We)
                    return e
        }(e) || e)
    }
    var Xe = /^(none|table(?!-c[ea]).+)/
      , Ye = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    }
      , Ke = {
        letterSpacing: "0",
        fontWeight: "400"
    };
    function Qe(e, t, i) {
        var n = te.exec(t);
        return n ? Math.max(0, n[2] - (i || 0)) + (n[3] || "px") : t
    }
    function Ze(e, t, i, n, s, r) {
        var a = "width" === t ? 1 : 0
          , o = 0
          , l = 0;
        if (i === (n ? "border" : "content"))
            return 0;
        for (; a < 4; a += 2)
            "margin" === i && (l += T.css(e, i + ie[a], !0, s)),
            n ? ("content" === i && (l -= T.css(e, "padding" + ie[a], !0, s)),
            "margin" !== i && (l -= T.css(e, "border" + ie[a] + "Width", !0, s))) : (l += T.css(e, "padding" + ie[a], !0, s),
            "padding" !== i ? l += T.css(e, "border" + ie[a] + "Width", !0, s) : o += T.css(e, "border" + ie[a] + "Width", !0, s));
        return !n && 0 <= r && (l += Math.max(0, Math.ceil(e["offset" + t[0].toUpperCase() + t.slice(1)] - r - l - o - .5)) || 0),
        l
    }
    function Je(e, t, i) {
        var n = Be(e)
          , s = (!p.boxSizingReliable() || i) && "border-box" === T.css(e, "boxSizing", !1, n)
          , r = s
          , a = He(e, t, n)
          , o = "offset" + t[0].toUpperCase() + t.slice(1);
        if (Re.test(a)) {
            if (!i)
                return a;
            a = "auto"
        }
        return (!p.boxSizingReliable() && s || !p.reliableTrDimensions() && E(e, "tr") || "auto" === a || !parseFloat(a) && "inline" === T.css(e, "display", !1, n)) && e.getClientRects().length && (s = "border-box" === T.css(e, "boxSizing", !1, n),
        (r = o in e) && (a = e[o])),
        (a = parseFloat(a) || 0) + Ze(e, t, i || (s ? "border" : "content"), r, n, a) + "px"
    }
    function et(e, t, i, n, s) {
        return new et.prototype.init(e,t,i,n,s)
    }
    T.extend({
        cssHooks: {
            opacity: {
                get: function(e, t) {
                    if (t) {
                        var i = He(e, "opacity");
                        return "" === i ? "1" : i
                    }
                }
            }
        },
        cssNumber: {
            animationIterationCount: !0,
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            gridArea: !0,
            gridColumn: !0,
            gridColumnEnd: !0,
            gridColumnStart: !0,
            gridRow: !0,
            gridRowEnd: !0,
            gridRowStart: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {},
        style: function(e, t, i, n) {
            if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                var s, r, a, o = V(t), l = Ne.test(t), d = e.style;
                if (l || (t = Ge(o)),
                a = T.cssHooks[t] || T.cssHooks[o],
                void 0 === i)
                    return a && "get"in a && void 0 !== (s = a.get(e, !1, n)) ? s : d[t];
                "string" == (r = typeof i) && (s = te.exec(i)) && s[1] && (i = oe(e, t, s),
                r = "number"),
                null != i && i == i && ("number" !== r || l || (i += s && s[3] || (T.cssNumber[o] ? "" : "px")),
                p.clearCloneStyle || "" !== i || 0 !== t.indexOf("background") || (d[t] = "inherit"),
                a && "set"in a && void 0 === (i = a.set(e, i, n)) || (l ? d.setProperty(t, i) : d[t] = i))
            }
        },
        css: function(e, t, i, n) {
            var s, r, a, o = V(t);
            return Ne.test(t) || (t = Ge(o)),
            (a = T.cssHooks[t] || T.cssHooks[o]) && "get"in a && (s = a.get(e, !0, i)),
            void 0 === s && (s = He(e, t, n)),
            "normal" === s && t in Ke && (s = Ke[t]),
            "" === i || i ? (r = parseFloat(s),
            !0 === i || isFinite(r) ? r || 0 : s) : s
        }
    }),
    T.each(["height", "width"], (function(e, t) {
        T.cssHooks[t] = {
            get: function(e, i, n) {
                if (i)
                    return !Xe.test(T.css(e, "display")) || e.getClientRects().length && e.getBoundingClientRect().width ? Je(e, t, n) : je(e, Ye, (function() {
                        return Je(e, t, n)
                    }
                    ))
            },
            set: function(e, i, n) {
                var s, r = Be(e), a = !p.scrollboxSize() && "absolute" === r.position, o = (a || n) && "border-box" === T.css(e, "boxSizing", !1, r), l = n ? Ze(e, t, n, o, r) : 0;
                return o && a && (l -= Math.ceil(e["offset" + t[0].toUpperCase() + t.slice(1)] - parseFloat(r[t]) - Ze(e, t, "border", !1, r) - .5)),
                l && (s = te.exec(i)) && "px" !== (s[3] || "px") && (e.style[t] = i,
                i = T.css(e, t)),
                Qe(0, i, l)
            }
        }
    }
    )),
    T.cssHooks.marginLeft = ze(p.reliableMarginLeft, (function(e, t) {
        if (t)
            return (parseFloat(He(e, "marginLeft")) || e.getBoundingClientRect().left - je(e, {
                marginLeft: 0
            }, (function() {
                return e.getBoundingClientRect().left
            }
            ))) + "px"
    }
    )),
    T.each({
        margin: "",
        padding: "",
        border: "Width"
    }, (function(e, t) {
        T.cssHooks[e + t] = {
            expand: function(i) {
                for (var n = 0, s = {}, r = "string" == typeof i ? i.split(" ") : [i]; n < 4; n++)
                    s[e + ie[n] + t] = r[n] || r[n - 2] || r[0];
                return s
            }
        },
        "margin" !== e && (T.cssHooks[e + t].set = Qe)
    }
    )),
    T.fn.extend({
        css: function(e, t) {
            return H(this, (function(e, t, i) {
                var n, s, r = {}, a = 0;
                if (Array.isArray(t)) {
                    for (n = Be(e),
                    s = t.length; a < s; a++)
                        r[t[a]] = T.css(e, t[a], !1, n);
                    return r
                }
                return void 0 !== i ? T.style(e, t, i) : T.css(e, t)
            }
            ), e, t, 1 < arguments.length)
        }
    }),
    ((T.Tween = et).prototype = {
        constructor: et,
        init: function(e, t, i, n, s, r) {
            this.elem = e,
            this.prop = i,
            this.easing = s || T.easing._default,
            this.options = t,
            this.start = this.now = this.cur(),
            this.end = n,
            this.unit = r || (T.cssNumber[i] ? "" : "px")
        },
        cur: function() {
            var e = et.propHooks[this.prop];
            return e && e.get ? e.get(this) : et.propHooks._default.get(this)
        },
        run: function(e) {
            var t, i = et.propHooks[this.prop];
            return this.options.duration ? this.pos = t = T.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : this.pos = t = e,
            this.now = (this.end - this.start) * t + this.start,
            this.options.step && this.options.step.call(this.elem, this.now, this),
            i && i.set ? i.set(this) : et.propHooks._default.set(this),
            this
        }
    }).init.prototype = et.prototype,
    (et.propHooks = {
        _default: {
            get: function(e) {
                var t;
                return 1 !== e.elem.nodeType || null != e.elem[e.prop] && null == e.elem.style[e.prop] ? e.elem[e.prop] : (t = T.css(e.elem, e.prop, "")) && "auto" !== t ? t : 0
            },
            set: function(e) {
                T.fx.step[e.prop] ? T.fx.step[e.prop](e) : 1 !== e.elem.nodeType || !T.cssHooks[e.prop] && null == e.elem.style[Ge(e.prop)] ? e.elem[e.prop] = e.now : T.style(e.elem, e.prop, e.now + e.unit)
            }
        }
    }).scrollTop = et.propHooks.scrollLeft = {
        set: function(e) {
            e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
        }
    },
    T.easing = {
        linear: function(e) {
            return e
        },
        swing: function(e) {
            return .5 - Math.cos(e * Math.PI) / 2
        },
        _default: "swing"
    },
    T.fx = et.prototype.init,
    T.fx.step = {};
    var tt, it, nt, st, rt = /^(?:toggle|show|hide)$/, at = /queueHooks$/;
    function ot() {
        it && (!1 === g.hidden && e.requestAnimationFrame ? e.requestAnimationFrame(ot) : e.setTimeout(ot, T.fx.interval),
        T.fx.tick())
    }
    function lt() {
        return e.setTimeout((function() {
            tt = void 0
        }
        )),
        tt = Date.now()
    }
    function dt(e, t) {
        var i, n = 0, s = {
            height: e
        };
        for (t = t ? 1 : 0; n < 4; n += 2 - t)
            s["margin" + (i = ie[n])] = s["padding" + i] = e;
        return t && (s.opacity = s.width = e),
        s
    }
    function ct(e, t, i) {
        for (var n, s = (ut.tweeners[t] || []).concat(ut.tweeners["*"]), r = 0, a = s.length; r < a; r++)
            if (n = s[r].call(i, t, e))
                return n
    }
    function ut(e, t, i) {
        var n, s, r = 0, a = ut.prefilters.length, o = T.Deferred().always((function() {
            delete l.elem
        }
        )), l = function() {
            if (s)
                return !1;
            for (var t = tt || lt(), i = Math.max(0, d.startTime + d.duration - t), n = 1 - (i / d.duration || 0), r = 0, a = d.tweens.length; r < a; r++)
                d.tweens[r].run(n);
            return o.notifyWith(e, [d, n, i]),
            n < 1 && a ? i : (a || o.notifyWith(e, [d, 1, 0]),
            o.resolveWith(e, [d]),
            !1)
        }, d = o.promise({
            elem: e,
            props: T.extend({}, t),
            opts: T.extend(!0, {
                specialEasing: {},
                easing: T.easing._default
            }, i),
            originalProperties: t,
            originalOptions: i,
            startTime: tt || lt(),
            duration: i.duration,
            tweens: [],
            createTween: function(t, i) {
                var n = T.Tween(e, d.opts, t, i, d.opts.specialEasing[t] || d.opts.easing);
                return d.tweens.push(n),
                n
            },
            stop: function(t) {
                var i = 0
                  , n = t ? d.tweens.length : 0;
                if (s)
                    return this;
                for (s = !0; i < n; i++)
                    d.tweens[i].run(1);
                return t ? (o.notifyWith(e, [d, 1, 0]),
                o.resolveWith(e, [d, t])) : o.rejectWith(e, [d, t]),
                this
            }
        }), c = d.props;
        for (function(e, t) {
            var i, n, s, r, a;
            for (i in e)
                if (s = t[n = V(i)],
                r = e[i],
                Array.isArray(r) && (s = r[1],
                r = e[i] = r[0]),
                i !== n && (e[n] = r,
                delete e[i]),
                (a = T.cssHooks[n]) && "expand"in a)
                    for (i in r = a.expand(r),
                    delete e[n],
                    r)
                        i in e || (e[i] = r[i],
                        t[i] = s);
                else
                    t[n] = s
        }(c, d.opts.specialEasing); r < a; r++)
            if (n = ut.prefilters[r].call(d, e, c, d.opts))
                return f(n.stop) && (T._queueHooks(d.elem, d.opts.queue).stop = n.stop.bind(n)),
                n;
        return T.map(c, ct, d),
        f(d.opts.start) && d.opts.start.call(e, d),
        d.progress(d.opts.progress).done(d.opts.done, d.opts.complete).fail(d.opts.fail).always(d.opts.always),
        T.fx.timer(T.extend(l, {
            elem: e,
            anim: d,
            queue: d.opts.queue
        })),
        d
    }
    T.Animation = T.extend(ut, {
        tweeners: {
            "*": [function(e, t) {
                var i = this.createTween(e, t);
                return oe(i.elem, e, te.exec(t), i),
                i
            }
            ]
        },
        tweener: function(e, t) {
            f(e) ? (t = e,
            e = ["*"]) : e = e.match(R);
            for (var i, n = 0, s = e.length; n < s; n++)
                i = e[n],
                ut.tweeners[i] = ut.tweeners[i] || [],
                ut.tweeners[i].unshift(t)
        },
        prefilters: [function(e, t, i) {
            var n, s, r, a, o, l, d, c, u = "width"in t || "height"in t, h = this, p = {}, f = e.style, m = e.nodeType && ae(e), g = Y.get(e, "fxshow");
            for (n in i.queue || (null == (a = T._queueHooks(e, "fx")).unqueued && (a.unqueued = 0,
            o = a.empty.fire,
            a.empty.fire = function() {
                a.unqueued || o()
            }
            ),
            a.unqueued++,
            h.always((function() {
                h.always((function() {
                    a.unqueued--,
                    T.queue(e, "fx").length || a.empty.fire()
                }
                ))
            }
            ))),
            t)
                if (s = t[n],
                rt.test(s)) {
                    if (delete t[n],
                    r = r || "toggle" === s,
                    s === (m ? "hide" : "show")) {
                        if ("show" !== s || !g || void 0 === g[n])
                            continue;
                        m = !0
                    }
                    p[n] = g && g[n] || T.style(e, n)
                }
            if ((l = !T.isEmptyObject(t)) || !T.isEmptyObject(p))
                for (n in u && 1 === e.nodeType && (i.overflow = [f.overflow, f.overflowX, f.overflowY],
                null == (d = g && g.display) && (d = Y.get(e, "display")),
                "none" === (c = T.css(e, "display")) && (d ? c = d : (de([e], !0),
                d = e.style.display || d,
                c = T.css(e, "display"),
                de([e]))),
                ("inline" === c || "inline-block" === c && null != d) && "none" === T.css(e, "float") && (l || (h.done((function() {
                    f.display = d
                }
                )),
                null == d && (c = f.display,
                d = "none" === c ? "" : c)),
                f.display = "inline-block")),
                i.overflow && (f.overflow = "hidden",
                h.always((function() {
                    f.overflow = i.overflow[0],
                    f.overflowX = i.overflow[1],
                    f.overflowY = i.overflow[2]
                }
                ))),
                l = !1,
                p)
                    l || (g ? "hidden"in g && (m = g.hidden) : g = Y.access(e, "fxshow", {
                        display: d
                    }),
                    r && (g.hidden = !m),
                    m && de([e], !0),
                    h.done((function() {
                        for (n in m || de([e]),
                        Y.remove(e, "fxshow"),
                        p)
                            T.style(e, n, p[n])
                    }
                    ))),
                    l = ct(m ? g[n] : 0, n, h),
                    n in g || (g[n] = l.start,
                    m && (l.end = l.start,
                    l.start = 0))
        }
        ],
        prefilter: function(e, t) {
            t ? ut.prefilters.unshift(e) : ut.prefilters.push(e)
        }
    }),
    T.speed = function(e, t, i) {
        var n = e && "object" == typeof e ? T.extend({}, e) : {
            complete: i || !i && t || f(e) && e,
            duration: e,
            easing: i && t || t && !f(t) && t
        };
        return T.fx.off ? n.duration = 0 : "number" != typeof n.duration && (n.duration in T.fx.speeds ? n.duration = T.fx.speeds[n.duration] : n.duration = T.fx.speeds._default),
        null != n.queue && !0 !== n.queue || (n.queue = "fx"),
        n.old = n.complete,
        n.complete = function() {
            f(n.old) && n.old.call(this),
            n.queue && T.dequeue(this, n.queue)
        }
        ,
        n
    }
    ,
    T.fn.extend({
        fadeTo: function(e, t, i, n) {
            return this.filter(ae).css("opacity", 0).show().end().animate({
                opacity: t
            }, e, i, n)
        },
        animate: function(e, t, i, n) {
            var s = T.isEmptyObject(e)
              , r = T.speed(t, i, n)
              , a = function() {
                var t = ut(this, T.extend({}, e), r);
                (s || Y.get(this, "finish")) && t.stop(!0)
            };
            return a.finish = a,
            s || !1 === r.queue ? this.each(a) : this.queue(r.queue, a)
        },
        stop: function(e, t, i) {
            var n = function(e) {
                var t = e.stop;
                delete e.stop,
                t(i)
            };
            return "string" != typeof e && (i = t,
            t = e,
            e = void 0),
            t && this.queue(e || "fx", []),
            this.each((function() {
                var t = !0
                  , s = null != e && e + "queueHooks"
                  , r = T.timers
                  , a = Y.get(this);
                if (s)
                    a[s] && a[s].stop && n(a[s]);
                else
                    for (s in a)
                        a[s] && a[s].stop && at.test(s) && n(a[s]);
                for (s = r.length; s--; )
                    r[s].elem !== this || null != e && r[s].queue !== e || (r[s].anim.stop(i),
                    t = !1,
                    r.splice(s, 1));
                !t && i || T.dequeue(this, e)
            }
            ))
        },
        finish: function(e) {
            return !1 !== e && (e = e || "fx"),
            this.each((function() {
                var t, i = Y.get(this), n = i[e + "queue"], s = i[e + "queueHooks"], r = T.timers, a = n ? n.length : 0;
                for (i.finish = !0,
                T.queue(this, e, []),
                s && s.stop && s.stop.call(this, !0),
                t = r.length; t--; )
                    r[t].elem === this && r[t].queue === e && (r[t].anim.stop(!0),
                    r.splice(t, 1));
                for (t = 0; t < a; t++)
                    n[t] && n[t].finish && n[t].finish.call(this);
                delete i.finish
            }
            ))
        }
    }),
    T.each(["toggle", "show", "hide"], (function(e, t) {
        var i = T.fn[t];
        T.fn[t] = function(e, n, s) {
            return null == e || "boolean" == typeof e ? i.apply(this, arguments) : this.animate(dt(t, !0), e, n, s)
        }
    }
    )),
    T.each({
        slideDown: dt("show"),
        slideUp: dt("hide"),
        slideToggle: dt("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, (function(e, t) {
        T.fn[e] = function(e, i, n) {
            return this.animate(t, e, i, n)
        }
    }
    )),
    T.timers = [],
    T.fx.tick = function() {
        var e, t = 0, i = T.timers;
        for (tt = Date.now(); t < i.length; t++)
            (e = i[t])() || i[t] !== e || i.splice(t--, 1);
        i.length || T.fx.stop(),
        tt = void 0
    }
    ,
    T.fx.timer = function(e) {
        T.timers.push(e),
        T.fx.start()
    }
    ,
    T.fx.interval = 13,
    T.fx.start = function() {
        it || (it = !0,
        ot())
    }
    ,
    T.fx.stop = function() {
        it = null
    }
    ,
    T.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    },
    T.fn.delay = function(t, i) {
        return t = T.fx && T.fx.speeds[t] || t,
        i = i || "fx",
        this.queue(i, (function(i, n) {
            var s = e.setTimeout(i, t);
            n.stop = function() {
                e.clearTimeout(s)
            }
        }
        ))
    }
    ,
    nt = g.createElement("input"),
    st = g.createElement("select").appendChild(g.createElement("option")),
    nt.type = "checkbox",
    p.checkOn = "" !== nt.value,
    p.optSelected = st.selected,
    (nt = g.createElement("input")).value = "t",
    nt.type = "radio",
    p.radioValue = "t" === nt.value;
    var ht, pt = T.expr.attrHandle;
    T.fn.extend({
        attr: function(e, t) {
            return H(this, T.attr, e, t, 1 < arguments.length)
        },
        removeAttr: function(e) {
            return this.each((function() {
                T.removeAttr(this, e)
            }
            ))
        }
    }),
    T.extend({
        attr: function(e, t, i) {
            var n, s, r = e.nodeType;
            if (3 !== r && 8 !== r && 2 !== r)
                return void 0 === e.getAttribute ? T.prop(e, t, i) : (1 === r && T.isXMLDoc(e) || (s = T.attrHooks[t.toLowerCase()] || (T.expr.match.bool.test(t) ? ht : void 0)),
                void 0 !== i ? null === i ? void T.removeAttr(e, t) : s && "set"in s && void 0 !== (n = s.set(e, i, t)) ? n : (e.setAttribute(t, i + ""),
                i) : s && "get"in s && null !== (n = s.get(e, t)) ? n : null == (n = T.find.attr(e, t)) ? void 0 : n)
        },
        attrHooks: {
            type: {
                set: function(e, t) {
                    if (!p.radioValue && "radio" === t && E(e, "input")) {
                        var i = e.value;
                        return e.setAttribute("type", t),
                        i && (e.value = i),
                        t
                    }
                }
            }
        },
        removeAttr: function(e, t) {
            var i, n = 0, s = t && t.match(R);
            if (s && 1 === e.nodeType)
                for (; i = s[n++]; )
                    e.removeAttribute(i)
        }
    }),
    ht = {
        set: function(e, t, i) {
            return !1 === t ? T.removeAttr(e, i) : e.setAttribute(i, i),
            i
        }
    },
    T.each(T.expr.match.bool.source.match(/\w+/g), (function(e, t) {
        var i = pt[t] || T.find.attr;
        pt[t] = function(e, t, n) {
            var s, r, a = t.toLowerCase();
            return n || (r = pt[a],
            pt[a] = s,
            s = null != i(e, t, n) ? a : null,
            pt[a] = r),
            s
        }
    }
    ));
    var ft = /^(?:input|select|textarea|button)$/i
      , mt = /^(?:a|area)$/i;
    function gt(e) {
        return (e.match(R) || []).join(" ")
    }
    function vt(e) {
        return e.getAttribute && e.getAttribute("class") || ""
    }
    function yt(e) {
        return Array.isArray(e) ? e : "string" == typeof e && e.match(R) || []
    }
    T.fn.extend({
        prop: function(e, t) {
            return H(this, T.prop, e, t, 1 < arguments.length)
        },
        removeProp: function(e) {
            return this.each((function() {
                delete this[T.propFix[e] || e]
            }
            ))
        }
    }),
    T.extend({
        prop: function(e, t, i) {
            var n, s, r = e.nodeType;
            if (3 !== r && 8 !== r && 2 !== r)
                return 1 === r && T.isXMLDoc(e) || (t = T.propFix[t] || t,
                s = T.propHooks[t]),
                void 0 !== i ? s && "set"in s && void 0 !== (n = s.set(e, i, t)) ? n : e[t] = i : s && "get"in s && null !== (n = s.get(e, t)) ? n : e[t]
        },
        propHooks: {
            tabIndex: {
                get: function(e) {
                    var t = T.find.attr(e, "tabindex");
                    return t ? parseInt(t, 10) : ft.test(e.nodeName) || mt.test(e.nodeName) && e.href ? 0 : -1
                }
            }
        },
        propFix: {
            for: "htmlFor",
            class: "className"
        }
    }),
    p.optSelected || (T.propHooks.selected = {
        get: function(e) {
            var t = e.parentNode;
            return t && t.parentNode && t.parentNode.selectedIndex,
            null
        },
        set: function(e) {
            var t = e.parentNode;
            t && (t.selectedIndex,
            t.parentNode && t.parentNode.selectedIndex)
        }
    }),
    T.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], (function() {
        T.propFix[this.toLowerCase()] = this
    }
    )),
    T.fn.extend({
        addClass: function(e) {
            var t, i, n, s, r, a;
            return f(e) ? this.each((function(t) {
                T(this).addClass(e.call(this, t, vt(this)))
            }
            )) : (t = yt(e)).length ? this.each((function() {
                if (n = vt(this),
                i = 1 === this.nodeType && " " + gt(n) + " ") {
                    for (r = 0; r < t.length; r++)
                        s = t[r],
                        i.indexOf(" " + s + " ") < 0 && (i += s + " ");
                    a = gt(i),
                    n !== a && this.setAttribute("class", a)
                }
            }
            )) : this
        },
        removeClass: function(e) {
            var t, i, n, s, r, a;
            return f(e) ? this.each((function(t) {
                T(this).removeClass(e.call(this, t, vt(this)))
            }
            )) : arguments.length ? (t = yt(e)).length ? this.each((function() {
                if (n = vt(this),
                i = 1 === this.nodeType && " " + gt(n) + " ") {
                    for (r = 0; r < t.length; r++)
                        for (s = t[r]; -1 < i.indexOf(" " + s + " "); )
                            i = i.replace(" " + s + " ", " ");
                    a = gt(i),
                    n !== a && this.setAttribute("class", a)
                }
            }
            )) : this : this.attr("class", "")
        },
        toggleClass: function(e, t) {
            var i, n, s, r, a = typeof e, o = "string" === a || Array.isArray(e);
            return f(e) ? this.each((function(i) {
                T(this).toggleClass(e.call(this, i, vt(this), t), t)
            }
            )) : "boolean" == typeof t && o ? t ? this.addClass(e) : this.removeClass(e) : (i = yt(e),
            this.each((function() {
                if (o)
                    for (r = T(this),
                    s = 0; s < i.length; s++)
                        n = i[s],
                        r.hasClass(n) ? r.removeClass(n) : r.addClass(n);
                else
                    void 0 !== e && "boolean" !== a || ((n = vt(this)) && Y.set(this, "__className__", n),
                    this.setAttribute && this.setAttribute("class", n || !1 === e ? "" : Y.get(this, "__className__") || ""))
            }
            )))
        },
        hasClass: function(e) {
            var t, i, n = 0;
            for (t = " " + e + " "; i = this[n++]; )
                if (1 === i.nodeType && -1 < (" " + gt(vt(i)) + " ").indexOf(t))
                    return !0;
            return !1
        }
    });
    var bt = /\r/g;
    T.fn.extend({
        val: function(e) {
            var t, i, n, s = this[0];
            return arguments.length ? (n = f(e),
            this.each((function(i) {
                var s;
                1 === this.nodeType && (null == (s = n ? e.call(this, i, T(this).val()) : e) ? s = "" : "number" == typeof s ? s += "" : Array.isArray(s) && (s = T.map(s, (function(e) {
                    return null == e ? "" : e + ""
                }
                ))),
                (t = T.valHooks[this.type] || T.valHooks[this.nodeName.toLowerCase()]) && "set"in t && void 0 !== t.set(this, s, "value") || (this.value = s))
            }
            ))) : s ? (t = T.valHooks[s.type] || T.valHooks[s.nodeName.toLowerCase()]) && "get"in t && void 0 !== (i = t.get(s, "value")) ? i : "string" == typeof (i = s.value) ? i.replace(bt, "") : null == i ? "" : i : void 0
        }
    }),
    T.extend({
        valHooks: {
            option: {
                get: function(e) {
                    var t = T.find.attr(e, "value");
                    return null != t ? t : gt(T.text(e))
                }
            },
            select: {
                get: function(e) {
                    var t, i, n, s = e.options, r = e.selectedIndex, a = "select-one" === e.type, o = a ? null : [], l = a ? r + 1 : s.length;
                    for (n = r < 0 ? l : a ? r : 0; n < l; n++)
                        if (((i = s[n]).selected || n === r) && !i.disabled && (!i.parentNode.disabled || !E(i.parentNode, "optgroup"))) {
                            if (t = T(i).val(),
                            a)
                                return t;
                            o.push(t)
                        }
                    return o
                },
                set: function(e, t) {
                    for (var i, n, s = e.options, r = T.makeArray(t), a = s.length; a--; )
                        ((n = s[a]).selected = -1 < T.inArray(T.valHooks.option.get(n), r)) && (i = !0);
                    return i || (e.selectedIndex = -1),
                    r
                }
            }
        }
    }),
    T.each(["radio", "checkbox"], (function() {
        T.valHooks[this] = {
            set: function(e, t) {
                if (Array.isArray(t))
                    return e.checked = -1 < T.inArray(T(e).val(), t)
            }
        },
        p.checkOn || (T.valHooks[this].get = function(e) {
            return null === e.getAttribute("value") ? "on" : e.value
        }
        )
    }
    )),
    p.focusin = "onfocusin"in e;
    var _t = /^(?:focusinfocus|focusoutblur)$/
      , Tt = function(e) {
        e.stopPropagation()
    };
    T.extend(T.event, {
        trigger: function(t, i, n, s) {
            var r, a, o, l, d, u, h, p, v = [n || g], y = c.call(t, "type") ? t.type : t, b = c.call(t, "namespace") ? t.namespace.split(".") : [];
            if (a = p = o = n = n || g,
            3 !== n.nodeType && 8 !== n.nodeType && !_t.test(y + T.event.triggered) && (-1 < y.indexOf(".") && (y = (b = y.split(".")).shift(),
            b.sort()),
            d = y.indexOf(":") < 0 && "on" + y,
            (t = t[T.expando] ? t : new T.Event(y,"object" == typeof t && t)).isTrigger = s ? 2 : 3,
            t.namespace = b.join("."),
            t.rnamespace = t.namespace ? new RegExp("(^|\\.)" + b.join("\\.(?:.*\\.|)") + "(\\.|$)") : null,
            t.result = void 0,
            t.target || (t.target = n),
            i = null == i ? [t] : T.makeArray(i, [t]),
            h = T.event.special[y] || {},
            s || !h.trigger || !1 !== h.trigger.apply(n, i))) {
                if (!s && !h.noBubble && !m(n)) {
                    for (l = h.delegateType || y,
                    _t.test(l + y) || (a = a.parentNode); a; a = a.parentNode)
                        v.push(a),
                        o = a;
                    o === (n.ownerDocument || g) && v.push(o.defaultView || o.parentWindow || e)
                }
                for (r = 0; (a = v[r++]) && !t.isPropagationStopped(); )
                    p = a,
                    t.type = 1 < r ? l : h.bindType || y,
                    (u = (Y.get(a, "events") || Object.create(null))[t.type] && Y.get(a, "handle")) && u.apply(a, i),
                    (u = d && a[d]) && u.apply && G(a) && (t.result = u.apply(a, i),
                    !1 === t.result && t.preventDefault());
                return t.type = y,
                s || t.isDefaultPrevented() || h._default && !1 !== h._default.apply(v.pop(), i) || !G(n) || d && f(n[y]) && !m(n) && ((o = n[d]) && (n[d] = null),
                T.event.triggered = y,
                t.isPropagationStopped() && p.addEventListener(y, Tt),
                n[y](),
                t.isPropagationStopped() && p.removeEventListener(y, Tt),
                T.event.triggered = void 0,
                o && (n[d] = o)),
                t.result
            }
        },
        simulate: function(e, t, i) {
            var n = T.extend(new T.Event, i, {
                type: e,
                isSimulated: !0
            });
            T.event.trigger(n, null, t)
        }
    }),
    T.fn.extend({
        trigger: function(e, t) {
            return this.each((function() {
                T.event.trigger(e, t, this)
            }
            ))
        },
        triggerHandler: function(e, t) {
            var i = this[0];
            if (i)
                return T.event.trigger(e, t, i, !0)
        }
    }),
    p.focusin || T.each({
        focus: "focusin",
        blur: "focusout"
    }, (function(e, t) {
        var i = function(e) {
            T.event.simulate(t, e.target, T.event.fix(e))
        };
        T.event.special[t] = {
            setup: function() {
                var n = this.ownerDocument || this.document || this
                  , s = Y.access(n, t);
                s || n.addEventListener(e, i, !0),
                Y.access(n, t, (s || 0) + 1)
            },
            teardown: function() {
                var n = this.ownerDocument || this.document || this
                  , s = Y.access(n, t) - 1;
                s ? Y.access(n, t, s) : (n.removeEventListener(e, i, !0),
                Y.remove(n, t))
            }
        }
    }
    ));
    var wt = e.location
      , St = {
        guid: Date.now()
    }
      , kt = /\?/;
    T.parseXML = function(t) {
        var i, n;
        if (!t || "string" != typeof t)
            return null;
        try {
            i = (new e.DOMParser).parseFromString(t, "text/xml")
        } catch (t) {}
        return n = i && i.getElementsByTagName("parsererror")[0],
        i && !n || T.error("Invalid XML: " + (n ? T.map(n.childNodes, (function(e) {
            return e.textContent
        }
        )).join("\n") : t)),
        i
    }
    ;
    var xt = /\[\]$/
      , Ct = /\r?\n/g
      , Et = /^(?:submit|button|image|reset|file)$/i
      , Pt = /^(?:input|select|textarea|keygen)/i;
    function At(e, t, i, n) {
        var s;
        if (Array.isArray(t))
            T.each(t, (function(t, s) {
                i || xt.test(e) ? n(e, s) : At(e + "[" + ("object" == typeof s && null != s ? t : "") + "]", s, i, n)
            }
            ));
        else if (i || "object" !== b(t))
            n(e, t);
        else
            for (s in t)
                At(e + "[" + s + "]", t[s], i, n)
    }
    T.param = function(e, t) {
        var i, n = [], s = function(e, t) {
            var i = f(t) ? t() : t;
            n[n.length] = encodeURIComponent(e) + "=" + encodeURIComponent(null == i ? "" : i)
        };
        if (null == e)
            return "";
        if (Array.isArray(e) || e.jquery && !T.isPlainObject(e))
            T.each(e, (function() {
                s(this.name, this.value)
            }
            ));
        else
            for (i in e)
                At(i, e[i], t, s);
        return n.join("&")
    }
    ,
    T.fn.extend({
        serialize: function() {
            return T.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map((function() {
                var e = T.prop(this, "elements");
                return e ? T.makeArray(e) : this
            }
            )).filter((function() {
                var e = this.type;
                return this.name && !T(this).is(":disabled") && Pt.test(this.nodeName) && !Et.test(e) && (this.checked || !he.test(e))
            }
            )).map((function(e, t) {
                var i = T(this).val();
                return null == i ? null : Array.isArray(i) ? T.map(i, (function(e) {
                    return {
                        name: t.name,
                        value: e.replace(Ct, "\r\n")
                    }
                }
                )) : {
                    name: t.name,
                    value: i.replace(Ct, "\r\n")
                }
            }
            )).get()
        }
    });
    var It = /%20/g
      , Ot = /#.*$/
      , Lt = /([?&])_=[^&]*/
      , Mt = /^(.*?):[ \t]*([^\r\n]*)$/gm
      , Dt = /^(?:GET|HEAD)$/
      , Rt = /^\/\//
      , Nt = {}
      , Bt = {}
      , jt = "*/".concat("*")
      , Ft = g.createElement("a");
    function Ut(e) {
        return function(t, i) {
            "string" != typeof t && (i = t,
            t = "*");
            var n, s = 0, r = t.toLowerCase().match(R) || [];
            if (f(i))
                for (; n = r[s++]; )
                    "+" === n[0] ? (n = n.slice(1) || "*",
                    (e[n] = e[n] || []).unshift(i)) : (e[n] = e[n] || []).push(i)
        }
    }
    function $t(e, t, i, n) {
        var s = {}
          , r = e === Bt;
        function a(o) {
            var l;
            return s[o] = !0,
            T.each(e[o] || [], (function(e, o) {
                var d = o(t, i, n);
                return "string" != typeof d || r || s[d] ? r ? !(l = d) : void 0 : (t.dataTypes.unshift(d),
                a(d),
                !1)
            }
            )),
            l
        }
        return a(t.dataTypes[0]) || !s["*"] && a("*")
    }
    function Ht(e, t) {
        var i, n, s = T.ajaxSettings.flatOptions || {};
        for (i in t)
            void 0 !== t[i] && ((s[i] ? e : n || (n = {}))[i] = t[i]);
        return n && T.extend(!0, e, n),
        e
    }
    Ft.href = wt.href,
    T.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: wt.href,
            type: "GET",
            isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": jt,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /\bxml\b/,
                html: /\bhtml/,
                json: /\bjson\b/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": JSON.parse,
                "text xml": T.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(e, t) {
            return t ? Ht(Ht(e, T.ajaxSettings), t) : Ht(T.ajaxSettings, e)
        },
        ajaxPrefilter: Ut(Nt),
        ajaxTransport: Ut(Bt),
        ajax: function(t, i) {
            "object" == typeof t && (i = t,
            t = void 0),
            i = i || {};
            var n, s, r, a, o, l, d, c, u, h, p = T.ajaxSetup({}, i), f = p.context || p, m = p.context && (f.nodeType || f.jquery) ? T(f) : T.event, v = T.Deferred(), y = T.Callbacks("once memory"), b = p.statusCode || {}, _ = {}, w = {}, S = "canceled", k = {
                readyState: 0,
                getResponseHeader: function(e) {
                    var t;
                    if (d) {
                        if (!a)
                            for (a = {}; t = Mt.exec(r); )
                                a[t[1].toLowerCase() + " "] = (a[t[1].toLowerCase() + " "] || []).concat(t[2]);
                        t = a[e.toLowerCase() + " "]
                    }
                    return null == t ? null : t.join(", ")
                },
                getAllResponseHeaders: function() {
                    return d ? r : null
                },
                setRequestHeader: function(e, t) {
                    return null == d && (e = w[e.toLowerCase()] = w[e.toLowerCase()] || e,
                    _[e] = t),
                    this
                },
                overrideMimeType: function(e) {
                    return null == d && (p.mimeType = e),
                    this
                },
                statusCode: function(e) {
                    var t;
                    if (e)
                        if (d)
                            k.always(e[k.status]);
                        else
                            for (t in e)
                                b[t] = [b[t], e[t]];
                    return this
                },
                abort: function(e) {
                    var t = e || S;
                    return n && n.abort(t),
                    x(0, t),
                    this
                }
            };
            if (v.promise(k),
            p.url = ((t || p.url || wt.href) + "").replace(Rt, wt.protocol + "//"),
            p.type = i.method || i.type || p.method || p.type,
            p.dataTypes = (p.dataType || "*").toLowerCase().match(R) || [""],
            null == p.crossDomain) {
                l = g.createElement("a");
                try {
                    l.href = p.url,
                    l.href = l.href,
                    p.crossDomain = Ft.protocol + "//" + Ft.host != l.protocol + "//" + l.host
                } catch (t) {
                    p.crossDomain = !0
                }
            }
            if (p.data && p.processData && "string" != typeof p.data && (p.data = T.param(p.data, p.traditional)),
            $t(Nt, p, i, k),
            d)
                return k;
            for (u in (c = T.event && p.global) && 0 == T.active++ && T.event.trigger("ajaxStart"),
            p.type = p.type.toUpperCase(),
            p.hasContent = !Dt.test(p.type),
            s = p.url.replace(Ot, ""),
            p.hasContent ? p.data && p.processData && 0 === (p.contentType || "").indexOf("application/x-www-form-urlencoded") && (p.data = p.data.replace(It, "+")) : (h = p.url.slice(s.length),
            p.data && (p.processData || "string" == typeof p.data) && (s += (kt.test(s) ? "&" : "?") + p.data,
            delete p.data),
            !1 === p.cache && (s = s.replace(Lt, "$1"),
            h = (kt.test(s) ? "&" : "?") + "_=" + St.guid++ + h),
            p.url = s + h),
            p.ifModified && (T.lastModified[s] && k.setRequestHeader("If-Modified-Since", T.lastModified[s]),
            T.etag[s] && k.setRequestHeader("If-None-Match", T.etag[s])),
            (p.data && p.hasContent && !1 !== p.contentType || i.contentType) && k.setRequestHeader("Content-Type", p.contentType),
            k.setRequestHeader("Accept", p.dataTypes[0] && p.accepts[p.dataTypes[0]] ? p.accepts[p.dataTypes[0]] + ("*" !== p.dataTypes[0] ? ", " + jt + "; q=0.01" : "") : p.accepts["*"]),
            p.headers)
                k.setRequestHeader(u, p.headers[u]);
            if (p.beforeSend && (!1 === p.beforeSend.call(f, k, p) || d))
                return k.abort();
            if (S = "abort",
            y.add(p.complete),
            k.done(p.success),
            k.fail(p.error),
            n = $t(Bt, p, i, k)) {
                if (k.readyState = 1,
                c && m.trigger("ajaxSend", [k, p]),
                d)
                    return k;
                p.async && 0 < p.timeout && (o = e.setTimeout((function() {
                    k.abort("timeout")
                }
                ), p.timeout));
                try {
                    d = !1,
                    n.send(_, x)
                } catch (t) {
                    if (d)
                        throw t;
                    x(-1, t)
                }
            } else
                x(-1, "No Transport");
            function x(t, i, a, l) {
                var u, h, g, _, w, S = i;
                d || (d = !0,
                o && e.clearTimeout(o),
                n = void 0,
                r = l || "",
                k.readyState = 0 < t ? 4 : 0,
                u = 200 <= t && t < 300 || 304 === t,
                a && (_ = function(e, t, i) {
                    for (var n, s, r, a, o = e.contents, l = e.dataTypes; "*" === l[0]; )
                        l.shift(),
                        void 0 === n && (n = e.mimeType || t.getResponseHeader("Content-Type"));
                    if (n)
                        for (s in o)
                            if (o[s] && o[s].test(n)) {
                                l.unshift(s);
                                break
                            }
                    if (l[0]in i)
                        r = l[0];
                    else {
                        for (s in i) {
                            if (!l[0] || e.converters[s + " " + l[0]]) {
                                r = s;
                                break
                            }
                            a || (a = s)
                        }
                        r = r || a
                    }
                    if (r)
                        return r !== l[0] && l.unshift(r),
                        i[r]
                }(p, k, a)),
                !u && -1 < T.inArray("script", p.dataTypes) && T.inArray("json", p.dataTypes) < 0 && (p.converters["text script"] = function() {}
                ),
                _ = function(e, t, i, n) {
                    var s, r, a, o, l, d = {}, c = e.dataTypes.slice();
                    if (c[1])
                        for (a in e.converters)
                            d[a.toLowerCase()] = e.converters[a];
                    for (r = c.shift(); r; )
                        if (e.responseFields[r] && (i[e.responseFields[r]] = t),
                        !l && n && e.dataFilter && (t = e.dataFilter(t, e.dataType)),
                        l = r,
                        r = c.shift())
                            if ("*" === r)
                                r = l;
                            else if ("*" !== l && l !== r) {
                                if (!(a = d[l + " " + r] || d["* " + r]))
                                    for (s in d)
                                        if ((o = s.split(" "))[1] === r && (a = d[l + " " + o[0]] || d["* " + o[0]])) {
                                            !0 === a ? a = d[s] : !0 !== d[s] && (r = o[0],
                                            c.unshift(o[1]));
                                            break
                                        }
                                if (!0 !== a)
                                    if (a && e.throws)
                                        t = a(t);
                                    else
                                        try {
                                            t = a(t)
                                        } catch (e) {
                                            return {
                                                state: "parsererror",
                                                error: a ? e : "No conversion from " + l + " to " + r
                                            }
                                        }
                            }
                    return {
                        state: "success",
                        data: t
                    }
                }(p, _, k, u),
                u ? (p.ifModified && ((w = k.getResponseHeader("Last-Modified")) && (T.lastModified[s] = w),
                (w = k.getResponseHeader("etag")) && (T.etag[s] = w)),
                204 === t || "HEAD" === p.type ? S = "nocontent" : 304 === t ? S = "notmodified" : (S = _.state,
                h = _.data,
                u = !(g = _.error))) : (g = S,
                !t && S || (S = "error",
                t < 0 && (t = 0))),
                k.status = t,
                k.statusText = (i || S) + "",
                u ? v.resolveWith(f, [h, S, k]) : v.rejectWith(f, [k, S, g]),
                k.statusCode(b),
                b = void 0,
                c && m.trigger(u ? "ajaxSuccess" : "ajaxError", [k, p, u ? h : g]),
                y.fireWith(f, [k, S]),
                c && (m.trigger("ajaxComplete", [k, p]),
                --T.active || T.event.trigger("ajaxStop")))
            }
            return k
        },
        getJSON: function(e, t, i) {
            return T.get(e, t, i, "json")
        },
        getScript: function(e, t) {
            return T.get(e, void 0, t, "script")
        }
    }),
    T.each(["get", "post"], (function(e, t) {
        T[t] = function(e, i, n, s) {
            return f(i) && (s = s || n,
            n = i,
            i = void 0),
            T.ajax(T.extend({
                url: e,
                type: t,
                dataType: s,
                data: i,
                success: n
            }, T.isPlainObject(e) && e))
        }
    }
    )),
    T.ajaxPrefilter((function(e) {
        var t;
        for (t in e.headers)
            "content-type" === t.toLowerCase() && (e.contentType = e.headers[t] || "")
    }
    )),
    T._evalUrl = function(e, t, i) {
        return T.ajax({
            url: e,
            type: "GET",
            dataType: "script",
            cache: !0,
            async: !1,
            global: !1,
            converters: {
                "text script": function() {}
            },
            dataFilter: function(e) {
                T.globalEval(e, t, i)
            }
        })
    }
    ,
    T.fn.extend({
        wrapAll: function(e) {
            var t;
            return this[0] && (f(e) && (e = e.call(this[0])),
            t = T(e, this[0].ownerDocument).eq(0).clone(!0),
            this[0].parentNode && t.insertBefore(this[0]),
            t.map((function() {
                for (var e = this; e.firstElementChild; )
                    e = e.firstElementChild;
                return e
            }
            )).append(this)),
            this
        },
        wrapInner: function(e) {
            return f(e) ? this.each((function(t) {
                T(this).wrapInner(e.call(this, t))
            }
            )) : this.each((function() {
                var t = T(this)
                  , i = t.contents();
                i.length ? i.wrapAll(e) : t.append(e)
            }
            ))
        },
        wrap: function(e) {
            var t = f(e);
            return this.each((function(i) {
                T(this).wrapAll(t ? e.call(this, i) : e)
            }
            ))
        },
        unwrap: function(e) {
            return this.parent(e).not("body").each((function() {
                T(this).replaceWith(this.childNodes)
            }
            )),
            this
        }
    }),
    T.expr.pseudos.hidden = function(e) {
        return !T.expr.pseudos.visible(e)
    }
    ,
    T.expr.pseudos.visible = function(e) {
        return !!(e.offsetWidth || e.offsetHeight || e.getClientRects().length)
    }
    ,
    T.ajaxSettings.xhr = function() {
        try {
            return new e.XMLHttpRequest
        } catch (e) {}
    }
    ;
    var zt = {
        0: 200,
        1223: 204
    }
      , qt = T.ajaxSettings.xhr();
    p.cors = !!qt && "withCredentials"in qt,
    p.ajax = qt = !!qt,
    T.ajaxTransport((function(t) {
        var i, n;
        if (p.cors || qt && !t.crossDomain)
            return {
                send: function(s, r) {
                    var a, o = t.xhr();
                    if (o.open(t.type, t.url, t.async, t.username, t.password),
                    t.xhrFields)
                        for (a in t.xhrFields)
                            o[a] = t.xhrFields[a];
                    for (a in t.mimeType && o.overrideMimeType && o.overrideMimeType(t.mimeType),
                    t.crossDomain || s["X-Requested-With"] || (s["X-Requested-With"] = "XMLHttpRequest"),
                    s)
                        o.setRequestHeader(a, s[a]);
                    i = function(e) {
                        return function() {
                            i && (i = n = o.onload = o.onerror = o.onabort = o.ontimeout = o.onreadystatechange = null,
                            "abort" === e ? o.abort() : "error" === e ? "number" != typeof o.status ? r(0, "error") : r(o.status, o.statusText) : r(zt[o.status] || o.status, o.statusText, "text" !== (o.responseType || "text") || "string" != typeof o.responseText ? {
                                binary: o.response
                            } : {
                                text: o.responseText
                            }, o.getAllResponseHeaders()))
                        }
                    }
                    ,
                    o.onload = i(),
                    n = o.onerror = o.ontimeout = i("error"),
                    void 0 !== o.onabort ? o.onabort = n : o.onreadystatechange = function() {
                        4 === o.readyState && e.setTimeout((function() {
                            i && n()
                        }
                        ))
                    }
                    ,
                    i = i("abort");
                    try {
                        o.send(t.hasContent && t.data || null)
                    } catch (s) {
                        if (i)
                            throw s
                    }
                },
                abort: function() {
                    i && i()
                }
            }
    }
    )),
    T.ajaxPrefilter((function(e) {
        e.crossDomain && (e.contents.script = !1)
    }
    )),
    T.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /\b(?:java|ecma)script\b/
        },
        converters: {
            "text script": function(e) {
                return T.globalEval(e),
                e
            }
        }
    }),
    T.ajaxPrefilter("script", (function(e) {
        void 0 === e.cache && (e.cache = !1),
        e.crossDomain && (e.type = "GET")
    }
    )),
    T.ajaxTransport("script", (function(e) {
        var t, i;
        if (e.crossDomain || e.scriptAttrs)
            return {
                send: function(n, s) {
                    t = T("<script>").attr(e.scriptAttrs || {}).prop({
                        charset: e.scriptCharset,
                        src: e.url
                    }).on("load error", i = function(e) {
                        t.remove(),
                        i = null,
                        e && s("error" === e.type ? 404 : 200, e.type)
                    }
                    ),
                    g.head.appendChild(t[0])
                },
                abort: function() {
                    i && i()
                }
            }
    }
    ));
    var Wt, Vt = [], Gt = /(=)\?(?=&|$)|\?\?/;
    T.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var e = Vt.pop() || T.expando + "_" + St.guid++;
            return this[e] = !0,
            e
        }
    }),
    T.ajaxPrefilter("json jsonp", (function(t, i, n) {
        var s, r, a, o = !1 !== t.jsonp && (Gt.test(t.url) ? "url" : "string" == typeof t.data && 0 === (t.contentType || "").indexOf("application/x-www-form-urlencoded") && Gt.test(t.data) && "data");
        if (o || "jsonp" === t.dataTypes[0])
            return s = t.jsonpCallback = f(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback,
            o ? t[o] = t[o].replace(Gt, "$1" + s) : !1 !== t.jsonp && (t.url += (kt.test(t.url) ? "&" : "?") + t.jsonp + "=" + s),
            t.converters["script json"] = function() {
                return a || T.error(s + " was not called"),
                a[0]
            }
            ,
            t.dataTypes[0] = "json",
            r = e[s],
            e[s] = function() {
                a = arguments
            }
            ,
            n.always((function() {
                void 0 === r ? T(e).removeProp(s) : e[s] = r,
                t[s] && (t.jsonpCallback = i.jsonpCallback,
                Vt.push(s)),
                a && f(r) && r(a[0]),
                a = r = void 0
            }
            )),
            "script"
    }
    )),
    p.createHTMLDocument = ((Wt = g.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>",
    2 === Wt.childNodes.length),
    T.parseHTML = function(e, t, i) {
        return "string" != typeof e ? [] : ("boolean" == typeof t && (i = t,
        t = !1),
        t || (p.createHTMLDocument ? ((n = (t = g.implementation.createHTMLDocument("")).createElement("base")).href = g.location.href,
        t.head.appendChild(n)) : t = g),
        r = !i && [],
        (s = P.exec(e)) ? [t.createElement(s[1])] : (s = be([e], t, r),
        r && r.length && T(r).remove(),
        T.merge([], s.childNodes)));
        var n, s, r
    }
    ,
    T.fn.load = function(e, t, i) {
        var n, s, r, a = this, o = e.indexOf(" ");
        return -1 < o && (n = gt(e.slice(o)),
        e = e.slice(0, o)),
        f(t) ? (i = t,
        t = void 0) : t && "object" == typeof t && (s = "POST"),
        0 < a.length && T.ajax({
            url: e,
            type: s || "GET",
            dataType: "html",
            data: t
        }).done((function(e) {
            r = arguments,
            a.html(n ? T("<div>").append(T.parseHTML(e)).find(n) : e)
        }
        )).always(i && function(e, t) {
            a.each((function() {
                i.apply(this, r || [e.responseText, t, e])
            }
            ))
        }
        ),
        this
    }
    ,
    T.expr.pseudos.animated = function(e) {
        return T.grep(T.timers, (function(t) {
            return e === t.elem
        }
        )).length
    }
    ,
    T.offset = {
        setOffset: function(e, t, i) {
            var n, s, r, a, o, l, d = T.css(e, "position"), c = T(e), u = {};
            "static" === d && (e.style.position = "relative"),
            o = c.offset(),
            r = T.css(e, "top"),
            l = T.css(e, "left"),
            ("absolute" === d || "fixed" === d) && -1 < (r + l).indexOf("auto") ? (a = (n = c.position()).top,
            s = n.left) : (a = parseFloat(r) || 0,
            s = parseFloat(l) || 0),
            f(t) && (t = t.call(e, i, T.extend({}, o))),
            null != t.top && (u.top = t.top - o.top + a),
            null != t.left && (u.left = t.left - o.left + s),
            "using"in t ? t.using.call(e, u) : c.css(u)
        }
    },
    T.fn.extend({
        offset: function(e) {
            if (arguments.length)
                return void 0 === e ? this : this.each((function(t) {
                    T.offset.setOffset(this, e, t)
                }
                ));
            var t, i, n = this[0];
            return n ? n.getClientRects().length ? (t = n.getBoundingClientRect(),
            i = n.ownerDocument.defaultView,
            {
                top: t.top + i.pageYOffset,
                left: t.left + i.pageXOffset
            }) : {
                top: 0,
                left: 0
            } : void 0
        },
        position: function() {
            if (this[0]) {
                var e, t, i, n = this[0], s = {
                    top: 0,
                    left: 0
                };
                if ("fixed" === T.css(n, "position"))
                    t = n.getBoundingClientRect();
                else {
                    for (t = this.offset(),
                    i = n.ownerDocument,
                    e = n.offsetParent || i.documentElement; e && (e === i.body || e === i.documentElement) && "static" === T.css(e, "position"); )
                        e = e.parentNode;
                    e && e !== n && 1 === e.nodeType && ((s = T(e).offset()).top += T.css(e, "borderTopWidth", !0),
                    s.left += T.css(e, "borderLeftWidth", !0))
                }
                return {
                    top: t.top - s.top - T.css(n, "marginTop", !0),
                    left: t.left - s.left - T.css(n, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map((function() {
                for (var e = this.offsetParent; e && "static" === T.css(e, "position"); )
                    e = e.offsetParent;
                return e || ne
            }
            ))
        }
    }),
    T.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, (function(e, t) {
        var i = "pageYOffset" === t;
        T.fn[e] = function(n) {
            return H(this, (function(e, n, s) {
                var r;
                if (m(e) ? r = e : 9 === e.nodeType && (r = e.defaultView),
                void 0 === s)
                    return r ? r[t] : e[n];
                r ? r.scrollTo(i ? r.pageXOffset : s, i ? s : r.pageYOffset) : e[n] = s
            }
            ), e, n, arguments.length)
        }
    }
    )),
    T.each(["top", "left"], (function(e, t) {
        T.cssHooks[t] = ze(p.pixelPosition, (function(e, i) {
            if (i)
                return i = He(e, t),
                Re.test(i) ? T(e).position()[t] + "px" : i
        }
        ))
    }
    )),
    T.each({
        Height: "height",
        Width: "width"
    }, (function(e, t) {
        T.each({
            padding: "inner" + e,
            content: t,
            "": "outer" + e
        }, (function(i, n) {
            T.fn[n] = function(s, r) {
                var a = arguments.length && (i || "boolean" != typeof s)
                  , o = i || (!0 === s || !0 === r ? "margin" : "border");
                return H(this, (function(t, i, s) {
                    var r;
                    return m(t) ? 0 === n.indexOf("outer") ? t["inner" + e] : t.document.documentElement["client" + e] : 9 === t.nodeType ? (r = t.documentElement,
                    Math.max(t.body["scroll" + e], r["scroll" + e], t.body["offset" + e], r["offset" + e], r["client" + e])) : void 0 === s ? T.css(t, i, o) : T.style(t, i, s, o)
                }
                ), t, a ? s : void 0, a)
            }
        }
        ))
    }
    )),
    T.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], (function(e, t) {
        T.fn[t] = function(e) {
            return this.on(t, e)
        }
    }
    )),
    T.fn.extend({
        bind: function(e, t, i) {
            return this.on(e, null, t, i)
        },
        unbind: function(e, t) {
            return this.off(e, null, t)
        },
        delegate: function(e, t, i, n) {
            return this.on(t, e, i, n)
        },
        undelegate: function(e, t, i) {
            return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", i)
        },
        hover: function(e, t) {
            return this.mouseenter(e).mouseleave(t || e)
        }
    }),
    T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), (function(e, t) {
        T.fn[t] = function(e, i) {
            return 0 < arguments.length ? this.on(t, null, e, i) : this.trigger(t)
        }
    }
    ));
    var Xt = /^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;
    T.proxy = function(e, t) {
        var i, n, r;
        if ("string" == typeof t && (i = e[t],
        t = e,
        e = i),
        f(e))
            return n = s.call(arguments, 2),
            (r = function() {
                return e.apply(t || this, n.concat(s.call(arguments)))
            }
            ).guid = e.guid = e.guid || T.guid++,
            r
    }
    ,
    T.holdReady = function(e) {
        e ? T.readyWait++ : T.ready(!0)
    }
    ,
    T.isArray = Array.isArray,
    T.parseJSON = JSON.parse,
    T.nodeName = E,
    T.isFunction = f,
    T.isWindow = m,
    T.camelCase = V,
    T.type = b,
    T.now = Date.now,
    T.isNumeric = function(e) {
        var t = T.type(e);
        return ("number" === t || "string" === t) && !isNaN(e - parseFloat(e))
    }
    ,
    T.trim = function(e) {
        return null == e ? "" : (e + "").replace(Xt, "$1")
    }
    ,
    "function" == typeof define && define.amd && define("jquery", [], (function() {
        return T
    }
    ));
    var Yt = e.jQuery
      , Kt = e.$;
    return T.noConflict = function(t) {
        return e.$ === T && (e.$ = Kt),
        t && e.jQuery === T && (e.jQuery = Yt),
        T
    }
    ,
    void 0 === t && (e.jQuery = e.$ = T),
    T
}
)),
function(e, t) {
    if ("object" == typeof exports && "object" == typeof module)
        module.exports = t(require("jquery"));
    else if ("function" == typeof define && define.amd)
        define(["jquery"], t);
    else {
        var i = "object" == typeof exports ? t(require("jquery")) : t(e.jQuery);
        for (var n in i)
            ("object" == typeof exports ? exports : e)[n] = i[n]
    }
}(window, (function(__WEBPACK_EXTERNAL_MODULE__8__) {
    return modules = [function(e) {
        e.exports = JSON.parse('{"BACKSPACE":8,"BACKSPACE_SAFARI":127,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"INSERT":45,"LEFT":37,"PAGE_DOWN":34,"PAGE_UP":33,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38,"X":88,"CONTROL":17,"KEY_229":229}')
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0,
        i(9);
        var n = i(10)
          , s = m(i(12))
          , r = m(i(13))
          , a = i(17)
          , o = i(3)
          , l = i(2)
          , d = i(4)
          , c = i(5)
          , u = i(11)
          , h = m(i(18))
          , p = m(i(19));
        function f(e) {
            return f = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            ,
            f(e)
        }
        function m(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var g = r.default.document
          , v = "_inputmask_opts";
        function y(e, t, i) {
            if (!(this instanceof y))
                return new y(e,t,i);
            this.dependencyLib = s.default,
            this.el = void 0,
            this.events = {},
            this.maskset = void 0,
            !0 !== i && ("[object Object]" === Object.prototype.toString.call(e) ? t = e : (t = t || {},
            e && (t.alias = e)),
            this.opts = s.default.extend(!0, {}, this.defaults, t),
            this.noMasksCache = t && void 0 !== t.definitions,
            this.userOptions = t || {},
            b(this.opts.alias, t, this.opts)),
            this.refreshValue = !1,
            this.undoValue = void 0,
            this.$el = void 0,
            this.skipKeyPressEvent = !1,
            this.skipInputEvent = !1,
            this.validationEvent = !1,
            this.ignorable = !1,
            this.maxLength,
            this.mouseEnter = !1,
            this.originalPlaceholder = void 0,
            this.isComposing = !1
        }
        function b(e, t, i) {
            var n = y.prototype.aliases[e];
            return n ? (n.alias && b(n.alias, void 0, i),
            s.default.extend(!0, i, n),
            s.default.extend(!0, i, t),
            !0) : (null === i.mask && (i.mask = e),
            !1)
        }
        y.prototype = {
            dataAttribute: "data-inputmask",
            defaults: p.default,
            definitions: h.default,
            aliases: {},
            masksCache: {},
            get isRTL() {
                return this.opts.isRTL || this.opts.numericInput
            },
            mask: function(e) {
                var t = this;
                return "string" == typeof e && (e = g.getElementById(e) || g.querySelectorAll(e)),
                (e = e.nodeName ? [e] : Array.isArray(e) ? e : Array.from(e)).forEach((function(e, i) {
                    var o = s.default.extend(!0, {}, t.opts);
                    if (function(e, t, i, n) {
                        function a(t, s) {
                            var a = "" === n ? t : n + "-" + t;
                            null !== (s = void 0 !== s ? s : e.getAttribute(a)) && ("string" == typeof s && (0 === t.indexOf("on") ? s = r.default[s] : "false" === s ? s = !1 : "true" === s && (s = !0)),
                            i[t] = s)
                        }
                        if (!0 === t.importDataAttributes) {
                            var o, l, d, c, u = e.getAttribute(n);
                            if (u && "" !== u && (u = u.replace(/'/g, '"'),
                            l = JSON.parse("{" + u + "}")),
                            l)
                                for (c in d = void 0,
                                l)
                                    if ("alias" === c.toLowerCase()) {
                                        d = l[c];
                                        break
                                    }
                            for (o in a("alias", d),
                            i.alias && b(i.alias, i, t),
                            t) {
                                if (l)
                                    for (c in d = void 0,
                                    l)
                                        if (c.toLowerCase() === o.toLowerCase()) {
                                            d = l[c];
                                            break
                                        }
                                a(o, d)
                            }
                        }
                        return s.default.extend(!0, t, i),
                        "rtl" !== e.dir && !t.rightAlign || (e.style.textAlign = "right"),
                        "rtl" !== e.dir && !t.numericInput || (e.dir = "ltr",
                        e.removeAttribute("dir"),
                        t.isRTL = !0),
                        Object.keys(i).length
                    }(e, o, s.default.extend(!0, {}, t.userOptions), t.dataAttribute)) {
                        var l = (0,
                        a.generateMaskSet)(o, t.noMasksCache);
                        void 0 !== l && (void 0 !== e.inputmask && (e.inputmask.opts.autoUnmask = !0,
                        e.inputmask.remove()),
                        e.inputmask = new y(void 0,void 0,!0),
                        e.inputmask.opts = o,
                        e.inputmask.noMasksCache = t.noMasksCache,
                        e.inputmask.userOptions = s.default.extend(!0, {}, t.userOptions),
                        e.inputmask.el = e,
                        e.inputmask.$el = (0,
                        s.default)(e),
                        e.inputmask.maskset = l,
                        s.default.data(e, v, t.userOptions),
                        n.mask.call(e.inputmask))
                    }
                }
                )),
                e && e[0] && e[0].inputmask || this
            },
            option: function(e, t) {
                return "string" == typeof e ? this.opts[e] : "object" === f(e) ? (s.default.extend(this.userOptions, e),
                this.el && !0 !== t && this.mask(this.el),
                this) : void 0
            },
            unmaskedvalue: function(e) {
                if (this.maskset = this.maskset || (0,
                a.generateMaskSet)(this.opts, this.noMasksCache),
                void 0 === this.el || void 0 !== e) {
                    var t = ("function" == typeof this.opts.onBeforeMask && this.opts.onBeforeMask.call(this, e, this.opts) || e).split("");
                    c.checkVal.call(this, void 0, !1, !1, t),
                    "function" == typeof this.opts.onBeforeWrite && this.opts.onBeforeWrite.call(this, void 0, l.getBuffer.call(this), 0, this.opts)
                }
                return c.unmaskedvalue.call(this, this.el)
            },
            remove: function() {
                if (this.el) {
                    s.default.data(this.el, v, null);
                    var e = this.opts.autoUnmask ? (0,
                    c.unmaskedvalue)(this.el) : this._valueGet(this.opts.autoUnmask);
                    e !== l.getBufferTemplate.call(this).join("") ? this._valueSet(e, this.opts.autoUnmask) : this._valueSet(""),
                    u.EventRuler.off(this.el),
                    Object.getOwnPropertyDescriptor && Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el), "value") && this.__valueGet && Object.defineProperty(this.el, "value", {
                        get: this.__valueGet,
                        set: this.__valueSet,
                        configurable: !0
                    }) : g.__lookupGetter__ && this.el.__lookupGetter__("value") && this.__valueGet && (this.el.__defineGetter__("value", this.__valueGet),
                    this.el.__defineSetter__("value", this.__valueSet)),
                    this.el.inputmask = void 0
                }
                return this.el
            },
            getemptymask: function() {
                return this.maskset = this.maskset || (0,
                a.generateMaskSet)(this.opts, this.noMasksCache),
                l.getBufferTemplate.call(this).join("")
            },
            hasMaskedValue: function() {
                return !this.opts.autoUnmask
            },
            isComplete: function() {
                return this.maskset = this.maskset || (0,
                a.generateMaskSet)(this.opts, this.noMasksCache),
                d.isComplete.call(this, l.getBuffer.call(this))
            },
            getmetadata: function() {
                if (this.maskset = this.maskset || (0,
                a.generateMaskSet)(this.opts, this.noMasksCache),
                Array.isArray(this.maskset.metadata)) {
                    var e = o.getMaskTemplate.call(this, !0, 0, !1).join("");
                    return this.maskset.metadata.forEach((function(t) {
                        return t.mask !== e || (e = t,
                        !1)
                    }
                    )),
                    e
                }
                return this.maskset.metadata
            },
            isValid: function(e) {
                if (this.maskset = this.maskset || (0,
                a.generateMaskSet)(this.opts, this.noMasksCache),
                e) {
                    var t = ("function" == typeof this.opts.onBeforeMask && this.opts.onBeforeMask.call(this, e, this.opts) || e).split("");
                    c.checkVal.call(this, void 0, !0, !1, t)
                } else
                    e = this.isRTL ? l.getBuffer.call(this).slice().reverse().join("") : l.getBuffer.call(this).join("");
                for (var i = l.getBuffer.call(this), n = l.determineLastRequiredPosition.call(this), s = i.length - 1; n < s && !l.isMask.call(this, s); s--)
                    ;
                return i.splice(n, s + 1 - n),
                d.isComplete.call(this, i) && e === (this.isRTL ? l.getBuffer.call(this).slice().reverse().join("") : l.getBuffer.call(this).join(""))
            },
            format: function(e, t) {
                this.maskset = this.maskset || (0,
                a.generateMaskSet)(this.opts, this.noMasksCache);
                var i = ("function" == typeof this.opts.onBeforeMask && this.opts.onBeforeMask.call(this, e, this.opts) || e).split("");
                c.checkVal.call(this, void 0, !0, !1, i);
                var n = this.isRTL ? l.getBuffer.call(this).slice().reverse().join("") : l.getBuffer.call(this).join("");
                return t ? {
                    value: n,
                    metadata: this.getmetadata()
                } : n
            },
            setValue: function(e) {
                this.el && (0,
                s.default)(this.el).trigger("setvalue", [e])
            },
            analyseMask: a.analyseMask
        },
        y.extendDefaults = function(e) {
            s.default.extend(!0, y.prototype.defaults, e)
        }
        ,
        y.extendDefinitions = function(e) {
            s.default.extend(!0, y.prototype.definitions, e)
        }
        ,
        y.extendAliases = function(e) {
            s.default.extend(!0, y.prototype.aliases, e)
        }
        ,
        y.format = function(e, t, i) {
            return y(t).format(e, i)
        }
        ,
        y.unmask = function(e, t) {
            return y(t).unmaskedvalue(e)
        }
        ,
        y.isValid = function(e, t) {
            return y(t).isValid(e)
        }
        ,
        y.remove = function(e) {
            "string" == typeof e && (e = g.getElementById(e) || g.querySelectorAll(e)),
            (e = e.nodeName ? [e] : e).forEach((function(e) {
                e.inputmask && e.inputmask.remove()
            }
            ))
        }
        ,
        y.setValue = function(e, t) {
            "string" == typeof e && (e = g.getElementById(e) || g.querySelectorAll(e)),
            (e = e.nodeName ? [e] : e).forEach((function(e) {
                e.inputmask ? e.inputmask.setValue(t) : (0,
                s.default)(e).trigger("setvalue", [t])
            }
            ))
        }
        ,
        y.dependencyLib = s.default,
        r.default.Inputmask = y;
        var _ = y;
        t.default = _
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.caret = function(e, t, i, n, s) {
            var r, a = this.opts;
            if (void 0 === t)
                return "selectionStart"in e && "selectionEnd"in e ? (t = e.selectionStart,
                i = e.selectionEnd) : window.getSelection ? (r = window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode !== e && r.commonAncestorContainer !== e || (t = r.startOffset,
                i = r.endOffset) : document.selection && document.selection.createRange && (r = document.selection.createRange(),
                t = 0 - r.duplicate().moveStart("character", -e.inputmask._valueGet().length),
                i = t + r.text.length),
                {
                    begin: n ? t : d.call(this, t),
                    end: n ? i : d.call(this, i)
                };
            if (Array.isArray(t) && (i = this.isRTL ? t[0] : t[1],
            t = this.isRTL ? t[1] : t[0]),
            void 0 !== t.begin && (i = this.isRTL ? t.begin : t.end,
            t = this.isRTL ? t.end : t.begin),
            "number" == typeof t) {
                t = n ? t : d.call(this, t),
                i = "number" == typeof (i = n ? i : d.call(this, i)) ? i : t;
                var o = parseInt(((e.ownerDocument.defaultView || window).getComputedStyle ? (e.ownerDocument.defaultView || window).getComputedStyle(e, null) : e.currentStyle).fontSize) * i;
                if (e.scrollLeft = o > e.scrollWidth ? o : 0,
                e.inputmask.caretPos = {
                    begin: t,
                    end: i
                },
                a.insertModeVisual && !1 === a.insertMode && t === i && (s || i++),
                e === (e.inputmask.shadowRoot || document).activeElement)
                    if ("setSelectionRange"in e)
                        e.setSelectionRange(t, i);
                    else if (window.getSelection) {
                        if (r = document.createRange(),
                        void 0 === e.firstChild || null === e.firstChild) {
                            var l = document.createTextNode("");
                            e.appendChild(l)
                        }
                        r.setStart(e.firstChild, t < e.inputmask._valueGet().length ? t : e.inputmask._valueGet().length),
                        r.setEnd(e.firstChild, i < e.inputmask._valueGet().length ? i : e.inputmask._valueGet().length),
                        r.collapse(!0);
                        var c = window.getSelection();
                        c.removeAllRanges(),
                        c.addRange(r)
                    } else
                        e.createTextRange && ((r = e.createTextRange()).collapse(!0),
                        r.moveEnd("character", i),
                        r.moveStart("character", t),
                        r.select())
            }
        }
        ,
        t.determineLastRequiredPosition = function(e) {
            var t, i, r = this.maskset, o = this.dependencyLib, l = n.getMaskTemplate.call(this, !0, a.call(this), !0, !0), d = l.length, c = a.call(this), u = {}, h = r.validPositions[c], p = void 0 !== h ? h.locator.slice() : void 0;
            for (t = c + 1; t < l.length; t++)
                i = n.getTestTemplate.call(this, t, p, t - 1),
                p = i.locator.slice(),
                u[t] = o.extend(!0, {}, i);
            var f = h && void 0 !== h.alternation ? h.locator[h.alternation] : void 0;
            for (t = d - 1; c < t && ((i = u[t]).match.optionality || i.match.optionalQuantifier && i.match.newBlockMarker || f && (f !== u[t].locator[h.alternation] && 1 != i.match.static || !0 === i.match.static && i.locator[h.alternation] && s.checkAlternationMatch.call(this, i.locator[h.alternation].toString().split(","), f.toString().split(",")) && "" !== n.getTests.call(this, t)[0].def)) && l[t] === n.getPlaceholder.call(this, t, i.match); t--)
                d--;
            return e ? {
                l: d,
                def: u[d] ? u[d].match : void 0
            } : d
        }
        ,
        t.determineNewCaretPosition = function(e, t) {
            var i = this
              , s = this.maskset
              , d = this.opts;
            if (t && (i.isRTL ? e.end = e.begin : e.begin = e.end),
            e.begin === e.end) {
                switch (d.positionCaretOnClick) {
                case "none":
                    break;
                case "select":
                    e = {
                        begin: 0,
                        end: r.call(i).length
                    };
                    break;
                case "ignore":
                    e.end = e.begin = l.call(i, a.call(i));
                    break;
                case "radixFocus":
                    if (function(e) {
                        if ("" !== d.radixPoint && 0 !== d.digits) {
                            var t = s.validPositions;
                            if (void 0 === t[e] || t[e].input === n.getPlaceholder.call(i, e)) {
                                if (e < l.call(i, -1))
                                    return !0;
                                var a = r.call(i).indexOf(d.radixPoint);
                                if (-1 !== a) {
                                    for (var o in t)
                                        if (t[o] && a < o && t[o].input !== n.getPlaceholder.call(i, o))
                                            return !1;
                                    return !0
                                }
                            }
                        }
                        return !1
                    }(e.begin)) {
                        var c = r.call(i).join("").indexOf(d.radixPoint);
                        e.end = e.begin = d.numericInput ? l.call(i, c) : c;
                        break
                    }
                default:
                    var u = e.begin
                      , h = a.call(i, u, !0)
                      , p = l.call(i, -1 !== h || o.call(i, 0) ? h : -1);
                    if (u <= p)
                        e.end = e.begin = o.call(i, u, !1, !0) ? u : l.call(i, u);
                    else {
                        var f = s.validPositions[h]
                          , m = n.getTestTemplate.call(i, p, f ? f.match.locator : void 0, f)
                          , g = n.getPlaceholder.call(i, p, m.match);
                        if ("" !== g && r.call(i)[p] !== g && !0 !== m.match.optionalQuantifier && !0 !== m.match.newBlockMarker || !o.call(i, p, d.keepStatic, !0) && m.match.def === g) {
                            var v = l.call(i, p);
                            (v <= u || u === p) && (p = v)
                        }
                        e.end = e.begin = p
                    }
                }
                return e
            }
        }
        ,
        t.getBuffer = r,
        t.getBufferTemplate = function() {
            var e = this.maskset;
            return void 0 === e._buffer && (e._buffer = n.getMaskTemplate.call(this, !1, 1),
            void 0 === e.buffer && (e.buffer = e._buffer.slice())),
            e._buffer
        }
        ,
        t.getLastValidPosition = a,
        t.isMask = o,
        t.resetMaskSet = function(e) {
            var t = this.maskset;
            t.buffer = void 0,
            !0 !== e && (t.validPositions = {},
            t.p = 0)
        }
        ,
        t.seekNext = l,
        t.seekPrevious = function(e, t) {
            var i = e - 1;
            if (e <= 0)
                return 0;
            for (; 0 < i && (!0 === t && (!0 !== n.getTest.call(this, i).match.newBlockMarker || !o.call(this, i, void 0, !0)) || !0 !== t && !o.call(this, i, void 0, !0)); )
                i--;
            return i
        }
        ,
        t.translatePosition = d;
        var n = i(3)
          , s = i(4);
        i(10);
        function r(e) {
            var t = this.maskset;
            return void 0 !== t.buffer && !0 !== e || (t.buffer = n.getMaskTemplate.call(this, !0, a.call(this), !0),
            void 0 === t._buffer && (t._buffer = t.buffer.slice())),
            t.buffer
        }
        function a(e, t, i) {
            var n = this.maskset
              , s = -1
              , r = -1
              , a = i || n.validPositions;
            for (var o in void 0 === e && (e = -1),
            a) {
                var l = parseInt(o);
                a[l] && (t || !0 !== a[l].generatedInput) && (l <= e && (s = l),
                e <= l && (r = l))
            }
            return -1 === s || s == e ? r : -1 == r || e - s < r - e ? s : r
        }
        function o(e, t, i) {
            var s = this.maskset
              , r = n.getTestTemplate.call(this, e).match;
            if ("" === r.def && (r = n.getTest.call(this, e).match),
            !0 !== r.static)
                return r.fn;
            if (!0 === i && void 0 !== s.validPositions[e] && !0 !== s.validPositions[e].generatedInput)
                return !0;
            if (!0 !== t && -1 < e) {
                if (i) {
                    var a = n.getTests.call(this, e);
                    return a.length > 1 + ("" === a[a.length - 1].match.def ? 1 : 0)
                }
                var o = n.determineTestTemplate.call(this, e, n.getTests.call(this, e))
                  , l = n.getPlaceholder.call(this, e, o.match);
                return o.match.def !== l
            }
            return !1
        }
        function l(e, t, i) {
            void 0 === i && (i = !0);
            for (var s = e + 1; "" !== n.getTest.call(this, s).match.def && (!0 === t && (!0 !== n.getTest.call(this, s).match.newBlockMarker || !o.call(this, s, void 0, !0)) || !0 !== t && !o.call(this, s, void 0, i)); )
                s++;
            return s
        }
        function d(e) {
            var t = this.opts
              , i = this.el;
            return !this.isRTL || "number" != typeof e || t.greedy && "" === t.placeholder || !i || (e = this._valueGet().length - e),
            e
        }
    }
    , function(e, t, i) {
        "use strict";
        function n(e, t) {
            var i = (null != e.alternation ? e.mloc[s(e)] : e.locator).join("");
            if ("" !== i)
                for (; i.length < t; )
                    i += "0";
            return i
        }
        function s(e) {
            var t = e.locator[e.alternation];
            return "string" == typeof t && 0 < t.length && (t = t.split(",")[0]),
            void 0 !== t ? t.toString() : ""
        }
        function r(e, t, i) {
            var n = this.opts
              , s = this.maskset;
            if (void 0 !== (t = t || l.call(this, e).match).placeholder || !0 === i)
                return "function" == typeof t.placeholder ? t.placeholder(n) : t.placeholder;
            if (!0 !== t.static)
                return n.placeholder.charAt(e % n.placeholder.length);
            if (-1 < e && void 0 === s.validPositions[e]) {
                var r, a = d.call(this, e), o = [];
                if (a.length > 1 + ("" === a[a.length - 1].match.def ? 1 : 0))
                    for (var c = 0; c < a.length; c++)
                        if ("" !== a[c].match.def && !0 !== a[c].match.optionality && !0 !== a[c].match.optionalQuantifier && (!0 === a[c].match.static || void 0 === r || !1 !== a[c].match.fn.test(r.match.def, s, e, !0, n)) && (o.push(a[c]),
                        !0 === a[c].match.static && (r = a[c]),
                        1 < o.length && /[0-9a-bA-Z]/.test(o[0].match.def)))
                            return n.placeholder.charAt(e % n.placeholder.length)
            }
            return t.def
        }
        function a(e, t, i) {
            return this.maskset.validPositions[e] || o.call(this, e, d.call(this, e, t ? t.slice() : t, i))
        }
        function o(e, t) {
            var i = this.opts;
            e = 0 < e ? e - 1 : 0;
            for (var s, r, a, o = n(l.call(this, e)), d = 0; d < t.length; d++) {
                var c = t[d];
                s = n(c, o.length);
                var u = Math.abs(s - o);
                (void 0 === r || "" !== s && u < r || a && !i.greedy && a.match.optionality && "master" === a.match.newBlockMarker && (!c.match.optionality || !c.match.newBlockMarker) || a && a.match.optionalQuantifier && !c.match.optionalQuantifier) && (r = u,
                a = c)
            }
            return a
        }
        function l(e, t) {
            var i = this.maskset;
            return i.validPositions[e] ? i.validPositions[e] : (t || d.call(this, e))[0]
        }
        function d(e, t, i) {
            var n, s = this, r = this.dependencyLib, a = this.maskset, l = this.opts, d = this.el, c = a.maskToken, u = t ? i : 0, h = t ? t.slice() : [0], p = [], f = !1, m = t ? t.join("") : "";
            function g(t, i, s, r) {
                function o(s, r, c) {
                    function h(e, t) {
                        var i = 0 === t.matches.indexOf(e);
                        return i || t.matches.every((function(n, s) {
                            return !0 === n.isQuantifier ? i = h(e, t.matches[s - 1]) : Object.prototype.hasOwnProperty.call(n, "matches") && (i = h(e, n)),
                            !i
                        }
                        )),
                        i
                    }
                    function v(e, t, i) {
                        var n, s;
                        if ((a.tests[e] || a.validPositions[e]) && (a.tests[e] || [a.validPositions[e]]).every((function(e, r) {
                            if (e.mloc[t])
                                return n = e,
                                !1;
                            var a = void 0 !== i ? i : e.alternation
                              , o = void 0 !== e.locator[a] ? e.locator[a].toString().indexOf(t) : -1;
                            return (void 0 === s || o < s) && -1 !== o && (n = e,
                            s = o),
                            !0
                        }
                        )),
                        n) {
                            var r = n.locator[n.alternation];
                            return (n.mloc[t] || n.mloc[r] || n.locator).slice((void 0 !== i ? i : n.alternation) + 1)
                        }
                        return void 0 !== i ? v(e, t) : void 0
                    }
                    function y(e, t) {
                        function i(e) {
                            for (var t, i = [], n = -1, s = 0, r = e.length; s < r; s++)
                                if ("-" === e.charAt(s))
                                    for (t = e.charCodeAt(s + 1); ++n < t; )
                                        i.push(String.fromCharCode(n));
                                else
                                    n = e.charCodeAt(s),
                                    i.push(e.charAt(s));
                            return i.join("")
                        }
                        return e.match.def === t.match.nativeDef || !(!(l.regex || e.match.fn instanceof RegExp && t.match.fn instanceof RegExp) || !0 === e.match.static || !0 === t.match.static) && -1 !== i(t.match.fn.toString().replace(/[[\]/]/g, "")).indexOf(i(e.match.fn.toString().replace(/[[\]/]/g, "")))
                    }
                    function b(e, t) {
                        var i = e.alternation
                          , n = void 0 === t || i === t.alternation && -1 === e.locator[i].toString().indexOf(t.locator[i]);
                        if (!n && i > t.alternation)
                            for (var s = t.alternation; s < i; s++)
                                if (e.locator[s] !== t.locator[s]) {
                                    i = s,
                                    n = !0;
                                    break
                                }
                        if (n) {
                            e.mloc = e.mloc || {};
                            var r = e.locator[i];
                            if (void 0 !== r) {
                                if ("string" == typeof r && (r = r.split(",")[0]),
                                void 0 === e.mloc[r] && (e.mloc[r] = e.locator.slice()),
                                void 0 !== t) {
                                    for (var a in t.mloc)
                                        "string" == typeof a && (a = a.split(",")[0]),
                                        void 0 === e.mloc[a] && (e.mloc[a] = t.mloc[a]);
                                    e.locator[i] = Object.keys(e.mloc).join(",")
                                }
                                return !0
                            }
                            e.alternation = void 0
                        }
                        return !1
                    }
                    function _(e, t) {
                        if (e.locator.length !== t.locator.length)
                            return !1;
                        for (var i = e.alternation + 1; i < e.locator.length; i++)
                            if (e.locator[i] !== t.locator[i])
                                return !1;
                        return !0
                    }
                    if (u > e + l._maxTestPos)
                        throw "Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. " + a.mask;
                    if (u === e && void 0 === s.matches)
                        return p.push({
                            match: s,
                            locator: r.reverse(),
                            cd: m,
                            mloc: {}
                        }),
                        !0;
                    if (void 0 !== s.matches) {
                        if (s.isGroup && c !== s) {
                            if (s = o(t.matches[t.matches.indexOf(s) + 1], r, c))
                                return !0
                        } else if (s.isOptional) {
                            var T = s
                              , w = p.length;
                            if (s = g(s, i, r, c)) {
                                if (p.forEach((function(e, t) {
                                    w <= t && (e.match.optionality = !0)
                                }
                                )),
                                n = p[p.length - 1].match,
                                void 0 !== c || !h(n, T))
                                    return !0;
                                f = !0,
                                u = e
                            }
                        } else if (s.isAlternator) {
                            var S, k = s, x = [], C = p.slice(), E = r.length, P = 0 < i.length ? i.shift() : -1;
                            if (-1 === P || "string" == typeof P) {
                                var A, I = u, O = i.slice(), L = [];
                                if ("string" == typeof P)
                                    L = P.split(",");
                                else
                                    for (A = 0; A < k.matches.length; A++)
                                        L.push(A.toString());
                                if (void 0 !== a.excludes[e]) {
                                    for (var M = L.slice(), D = 0, R = a.excludes[e].length; D < R; D++) {
                                        var N = a.excludes[e][D].toString().split(":");
                                        r.length == N[1] && L.splice(L.indexOf(N[0]), 1)
                                    }
                                    0 === L.length && (delete a.excludes[e],
                                    L = M)
                                }
                                (!0 === l.keepStatic || isFinite(parseInt(l.keepStatic)) && I >= l.keepStatic) && (L = L.slice(0, 1));
                                for (var B = !1, j = 0; j < L.length; j++) {
                                    A = parseInt(L[j]),
                                    p = [],
                                    i = "string" == typeof P && v(u, A, E) || O.slice(),
                                    k.matches[A] && o(k.matches[A], [A].concat(r), c) ? s = !0 : 0 === j && (B = !0),
                                    S = p.slice(),
                                    u = I,
                                    p = [];
                                    for (var F = 0; F < S.length; F++) {
                                        var U = S[F]
                                          , $ = !1;
                                        U.match.jit = U.match.jit || B,
                                        U.alternation = U.alternation || E,
                                        b(U);
                                        for (var H = 0; H < x.length; H++) {
                                            var z = x[H];
                                            if ("string" != typeof P || void 0 !== U.alternation && L.includes(U.locator[U.alternation].toString())) {
                                                if (U.match.nativeDef === z.match.nativeDef) {
                                                    $ = !0,
                                                    b(z, U);
                                                    break
                                                }
                                                if (y(U, z)) {
                                                    b(U, z) && ($ = !0,
                                                    x.splice(x.indexOf(z), 0, U));
                                                    break
                                                }
                                                if (y(z, U)) {
                                                    b(z, U);
                                                    break
                                                }
                                                if (X = z,
                                                !0 === (G = U).match.static && !0 !== X.match.static && X.match.fn.test(G.match.def, a, e, !1, l, !1)) {
                                                    _(U, z) || void 0 !== d.inputmask.userOptions.keepStatic ? b(U, z) && ($ = !0,
                                                    x.splice(x.indexOf(z), 0, U)) : l.keepStatic = !0;
                                                    break
                                                }
                                            }
                                        }
                                        $ || x.push(U)
                                    }
                                }
                                p = C.concat(x),
                                u = e,
                                f = 0 < p.length,
                                s = 0 < x.length,
                                i = O.slice()
                            } else
                                s = o(k.matches[P] || t.matches[P], [P].concat(r), c);
                            if (s)
                                return !0
                        } else if (s.isQuantifier && c !== t.matches[t.matches.indexOf(s) - 1])
                            for (var q = s, W = 0 < i.length ? i.shift() : 0; W < (isNaN(q.quantifier.max) ? W + 1 : q.quantifier.max) && u <= e; W++) {
                                var V = t.matches[t.matches.indexOf(q) - 1];
                                if (s = o(V, [W].concat(r), V)) {
                                    if ((n = p[p.length - 1].match).optionalQuantifier = W >= q.quantifier.min,
                                    n.jit = (W || 1) * V.matches.indexOf(n) >= q.quantifier.jit,
                                    n.optionalQuantifier && h(n, V)) {
                                        f = !0,
                                        u = e;
                                        break
                                    }
                                    return n.jit && (a.jitOffset[e] = V.matches.length - V.matches.indexOf(n)),
                                    !0
                                }
                            }
                        else if (s = g(s, i, r, c))
                            return !0
                    } else
                        u++;
                    var G, X
                }
                for (var c = 0 < i.length ? i.shift() : 0; c < t.matches.length; c++)
                    if (!0 !== t.matches[c].isQuantifier) {
                        var h = o(t.matches[c], [c].concat(s), r);
                        if (h && u === e)
                            return h;
                        if (e < u)
                            break
                    }
            }
            if (-1 < e && (void 0 === s.maxLength || e < s.maxLength)) {
                if (void 0 === t) {
                    for (var v, y = e - 1; void 0 === (v = a.validPositions[y] || a.tests[y]) && -1 < y; )
                        y--;
                    void 0 !== v && -1 < y && (h = function(e, t) {
                        var i, n = [];
                        return Array.isArray(t) || (t = [t]),
                        0 < t.length && (void 0 === t[0].alternation || !0 === l.keepStatic ? 0 === (n = o.call(s, e, t.slice()).locator.slice()).length && (n = t[0].locator.slice()) : t.forEach((function(e) {
                            "" !== e.def && (0 === n.length ? (i = e.alternation,
                            n = e.locator.slice()) : e.locator[i] && -1 === n[i].toString().indexOf(e.locator[i]) && (n[i] += "," + e.locator[i]))
                        }
                        ))),
                        n
                    }(y, v),
                    m = h.join(""),
                    u = y)
                }
                if (a.tests[e] && a.tests[e][0].cd === m)
                    return a.tests[e];
                for (var b = h.shift(); b < c.length; b++) {
                    if (g(c[b], h, [b]) && u === e || e < u)
                        break
                }
            }
            return 0 !== p.length && !f || p.push({
                match: {
                    fn: null,
                    static: !0,
                    optionality: !1,
                    casing: null,
                    def: "",
                    placeholder: ""
                },
                locator: [],
                mloc: {},
                cd: m
            }),
            void 0 !== t && a.tests[e] ? r.extend(!0, [], p) : (a.tests[e] = r.extend(!0, [], p),
            a.tests[e])
        }
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.determineTestTemplate = o,
        t.getDecisionTaker = s,
        t.getMaskTemplate = function(e, t, i, n, s) {
            var l = this.opts
              , c = this.maskset
              , u = l.greedy;
            s && (l.greedy = !1),
            t = t || 0;
            var h, p, f, m, g = [], v = 0;
            do {
                if (!0 === e && c.validPositions[v])
                    p = (f = s && !0 === c.validPositions[v].match.optionality && void 0 === c.validPositions[v + 1] && (!0 === c.validPositions[v].generatedInput || c.validPositions[v].input == l.skipOptionalPartCharacter && 0 < v) ? o.call(this, v, d.call(this, v, h, v - 1)) : c.validPositions[v]).match,
                    h = f.locator.slice(),
                    g.push(!0 === i ? f.input : !1 === i ? p.nativeDef : r.call(this, v, p));
                else {
                    p = (f = a.call(this, v, h, v - 1)).match,
                    h = f.locator.slice();
                    var y = !0 !== n && (!1 !== l.jitMasking ? l.jitMasking : p.jit);
                    (m = m && p.static && p.def !== l.groupSeparator && null === p.fn || c.validPositions[v - 1] && p.static && p.def !== l.groupSeparator && null === p.fn) || !1 === y || void 0 === y || "number" == typeof y && isFinite(y) && v < y ? g.push(!1 === i ? p.nativeDef : r.call(this, v, p)) : m = !1
                }
                v++
            } while ((void 0 === this.maxLength || v < this.maxLength) && (!0 !== p.static || "" !== p.def) || v < t);
            return "" === g[g.length - 1] && g.pop(),
            !1 === i && void 0 !== c.maskLength || (c.maskLength = v - 1),
            l.greedy = u,
            g
        }
        ,
        t.getPlaceholder = r,
        t.getTest = l,
        t.getTests = d,
        t.getTestTemplate = a
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.alternate = l,
        t.checkAlternationMatch = function(e, t, i) {
            for (var n, s = this.opts.greedy ? t : t.slice(0, 1), r = !1, a = void 0 !== i ? i.split(",") : [], o = 0; o < a.length; o++)
                -1 !== (n = e.indexOf(a[o])) && e.splice(n, 1);
            for (var l = 0; l < e.length; l++)
                if (s.includes(e[l])) {
                    r = !0;
                    break
                }
            return r
        }
        ,
        t.isComplete = c,
        t.isValid = u,
        t.refreshFromBuffer = p,
        t.revalidateMask = m,
        t.handleRemove = function(e, t, i, n, o) {
            var d = this.maskset
              , c = this.opts;
            if ((c.numericInput || this.isRTL) && (t === r.default.BACKSPACE ? t = r.default.DELETE : t === r.default.DELETE && (t = r.default.BACKSPACE),
            this.isRTL)) {
                var u = i.end;
                i.end = i.begin,
                i.begin = u
            }
            var h, p = a.getLastValidPosition.call(this, void 0, !0);
            if (i.end >= a.getBuffer.call(this).length && p >= i.end && (i.end = p + 1),
            t === r.default.BACKSPACE ? i.end - i.begin < 1 && (i.begin = a.seekPrevious.call(this, i.begin)) : t === r.default.DELETE && i.begin === i.end && (i.end = a.isMask.call(this, i.end, !0, !0) ? i.end + 1 : a.seekNext.call(this, i.end) + 1),
            !1 !== (h = m.call(this, i))) {
                if (!0 !== n && !1 !== c.keepStatic || null !== c.regex && -1 !== s.getTest.call(this, i.begin).match.def.indexOf("|")) {
                    var f = l.call(this, !0);
                    if (f) {
                        var g = void 0 !== f.caret ? f.caret : f.pos ? a.seekNext.call(this, f.pos.begin ? f.pos.begin : f.pos) : a.getLastValidPosition.call(this, -1, !0);
                        (t !== r.default.DELETE || i.begin > g) && i.begin
                    }
                }
                !0 !== n && (d.p = t === r.default.DELETE ? i.begin + h : i.begin)
            }
        }
        ;
        var n, s = i(3), r = (n = i(0)) && n.__esModule ? n : {
            default: n
        }, a = i(2), o = i(6);
        function l(e, t, i, n, r, o) {
            var d, c, h, p, f, m, g, v, y, b, _, T = this.dependencyLib, w = this.opts, S = this.maskset, k = T.extend(!0, {}, S.validPositions), x = T.extend(!0, {}, S.tests), C = !1, E = !1, P = void 0 !== r ? r : a.getLastValidPosition.call(this);
            if (o && (b = o.begin,
            _ = o.end,
            o.begin > o.end && (b = o.end,
            _ = o.begin)),
            -1 === P && void 0 === r)
                d = 0,
                c = (p = s.getTest.call(this, d)).alternation;
            else
                for (; 0 <= P; P--)
                    if ((h = S.validPositions[P]) && void 0 !== h.alternation) {
                        if (p && p.locator[h.alternation] !== h.locator[h.alternation])
                            break;
                        d = P,
                        c = S.validPositions[d].alternation,
                        p = h
                    }
            if (void 0 !== c) {
                g = parseInt(d),
                S.excludes[g] = S.excludes[g] || [],
                !0 !== e && S.excludes[g].push((0,
                s.getDecisionTaker)(p) + ":" + p.alternation);
                var A = []
                  , I = -1;
                for (f = g; f < a.getLastValidPosition.call(this, void 0, !0) + 1; f++)
                    -1 === I && e <= f && void 0 !== t && (A.push(t),
                    I = A.length - 1),
                    (m = S.validPositions[f]) && !0 !== m.generatedInput && (void 0 === o || f < b || _ <= f) && A.push(m.input),
                    delete S.validPositions[f];
                for (-1 === I && void 0 !== t && (A.push(t),
                I = A.length - 1); void 0 !== S.excludes[g] && S.excludes[g].length < 10; ) {
                    for (S.tests = {},
                    a.resetMaskSet.call(this, !0),
                    C = !0,
                    f = 0; f < A.length && (v = C.caret || a.getLastValidPosition.call(this, void 0, !0) + 1,
                    y = A[f],
                    C = u.call(this, v, y, !1, n, !0)); f++)
                        f === I && (E = C),
                        1 == e && C && (E = {
                            caretPos: f
                        });
                    if (C)
                        break;
                    if (a.resetMaskSet.call(this),
                    p = s.getTest.call(this, g),
                    S.validPositions = T.extend(!0, {}, k),
                    S.tests = T.extend(!0, {}, x),
                    !S.excludes[g]) {
                        E = l.call(this, e, t, i, n, g - 1, o);
                        break
                    }
                    var O = (0,
                    s.getDecisionTaker)(p);
                    if (-1 !== S.excludes[g].indexOf(O + ":" + p.alternation)) {
                        E = l.call(this, e, t, i, n, g - 1, o);
                        break
                    }
                    for (S.excludes[g].push(O + ":" + p.alternation),
                    f = g; f < a.getLastValidPosition.call(this, void 0, !0) + 1; f++)
                        delete S.validPositions[f]
                }
            }
            return E && !1 === w.keepStatic || delete S.excludes[g],
            E
        }
        function d(e, t, i) {
            var n = this.opts
              , s = this.maskset;
            switch (n.casing || t.casing) {
            case "upper":
                e = e.toUpperCase();
                break;
            case "lower":
                e = e.toLowerCase();
                break;
            case "title":
                var a = s.validPositions[i - 1];
                e = 0 === i || a && a.input === String.fromCharCode(r.default.SPACE) ? e.toUpperCase() : e.toLowerCase();
                break;
            default:
                if ("function" == typeof n.casing) {
                    var o = Array.prototype.slice.call(arguments);
                    o.push(s.validPositions),
                    e = n.casing.apply(this, o)
                }
            }
            return e
        }
        function c(e) {
            var t = this.opts
              , i = this.maskset;
            if ("function" == typeof t.isComplete)
                return t.isComplete(e, t);
            if ("*" !== t.repeat) {
                var n = !1
                  , r = a.determineLastRequiredPosition.call(this, !0)
                  , o = a.seekPrevious.call(this, r.l);
                if (void 0 === r.def || r.def.newBlockMarker || r.def.optionality || r.def.optionalQuantifier) {
                    n = !0;
                    for (var l = 0; l <= o; l++) {
                        var d = s.getTestTemplate.call(this, l).match;
                        if (!0 !== d.static && void 0 === i.validPositions[l] && !0 !== d.optionality && !0 !== d.optionalQuantifier || !0 === d.static && e[l] !== s.getPlaceholder.call(this, l, d)) {
                            n = !1;
                            break
                        }
                    }
                }
                return n
            }
        }
        function u(e, t, i, n, r, o, h) {
            var g = this
              , v = this.dependencyLib
              , y = this.opts
              , b = (g.el,
            g.maskset);
            function _(e) {
                return g.isRTL ? 1 < e.begin - e.end || e.begin - e.end == 1 : 1 < e.end - e.begin || e.end - e.begin == 1
            }
            i = !0 === i;
            var T = e;
            function w(e) {
                if (void 0 !== e) {
                    if (void 0 !== e.remove && (Array.isArray(e.remove) || (e.remove = [e.remove]),
                    e.remove.sort((function(e, t) {
                        return t.pos - e.pos
                    }
                    )).forEach((function(e) {
                        m.call(g, {
                            begin: e,
                            end: e + 1
                        })
                    }
                    )),
                    e.remove = void 0),
                    void 0 !== e.insert && (Array.isArray(e.insert) || (e.insert = [e.insert]),
                    e.insert.sort((function(e, t) {
                        return e.pos - t.pos
                    }
                    )).forEach((function(e) {
                        "" !== e.c && u.call(g, e.pos, e.c, void 0 === e.strict || e.strict, void 0 !== e.fromIsValid ? e.fromIsValid : n)
                    }
                    )),
                    e.insert = void 0),
                    e.refreshFromBuffer && e.buffer) {
                        var t = e.refreshFromBuffer;
                        p.call(g, !0 === t ? t : t.start, t.end, e.buffer),
                        e.refreshFromBuffer = void 0
                    }
                    void 0 !== e.rewritePosition && (T = e.rewritePosition,
                    e = !0)
                }
                return e
            }
            function S(t, i, r) {
                var o = !1;
                return s.getTests.call(g, t).every((function(l, c) {
                    var u = l.match;
                    if (a.getBuffer.call(g, !0),
                    !1 === (o = null != u.fn ? u.fn.test(i, b, t, r, y, _(e)) : (i === u.def || i === y.skipOptionalPartCharacter) && "" !== u.def && {
                        c: s.getPlaceholder.call(g, t, u, !0) || u.def,
                        pos: t
                    }))
                        return !0;
                    var h = void 0 !== o.c ? o.c : i
                      , p = t;
                    return h = h === y.skipOptionalPartCharacter && !0 === u.static ? s.getPlaceholder.call(g, t, u, !0) || u.def : h,
                    !0 !== (o = w(o)) && void 0 !== o.pos && o.pos !== t && (p = o.pos),
                    !0 !== o && void 0 === o.pos && void 0 === o.c || !1 === m.call(g, e, v.extend({}, l, {
                        input: d.call(g, h, u, p)
                    }), n, p) && (o = !1),
                    !1
                }
                )),
                o
            }
            void 0 !== e.begin && (T = g.isRTL ? e.end : e.begin);
            var k = !0
              , x = v.extend(!0, {}, b.validPositions);
            if (!1 === y.keepStatic && void 0 !== b.excludes[T] && !0 !== r && !0 !== n)
                for (var C = T; C < (g.isRTL ? e.begin : e.end); C++)
                    void 0 !== b.excludes[C] && (b.excludes[C] = void 0,
                    delete b.tests[C]);
            if ("function" == typeof y.preValidation && !0 !== n && !0 !== o && (k = w(k = y.preValidation.call(g, a.getBuffer.call(g), T, t, _(e), y, b, e, i || r))),
            !0 === k) {
                if (void 0 === g.maxLength || T < g.maxLength) {
                    if (k = S(T, t, i),
                    (!i || !0 === n) && !1 === k && !0 !== o) {
                        var E = b.validPositions[T];
                        if (!E || !0 !== E.match.static || E.match.def !== t && t !== y.skipOptionalPartCharacter) {
                            if (y.insertMode || void 0 === b.validPositions[a.seekNext.call(g, T)] || e.end > T) {
                                var P = !1;
                                if (b.jitOffset[T] && void 0 === b.validPositions[a.seekNext.call(g, T)] && (!1 !== (k = u.call(g, T + b.jitOffset[T], t, !0)) && (!0 !== r && (k.caret = T),
                                P = !0)),
                                e.end > T && (b.validPositions[T] = void 0),
                                !P && !a.isMask.call(g, T, y.keepStatic && 0 === T))
                                    for (var A = T + 1, I = a.seekNext.call(g, T, !1, 0 !== T); A <= I; A++)
                                        if (!1 !== (k = S(A, t, i))) {
                                            k = f.call(g, T, void 0 !== k.pos ? k.pos : A) || k,
                                            T = A;
                                            break
                                        }
                            }
                        } else
                            k = {
                                caret: a.seekNext.call(g, T)
                            }
                    }
                } else
                    k = !1;
                !1 !== k || !y.keepStatic || !c.call(g, a.getBuffer.call(g)) && 0 !== T || i || !0 === r ? _(e) && b.tests[T] && 1 < b.tests[T].length && y.keepStatic && !i && !0 !== r && (k = l.call(g, !0)) : k = l.call(g, T, t, i, n, void 0, e),
                !0 === k && (k = {
                    pos: T
                })
            }
            if ("function" == typeof y.postValidation && !0 !== n && !0 !== o) {
                var O = y.postValidation.call(g, a.getBuffer.call(g, !0), void 0 !== e.begin ? g.isRTL ? e.end : e.begin : e, t, k, y, b, i, h);
                void 0 !== O && (k = !0 === O ? k : O)
            }
            return k && void 0 === k.pos && (k.pos = T),
            !1 === k || !0 === o ? (a.resetMaskSet.call(g, !0),
            b.validPositions = v.extend(!0, {}, x)) : f.call(g, void 0, T, !0),
            w(k)
        }
        function h(e, t, i) {
            for (var n = this.maskset, r = !1, a = s.getTests.call(this, e), o = 0; o < a.length; o++) {
                if (a[o].match && (!(a[o].match.nativeDef !== t.match[i.shiftPositions ? "def" : "nativeDef"] || i.shiftPositions && t.match.static) || a[o].match.nativeDef === t.match.nativeDef)) {
                    r = !0;
                    break
                }
                if (a[o].match && a[o].match.def === t.match.nativeDef) {
                    r = void 0;
                    break
                }
            }
            return !1 === r && void 0 !== n.jitOffset[e] && (r = h.call(this, e + n.jitOffset[e], t, i)),
            r
        }
        function p(e, t, i) {
            var n, s, r = this.maskset, l = this.opts, d = this.dependencyLib, c = this.el, u = l.skipOptionalPartCharacter, h = this.isRTL ? i.slice().reverse() : i;
            if (l.skipOptionalPartCharacter = "",
            !0 === e)
                a.resetMaskSet.call(this),
                r.tests = {},
                e = 0,
                t = i.length,
                s = a.determineNewCaretPosition.call(this, {
                    begin: 0,
                    end: 0
                }, !1).begin;
            else {
                for (n = e; n < t; n++)
                    delete r.validPositions[n];
                s = e
            }
            var p = new d.Event("keypress");
            for (n = e; n < t; n++) {
                p.which = h[n].toString().charCodeAt(0),
                this.ignorable = !1;
                var f = o.EventHandlers.keypressEvent.call(c, p, !0, !1, !1, s);
                !1 !== f && (s = f.forwardPosition)
            }
            l.skipOptionalPartCharacter = u
        }
        function f(e, t, i) {
            var n = this.maskset
              , r = this.dependencyLib;
            if (void 0 === e)
                for (e = t - 1; 0 < e && !n.validPositions[e]; e--)
                    ;
            for (var o = e; o < t; o++)
                if (void 0 === n.validPositions[o] && !a.isMask.call(this, o, !0)) {
                    if (0 == o ? s.getTest.call(this, o) : n.validPositions[o - 1]) {
                        var l = s.getTests.call(this, o).slice();
                        "" === l[l.length - 1].match.def && l.pop();
                        var d, c = s.determineTestTemplate.call(this, o, l);
                        if (c && (!0 !== c.match.jit || "master" === c.match.newBlockMarker && (d = n.validPositions[o + 1]) && !0 === d.match.optionalQuantifier) && ((c = r.extend({}, c, {
                            input: s.getPlaceholder.call(this, o, c.match, !0) || c.match.def
                        })).generatedInput = !0,
                        m.call(this, o, c, !0),
                        !0 !== i)) {
                            var h = n.validPositions[t].input;
                            return n.validPositions[t] = void 0,
                            u.call(this, t, h, !0, !0)
                        }
                    }
                }
        }
        function m(e, t, i, n) {
            var r = this.maskset
              , o = this.opts
              , l = this.dependencyLib;
            function d(e, t, i) {
                var n = t[e];
                if (void 0 === n || !0 !== n.match.static || !0 === n.match.optionality || void 0 !== t[0] && void 0 !== t[0].alternation)
                    return !1;
                var s = i.begin <= e - 1 ? t[e - 1] && !0 === t[e - 1].match.static && t[e - 1] : t[e - 1]
                  , r = i.end > e + 1 ? t[e + 1] && !0 === t[e + 1].match.static && t[e + 1] : t[e + 1];
                return s && r
            }
            var c = 0
              , p = void 0 !== e.begin ? e.begin : e
              , f = void 0 !== e.end ? e.end : e;
            if (e.begin > e.end && (p = e.end,
            f = e.begin),
            n = void 0 !== n ? n : p,
            p !== f || o.insertMode && void 0 !== r.validPositions[n] && void 0 === i || void 0 === t) {
                var m, g = l.extend(!0, {}, r.validPositions), v = a.getLastValidPosition.call(this, void 0, !0);
                for (r.p = p,
                m = v; p <= m; m--)
                    delete r.validPositions[m],
                    void 0 === t && delete r.tests[m + 1];
                var y, b, _ = !0, T = n, w = T;
                for (t && (r.validPositions[n] = l.extend(!0, {}, t),
                w++,
                T++),
                m = t ? f : f - 1; m <= v; m++) {
                    if (void 0 !== (y = g[m]) && !0 !== y.generatedInput && (f <= m || p <= m && d(m, g, {
                        begin: p,
                        end: f
                    }))) {
                        for (; "" !== s.getTest.call(this, w).match.def; ) {
                            if (!1 !== (b = h.call(this, w, y, o)) || "+" === y.match.def) {
                                "+" === y.match.def && a.getBuffer.call(this, !0);
                                var S = u.call(this, w, y.input, "+" !== y.match.def, "+" !== y.match.def);
                                if (_ = !1 !== S,
                                T = (S.pos || w) + 1,
                                !_ && b)
                                    break
                            } else
                                _ = !1;
                            if (_) {
                                void 0 === t && y.match.static && m === e.begin && c++;
                                break
                            }
                            if (!_ && w > r.maskLength)
                                break;
                            w++
                        }
                        "" == s.getTest.call(this, w).match.def && (_ = !1),
                        w = T
                    }
                    if (!_)
                        break
                }
                if (!_)
                    return r.validPositions = l.extend(!0, {}, g),
                    a.resetMaskSet.call(this, !0),
                    !1
            } else
                t && s.getTest.call(this, n).match.cd === t.match.cd && (r.validPositions[n] = l.extend(!0, {}, t));
            return a.resetMaskSet.call(this, !0),
            c
        }
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.applyInputValue = c,
        t.clearOptionalTail = u,
        t.checkVal = h,
        t.HandleNativePlaceholder = function(e, t) {
            var i = e ? e.inputmask : this;
            if (l.ie) {
                if (e.inputmask._valueGet() !== t && (e.placeholder !== t || "" === e.placeholder)) {
                    var n = a.getBuffer.call(i).slice()
                      , s = e.inputmask._valueGet();
                    if (s !== t) {
                        var r = a.getLastValidPosition.call(i);
                        -1 === r && s === a.getBufferTemplate.call(i).join("") ? n = [] : -1 !== r && u.call(i, n),
                        p(e, n)
                    }
                }
            } else
                e.placeholder !== t && (e.placeholder = t,
                "" === e.placeholder && e.removeAttribute("placeholder"))
        }
        ,
        t.unmaskedvalue = function(e) {
            var t = e ? e.inputmask : this
              , i = t.opts
              , n = t.maskset;
            if (e) {
                if (void 0 === e.inputmask)
                    return e.value;
                e.inputmask && e.inputmask.refreshValue && c(e, e.inputmask._valueGet(!0))
            }
            var s = []
              , r = n.validPositions;
            for (var o in r)
                r[o] && r[o].match && (1 != r[o].match.static || Array.isArray(n.metadata) && !0 !== r[o].generatedInput) && s.push(r[o].input);
            var l = 0 === s.length ? "" : (t.isRTL ? s.reverse() : s).join("");
            if ("function" == typeof i.onUnMask) {
                var d = (t.isRTL ? a.getBuffer.call(t).slice().reverse() : a.getBuffer.call(t)).join("");
                l = i.onUnMask.call(t, d, l, i)
            }
            return l
        }
        ,
        t.writeBuffer = p;
        var n, s = (n = i(0)) && n.__esModule ? n : {
            default: n
        }, r = i(3), a = i(2), o = i(4), l = i(7), d = i(6);
        function c(e, t) {
            var i = e ? e.inputmask : this
              , n = i.opts;
            e.inputmask.refreshValue = !1,
            "function" == typeof n.onBeforeMask && (t = n.onBeforeMask.call(i, t, n) || t),
            h(e, !0, !1, t = t.toString().split("")),
            i.undoValue = a.getBuffer.call(i).join(""),
            (n.clearMaskOnLostFocus || n.clearIncomplete) && e.inputmask._valueGet() === a.getBufferTemplate.call(i).join("") && -1 === a.getLastValidPosition.call(i) && e.inputmask._valueSet("")
        }
        function u(e) {
            e.length = 0;
            for (var t, i = r.getMaskTemplate.call(this, !0, 0, !0, void 0, !0); void 0 !== (t = i.shift()); )
                e.push(t);
            return e
        }
        function h(e, t, i, n, s) {
            var l = e ? e.inputmask : this
              , c = l.maskset
              , u = l.opts
              , h = l.dependencyLib
              , f = n.slice()
              , m = ""
              , g = -1
              , v = void 0
              , y = u.skipOptionalPartCharacter;
            u.skipOptionalPartCharacter = "",
            a.resetMaskSet.call(l),
            c.tests = {},
            g = u.radixPoint ? a.determineNewCaretPosition.call(l, {
                begin: 0,
                end: 0
            }).begin : 0,
            c.p = g,
            l.caretPos = {
                begin: g
            };
            var b = []
              , _ = l.caretPos;
            if (f.forEach((function(e, t) {
                if (void 0 !== e)
                    if (void 0 === c.validPositions[t] && f[t] === r.getPlaceholder.call(l, t) && a.isMask.call(l, t, !0) && !1 === o.isValid.call(l, t, f[t], !0, void 0, void 0, !0))
                        c.p++;
                    else {
                        var n = new h.Event("_checkval");
                        n.which = e.toString().charCodeAt(0),
                        m += e;
                        var s = a.getLastValidPosition.call(l, void 0, !0);
                        !function(e, t) {
                            for (var i = r.getMaskTemplate.call(l, !0, 0).slice(e, a.seekNext.call(l, e, !1, !1)).join("").replace(/'/g, ""), n = i.indexOf(t); 0 < n && " " === i[n - 1]; )
                                n--;
                            var s = 0 === n && !a.isMask.call(l, e) && (r.getTest.call(l, e).match.nativeDef === t.charAt(0) || !0 === r.getTest.call(l, e).match.static && r.getTest.call(l, e).match.nativeDef === "'" + t.charAt(0) || " " === r.getTest.call(l, e).match.nativeDef && (r.getTest.call(l, e + 1).match.nativeDef === t.charAt(0) || !0 === r.getTest.call(l, e + 1).match.static && r.getTest.call(l, e + 1).match.nativeDef === "'" + t.charAt(0)));
                            if (!s && 0 < n && !a.isMask.call(l, e, !1, !0)) {
                                var o = a.seekNext.call(l, e);
                                l.caretPos.begin < o && (l.caretPos = {
                                    begin: o
                                })
                            }
                            return s
                        }(g, m) ? (v = d.EventHandlers.keypressEvent.call(l, n, !0, !1, i, l.caretPos.begin)) && (g = l.caretPos.begin + 1,
                        m = "") : v = d.EventHandlers.keypressEvent.call(l, n, !0, !1, i, s + 1),
                        v ? (void 0 !== v.pos && c.validPositions[v.pos] && !0 === c.validPositions[v.pos].match.static && void 0 === c.validPositions[v.pos].alternation && (b.push(v.pos),
                        l.isRTL || (v.forwardPosition = v.pos + 1)),
                        p.call(l, void 0, a.getBuffer.call(l), v.forwardPosition, n, !1),
                        l.caretPos = {
                            begin: v.forwardPosition,
                            end: v.forwardPosition
                        },
                        _ = l.caretPos) : l.caretPos = _
                    }
            }
            )),
            0 < b.length) {
                var T, w, S = a.seekNext.call(l, -1, void 0, !1);
                if (!o.isComplete.call(l, a.getBuffer.call(l)) && b.length <= S || o.isComplete.call(l, a.getBuffer.call(l)) && 0 < b.length && b.length !== S && 0 === b[0])
                    for (var k = S; void 0 !== (T = b.shift()); ) {
                        var x = new h.Event("_checkval");
                        if ((w = c.validPositions[T]).generatedInput = !0,
                        x.which = w.input.charCodeAt(0),
                        (v = d.EventHandlers.keypressEvent.call(l, x, !0, !1, i, k)) && void 0 !== v.pos && v.pos !== T && c.validPositions[v.pos] && !0 === c.validPositions[v.pos].match.static)
                            b.push(v.pos);
                        else if (!v)
                            break;
                        k++
                    }
            }
            t && p.call(l, e, a.getBuffer.call(l), v ? v.forwardPosition : l.caretPos.begin, s || new h.Event("checkval"), s && "input" === s.type && l.undoValue !== a.getBuffer.call(l).join("")),
            u.skipOptionalPartCharacter = y
        }
        function p(e, t, i, n, r) {
            var l = e ? e.inputmask : this
              , d = l.opts
              , c = l.dependencyLib;
            if (n && "function" == typeof d.onBeforeWrite) {
                var u = d.onBeforeWrite.call(l, n, t, i, d);
                if (u) {
                    if (u.refreshFromBuffer) {
                        var h = u.refreshFromBuffer;
                        o.refreshFromBuffer.call(l, !0 === h ? h : h.start, h.end, u.buffer || t),
                        t = a.getBuffer.call(l, !0)
                    }
                    void 0 !== i && (i = void 0 !== u.caret ? u.caret : i)
                }
            }
            if (void 0 !== e && (e.inputmask._valueSet(t.join("")),
            void 0 === i || void 0 !== n && "blur" === n.type || a.caret.call(l, e, i, void 0, void 0, void 0 !== n && "keydown" === n.type && (n.keyCode === s.default.DELETE || n.keyCode === s.default.BACKSPACE)),
            !0 === r)) {
                var p = c(e)
                  , f = e.inputmask._valueGet();
                e.inputmask.skipInputEvent = !0,
                p.trigger("input"),
                setTimeout((function() {
                    f === a.getBufferTemplate.call(l).join("") ? p.trigger("cleared") : !0 === o.isComplete.call(l, t) && p.trigger("complete")
                }
                ), 0)
            }
        }
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.EventHandlers = void 0;
        var n, s = i(2), r = (n = i(0)) && n.__esModule ? n : {
            default: n
        }, a = i(7), o = i(4), l = i(5), d = i(3);
        var c = {
            keydownEvent: function(e) {
                var t = this.inputmask
                  , i = t.opts
                  , n = t.dependencyLib
                  , c = t.maskset
                  , u = this
                  , h = n(u)
                  , p = e.keyCode
                  , f = s.caret.call(t, u)
                  , m = i.onKeyDown.call(this, e, s.getBuffer.call(t), f, i);
                if (void 0 !== m)
                    return m;
                if (p === r.default.BACKSPACE || p === r.default.DELETE || a.iphone && p === r.default.BACKSPACE_SAFARI || e.ctrlKey && p === r.default.X && !("oncut"in u))
                    e.preventDefault(),
                    o.handleRemove.call(t, u, p, f),
                    (0,
                    l.writeBuffer)(u, s.getBuffer.call(t, !0), c.p, e, u.inputmask._valueGet() !== s.getBuffer.call(t).join(""));
                else if (p === r.default.END || p === r.default.PAGE_DOWN) {
                    e.preventDefault();
                    var g = s.seekNext.call(t, s.getLastValidPosition.call(t));
                    s.caret.call(t, u, e.shiftKey ? f.begin : g, g, !0)
                } else
                    p === r.default.HOME && !e.shiftKey || p === r.default.PAGE_UP ? (e.preventDefault(),
                    s.caret.call(t, u, 0, e.shiftKey ? f.begin : 0, !0)) : (i.undoOnEscape && p === r.default.ESCAPE || 90 === p && e.ctrlKey) && !0 !== e.altKey ? ((0,
                    l.checkVal)(u, !0, !1, t.undoValue.split("")),
                    h.trigger("click")) : !0 === i.tabThrough && p === r.default.TAB ? !0 === e.shiftKey ? (f.end = s.seekPrevious.call(t, f.end, !0),
                    !0 === d.getTest.call(t, f.end - 1).match.static && f.end--,
                    f.begin = s.seekPrevious.call(t, f.end, !0),
                    0 <= f.begin && 0 < f.end && (e.preventDefault(),
                    s.caret.call(t, u, f.begin, f.end))) : (f.begin = s.seekNext.call(t, f.begin, !0),
                    f.end = s.seekNext.call(t, f.begin, !0),
                    f.end < c.maskLength && f.end--,
                    f.begin <= c.maskLength && (e.preventDefault(),
                    s.caret.call(t, u, f.begin, f.end))) : e.shiftKey || i.insertModeVisual && !1 === i.insertMode && (p === r.default.RIGHT ? setTimeout((function() {
                        var e = s.caret.call(t, u);
                        s.caret.call(t, u, e.begin)
                    }
                    ), 0) : p === r.default.LEFT && setTimeout((function() {
                        var e = s.translatePosition.call(t, u.inputmask.caretPos.begin);
                        s.translatePosition.call(t, u.inputmask.caretPos.end);
                        t.isRTL ? s.caret.call(t, u, e + (e === c.maskLength ? 0 : 1)) : s.caret.call(t, u, e - (0 === e ? 0 : 1))
                    }
                    ), 0));
                t.ignorable = i.ignorables.includes(p)
            },
            keypressEvent: function(e, t, i, n, a) {
                var d = this.inputmask || this
                  , c = d.opts
                  , u = d.dependencyLib
                  , h = d.maskset
                  , p = d.el
                  , f = u(p)
                  , m = e.which || e.charCode || e.keyCode;
                if (!(!0 === t || e.ctrlKey && e.altKey) && (e.ctrlKey || e.metaKey || d.ignorable))
                    return m === r.default.ENTER && d.undoValue !== s.getBuffer.call(d).join("") && (d.undoValue = s.getBuffer.call(d).join(""),
                    setTimeout((function() {
                        f.trigger("change")
                    }
                    ), 0)),
                    d.skipInputEvent = !0,
                    !0;
                if (m) {
                    44 !== m && 46 !== m || 3 !== e.location || "" === c.radixPoint || (m = c.radixPoint.charCodeAt(0));
                    var g, v = t ? {
                        begin: a,
                        end: a
                    } : s.caret.call(d, p), y = String.fromCharCode(m);
                    h.writeOutBuffer = !0;
                    var b = o.isValid.call(d, v, y, n, void 0, void 0, void 0, t);
                    if (!1 !== b && (s.resetMaskSet.call(d, !0),
                    g = void 0 !== b.caret ? b.caret : s.seekNext.call(d, b.pos.begin ? b.pos.begin : b.pos),
                    h.p = g),
                    g = c.numericInput && void 0 === b.caret ? s.seekPrevious.call(d, g) : g,
                    !1 !== i && (setTimeout((function() {
                        c.onKeyValidation.call(p, m, b)
                    }
                    ), 0),
                    h.writeOutBuffer && !1 !== b)) {
                        var _ = s.getBuffer.call(d);
                        (0,
                        l.writeBuffer)(p, _, g, e, !0 !== t)
                    }
                    if (e.preventDefault(),
                    t)
                        return !1 !== b && (b.forwardPosition = g),
                        b
                }
            },
            keyupEvent: function(e) {
                var t = this.inputmask;
                !t.isComposing || e.keyCode !== r.default.KEY_229 && e.keyCode !== r.default.ENTER || t.$el.trigger("input")
            },
            pasteEvent: function(e) {
                var t, i = this.inputmask, n = i.opts, r = i._valueGet(!0), a = s.caret.call(i, this);
                i.isRTL && (t = a.end,
                a.end = a.begin,
                a.begin = t);
                var o = r.substr(0, a.begin)
                  , d = r.substr(a.end, r.length);
                if (o == (i.isRTL ? s.getBufferTemplate.call(i).slice().reverse() : s.getBufferTemplate.call(i)).slice(0, a.begin).join("") && (o = ""),
                d == (i.isRTL ? s.getBufferTemplate.call(i).slice().reverse() : s.getBufferTemplate.call(i)).slice(a.end).join("") && (d = ""),
                window.clipboardData && window.clipboardData.getData)
                    r = o + window.clipboardData.getData("Text") + d;
                else {
                    if (!e.clipboardData || !e.clipboardData.getData)
                        return !0;
                    r = o + e.clipboardData.getData("text/plain") + d
                }
                var c = r;
                if ("function" == typeof n.onBeforePaste) {
                    if (!1 === (c = n.onBeforePaste.call(i, r, n)))
                        return e.preventDefault();
                    c = c || r
                }
                return (0,
                l.checkVal)(this, !0, !1, c.toString().split(""), e),
                e.preventDefault()
            },
            inputFallBackEvent: function(e) {
                var t = this.inputmask
                  , i = t.opts
                  , n = t.dependencyLib;
                var o = this
                  , u = o.inputmask._valueGet(!0)
                  , h = (t.isRTL ? s.getBuffer.call(t).slice().reverse() : s.getBuffer.call(t)).join("")
                  , p = s.caret.call(t, o, void 0, void 0, !0);
                if (h !== u) {
                    u = function(e, i, n) {
                        if (a.iemobile) {
                            var r = i.replace(s.getBuffer.call(t).join(""), "");
                            if (1 === r.length) {
                                var o = i.split("");
                                o.splice(n.begin, 0, r),
                                i = o.join("")
                            }
                        }
                        return i
                    }(0, u, p);
                    var f = function(e, n, r) {
                        for (var a, o, l, c = e.substr(0, r.begin).split(""), u = e.substr(r.begin).split(""), h = n.substr(0, r.begin).split(""), p = n.substr(r.begin).split(""), f = c.length >= h.length ? c.length : h.length, m = u.length >= p.length ? u.length : p.length, g = "", v = []; c.length < f; )
                            c.push("~");
                        for (; h.length < f; )
                            h.push("~");
                        for (; u.length < m; )
                            u.unshift("~");
                        for (; p.length < m; )
                            p.unshift("~");
                        var y = c.concat(u)
                          , b = h.concat(p);
                        for (o = 0,
                        a = y.length; o < a; o++)
                            switch (l = d.getPlaceholder.call(t, s.translatePosition.call(t, o)),
                            g) {
                            case "insertText":
                                b[o - 1] === y[o] && r.begin == y.length - 1 && v.push(y[o]),
                                o = a;
                                break;
                            case "insertReplacementText":
                            case "deleteContentBackward":
                                "~" === y[o] ? r.end++ : o = a;
                                break;
                            default:
                                y[o] !== b[o] && ("~" !== y[o + 1] && y[o + 1] !== l && void 0 !== y[o + 1] || (b[o] !== l || "~" !== b[o + 1]) && "~" !== b[o] ? "~" === b[o + 1] && b[o] === y[o + 1] ? (g = "insertText",
                                v.push(y[o]),
                                r.begin--,
                                r.end--) : y[o] !== l && "~" !== y[o] && ("~" === y[o + 1] || b[o] !== y[o] && b[o + 1] === y[o + 1]) ? (g = "insertReplacementText",
                                v.push(y[o]),
                                r.begin--) : "~" === y[o] ? (g = "deleteContentBackward",
                                !s.isMask.call(t, s.translatePosition.call(t, o), !0) && b[o] !== i.radixPoint || r.end++) : o = a : (g = "insertText",
                                v.push(y[o]),
                                r.begin--,
                                r.end--))
                            }
                        return {
                            action: g,
                            data: v,
                            caret: r
                        }
                    }(u, h, p);
                    switch ((o.inputmask.shadowRoot || document).activeElement !== o && o.focus(),
                    (0,
                    l.writeBuffer)(o, s.getBuffer.call(t)),
                    s.caret.call(t, o, p.begin, p.end, !0),
                    f.action) {
                    case "insertText":
                    case "insertReplacementText":
                        f.data.forEach((function(e, i) {
                            var s = new n.Event("keypress");
                            s.which = e.charCodeAt(0),
                            t.ignorable = !1,
                            c.keypressEvent.call(o, s)
                        }
                        )),
                        setTimeout((function() {
                            t.$el.trigger("keyup")
                        }
                        ), 0);
                        break;
                    case "deleteContentBackward":
                        var m = new n.Event("keydown");
                        m.keyCode = r.default.BACKSPACE,
                        c.keydownEvent.call(o, m);
                        break;
                    default:
                        (0,
                        l.applyInputValue)(o, u)
                    }
                    e.preventDefault()
                }
            },
            compositionendEvent: function(e) {
                var t = this.inputmask;
                t.isComposing = !1,
                t.$el.trigger("input")
            },
            setValueEvent: function(e, t, i) {
                var n = this.inputmask
                  , r = e && e.detail ? e.detail[0] : t;
                void 0 === r && (r = this.inputmask._valueGet(!0)),
                (0,
                l.applyInputValue)(this, r),
                (e.detail && void 0 !== e.detail[1] || void 0 !== i) && s.caret.call(n, this, e.detail ? e.detail[1] : i)
            },
            focusEvent: function(e) {
                var t = this.inputmask
                  , i = t.opts
                  , n = this.inputmask._valueGet();
                i.showMaskOnFocus && n !== s.getBuffer.call(t).join("") && (0,
                l.writeBuffer)(this, s.getBuffer.call(t), s.seekNext.call(t, s.getLastValidPosition.call(t))),
                !0 !== i.positionCaretOnTab || !1 !== t.mouseEnter || o.isComplete.call(t, s.getBuffer.call(t)) && -1 !== s.getLastValidPosition.call(t) || c.clickEvent.apply(this, [e, !0]),
                t.undoValue = s.getBuffer.call(t).join("")
            },
            invalidEvent: function(e) {
                this.inputmask.validationEvent = !0
            },
            mouseleaveEvent: function() {
                var e = this.inputmask
                  , t = e.opts;
                e.mouseEnter = !1,
                t.clearMaskOnLostFocus && (this.inputmask.shadowRoot || document).activeElement !== this && (0,
                l.HandleNativePlaceholder)(this, e.originalPlaceholder)
            },
            clickEvent: function(e, t) {
                var i = this.inputmask;
                if ((this.inputmask.shadowRoot || document).activeElement === this) {
                    var n = s.determineNewCaretPosition.call(i, s.caret.call(i, this), t);
                    void 0 !== n && s.caret.call(i, this, n)
                }
            },
            cutEvent: function(e) {
                var t = this.inputmask
                  , i = t.maskset
                  , n = s.caret.call(t, this)
                  , a = window.clipboardData || e.clipboardData
                  , d = t.isRTL ? s.getBuffer.call(t).slice(n.end, n.begin) : s.getBuffer.call(t).slice(n.begin, n.end);
                a.setData("text", t.isRTL ? d.reverse().join("") : d.join("")),
                document.execCommand && document.execCommand("copy"),
                o.handleRemove.call(t, this, r.default.DELETE, n),
                (0,
                l.writeBuffer)(this, s.getBuffer.call(t), i.p, e, t.undoValue !== s.getBuffer.call(t).join(""))
            },
            blurEvent: function(e) {
                var t = this.inputmask
                  , i = t.opts
                  , n = (0,
                t.dependencyLib)(this);
                if (this.inputmask) {
                    (0,
                    l.HandleNativePlaceholder)(this, t.originalPlaceholder);
                    var r = this.inputmask._valueGet()
                      , a = s.getBuffer.call(t).slice();
                    "" !== r && (i.clearMaskOnLostFocus && (-1 === s.getLastValidPosition.call(t) && r === s.getBufferTemplate.call(t).join("") ? a = [] : l.clearOptionalTail.call(t, a)),
                    !1 === o.isComplete.call(t, a) && (setTimeout((function() {
                        n.trigger("incomplete")
                    }
                    ), 0),
                    i.clearIncomplete && (s.resetMaskSet.call(t),
                    a = i.clearMaskOnLostFocus ? [] : s.getBufferTemplate.call(t).slice())),
                    (0,
                    l.writeBuffer)(this, a, void 0, e)),
                    t.undoValue !== s.getBuffer.call(t).join("") && (t.undoValue = s.getBuffer.call(t).join(""),
                    n.trigger("change"))
                }
            },
            mouseenterEvent: function() {
                var e = this.inputmask
                  , t = e.opts;
                e.mouseEnter = !0,
                (this.inputmask.shadowRoot || document).activeElement !== this && (null == e.originalPlaceholder && this.placeholder !== e.originalPlaceholder && (e.originalPlaceholder = this.placeholder),
                t.showMaskOnHover && (0,
                l.HandleNativePlaceholder)(this, (e.isRTL ? s.getBufferTemplate.call(e).slice().reverse() : s.getBufferTemplate.call(e)).join("")))
            },
            submitEvent: function() {
                var e = this.inputmask
                  , t = e.opts;
                e.undoValue !== s.getBuffer.call(e).join("") && e.$el.trigger("change"),
                t.clearMaskOnLostFocus && -1 === s.getLastValidPosition.call(e) && e._valueGet && e._valueGet() === s.getBufferTemplate.call(e).join("") && e._valueSet(""),
                t.clearIncomplete && !1 === o.isComplete.call(e, s.getBuffer.call(e)) && e._valueSet(""),
                t.removeMaskOnSubmit && (e._valueSet(e.unmaskedvalue(), !0),
                setTimeout((function() {
                    (0,
                    l.writeBuffer)(e.el, s.getBuffer.call(e))
                }
                ), 0))
            },
            resetEvent: function() {
                var e = this.inputmask;
                e.refreshValue = !0,
                setTimeout((function() {
                    (0,
                    l.applyInputValue)(e.el, e._valueGet(!0))
                }
                ), 0)
            }
        };
        t.EventHandlers = c
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.iphone = t.iemobile = t.mobile = t.ie = t.ua = void 0;
        var n = window.navigator && window.navigator.userAgent || ""
          , s = 0 < n.indexOf("MSIE ") || 0 < n.indexOf("Trident/")
          , r = "ontouchstart"in window
          , a = /iemobile/i.test(n)
          , o = /iphone/i.test(n) && !a;
        t.iphone = o,
        t.iemobile = a,
        t.mobile = r,
        t.ie = s,
        t.ua = n
    }
    , function(e, t) {
        e.exports = __WEBPACK_EXTERNAL_MODULE__8__
    }
    , function(e, t, i) {
        "use strict";
        function n(e) {
            return n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            ,
            n(e)
        }
        "function" != typeof Object.getPrototypeOf && (Object.getPrototypeOf = "object" === n("test".__proto__) ? function(e) {
            return e.__proto__
        }
        : function(e) {
            return e.constructor.prototype
        }
        )
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.mask = function() {
            var e = this
              , t = this.opts
              , i = this.el
              , n = this.dependencyLib;
            o.EventRuler.off(i);
            var u = function(t, i) {
                "textarea" !== t.tagName.toLowerCase() && i.ignorables.push(s.default.ENTER);
                var l = t.getAttribute("type")
                  , d = "input" === t.tagName.toLowerCase() && i.supportsInputType.includes(l) || t.isContentEditable || "textarea" === t.tagName.toLowerCase();
                if (!d)
                    if ("input" === t.tagName.toLowerCase()) {
                        var c = document.createElement("input");
                        c.setAttribute("type", l),
                        d = "text" === c.type,
                        c = null
                    } else
                        d = "partial";
                return !1 !== d ? function(t) {
                    var s, l;
                    function d() {
                        return this.inputmask ? this.inputmask.opts.autoUnmask ? this.inputmask.unmaskedvalue() : -1 !== r.getLastValidPosition.call(e) || !0 !== i.nullable ? (this.inputmask.shadowRoot || document.activeElement) === this && i.clearMaskOnLostFocus ? (e.isRTL ? a.clearOptionalTail.call(e, r.getBuffer.call(e).slice()).reverse() : a.clearOptionalTail.call(e, r.getBuffer.call(e).slice())).join("") : s.call(this) : "" : s.call(this)
                    }
                    function c(e) {
                        l.call(this, e),
                        this.inputmask && (0,
                        a.applyInputValue)(this, e)
                    }
                    if (!t.inputmask.__valueGet) {
                        if (!0 !== i.noValuePatching) {
                            if (Object.getOwnPropertyDescriptor) {
                                var u = Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t), "value") : void 0;
                                u && u.get && u.set ? (s = u.get,
                                l = u.set,
                                Object.defineProperty(t, "value", {
                                    get: d,
                                    set: c,
                                    configurable: !0
                                })) : "input" !== t.tagName.toLowerCase() && (s = function() {
                                    return this.textContent
                                }
                                ,
                                l = function(e) {
                                    this.textContent = e
                                }
                                ,
                                Object.defineProperty(t, "value", {
                                    get: d,
                                    set: c,
                                    configurable: !0
                                }))
                            } else
                                document.__lookupGetter__ && t.__lookupGetter__("value") && (s = t.__lookupGetter__("value"),
                                l = t.__lookupSetter__("value"),
                                t.__defineGetter__("value", d),
                                t.__defineSetter__("value", c));
                            t.inputmask.__valueGet = s,
                            t.inputmask.__valueSet = l
                        }
                        t.inputmask._valueGet = function(t) {
                            return e.isRTL && !0 !== t ? s.call(this.el).split("").reverse().join("") : s.call(this.el)
                        }
                        ,
                        t.inputmask._valueSet = function(t, i) {
                            l.call(this.el, null == t ? "" : !0 !== i && e.isRTL ? t.split("").reverse().join("") : t)
                        }
                        ,
                        void 0 === s && (s = function() {
                            return this.value
                        }
                        ,
                        l = function(e) {
                            this.value = e
                        }
                        ,
                        function(t) {
                            if (n.valHooks && (void 0 === n.valHooks[t] || !0 !== n.valHooks[t].inputmaskpatch)) {
                                var s = n.valHooks[t] && n.valHooks[t].get ? n.valHooks[t].get : function(e) {
                                    return e.value
                                }
                                  , o = n.valHooks[t] && n.valHooks[t].set ? n.valHooks[t].set : function(e, t) {
                                    return e.value = t,
                                    e
                                }
                                ;
                                n.valHooks[t] = {
                                    get: function(t) {
                                        if (t.inputmask) {
                                            if (t.inputmask.opts.autoUnmask)
                                                return t.inputmask.unmaskedvalue();
                                            var n = s(t);
                                            return -1 !== r.getLastValidPosition.call(e, void 0, void 0, t.inputmask.maskset.validPositions) || !0 !== i.nullable ? n : ""
                                        }
                                        return s(t)
                                    },
                                    set: function(e, t) {
                                        var i = o(e, t);
                                        return e.inputmask && (0,
                                        a.applyInputValue)(e, t),
                                        i
                                    },
                                    inputmaskpatch: !0
                                }
                            }
                        }(t.type),
                        function(t) {
                            o.EventRuler.on(t, "mouseenter", (function() {
                                var t = this.inputmask._valueGet(!0);
                                t !== (e.isRTL ? r.getBuffer.call(e).reverse() : r.getBuffer.call(e)).join("") && (0,
                                a.applyInputValue)(this, t)
                            }
                            ))
                        }(t))
                    }
                }(t) : t.inputmask = void 0,
                d
            }(i, t);
            if (!1 !== u) {
                e.originalPlaceholder = i.placeholder,
                e.maxLength = void 0 !== i ? i.maxLength : void 0,
                -1 === e.maxLength && (e.maxLength = void 0),
                "inputMode"in i && null === i.getAttribute("inputmode") && (i.inputMode = t.inputmode,
                i.setAttribute("inputmode", t.inputmode)),
                !0 === u && (t.showMaskOnFocus = t.showMaskOnFocus && -1 === ["cc-number", "cc-exp"].indexOf(i.autocomplete),
                l.iphone && (t.insertModeVisual = !1),
                o.EventRuler.on(i, "submit", c.EventHandlers.submitEvent),
                o.EventRuler.on(i, "reset", c.EventHandlers.resetEvent),
                o.EventRuler.on(i, "blur", c.EventHandlers.blurEvent),
                o.EventRuler.on(i, "focus", c.EventHandlers.focusEvent),
                o.EventRuler.on(i, "invalid", c.EventHandlers.invalidEvent),
                o.EventRuler.on(i, "click", c.EventHandlers.clickEvent),
                o.EventRuler.on(i, "mouseleave", c.EventHandlers.mouseleaveEvent),
                o.EventRuler.on(i, "mouseenter", c.EventHandlers.mouseenterEvent),
                o.EventRuler.on(i, "paste", c.EventHandlers.pasteEvent),
                o.EventRuler.on(i, "cut", c.EventHandlers.cutEvent),
                o.EventRuler.on(i, "complete", t.oncomplete),
                o.EventRuler.on(i, "incomplete", t.onincomplete),
                o.EventRuler.on(i, "cleared", t.oncleared),
                !0 !== t.inputEventOnly && (o.EventRuler.on(i, "keydown", c.EventHandlers.keydownEvent),
                o.EventRuler.on(i, "keypress", c.EventHandlers.keypressEvent),
                o.EventRuler.on(i, "keyup", c.EventHandlers.keyupEvent)),
                (l.mobile || t.inputEventOnly) && i.removeAttribute("maxLength"),
                o.EventRuler.on(i, "input", c.EventHandlers.inputFallBackEvent),
                o.EventRuler.on(i, "compositionend", c.EventHandlers.compositionendEvent)),
                o.EventRuler.on(i, "setvalue", c.EventHandlers.setValueEvent),
                e.undoValue = r.getBufferTemplate.call(e).join("");
                var h = (i.inputmask.shadowRoot || document).activeElement;
                if ("" !== i.inputmask._valueGet(!0) || !1 === t.clearMaskOnLostFocus || h === i) {
                    (0,
                    a.applyInputValue)(i, i.inputmask._valueGet(!0), t);
                    var p = r.getBuffer.call(e).slice();
                    !1 === d.isComplete.call(e, p) && t.clearIncomplete && r.resetMaskSet.call(e),
                    t.clearMaskOnLostFocus && h !== i && (-1 === r.getLastValidPosition.call(e) ? p = [] : a.clearOptionalTail.call(e, p)),
                    (!1 === t.clearMaskOnLostFocus || t.showMaskOnFocus && h === i || "" !== i.inputmask._valueGet(!0)) && (0,
                    a.writeBuffer)(i, p),
                    h === i && r.caret.call(e, i, r.seekNext.call(e, r.getLastValidPosition.call(e)))
                }
            }
        }
        ,
        i(9);
        var n, s = (n = i(0)) && n.__esModule ? n : {
            default: n
        }, r = i(2), a = i(5), o = i(11), l = i(7), d = i(4), c = i(6)
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.EventRuler = void 0;
        var n = o(i(1))
          , s = o(i(0))
          , r = i(2)
          , a = i(5);
        function o(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var l = {
            on: function(e, t, i) {
                var o = e.inputmask.dependencyLib
                  , l = function(t) {
                    t.originalEvent && (t = t.originalEvent || t,
                    arguments[0] = t);
                    var l, d = this, c = d.inputmask, u = c ? c.opts : void 0;
                    if (void 0 === c && "FORM" !== this.nodeName) {
                        var h = o.data(d, "_inputmask_opts");
                        o(d).off(),
                        h && new n.default(h).mask(d)
                    } else {
                        if ("setvalue" === t.type || "FORM" === this.nodeName || !(d.disabled || d.readOnly && !("keydown" === t.type && t.ctrlKey && 67 === t.keyCode || !1 === u.tabThrough && t.keyCode === s.default.TAB))) {
                            switch (t.type) {
                            case "input":
                                if (!0 === c.skipInputEvent || t.inputType && "insertCompositionText" === t.inputType)
                                    return c.skipInputEvent = !1,
                                    t.preventDefault();
                                break;
                            case "keydown":
                                c.skipKeyPressEvent = !1,
                                c.skipInputEvent = c.isComposing = t.keyCode === s.default.KEY_229;
                                break;
                            case "keyup":
                            case "compositionend":
                                c.isComposing && (c.skipInputEvent = !1);
                                break;
                            case "keypress":
                                if (!0 === c.skipKeyPressEvent)
                                    return t.preventDefault();
                                c.skipKeyPressEvent = !0;
                                break;
                            case "click":
                            case "focus":
                                return c.validationEvent ? (c.validationEvent = !1,
                                e.blur(),
                                (0,
                                a.HandleNativePlaceholder)(e, (c.isRTL ? r.getBufferTemplate.call(c).slice().reverse() : r.getBufferTemplate.call(c)).join("")),
                                setTimeout((function() {
                                    e.focus()
                                }
                                ), 3e3)) : (l = arguments,
                                setTimeout((function() {
                                    e.inputmask && i.apply(d, l)
                                }
                                ), 0)),
                                !1
                            }
                            var p = i.apply(d, arguments);
                            return !1 === p && (t.preventDefault(),
                            t.stopPropagation()),
                            p
                        }
                        t.preventDefault()
                    }
                };
                e.inputmask.events[t] = e.inputmask.events[t] || [],
                e.inputmask.events[t].push(l),
                ["submit", "reset"].includes(t) ? null !== e.form && o(e.form).on(t, l.bind(e)) : o(e).on(t, l)
            },
            off: function(e, t) {
                if (e.inputmask && e.inputmask.events) {
                    var i = e.inputmask.dependencyLib
                      , n = e.inputmask.events;
                    for (var s in t && ((n = [])[t] = e.inputmask.events[t]),
                    n) {
                        for (var r = n[s]; 0 < r.length; ) {
                            var a = r.pop();
                            ["submit", "reset"].includes(s) ? null !== e.form && i(e.form).off(s, a) : i(e).off(s, a)
                        }
                        delete e.inputmask.events[s]
                    }
                }
            }
        };
        t.EventRuler = l
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var n, s = (n = i(8)) && n.__esModule ? n : {
            default: n
        };
        if (void 0 === s.default)
            throw "jQuery not loaded!";
        var r = s.default;
        t.default = r
    }
    , function(module, exports, __webpack_require__) {
        "use strict";
        Object.defineProperty(exports, "__esModule", {
            value: !0
        }),
        exports.default = void 0;
        var _default = "undefined" != typeof window ? window : new (eval("require('jsdom').JSDOM"))("").window;
        exports.default = _default
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = function(e) {
            return e.replace(n, "\\$1")
        }
        ;
        var n = new RegExp("(\\" + ["/", ".", "*", "+", "?", "|", "(", ")", "[", "]", "{", "}", "\\", "$", "^"].join("|\\") + ")","gim")
    }
    , function(e, t, i) {
        "use strict";
        var n;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0,
        i(16),
        i(20),
        i(22),
        i(23);
        var s = ((n = i(1)) && n.__esModule ? n : {
            default: n
        }).default;
        t.default = s
    }
    , function(e, t, i) {
        "use strict";
        var n, s = (n = i(1)) && n.__esModule ? n : {
            default: n
        };
        s.default.extendDefinitions({
            A: {
                validator: "[A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]",
                casing: "upper"
            },
            "&": {
                validator: "[0-9A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]",
                casing: "upper"
            },
            "#": {
                validator: "[0-9A-Fa-f]",
                casing: "upper"
            }
        });
        var r = new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");
        function a(e, t, i, n, s) {
            return e = -1 < i - 1 && "." !== t.buffer[i - 1] ? (e = t.buffer[i - 1] + e,
            -1 < i - 2 && "." !== t.buffer[i - 2] ? t.buffer[i - 2] + e : "0" + e) : "00" + e,
            r.test(e)
        }
        s.default.extendAliases({
            cssunit: {
                regex: "[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"
            },
            url: {
                regex: "(https?|ftp)://.*",
                autoUnmask: !1,
                keepStatic: !1,
                tabThrough: !0
            },
            ip: {
                mask: "i[i[i]].j[j[j]].k[k[k]].l[l[l]]",
                definitions: {
                    i: {
                        validator: a
                    },
                    j: {
                        validator: a
                    },
                    k: {
                        validator: a
                    },
                    l: {
                        validator: a
                    }
                },
                onUnMask: function(e, t, i) {
                    return e
                },
                inputmode: "numeric"
            },
            email: {
                mask: "*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",
                greedy: !1,
                casing: "lower",
                onBeforePaste: function(e, t) {
                    return (e = e.toLowerCase()).replace("mailto:", "")
                },
                definitions: {
                    "*": {
                        validator: "[0-9ï¼-ï¼A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ!#$%&'*+/=?^_`{|}~-]"
                    },
                    "-": {
                        validator: "[0-9A-Za-z-]"
                    }
                },
                onUnMask: function(e, t, i) {
                    return e
                },
                inputmode: "email"
            },
            mac: {
                mask: "##:##:##:##:##:##"
            },
            vin: {
                mask: "V{13}9{4}",
                definitions: {
                    V: {
                        validator: "[A-HJ-NPR-Za-hj-npr-z\\d]",
                        casing: "upper"
                    }
                },
                clearIncomplete: !0,
                autoUnmask: !0
            },
            ssn: {
                mask: "999-99-9999",
                postValidation: function(e, t, i, n, s, r, a) {
                    return /^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(e.join(""))
                }
            }
        })
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.generateMaskSet = function(e, t) {
            function i(e, i, n) {
                var r, a, o = !1;
                if (null !== e && "" !== e || (e = (o = null !== n.regex) ? (e = n.regex).replace(/^(\^)(.*)(\$)$/, "$2") : (o = !0,
                ".*")),
                1 === e.length && !1 === n.greedy && 0 !== n.repeat && (n.placeholder = ""),
                0 < n.repeat || "*" === n.repeat || "+" === n.repeat) {
                    var l = "*" === n.repeat ? 0 : "+" === n.repeat ? 1 : n.repeat;
                    e = n.groupmarker[0] + e + n.groupmarker[1] + n.quantifiermarker[0] + l + "," + n.repeat + n.quantifiermarker[1]
                }
                return a = o ? "regex_" + n.regex : n.numericInput ? e.split("").reverse().join("") : e,
                !1 !== n.keepStatic && (a = "ks_" + a),
                void 0 === Inputmask.prototype.masksCache[a] || !0 === t ? (r = {
                    mask: e,
                    maskToken: Inputmask.prototype.analyseMask(e, o, n),
                    validPositions: {},
                    _buffer: void 0,
                    buffer: void 0,
                    tests: {},
                    excludes: {},
                    metadata: i,
                    maskLength: void 0,
                    jitOffset: {}
                },
                !0 !== t && (Inputmask.prototype.masksCache[a] = r,
                r = s.default.extend(!0, {}, Inputmask.prototype.masksCache[a]))) : r = s.default.extend(!0, {}, Inputmask.prototype.masksCache[a]),
                r
            }
            if ("function" == typeof e.mask && (e.mask = e.mask(e)),
            Array.isArray(e.mask)) {
                if (1 < e.mask.length) {
                    null === e.keepStatic && (e.keepStatic = !0);
                    var n = e.groupmarker[0];
                    return (e.isRTL ? e.mask.reverse() : e.mask).forEach((function(t) {
                        1 < n.length && (n += e.groupmarker[1] + e.alternatormarker + e.groupmarker[0]),
                        void 0 !== t.mask && "function" != typeof t.mask ? n += t.mask : n += t
                    }
                    )),
                    i(n += e.groupmarker[1], e.mask, e)
                }
                e.mask = e.mask.pop()
            }
            return null === e.keepStatic && (e.keepStatic = !1),
            e.mask && void 0 !== e.mask.mask && "function" != typeof e.mask.mask ? i(e.mask.mask, e.mask, e) : i(e.mask, e.mask, e)
        }
        ,
        t.analyseMask = function(e, t, i) {
            var n, s, r, a, o, l, d = /(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g, c = /\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g, u = !1, h = new g, p = [], f = [], m = !1;
            function g(e, t, i, n) {
                this.matches = [],
                this.openGroup = e || !1,
                this.alternatorGroup = !1,
                this.isGroup = e || !1,
                this.isOptional = t || !1,
                this.isQuantifier = i || !1,
                this.isAlternator = n || !1,
                this.quantifier = {
                    min: 1,
                    max: 1
                }
            }
            function v(e, n, s) {
                s = void 0 !== s ? s : e.matches.length;
                var r = e.matches[s - 1];
                if (t)
                    0 === n.indexOf("[") || u && /\\d|\\s|\\w]/i.test(n) || "." === n ? e.matches.splice(s++, 0, {
                        fn: new RegExp(n,i.casing ? "i" : ""),
                        static: !1,
                        optionality: !1,
                        newBlockMarker: void 0 === r ? "master" : r.def !== n,
                        casing: null,
                        def: n,
                        placeholder: void 0,
                        nativeDef: n
                    }) : (u && (n = n[n.length - 1]),
                    n.split("").forEach((function(t, n) {
                        r = e.matches[s - 1],
                        e.matches.splice(s++, 0, {
                            fn: /[a-z]/i.test(i.staticDefinitionSymbol || t) ? new RegExp("[" + (i.staticDefinitionSymbol || t) + "]",i.casing ? "i" : "") : null,
                            static: !0,
                            optionality: !1,
                            newBlockMarker: void 0 === r ? "master" : r.def !== t && !0 !== r.static,
                            casing: null,
                            def: i.staticDefinitionSymbol || t,
                            placeholder: void 0 !== i.staticDefinitionSymbol ? t : void 0,
                            nativeDef: (u ? "'" : "") + t
                        })
                    }
                    ))),
                    u = !1;
                else {
                    var a = i.definitions && i.definitions[n] || i.usePrototypeDefinitions && Inputmask.prototype.definitions[n];
                    a && !u ? e.matches.splice(s++, 0, {
                        fn: a.validator ? "string" == typeof a.validator ? new RegExp(a.validator,i.casing ? "i" : "") : new function() {
                            this.test = a.validator
                        }
                        : new RegExp("."),
                        static: a.static || !1,
                        optionality: !1,
                        newBlockMarker: void 0 === r ? "master" : r.def !== (a.definitionSymbol || n),
                        casing: a.casing,
                        def: a.definitionSymbol || n,
                        placeholder: a.placeholder,
                        nativeDef: n,
                        generated: a.generated
                    }) : (e.matches.splice(s++, 0, {
                        fn: /[a-z]/i.test(i.staticDefinitionSymbol || n) ? new RegExp("[" + (i.staticDefinitionSymbol || n) + "]",i.casing ? "i" : "") : null,
                        static: !0,
                        optionality: !1,
                        newBlockMarker: void 0 === r ? "master" : r.def !== n && !0 !== r.static,
                        casing: null,
                        def: i.staticDefinitionSymbol || n,
                        placeholder: void 0 !== i.staticDefinitionSymbol ? n : void 0,
                        nativeDef: (u ? "'" : "") + n
                    }),
                    u = !1)
                }
            }
            function y() {
                if (0 < p.length) {
                    if (v(a = p[p.length - 1], s),
                    a.isAlternator) {
                        o = p.pop();
                        for (var e = 0; e < o.matches.length; e++)
                            o.matches[e].isGroup && (o.matches[e].isGroup = !1);
                        0 < p.length ? (a = p[p.length - 1]).matches.push(o) : h.matches.push(o)
                    }
                } else
                    v(h, s)
            }
            function b(e) {
                var t = new g(!0);
                return t.openGroup = !1,
                t.matches = e,
                t
            }
            function _() {
                if ((r = p.pop()).openGroup = !1,
                void 0 !== r)
                    if (0 < p.length) {
                        if ((a = p[p.length - 1]).matches.push(r),
                        a.isAlternator) {
                            o = p.pop();
                            for (var e = 0; e < o.matches.length; e++)
                                o.matches[e].isGroup = !1,
                                o.matches[e].alternatorGroup = !1;
                            0 < p.length ? (a = p[p.length - 1]).matches.push(o) : h.matches.push(o)
                        }
                    } else
                        h.matches.push(r);
                else
                    y()
            }
            function T(e) {
                var t = e.pop();
                return t.isQuantifier && (t = b([e.pop(), t])),
                t
            }
            for (t && (i.optionalmarker[0] = void 0,
            i.optionalmarker[1] = void 0); n = t ? c.exec(e) : d.exec(e); ) {
                if (s = n[0],
                t)
                    switch (s.charAt(0)) {
                    case "?":
                        s = "{0,1}";
                        break;
                    case "+":
                    case "*":
                        s = "{" + s + "}";
                        break;
                    case "|":
                        if (0 === p.length) {
                            var w = b(h.matches);
                            w.openGroup = !0,
                            p.push(w),
                            h.matches = [],
                            m = !0
                        }
                    }
                if (u)
                    y();
                else
                    switch (s.charAt(0)) {
                    case "$":
                    case "^":
                        t || y();
                        break;
                    case "(?=":
                    case "(?!":
                    case "(?<=":
                    case "(?<!":
                        break;
                    case i.escapeChar:
                        u = !0,
                        t && y();
                        break;
                    case i.optionalmarker[1]:
                    case i.groupmarker[1]:
                        _();
                        break;
                    case i.optionalmarker[0]:
                        p.push(new g(!1,!0));
                        break;
                    case i.groupmarker[0]:
                        p.push(new g(!0));
                        break;
                    case i.quantifiermarker[0]:
                        var S = new g(!1,!1,!0)
                          , k = (s = s.replace(/[{}]/g, "")).split("|")
                          , x = k[0].split(",")
                          , C = isNaN(x[0]) ? x[0] : parseInt(x[0])
                          , E = 1 === x.length ? C : isNaN(x[1]) ? x[1] : parseInt(x[1]);
                        "*" !== C && "+" !== C || (C = "*" === E ? 0 : 1),
                        S.quantifier = {
                            min: C,
                            max: E,
                            jit: k[1]
                        };
                        var P = 0 < p.length ? p[p.length - 1].matches : h.matches;
                        if ((n = P.pop()).isAlternator) {
                            P.push(n),
                            P = n.matches;
                            var A = new g(!0)
                              , I = P.pop();
                            P.push(A),
                            P = A.matches,
                            n = I
                        }
                        n.isGroup || (n = b([n])),
                        P.push(n),
                        P.push(S);
                        break;
                    case i.alternatormarker:
                        if (0 < p.length) {
                            var O = (a = p[p.length - 1]).matches[a.matches.length - 1];
                            l = a.openGroup && (void 0 === O.matches || !1 === O.isGroup && !1 === O.isAlternator) ? p.pop() : T(a.matches)
                        } else
                            l = T(h.matches);
                        if (l.isAlternator)
                            p.push(l);
                        else if (l.alternatorGroup ? (o = p.pop(),
                        l.alternatorGroup = !1) : o = new g(!1,!1,!1,!0),
                        o.matches.push(l),
                        p.push(o),
                        l.openGroup) {
                            l.openGroup = !1;
                            var L = new g(!0);
                            L.alternatorGroup = !0,
                            p.push(L)
                        }
                        break;
                    default:
                        y()
                    }
            }
            for (m && _(); 0 < p.length; )
                r = p.pop(),
                h.matches.push(r);
            return 0 < h.matches.length && (function e(n) {
                n && n.matches && n.matches.forEach((function(s, r) {
                    var a = n.matches[r + 1];
                    (void 0 === a || void 0 === a.matches || !1 === a.isQuantifier) && s && s.isGroup && (s.isGroup = !1,
                    t || (v(s, i.groupmarker[0], 0),
                    !0 !== s.openGroup && v(s, i.groupmarker[1]))),
                    e(s)
                }
                ))
            }(h),
            f.push(h)),
            (i.numericInput || i.isRTL) && function e(t) {
                for (var n in t.matches = t.matches.reverse(),
                t.matches)
                    if (Object.prototype.hasOwnProperty.call(t.matches, n)) {
                        var s = parseInt(n);
                        if (t.matches[n].isQuantifier && t.matches[s + 1] && t.matches[s + 1].isGroup) {
                            var r = t.matches[n];
                            t.matches.splice(n, 1),
                            t.matches.splice(s + 1, 0, r)
                        }
                        void 0 !== t.matches[n].matches ? t.matches[n] = e(t.matches[n]) : t.matches[n] = ((a = t.matches[n]) === i.optionalmarker[0] ? a = i.optionalmarker[1] : a === i.optionalmarker[1] ? a = i.optionalmarker[0] : a === i.groupmarker[0] ? a = i.groupmarker[1] : a === i.groupmarker[1] && (a = i.groupmarker[0]),
                        a)
                    }
                var a;
                return t
            }(f[0]),
            f
        }
        ;
        var n, s = (n = i(12)) && n.__esModule ? n : {
            default: n
        }
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        t.default = {
            9: {
                validator: "[0-9ï¼-ï¼]",
                definitionSymbol: "*"
            },
            a: {
                validator: "[A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]",
                definitionSymbol: "*"
            },
            "*": {
                validator: "[0-9ï¼-ï¼A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]"
            }
        }
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        t.default = {
            _maxTestPos: 500,
            placeholder: "_",
            optionalmarker: ["[", "]"],
            quantifiermarker: ["{", "}"],
            groupmarker: ["(", ")"],
            alternatormarker: "|",
            escapeChar: "\\",
            mask: null,
            regex: null,
            oncomplete: function() {},
            onincomplete: function() {},
            oncleared: function() {},
            repeat: 0,
            greedy: !1,
            autoUnmask: !1,
            removeMaskOnSubmit: !1,
            clearMaskOnLostFocus: !0,
            insertMode: !0,
            insertModeVisual: !0,
            clearIncomplete: !1,
            alias: null,
            onKeyDown: function() {},
            onBeforeMask: null,
            onBeforePaste: function(e, t) {
                return "function" == typeof t.onBeforeMask ? t.onBeforeMask.call(this, e, t) : e
            },
            onBeforeWrite: null,
            onUnMask: null,
            showMaskOnFocus: !0,
            showMaskOnHover: !0,
            onKeyValidation: function() {},
            skipOptionalPartCharacter: " ",
            numericInput: !1,
            rightAlign: !1,
            undoOnEscape: !0,
            radixPoint: "",
            _radixDance: !1,
            groupSeparator: "",
            keepStatic: null,
            positionCaretOnTab: !0,
            tabThrough: !1,
            supportsInputType: ["text", "tel", "url", "password", "search"],
            ignorables: [8, 9, 19, 27, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46, 93, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 0, 229],
            isComplete: null,
            preValidation: null,
            postValidation: null,
            staticDefinitionSymbol: void 0,
            jitMasking: !1,
            nullable: !0,
            inputEventOnly: !1,
            noValuePatching: !1,
            positionCaretOnClick: "lvp",
            casing: null,
            inputmode: "text",
            importDataAttributes: !0,
            shiftPositions: !0,
            usePrototypeDefinitions: !0
        }
    }
    , function(e, t, i) {
        "use strict";
        var n = l(i(1))
          , s = l(i(0))
          , r = l(i(14))
          , a = i(2);
        l(i(21));
        function o(e) {
            return o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            ,
            o(e)
        }
        function l(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var d = n.default.dependencyLib
          , c = (new Date).getFullYear()
          , u = {
            d: ["[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", Date.prototype.getDate],
            dd: ["0[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", function() {
                return v(Date.prototype.getDate.call(this), 2)
            }
            ],
            ddd: [""],
            dddd: [""],
            m: ["[1-9]|1[012]", Date.prototype.setMonth, "month", function() {
                return Date.prototype.getMonth.call(this) + 1
            }
            ],
            mm: ["0[1-9]|1[012]", Date.prototype.setMonth, "month", function() {
                return v(Date.prototype.getMonth.call(this) + 1, 2)
            }
            ],
            mmm: [""],
            mmmm: [""],
            yy: ["[0-9]{2}", Date.prototype.setFullYear, "year", function() {
                return v(Date.prototype.getFullYear.call(this), 2)
            }
            ],
            yyyy: ["[0-9]{4}", Date.prototype.setFullYear, "year", function() {
                return v(Date.prototype.getFullYear.call(this), 4)
            }
            ],
            h: ["[1-9]|1[0-2]", Date.prototype.setHours, "hours", Date.prototype.getHours],
            hh: ["0[1-9]|1[0-2]", Date.prototype.setHours, "hours", function() {
                return v(Date.prototype.getHours.call(this), 2)
            }
            ],
            hx: [function(e) {
                return "[0-9]{".concat(e, "}")
            }
            , Date.prototype.setHours, "hours", function(e) {
                return Date.prototype.getHours
            }
            ],
            H: ["1?[0-9]|2[0-3]", Date.prototype.setHours, "hours", Date.prototype.getHours],
            HH: ["0[0-9]|1[0-9]|2[0-3]", Date.prototype.setHours, "hours", function() {
                return v(Date.prototype.getHours.call(this), 2)
            }
            ],
            Hx: [function(e) {
                return "[0-9]{".concat(e, "}")
            }
            , Date.prototype.setHours, "hours", function(e) {
                return function() {
                    return v(Date.prototype.getHours.call(this), e)
                }
            }
            ],
            M: ["[1-5]?[0-9]", Date.prototype.setMinutes, "minutes", Date.prototype.getMinutes],
            MM: ["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]", Date.prototype.setMinutes, "minutes", function() {
                return v(Date.prototype.getMinutes.call(this), 2)
            }
            ],
            s: ["[1-5]?[0-9]", Date.prototype.setSeconds, "seconds", Date.prototype.getSeconds],
            ss: ["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]", Date.prototype.setSeconds, "seconds", function() {
                return v(Date.prototype.getSeconds.call(this), 2)
            }
            ],
            l: ["[0-9]{3}", Date.prototype.setMilliseconds, "milliseconds", function() {
                return v(Date.prototype.getMilliseconds.call(this), 3)
            }
            ],
            L: ["[0-9]{2}", Date.prototype.setMilliseconds, "milliseconds", function() {
                return v(Date.prototype.getMilliseconds.call(this), 2)
            }
            ],
            t: ["[ap]"],
            tt: ["[ap]m"],
            T: ["[AP]"],
            TT: ["[AP]M"],
            Z: [""],
            o: [""],
            S: [""]
        }
          , h = {
            isoDate: "yyyy-mm-dd",
            isoTime: "HH:MM:ss",
            isoDateTime: "yyyy-mm-dd'T'HH:MM:ss",
            isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"
        };
        function p(e) {
            var t = new RegExp("\\d+$").exec(e[0]);
            if (t && void 0 !== t[0]) {
                var i = u[e[0][0] + "x"].slice("");
                return i[0] = i[0](t[0]),
                i[3] = i[3](t[0]),
                i
            }
            if (u[e[0]])
                return u[e[0]]
        }
        function f(e) {
            if (!e.tokenizer) {
                var t = []
                  , i = [];
                for (var n in u)
                    if (/\.*x$/.test(n)) {
                        var s = n[0] + "\\d+";
                        -1 === i.indexOf(s) && i.push(s)
                    } else
                        -1 === t.indexOf(n[0]) && t.push(n[0]);
                e.tokenizer = "(" + (0 < i.length ? i.join("|") + "|" : "") + t.join("+|") + ")+?|.",
                e.tokenizer = new RegExp(e.tokenizer,"g")
            }
            return e.tokenizer
        }
        function m(e, t, i) {
            if (void 0 === e.rawday || !isFinite(e.rawday) && new Date(e.date.getFullYear(),isFinite(e.rawmonth) ? e.month : e.date.getMonth() + 1,0).getDate() >= e.day || "29" == e.day && !isFinite(e.rawyear) || new Date(e.date.getFullYear(),isFinite(e.rawmonth) ? e.month : e.date.getMonth() + 1,0).getDate() >= e.day)
                return t;
            if ("29" == e.day) {
                var n = _(t.pos, i);
                if ("yyyy" === n.targetMatch[0] && t.pos - n.targetMatchIndex == 2)
                    return t.remove = t.pos + 1,
                    t
            } else if ("02" == e.month && "30" == e.day)
                return e.day = "03",
                e.date.setDate(3),
                e.date.setMonth(1),
                t.insert = [{
                    pos: t.pos,
                    c: "0"
                }, {
                    pos: t.pos + 1,
                    c: t.c
                }],
                t.caret = a.seekNext.call(this, t.pos + 1),
                t;
            return !1
        }
        function g(e, t, i, n) {
            var s, a, o = "";
            for (f(i).lastIndex = 0; s = f(i).exec(e); )
                if (void 0 === t)
                    if (a = p(s))
                        o += "(" + a[0] + ")";
                    else
                        switch (s[0]) {
                        case "[":
                            o += "(";
                            break;
                        case "]":
                            o += ")?";
                            break;
                        default:
                            o += (0,
                            r.default)(s[0])
                        }
                else if (a = p(s))
                    if (!0 !== n && a[3]) {
                        o += a[3].call(t.date)
                    } else
                        a[2] ? o += t["raw" + a[2]] : o += s[0];
                else
                    o += s[0];
            return o
        }
        function v(e, t) {
            for (e = String(e),
            t = t || 2; e.length < t; )
                e = "0" + e;
            return e
        }
        function y(e, t, i) {
            var n, s, r, a = {
                date: new Date(1,0,1)
            }, l = e;
            function d(e, t, i) {
                if (e[n] = t.replace(/[^0-9]/g, "0"),
                e["raw" + n] = t,
                void 0 !== r) {
                    var s = e[n];
                    "day" === n && 0 === parseInt(s) && (s = 1),
                    "month" === n && 0 < (s = parseInt(s)) && (s -= 1),
                    r.call(e.date, s)
                }
            }
            if ("string" == typeof l) {
                for (f(i).lastIndex = 0; s = f(i).exec(t); ) {
                    var c = new RegExp("\\d+$").exec(s[0])
                      , h = c ? s[0][0] + "x" : s[0]
                      , p = void 0;
                    if (c) {
                        var m = f(i).lastIndex
                          , g = _(s.index, i);
                        f(i).lastIndex = m,
                        p = l.slice(0, l.indexOf(g.nextMatch[0]))
                    } else
                        p = l.slice(0, h.length);
                    Object.prototype.hasOwnProperty.call(u, h) && (n = u[h][2],
                    r = u[h][1],
                    d(a, p)),
                    l = l.slice(p.length)
                }
                return a
            }
            if (l && "object" === o(l) && Object.prototype.hasOwnProperty.call(l, "date"))
                return l
        }
        function b(e, t) {
            return g(t.inputFormat, {
                date: e
            }, t)
        }
        function _(e, t) {
            var i, n, s = 0, r = 0;
            for (f(t).lastIndex = 0; n = f(t).exec(t.inputFormat); ) {
                var a = new RegExp("\\d+$").exec(n[0]);
                if (e <= (s += r = a ? parseInt(a[0]) : n[0].length)) {
                    i = n,
                    n = f(t).exec(t.inputFormat);
                    break
                }
            }
            return {
                targetMatchIndex: s - r,
                nextMatch: n,
                targetMatch: i
            }
        }
        n.default.extendAliases({
            datetime: {
                mask: function(e) {
                    return e.numericInput = !1,
                    u.S = e.i18n.ordinalSuffix.join("|"),
                    e.inputFormat = h[e.inputFormat] || e.inputFormat,
                    e.displayFormat = h[e.displayFormat] || e.displayFormat || e.inputFormat,
                    e.outputFormat = h[e.outputFormat] || e.outputFormat || e.inputFormat,
                    e.placeholder = "" !== e.placeholder ? e.placeholder : e.inputFormat.replace(/[[\]]/, ""),
                    e.regex = g(e.inputFormat, void 0, e),
                    e.min = y(e.min, e.inputFormat, e),
                    e.max = y(e.max, e.inputFormat, e),
                    null
                },
                placeholder: "",
                inputFormat: "isoDateTime",
                displayFormat: void 0,
                outputFormat: void 0,
                min: null,
                max: null,
                skipOptionalPartCharacter: "",
                i18n: {
                    dayNames: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
                    monthNames: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                    ordinalSuffix: ["st", "nd", "rd", "th"]
                },
                preValidation: function(e, t, i, n, s, r, a, o) {
                    if (o)
                        return !0;
                    if (isNaN(i) && e[t] !== i) {
                        var l = _(t, s);
                        if (l.nextMatch && l.nextMatch[0] === i && 1 < l.targetMatch[0].length) {
                            var d = u[l.targetMatch[0]][0];
                            if (new RegExp(d).test("0" + e[t - 1]))
                                return e[t] = e[t - 1],
                                e[t - 1] = "0",
                                {
                                    fuzzy: !0,
                                    buffer: e,
                                    refreshFromBuffer: {
                                        start: t - 1,
                                        end: t + 1
                                    },
                                    pos: t + 1
                                }
                        }
                    }
                    return !0
                },
                postValidation: function(e, t, i, n, s, r, a, o) {
                    var l, d;
                    if (a)
                        return !0;
                    if (!1 === n)
                        return (l = _(t + 1, s)).targetMatch && l.targetMatchIndex === t && 1 < l.targetMatch[0].length && void 0 !== u[l.targetMatch[0]] && (d = u[l.targetMatch[0]][0],
                        new RegExp(d).test("0" + i)) ? {
                            insert: [{
                                pos: t,
                                c: "0"
                            }, {
                                pos: t + 1,
                                c: i
                            }],
                            pos: t + 1
                        } : n;
                    if (n.fuzzy && (e = n.buffer,
                    t = n.pos),
                    (l = _(t, s)).targetMatch && l.targetMatch[0] && void 0 !== u[l.targetMatch[0]]) {
                        d = u[l.targetMatch[0]][0];
                        var h = e.slice(l.targetMatchIndex, l.targetMatchIndex + l.targetMatch[0].length);
                        !1 === new RegExp(d).test(h.join("")) && 2 === l.targetMatch[0].length && r.validPositions[l.targetMatchIndex] && r.validPositions[l.targetMatchIndex + 1] && (r.validPositions[l.targetMatchIndex + 1].input = "0")
                    }
                    var p = n
                      , f = y(e.join(""), s.inputFormat, s);
                    return p && f.date.getTime() == f.date.getTime() && (p = function(e, t, i) {
                        if (e.year !== e.rawyear) {
                            var n = c.toString()
                              , s = e.rawyear.replace(/[^0-9]/g, "")
                              , r = n.slice(0, s.length)
                              , a = n.slice(s.length);
                            if (2 === s.length && s === r) {
                                var o = new Date(c,e.month - 1,e.day);
                                e.day == o.getDate() && (!i.max || i.max.date.getTime() >= o.getTime()) && (e.date.setFullYear(c),
                                e.year = n,
                                t.insert = [{
                                    pos: t.pos + 1,
                                    c: a[0]
                                }, {
                                    pos: t.pos + 2,
                                    c: a[1]
                                }])
                            }
                        }
                        return t
                    }(f, p, s),
                    p = function(e, t, i, n, s) {
                        if (!t)
                            return t;
                        if (i.min) {
                            if (e.rawyear) {
                                var r, a = e.rawyear.replace(/[^0-9]/g, ""), o = i.min.year.substr(0, a.length);
                                if (a < o) {
                                    var l = _(t.pos, i);
                                    if (a = e.rawyear.substr(0, t.pos - l.targetMatchIndex + 1).replace(/[^0-9]/g, "0"),
                                    (o = i.min.year.substr(0, a.length)) <= a)
                                        return t.remove = l.targetMatchIndex + a.length,
                                        t;
                                    if (a = "yyyy" === l.targetMatch[0] ? e.rawyear.substr(1, 1) : e.rawyear.substr(0, 1),
                                    o = i.min.year.substr(2, 1),
                                    r = i.max ? i.max.year.substr(2, 1) : a,
                                    1 === a.length && o <= a && a <= r && !0 !== s)
                                        return "yyyy" === l.targetMatch[0] ? (t.insert = [{
                                            pos: t.pos + 1,
                                            c: a,
                                            strict: !0
                                        }],
                                        t.caret = t.pos + 2,
                                        n.validPositions[t.pos].input = i.min.year[1]) : (t.insert = [{
                                            pos: t.pos + 1,
                                            c: i.min.year[1],
                                            strict: !0
                                        }, {
                                            pos: t.pos + 2,
                                            c: a,
                                            strict: !0
                                        }],
                                        t.caret = t.pos + 3,
                                        n.validPositions[t.pos].input = i.min.year[0]),
                                        t;
                                    t = !1
                                }
                            }
                            t && e.year && e.year === e.rawyear && i.min.date.getTime() == i.min.date.getTime() && (t = i.min.date.getTime() <= e.date.getTime())
                        }
                        return t && i.max && i.max.date.getTime() == i.max.date.getTime() && (t = i.max.date.getTime() >= e.date.getTime()),
                        t
                    }(f, p = m.call(this, f, p, s), s, r, o)),
                    t && p && n.pos !== t ? {
                        buffer: g(s.inputFormat, f, s).split(""),
                        refreshFromBuffer: {
                            start: t,
                            end: n.pos
                        }
                    } : p
                },
                onKeyDown: function(e, t, i, n) {
                    e.ctrlKey && e.keyCode === s.default.RIGHT && (this.inputmask._valueSet(b(new Date, n)),
                    d(this).trigger("setvalue"))
                },
                onUnMask: function(e, t, i) {
                    return t ? g(i.outputFormat, y(e, i.inputFormat, i), i, !0) : t
                },
                casing: function(e, t, i, n) {
                    return 0 == t.nativeDef.indexOf("[ap]") ? e.toLowerCase() : 0 == t.nativeDef.indexOf("[AP]") ? e.toUpperCase() : e
                },
                onBeforeMask: function(e, t) {
                    return "[object Date]" === Object.prototype.toString.call(e) && (e = b(e, t)),
                    e
                },
                insertMode: !1,
                shiftPositions: !1,
                keepStatic: !1,
                inputmode: "numeric"
            }
        })
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = function(e, t, i) {
            if (void 0 === i)
                return e.__data ? e.__data[t] : null;
            e.__data = e.__data || {},
            e.__data[t] = i
        }
    }
    , function(e, t, i) {
        "use strict";
        var n = a(i(1))
          , s = a(i(0))
          , r = a(i(14));
        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var o = n.default.dependencyLib;
        function l(e, t) {
            for (var i = "", s = 0; s < e.length; s++)
                n.default.prototype.definitions[e.charAt(s)] || t.definitions[e.charAt(s)] || t.optionalmarker[0] === e.charAt(s) || t.optionalmarker[1] === e.charAt(s) || t.quantifiermarker[0] === e.charAt(s) || t.quantifiermarker[1] === e.charAt(s) || t.groupmarker[0] === e.charAt(s) || t.groupmarker[1] === e.charAt(s) || t.alternatormarker === e.charAt(s) ? i += "\\" + e.charAt(s) : i += e.charAt(s);
            return i
        }
        function d(e, t, i, n) {
            if (0 < e.length && 0 < t && (!i.digitsOptional || n)) {
                var s = e.indexOf(i.radixPoint)
                  , r = !1;
                i.negationSymbol.back === e[e.length - 1] && (r = !0,
                e.length--),
                -1 === s && (e.push(i.radixPoint),
                s = e.length - 1);
                for (var a = 1; a <= t; a++)
                    isFinite(e[s + a]) || (e[s + a] = "0")
            }
            return r && e.push(i.negationSymbol.back),
            e
        }
        function c(e, t) {
            var i = 0;
            if ("+" === e) {
                for (i in t.validPositions)
                    ;
                i = parseInt(i)
            }
            for (var n in t.tests)
                if (i <= (n = parseInt(n)))
                    for (var s = 0, r = t.tests[n].length; s < r; s++)
                        if ((void 0 === t.validPositions[n] || "-" === e) && t.tests[n][s].match.def === e)
                            return n + (void 0 !== t.validPositions[n] && "-" !== e ? 1 : 0);
            return i
        }
        function u(e, t) {
            var i = -1;
            for (var n in t.validPositions) {
                var s = t.validPositions[n];
                if (s && s.match.def === e) {
                    i = parseInt(n);
                    break
                }
            }
            return i
        }
        function h(e, t, i, n, s) {
            var r = t.buffer ? t.buffer.indexOf(s.radixPoint) : -1
              , a = -1 !== r && new RegExp("[0-9ï¼-ï¼]").test(e);
            return s._radixDance && a && null == t.validPositions[r] ? {
                insert: {
                    pos: r === i ? r + 1 : r,
                    c: s.radixPoint
                },
                pos: i
            } : a
        }
        n.default.extendAliases({
            numeric: {
                mask: function(e) {
                    e.repeat = 0,
                    e.groupSeparator === e.radixPoint && e.digits && "0" !== e.digits && ("." === e.radixPoint ? e.groupSeparator = "," : "," === e.radixPoint ? e.groupSeparator = "." : e.groupSeparator = ""),
                    " " === e.groupSeparator && (e.skipOptionalPartCharacter = void 0),
                    1 < e.placeholder.length && (e.placeholder = e.placeholder.charAt(0)),
                    "radixFocus" === e.positionCaretOnClick && "" === e.placeholder && (e.positionCaretOnClick = "lvp");
                    var t = "0"
                      , i = e.radixPoint;
                    !0 === e.numericInput && void 0 === e.__financeInput ? (t = "1",
                    e.positionCaretOnClick = "radixFocus" === e.positionCaretOnClick ? "lvp" : e.positionCaretOnClick,
                    e.digitsOptional = !1,
                    isNaN(e.digits) && (e.digits = 2),
                    e._radixDance = !1,
                    i = "," === e.radixPoint ? "?" : "!",
                    "" !== e.radixPoint && void 0 === e.definitions[i] && (e.definitions[i] = {},
                    e.definitions[i].validator = "[" + e.radixPoint + "]",
                    e.definitions[i].placeholder = e.radixPoint,
                    e.definitions[i].static = !0,
                    e.definitions[i].generated = !0)) : (e.__financeInput = !1,
                    e.numericInput = !0);
                    var n, s = "[+]";
                    if (s += l(e.prefix, e),
                    "" !== e.groupSeparator ? (void 0 === e.definitions[e.groupSeparator] && (e.definitions[e.groupSeparator] = {},
                    e.definitions[e.groupSeparator].validator = "[" + e.groupSeparator + "]",
                    e.definitions[e.groupSeparator].placeholder = e.groupSeparator,
                    e.definitions[e.groupSeparator].static = !0,
                    e.definitions[e.groupSeparator].generated = !0),
                    s += e._mask(e)) : s += "9{+}",
                    void 0 !== e.digits && 0 !== e.digits) {
                        var a = e.digits.toString().split(",");
                        isFinite(a[0]) && a[1] && isFinite(a[1]) ? s += i + t + "{" + e.digits + "}" : (isNaN(e.digits) || 0 < parseInt(e.digits)) && (e.digitsOptional ? (n = s + i + t + "{0," + e.digits + "}",
                        e.keepStatic = !0) : s += i + t + "{" + e.digits + "}")
                    }
                    return s += l(e.suffix, e),
                    s += "[-]",
                    n && (s = [n + l(e.suffix, e) + "[-]", s]),
                    e.greedy = !1,
                    function(e) {
                        void 0 === e.parseMinMaxOptions && (null !== e.min && (e.min = e.min.toString().replace(new RegExp((0,
                        r.default)(e.groupSeparator),"g"), ""),
                        "," === e.radixPoint && (e.min = e.min.replace(e.radixPoint, ".")),
                        e.min = isFinite(e.min) ? parseFloat(e.min) : NaN,
                        isNaN(e.min) && (e.min = Number.MIN_VALUE)),
                        null !== e.max && (e.max = e.max.toString().replace(new RegExp((0,
                        r.default)(e.groupSeparator),"g"), ""),
                        "," === e.radixPoint && (e.max = e.max.replace(e.radixPoint, ".")),
                        e.max = isFinite(e.max) ? parseFloat(e.max) : NaN,
                        isNaN(e.max) && (e.max = Number.MAX_VALUE)),
                        e.parseMinMaxOptions = "done")
                    }(e),
                    s
                },
                _mask: function(e) {
                    return "(" + e.groupSeparator + "999){+|1}"
                },
                digits: "*",
                digitsOptional: !0,
                enforceDigitsOnBlur: !1,
                radixPoint: ".",
                positionCaretOnClick: "radixFocus",
                _radixDance: !0,
                groupSeparator: "",
                allowMinus: !0,
                negationSymbol: {
                    front: "-",
                    back: ""
                },
                prefix: "",
                suffix: "",
                min: null,
                max: null,
                SetMaxOnOverflow: !1,
                step: 1,
                inputType: "text",
                unmaskAsNumber: !1,
                roundingFN: Math.round,
                inputmode: "numeric",
                shortcuts: {
                    k: "000",
                    m: "000000"
                },
                placeholder: "0",
                greedy: !1,
                rightAlign: !0,
                insertMode: !0,
                autoUnmask: !1,
                skipOptionalPartCharacter: "",
                definitions: {
                    0: {
                        validator: h
                    },
                    1: {
                        validator: h,
                        definitionSymbol: "9"
                    },
                    "+": {
                        validator: function(e, t, i, n, s) {
                            return s.allowMinus && ("-" === e || e === s.negationSymbol.front)
                        }
                    },
                    "-": {
                        validator: function(e, t, i, n, s) {
                            return s.allowMinus && e === s.negationSymbol.back
                        }
                    }
                },
                preValidation: function(e, t, i, n, s, r, a, o) {
                    if (!1 !== s.__financeInput && i === s.radixPoint)
                        return !1;
                    var l;
                    if (l = s.shortcuts && s.shortcuts[i]) {
                        if (1 < l.length)
                            for (var d = [], h = 0; h < l.length; h++)
                                d.push({
                                    pos: t + h,
                                    c: l[h],
                                    strict: !1
                                });
                        return {
                            insert: d
                        }
                    }
                    var p = e.indexOf(s.radixPoint)
                      , f = t;
                    if (t = function(e, t, i, n, s) {
                        return s._radixDance && s.numericInput && t !== s.negationSymbol.back && e <= i && (0 < i || t == s.radixPoint) && (void 0 === n.validPositions[e - 1] || n.validPositions[e - 1].input !== s.negationSymbol.back) && (e -= 1),
                        e
                    }(t, i, p, r, s),
                    "-" === i || i === s.negationSymbol.front) {
                        if (!0 !== s.allowMinus)
                            return !1;
                        var m = !1
                          , g = u("+", r)
                          , v = u("-", r);
                        return -1 !== g && (m = [g, v]),
                        !1 !== m ? {
                            remove: m,
                            caret: f - s.negationSymbol.front.length
                        } : {
                            insert: [{
                                pos: c("+", r),
                                c: s.negationSymbol.front,
                                fromIsValid: !0
                            }, {
                                pos: c("-", r),
                                c: s.negationSymbol.back,
                                fromIsValid: void 0
                            }],
                            caret: f + s.negationSymbol.back.length
                        }
                    }
                    if (i === s.groupSeparator)
                        return {
                            caret: f
                        };
                    if (o)
                        return !0;
                    if (-1 !== p && !0 === s._radixDance && !1 === n && i === s.radixPoint && void 0 !== s.digits && (isNaN(s.digits) || 0 < parseInt(s.digits)) && p !== t)
                        return {
                            caret: s._radixDance && t === p - 1 ? p + 1 : p
                        };
                    if (!1 === s.__financeInput)
                        if (n) {
                            if (s.digitsOptional)
                                return {
                                    rewritePosition: a.end
                                };
                            if (!s.digitsOptional) {
                                if (a.begin > p && a.end <= p)
                                    return i === s.radixPoint ? {
                                        insert: {
                                            pos: p + 1,
                                            c: "0",
                                            fromIsValid: !0
                                        },
                                        rewritePosition: p
                                    } : {
                                        rewritePosition: p + 1
                                    };
                                if (a.begin < p)
                                    return {
                                        rewritePosition: a.begin - 1
                                    }
                            }
                        } else if (!s.showMaskOnHover && !s.showMaskOnFocus && !s.digitsOptional && 0 < s.digits && "" === this.inputmask.__valueGet.call(this))
                            return {
                                rewritePosition: p
                            };
                    return {
                        rewritePosition: t
                    }
                },
                postValidation: function(e, t, i, n, s, r, a) {
                    if (!1 === n)
                        return n;
                    if (a)
                        return !0;
                    if (null !== s.min || null !== s.max) {
                        var l = s.onUnMask(e.slice().reverse().join(""), void 0, o.extend({}, s, {
                            unmaskAsNumber: !0
                        }));
                        if (null !== s.min && l < s.min && (l.toString().length > s.min.toString().length || l < 0))
                            return !1;
                        if (null !== s.max && l > s.max)
                            return !!s.SetMaxOnOverflow && {
                                refreshFromBuffer: !0,
                                buffer: d(s.max.toString().replace(".", s.radixPoint).split(""), s.digits, s).reverse()
                            }
                    }
                    return n
                },
                onUnMask: function(e, t, i) {
                    if ("" === t && !0 === i.nullable)
                        return t;
                    var n = e.replace(i.prefix, "");
                    return n = (n = n.replace(i.suffix, "")).replace(new RegExp((0,
                    r.default)(i.groupSeparator),"g"), ""),
                    "" !== i.placeholder.charAt(0) && (n = n.replace(new RegExp(i.placeholder.charAt(0),"g"), "0")),
                    i.unmaskAsNumber ? ("" !== i.radixPoint && -1 !== n.indexOf(i.radixPoint) && (n = n.replace(r.default.call(this, i.radixPoint), ".")),
                    n = (n = n.replace(new RegExp("^" + (0,
                    r.default)(i.negationSymbol.front)), "-")).replace(new RegExp((0,
                    r.default)(i.negationSymbol.back) + "$"), ""),
                    Number(n)) : n
                },
                isComplete: function(e, t) {
                    var i = (t.numericInput ? e.slice().reverse() : e).join("");
                    return i = (i = (i = (i = (i = i.replace(new RegExp("^" + (0,
                    r.default)(t.negationSymbol.front)), "-")).replace(new RegExp((0,
                    r.default)(t.negationSymbol.back) + "$"), "")).replace(t.prefix, "")).replace(t.suffix, "")).replace(new RegExp((0,
                    r.default)(t.groupSeparator) + "([0-9]{3})","g"), "$1"),
                    "," === t.radixPoint && (i = i.replace((0,
                    r.default)(t.radixPoint), ".")),
                    isFinite(i)
                },
                onBeforeMask: function(e, t) {
                    var i = t.radixPoint || ",";
                    isFinite(t.digits) && (t.digits = parseInt(t.digits)),
                    "number" != typeof e && "number" !== t.inputType || "" === i || (e = e.toString().replace(".", i));
                    var n = "-" === e.charAt(0) || e.charAt(0) === t.negationSymbol.front
                      , s = e.split(i)
                      , a = s[0].replace(/[^\-0-9]/g, "")
                      , o = 1 < s.length ? s[1].replace(/[^0-9]/g, "") : ""
                      , l = 1 < s.length;
                    e = a + ("" !== o ? i + o : o);
                    var c = 0;
                    if ("" !== i && (c = t.digitsOptional ? t.digits < o.length ? t.digits : o.length : t.digits,
                    "" !== o || !t.digitsOptional)) {
                        var u = Math.pow(10, c || 1);
                        e = e.replace((0,
                        r.default)(i), "."),
                        isNaN(parseFloat(e)) || (e = (t.roundingFN(parseFloat(e) * u) / u).toFixed(c)),
                        e = e.toString().replace(".", i)
                    }
                    if (0 === t.digits && -1 !== e.indexOf(i) && (e = e.substring(0, e.indexOf(i))),
                    null !== t.min || null !== t.max) {
                        var h = e.toString().replace(i, ".");
                        null !== t.min && h < t.min ? e = t.min.toString().replace(".", i) : null !== t.max && h > t.max && (e = t.max.toString().replace(".", i))
                    }
                    return n && "-" !== e.charAt(0) && (e = "-" + e),
                    d(e.toString().split(""), c, t, l).join("")
                },
                onBeforeWrite: function(e, t, i, n) {
                    function s(e, t) {
                        if (!1 !== n.__financeInput || t) {
                            var i = e.indexOf(n.radixPoint);
                            -1 !== i && e.splice(i, 1)
                        }
                        if ("" !== n.groupSeparator)
                            for (; -1 !== (i = e.indexOf(n.groupSeparator)); )
                                e.splice(i, 1);
                        return e
                    }
                    var a, l = function(e, t) {
                        var i = new RegExp("(^" + ("" !== t.negationSymbol.front ? (0,
                        r.default)(t.negationSymbol.front) + "?" : "") + (0,
                        r.default)(t.prefix) + ")(.*)(" + (0,
                        r.default)(t.suffix) + ("" != t.negationSymbol.back ? (0,
                        r.default)(t.negationSymbol.back) + "?" : "") + "$)").exec(e.slice().reverse().join(""))
                          , n = i ? i[2] : ""
                          , s = !1;
                        return n && (n = n.split(t.radixPoint.charAt(0))[0],
                        s = new RegExp("^[0" + t.groupSeparator + "]*").exec(n)),
                        !(!s || !(1 < s[0].length || 0 < s[0].length && s[0].length < n.length)) && s
                    }(t, n);
                    if (l)
                        for (var c = t.join("").lastIndexOf(l[0].split("").reverse().join("")) - (l[0] == l.input ? 0 : 1), u = l[0] == l.input ? 1 : 0, h = l[0].length - u; 0 < h; h--)
                            delete this.maskset.validPositions[c + h],
                            delete t[c + h];
                    if (e)
                        switch (e.type) {
                        case "blur":
                        case "checkval":
                            if (null !== n.min) {
                                var p = n.onUnMask(t.slice().reverse().join(""), void 0, o.extend({}, n, {
                                    unmaskAsNumber: !0
                                }));
                                if (null !== n.min && p < n.min)
                                    return {
                                        refreshFromBuffer: !0,
                                        buffer: d(n.min.toString().replace(".", n.radixPoint).split(""), n.digits, n).reverse()
                                    }
                            }
                            if (t[t.length - 1] === n.negationSymbol.front) {
                                var f = new RegExp("(^" + ("" != n.negationSymbol.front ? (0,
                                r.default)(n.negationSymbol.front) + "?" : "") + (0,
                                r.default)(n.prefix) + ")(.*)(" + (0,
                                r.default)(n.suffix) + ("" != n.negationSymbol.back ? (0,
                                r.default)(n.negationSymbol.back) + "?" : "") + "$)").exec(s(t.slice(), !0).reverse().join(""));
                                0 == (f ? f[2] : "") && (a = {
                                    refreshFromBuffer: !0,
                                    buffer: [0]
                                })
                            } else
                                "" !== n.radixPoint && t[0] === n.radixPoint && (a && a.buffer ? a.buffer.shift() : (t.shift(),
                                a = {
                                    refreshFromBuffer: !0,
                                    buffer: s(t)
                                }));
                            if (n.enforceDigitsOnBlur) {
                                var m = (a = a || {}) && a.buffer || t.slice().reverse();
                                a.refreshFromBuffer = !0,
                                a.buffer = d(m, n.digits, n, !0).reverse()
                            }
                        }
                    return a
                },
                onKeyDown: function(e, t, i, n) {
                    var r, a = o(this);
                    if (e.ctrlKey)
                        switch (e.keyCode) {
                        case s.default.UP:
                            return this.inputmask.__valueSet.call(this, parseFloat(this.inputmask.unmaskedvalue()) + parseInt(n.step)),
                            a.trigger("setvalue"),
                            !1;
                        case s.default.DOWN:
                            return this.inputmask.__valueSet.call(this, parseFloat(this.inputmask.unmaskedvalue()) - parseInt(n.step)),
                            a.trigger("setvalue"),
                            !1
                        }
                    if (!e.shiftKey && (e.keyCode === s.default.DELETE || e.keyCode === s.default.BACKSPACE || e.keyCode === s.default.BACKSPACE_SAFARI) && i.begin !== t.length) {
                        if (t[e.keyCode === s.default.DELETE ? i.begin - 1 : i.end] === n.negationSymbol.front)
                            return r = t.slice().reverse(),
                            "" !== n.negationSymbol.front && r.shift(),
                            "" !== n.negationSymbol.back && r.pop(),
                            a.trigger("setvalue", [r.join(""), i.begin]),
                            !1;
                        if (!0 === n._radixDance) {
                            var l = t.indexOf(n.radixPoint);
                            if (n.digitsOptional) {
                                if (0 === l)
                                    return (r = t.slice().reverse()).pop(),
                                    a.trigger("setvalue", [r.join(""), i.begin >= r.length ? r.length : i.begin]),
                                    !1
                            } else if (-1 !== l && (i.begin < l || i.end < l || e.keyCode === s.default.DELETE && i.begin === l))
                                return i.begin !== i.end || e.keyCode !== s.default.BACKSPACE && e.keyCode !== s.default.BACKSPACE_SAFARI || i.begin++,
                                (r = t.slice().reverse()).splice(r.length - i.begin, i.begin - i.end + 1),
                                r = d(r, n.digits, n).join(""),
                                a.trigger("setvalue", [r, i.begin >= r.length ? l + 1 : i.begin]),
                                !1
                        }
                    }
                }
            },
            currency: {
                prefix: "",
                groupSeparator: ",",
                alias: "numeric",
                digits: 2,
                digitsOptional: !1
            },
            decimal: {
                alias: "numeric"
            },
            integer: {
                alias: "numeric",
                digits: 0
            },
            percentage: {
                alias: "numeric",
                min: 0,
                max: 100,
                suffix: " %",
                digits: 0,
                allowMinus: !1
            },
            indianns: {
                alias: "numeric",
                _mask: function(e) {
                    return "(" + e.groupSeparator + "99){*|1}(" + e.groupSeparator + "999){1|1}"
                },
                groupSeparator: ",",
                radixPoint: ".",
                placeholder: "0",
                digits: 2,
                digitsOptional: !1
            }
        })
    }
    , function(e, t, i) {
        "use strict";
        var n = h(i(13))
          , s = h(i(1));
        function r(e) {
            return r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            ,
            r(e)
        }
        function a(e) {
            var t = d();
            return function() {
                var i, n = u(e);
                if (t) {
                    var s = u(this).constructor;
                    i = Reflect.construct(n, arguments, s)
                } else
                    i = n.apply(this, arguments);
                return function(e, t) {
                    return !t || "object" !== r(t) && "function" != typeof t ? function(e) {
                        if (void 0 === e)
                            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return e
                    }(e) : t
                }(this, i)
            }
        }
        function o(e) {
            var t = "function" == typeof Map ? new Map : void 0;
            return o = function(e) {
                if (null === e || (i = e,
                -1 === Function.toString.call(i).indexOf("[native code]")))
                    return e;
                var i;
                if ("function" != typeof e)
                    throw new TypeError("Super expression must either be null or a function");
                if (void 0 !== t) {
                    if (t.has(e))
                        return t.get(e);
                    t.set(e, n)
                }
                function n() {
                    return l(e, arguments, u(this).constructor)
                }
                return n.prototype = Object.create(e.prototype, {
                    constructor: {
                        value: n,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                c(n, e)
            }
            ,
            o(e)
        }
        function l(e, t, i) {
            return l = d() ? Reflect.construct : function(e, t, i) {
                var n = [null];
                n.push.apply(n, t);
                var s = new (Function.bind.apply(e, n));
                return i && c(s, i.prototype),
                s
            }
            ,
            l.apply(null, arguments)
        }
        function d() {
            if ("undefined" == typeof Reflect || !Reflect.construct)
                return !1;
            if (Reflect.construct.sham)
                return !1;
            if ("function" == typeof Proxy)
                return !0;
            try {
                return Date.prototype.toString.call(Reflect.construct(Date, [], (function() {}
                ))),
                !0
            } catch (e) {
                return !1
            }
        }
        function c(e, t) {
            return c = Object.setPrototypeOf || function(e, t) {
                return e.__proto__ = t,
                e
            }
            ,
            c(e, t)
        }
        function u(e) {
            return u = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
                return e.__proto__ || Object.getPrototypeOf(e)
            }
            ,
            u(e)
        }
        function h(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        var p = n.default.document;
        if (p && p.head && p.head.attachShadow && n.default.customElements && void 0 === n.default.customElements.get("input-mask")) {
            var f = function(e) {
                !function(e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && c(e, t)
                }(i, e);
                var t = a(i);
                function i() {
                    var e;
                    !function(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }(this, i);
                    var n = (e = t.call(this)).getAttributeNames()
                      , r = e.attachShadow({
                        mode: "closed"
                    })
                      , a = p.createElement("input");
                    for (var o in a.type = "text",
                    r.appendChild(a),
                    n)
                        Object.prototype.hasOwnProperty.call(n, o) && a.setAttribute(n[o], e.getAttribute(n[o]));
                    var l = new s.default;
                    return l.dataAttribute = "",
                    l.mask(a),
                    a.inputmask.shadowRoot = r,
                    e
                }
                return i
            }(o(HTMLElement));
            n.default.customElements.define("input-mask", f)
        }
    }
    , function(e, t, i) {
        "use strict";
        var n = a(i(8))
          , s = a(i(1));
        function r(e) {
            return r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                return typeof e
            }
            : function(e) {
                return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
            }
            ,
            r(e)
        }
        function a(e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        void 0 === n.default.fn.inputmask && (n.default.fn.inputmask = function(e, t) {
            var i, a = this[0];
            if (void 0 === t && (t = {}),
            "string" == typeof e)
                switch (e) {
                case "unmaskedvalue":
                    return a && a.inputmask ? a.inputmask.unmaskedvalue() : (0,
                    n.default)(a).val();
                case "remove":
                    return this.each((function() {
                        this.inputmask && this.inputmask.remove()
                    }
                    ));
                case "getemptymask":
                    return a && a.inputmask ? a.inputmask.getemptymask() : "";
                case "hasMaskedValue":
                    return !(!a || !a.inputmask) && a.inputmask.hasMaskedValue();
                case "isComplete":
                    return !a || !a.inputmask || a.inputmask.isComplete();
                case "getmetadata":
                    return a && a.inputmask ? a.inputmask.getmetadata() : void 0;
                case "setvalue":
                    s.default.setValue(a, t);
                    break;
                case "option":
                    if ("string" != typeof t)
                        return this.each((function() {
                            if (void 0 !== this.inputmask)
                                return this.inputmask.option(t)
                        }
                        ));
                    if (a && void 0 !== a.inputmask)
                        return a.inputmask.option(t);
                    break;
                default:
                    return t.alias = e,
                    i = new s.default(t),
                    this.each((function() {
                        i.mask(this)
                    }
                    ))
                }
            else {
                if (Array.isArray(e))
                    return t.alias = e,
                    i = new s.default(t),
                    this.each((function() {
                        i.mask(this)
                    }
                    ));
                if ("object" == r(e))
                    return i = new s.default(e),
                    void 0 === e.mask && void 0 === e.alias ? this.each((function() {
                        if (void 0 !== this.inputmask)
                            return this.inputmask.option(e);
                        i.mask(this)
                    }
                    )) : this.each((function() {
                        i.mask(this)
                    }
                    ));
                if (void 0 === e)
                    return this.each((function() {
                        (i = new s.default(t)).mask(this)
                    }
                    ))
            }
        }
        )
    }
    , function(e, t, i) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
        t.default = void 0;
        var n, s = (n = i(15)) && n.__esModule ? n : {
            default: n
        };
        i(24);
        var r = s.default;
        t.default = r
    }
    ],
    installedModules = {},
    __webpack_require__.m = modules,
    __webpack_require__.c = installedModules,
    __webpack_require__.d = function(e, t, i) {
        __webpack_require__.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: i
        })
    }
    ,
    __webpack_require__.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }),
        Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }
    ,
    __webpack_require__.t = function(e, t) {
        if (1 & t && (e = __webpack_require__(e)),
        8 & t)
            return e;
        if (4 & t && "object" == typeof e && e && e.__esModule)
            return e;
        var i = Object.create(null);
        if (__webpack_require__.r(i),
        Object.defineProperty(i, "default", {
            enumerable: !0,
            value: e
        }),
        2 & t && "string" != typeof e)
            for (var n in e)
                __webpack_require__.d(i, n, function(t) {
                    return e[t]
                }
                .bind(null, n));
        return i
    }
    ,
    __webpack_require__.n = function(e) {
        var t = e && e.__esModule ? function() {
            return e.default
        }
        : function() {
            return e
        }
        ;
        return __webpack_require__.d(t, "a", t),
        t
    }
    ,
    __webpack_require__.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }
    ,
    __webpack_require__.p = "",
    __webpack_require__(__webpack_require__.s = 25);
    function __webpack_require__(e) {
        if (installedModules[e])
            return installedModules[e].exports;
        var t = installedModules[e] = {
            i: e,
            l: !1,
            exports: {}
        };
        return modules[e].call(t.exports, t, t.exports, __webpack_require__),
        t.l = !0,
        t.exports
    }
    var modules, installedModules
}
)),
function(e) {
    "use strict";
    "function" == typeof define && define.amd ? define(["jquery"], e) : "undefined" != typeof exports ? module.exports = e(require("jquery")) : e(jQuery)
}((function(e) {
    "use strict";
    var t = window.Slick || {};
    (t = function() {
        var t = 0;
        return function(i, n) {
            var s, r = this;
            r.defaults = {
                accessibility: !0,
                adaptiveHeight: !1,
                appendArrows: e(i),
                appendDots: e(i),
                arrows: !0,
                asNavFor: null,
                prevArrow: '<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',
                nextArrow: '<button class="slick-next" aria-label="Next" type="button">Next</button>',
                autoplay: !1,
                autoplaySpeed: 3e3,
                centerMode: !1,
                centerPadding: "50px",
                cssEase: "ease",
                customPaging: function(t, i) {
                    return e('<button type="button" />').text(i + 1)
                },
                dots: !1,
                dotsClass: "slick-dots",
                draggable: !0,
                easing: "linear",
                edgeFriction: .35,
                fade: !1,
                focusOnSelect: !1,
                focusOnChange: !1,
                infinite: !0,
                initialSlide: 0,
                lazyLoad: "ondemand",
                mobileFirst: !1,
                pauseOnHover: !0,
                pauseOnFocus: !0,
                pauseOnDotsHover: !1,
                respondTo: "window",
                responsive: null,
                rows: 1,
                rtl: !1,
                slide: "",
                slidesPerRow: 1,
                slidesToShow: 1,
                slidesToScroll: 1,
                speed: 500,
                swipe: !0,
                swipeToSlide: !1,
                touchMove: !0,
                touchThreshold: 5,
                useCSS: !0,
                useTransform: !0,
                variableWidth: !1,
                vertical: !1,
                verticalSwiping: !1,
                waitForAnimate: !0,
                zIndex: 1e3
            },
            r.initials = {
                animating: !1,
                dragging: !1,
                autoPlayTimer: null,
                currentDirection: 0,
                currentLeft: null,
                currentSlide: 0,
                direction: 1,
                $dots: null,
                listWidth: null,
                listHeight: null,
                loadIndex: 0,
                $nextArrow: null,
                $prevArrow: null,
                scrolling: !1,
                slideCount: null,
                slideWidth: null,
                $slideTrack: null,
                $slides: null,
                sliding: !1,
                slideOffset: 0,
                swipeLeft: null,
                swiping: !1,
                $list: null,
                touchObject: {},
                transformsEnabled: !1,
                unslicked: !1
            },
            e.extend(r, r.initials),
            r.activeBreakpoint = null,
            r.animType = null,
            r.animProp = null,
            r.breakpoints = [],
            r.breakpointSettings = [],
            r.cssTransitions = !1,
            r.focussed = !1,
            r.interrupted = !1,
            r.hidden = "hidden",
            r.paused = !0,
            r.positionProp = null,
            r.respondTo = null,
            r.rowCount = 1,
            r.shouldClick = !0,
            r.$slider = e(i),
            r.$slidesCache = null,
            r.transformType = null,
            r.transitionType = null,
            r.visibilityChange = "visibilitychange",
            r.windowWidth = 0,
            r.windowTimer = null,
            s = e(i).data("slick") || {},
            r.options = e.extend({}, r.defaults, n, s),
            r.currentSlide = r.options.initialSlide,
            r.originalSettings = r.options,
            void 0 !== document.mozHidden ? (r.hidden = "mozHidden",
            r.visibilityChange = "mozvisibilitychange") : void 0 !== document.webkitHidden && (r.hidden = "webkitHidden",
            r.visibilityChange = "webkitvisibilitychange"),
            r.autoPlay = e.proxy(r.autoPlay, r),
            r.autoPlayClear = e.proxy(r.autoPlayClear, r),
            r.autoPlayIterator = e.proxy(r.autoPlayIterator, r),
            r.changeSlide = e.proxy(r.changeSlide, r),
            r.clickHandler = e.proxy(r.clickHandler, r),
            r.selectHandler = e.proxy(r.selectHandler, r),
            r.setPosition = e.proxy(r.setPosition, r),
            r.swipeHandler = e.proxy(r.swipeHandler, r),
            r.dragHandler = e.proxy(r.dragHandler, r),
            r.keyHandler = e.proxy(r.keyHandler, r),
            r.instanceUid = t++,
            r.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/,
            r.registerBreakpoints(),
            r.init(!0)
        }
    }()).prototype.activateADA = function() {
        this.$slideTrack.find(".slick-active").attr({
            "aria-hidden": "false"
        }).find("a, input, button, select").attr({
            tabindex: "0"
        })
    }
    ,
    t.prototype.addSlide = t.prototype.slickAdd = function(t, i, n) {
        var s = this;
        if ("boolean" == typeof i)
            n = i,
            i = null;
        else if (i < 0 || i >= s.slideCount)
            return !1;
        s.unload(),
        "number" == typeof i ? 0 === i && 0 === s.$slides.length ? e(t).appendTo(s.$slideTrack) : n ? e(t).insertBefore(s.$slides.eq(i)) : e(t).insertAfter(s.$slides.eq(i)) : !0 === n ? e(t).prependTo(s.$slideTrack) : e(t).appendTo(s.$slideTrack),
        s.$slides = s.$slideTrack.children(this.options.slide),
        s.$slideTrack.children(this.options.slide).detach(),
        s.$slideTrack.append(s.$slides),
        s.$slides.each((function(t, i) {
            e(i).attr("data-slick-index", t)
        }
        )),
        s.$slidesCache = s.$slides,
        s.reinit()
    }
    ,
    t.prototype.animateHeight = function() {
        var e = this;
        if (1 === e.options.slidesToShow && !0 === e.options.adaptiveHeight && !1 === e.options.vertical) {
            var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
            e.$list.animate({
                height: t
            }, e.options.speed)
        }
    }
    ,
    t.prototype.animateSlide = function(t, i) {
        var n = {}
          , s = this;
        s.animateHeight(),
        !0 === s.options.rtl && !1 === s.options.vertical && (t = -t),
        !1 === s.transformsEnabled ? !1 === s.options.vertical ? s.$slideTrack.animate({
            left: t
        }, s.options.speed, s.options.easing, i) : s.$slideTrack.animate({
            top: t
        }, s.options.speed, s.options.easing, i) : !1 === s.cssTransitions ? (!0 === s.options.rtl && (s.currentLeft = -s.currentLeft),
        e({
            animStart: s.currentLeft
        }).animate({
            animStart: t
        }, {
            duration: s.options.speed,
            easing: s.options.easing,
            step: function(e) {
                e = Math.ceil(e),
                !1 === s.options.vertical ? (n[s.animType] = "translate(" + e + "px, 0px)",
                s.$slideTrack.css(n)) : (n[s.animType] = "translate(0px," + e + "px)",
                s.$slideTrack.css(n))
            },
            complete: function() {
                i && i.call()
            }
        })) : (s.applyTransition(),
        t = Math.ceil(t),
        !1 === s.options.vertical ? n[s.animType] = "translate3d(" + t + "px, 0px, 0px)" : n[s.animType] = "translate3d(0px," + t + "px, 0px)",
        s.$slideTrack.css(n),
        i && setTimeout((function() {
            s.disableTransition(),
            i.call()
        }
        ), s.options.speed))
    }
    ,
    t.prototype.getNavTarget = function() {
        var t = this.options.asNavFor;
        return t && null !== t && (t = e(t).not(this.$slider)),
        t
    }
    ,
    t.prototype.asNavFor = function(t) {
        var i = this.getNavTarget();
        null !== i && "object" == typeof i && i.each((function() {
            var i = e(this).slick("getSlick");
            i.unslicked || i.slideHandler(t, !0)
        }
        ))
    }
    ,
    t.prototype.applyTransition = function(e) {
        var t = this
          , i = {};
        !1 === t.options.fade ? i[t.transitionType] = t.transformType + " " + t.options.speed + "ms " + t.options.cssEase : i[t.transitionType] = "opacity " + t.options.speed + "ms " + t.options.cssEase,
        !1 === t.options.fade ? t.$slideTrack.css(i) : t.$slides.eq(e).css(i)
    }
    ,
    t.prototype.autoPlay = function() {
        var e = this;
        e.autoPlayClear(),
        e.slideCount > e.options.slidesToShow && (e.autoPlayTimer = setInterval(e.autoPlayIterator, e.options.autoplaySpeed))
    }
    ,
    t.prototype.autoPlayClear = function() {
        this.autoPlayTimer && clearInterval(this.autoPlayTimer)
    }
    ,
    t.prototype.autoPlayIterator = function() {
        var e = this
          , t = e.currentSlide + e.options.slidesToScroll;
        e.paused || e.interrupted || e.focussed || (!1 === e.options.infinite && (1 === e.direction && e.currentSlide + 1 === e.slideCount - 1 ? e.direction = 0 : 0 === e.direction && (t = e.currentSlide - e.options.slidesToScroll,
        e.currentSlide - 1 == 0 && (e.direction = 1))),
        e.slideHandler(t))
    }
    ,
    t.prototype.buildArrows = function() {
        var t = this;
        !0 === t.options.arrows && (t.$prevArrow = e(t.options.prevArrow).addClass("slick-arrow"),
        t.$nextArrow = e(t.options.nextArrow).addClass("slick-arrow"),
        t.slideCount > t.options.slidesToShow ? (t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),
        t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),
        t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.prependTo(t.options.appendArrows),
        t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.appendTo(t.options.appendArrows),
        !0 !== t.options.infinite && t.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true")) : t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({
            "aria-disabled": "true",
            tabindex: "-1"
        }))
    }
    ,
    t.prototype.buildDots = function() {
        var t, i, n = this;
        if (!0 === n.options.dots) {
            for (n.$slider.addClass("slick-dotted"),
            i = e("<ul />").addClass(n.options.dotsClass),
            t = 0; t <= n.getDotCount(); t += 1)
                i.append(e("<li />").append(n.options.customPaging.call(this, n, t)));
            n.$dots = i.appendTo(n.options.appendDots),
            n.$dots.find("li").first().addClass("slick-active")
        }
    }
    ,
    t.prototype.buildOut = function() {
        var t = this;
        t.$slides = t.$slider.children(t.options.slide + ":not(.slick-cloned)").addClass("slick-slide"),
        t.slideCount = t.$slides.length,
        t.$slides.each((function(t, i) {
            e(i).attr("data-slick-index", t).data("originalStyling", e(i).attr("style") || "")
        }
        )),
        t.$slider.addClass("slick-slider"),
        t.$slideTrack = 0 === t.slideCount ? e('<div class="slick-track"/>').appendTo(t.$slider) : t.$slides.wrapAll('<div class="slick-track"/>').parent(),
        t.$list = t.$slideTrack.wrap('<div class="slick-list"/>').parent(),
        t.$slideTrack.css("opacity", 0),
        !0 !== t.options.centerMode && !0 !== t.options.swipeToSlide || (t.options.slidesToScroll = 1),
        e("img[data-lazy]", t.$slider).not("[src]").addClass("slick-loading"),
        t.setupInfinite(),
        t.buildArrows(),
        t.buildDots(),
        t.updateDots(),
        t.setSlideClasses("number" == typeof t.currentSlide ? t.currentSlide : 0),
        !0 === t.options.draggable && t.$list.addClass("draggable")
    }
    ,
    t.prototype.buildRows = function() {
        var e, t, i, n, s, r, a, o = this;
        if (n = document.createDocumentFragment(),
        r = o.$slider.children(),
        o.options.rows > 1) {
            for (a = o.options.slidesPerRow * o.options.rows,
            s = Math.ceil(r.length / a),
            e = 0; e < s; e++) {
                var l = document.createElement("div");
                for (t = 0; t < o.options.rows; t++) {
                    var d = document.createElement("div");
                    for (i = 0; i < o.options.slidesPerRow; i++) {
                        var c = e * a + (t * o.options.slidesPerRow + i);
                        r.get(c) && d.appendChild(r.get(c))
                    }
                    l.appendChild(d)
                }
                n.appendChild(l)
            }
            o.$slider.empty().append(n),
            o.$slider.children().children().children().css({
                width: 100 / o.options.slidesPerRow + "%",
                display: "inline-block"
            })
        }
    }
    ,
    t.prototype.checkResponsive = function(t, i) {
        var n, s, r, a = this, o = !1, l = a.$slider.width(), d = window.innerWidth || e(window).width();
        if ("window" === a.respondTo ? r = d : "slider" === a.respondTo ? r = l : "min" === a.respondTo && (r = Math.min(d, l)),
        a.options.responsive && a.options.responsive.length && null !== a.options.responsive) {
            for (n in s = null,
            a.breakpoints)
                a.breakpoints.hasOwnProperty(n) && (!1 === a.originalSettings.mobileFirst ? r < a.breakpoints[n] && (s = a.breakpoints[n]) : r > a.breakpoints[n] && (s = a.breakpoints[n]));
            null !== s ? null !== a.activeBreakpoint ? (s !== a.activeBreakpoint || i) && (a.activeBreakpoint = s,
            "unslick" === a.breakpointSettings[s] ? a.unslick(s) : (a.options = e.extend({}, a.originalSettings, a.breakpointSettings[s]),
            !0 === t && (a.currentSlide = a.options.initialSlide),
            a.refresh(t)),
            o = s) : (a.activeBreakpoint = s,
            "unslick" === a.breakpointSettings[s] ? a.unslick(s) : (a.options = e.extend({}, a.originalSettings, a.breakpointSettings[s]),
            !0 === t && (a.currentSlide = a.options.initialSlide),
            a.refresh(t)),
            o = s) : null !== a.activeBreakpoint && (a.activeBreakpoint = null,
            a.options = a.originalSettings,
            !0 === t && (a.currentSlide = a.options.initialSlide),
            a.refresh(t),
            o = s),
            t || !1 === o || a.$slider.trigger("breakpoint", [a, o])
        }
    }
    ,
    t.prototype.changeSlide = function(t, i) {
        var n, s, r = this, a = e(t.currentTarget);
        switch (a.is("a") && t.preventDefault(),
        a.is("li") || (a = a.closest("li")),
        n = r.slideCount % r.options.slidesToScroll != 0 ? 0 : (r.slideCount - r.currentSlide) % r.options.slidesToScroll,
        t.data.message) {
        case "previous":
            s = 0 === n ? r.options.slidesToScroll : r.options.slidesToShow - n,
            r.slideCount > r.options.slidesToShow && r.slideHandler(r.currentSlide - s, !1, i);
            break;
        case "next":
            s = 0 === n ? r.options.slidesToScroll : n,
            r.slideCount > r.options.slidesToShow && r.slideHandler(r.currentSlide + s, !1, i);
            break;
        case "index":
            var o = 0 === t.data.index ? 0 : t.data.index || a.index() * r.options.slidesToScroll;
            r.slideHandler(r.checkNavigable(o), !1, i),
            a.children().trigger("focus");
            break;
        default:
            return
        }
    }
    ,
    t.prototype.checkNavigable = function(e) {
        var t, i;
        if (i = 0,
        e > (t = this.getNavigableIndexes())[t.length - 1])
            e = t[t.length - 1];
        else
            for (var n in t) {
                if (e < t[n]) {
                    e = i;
                    break
                }
                i = t[n]
            }
        return e
    }
    ,
    t.prototype.cleanUpEvents = function() {
        var t = this;
        t.options.dots && null !== t.$dots && (e("li", t.$dots).off("click.slick", t.changeSlide).off("mouseenter.slick", e.proxy(t.interrupt, t, !0)).off("mouseleave.slick", e.proxy(t.interrupt, t, !1)),
        !0 === t.options.accessibility && t.$dots.off("keydown.slick", t.keyHandler)),
        t.$slider.off("focus.slick blur.slick"),
        !0 === t.options.arrows && t.slideCount > t.options.slidesToShow && (t.$prevArrow && t.$prevArrow.off("click.slick", t.changeSlide),
        t.$nextArrow && t.$nextArrow.off("click.slick", t.changeSlide),
        !0 === t.options.accessibility && (t.$prevArrow && t.$prevArrow.off("keydown.slick", t.keyHandler),
        t.$nextArrow && t.$nextArrow.off("keydown.slick", t.keyHandler))),
        t.$list.off("touchstart.slick mousedown.slick", t.swipeHandler),
        t.$list.off("touchmove.slick mousemove.slick", t.swipeHandler),
        t.$list.off("touchend.slick mouseup.slick", t.swipeHandler),
        t.$list.off("touchcancel.slick mouseleave.slick", t.swipeHandler),
        t.$list.off("click.slick", t.clickHandler),
        e(document).off(t.visibilityChange, t.visibility),
        t.cleanUpSlideEvents(),
        !0 === t.options.accessibility && t.$list.off("keydown.slick", t.keyHandler),
        !0 === t.options.focusOnSelect && e(t.$slideTrack).children().off("click.slick", t.selectHandler),
        e(window).off("orientationchange.slick.slick-" + t.instanceUid, t.orientationChange),
        e(window).off("resize.slick.slick-" + t.instanceUid, t.resize),
        e("[draggable!=true]", t.$slideTrack).off("dragstart", t.preventDefault),
        e(window).off("load.slick.slick-" + t.instanceUid, t.setPosition)
    }
    ,
    t.prototype.cleanUpSlideEvents = function() {
        var t = this;
        t.$list.off("mouseenter.slick", e.proxy(t.interrupt, t, !0)),
        t.$list.off("mouseleave.slick", e.proxy(t.interrupt, t, !1))
    }
    ,
    t.prototype.cleanUpRows = function() {
        var e, t = this;
        t.options.rows > 1 && ((e = t.$slides.children().children()).removeAttr("style"),
        t.$slider.empty().append(e))
    }
    ,
    t.prototype.clickHandler = function(e) {
        !1 === this.shouldClick && (e.stopImmediatePropagation(),
        e.stopPropagation(),
        e.preventDefault())
    }
    ,
    t.prototype.destroy = function(t) {
        var i = this;
        i.autoPlayClear(),
        i.touchObject = {},
        i.cleanUpEvents(),
        e(".slick-cloned", i.$slider).detach(),
        i.$dots && i.$dots.remove(),
        i.$prevArrow && i.$prevArrow.length && (i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""),
        i.htmlExpr.test(i.options.prevArrow) && i.$prevArrow.remove()),
        i.$nextArrow && i.$nextArrow.length && (i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""),
        i.htmlExpr.test(i.options.nextArrow) && i.$nextArrow.remove()),
        i.$slides && (i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each((function() {
            e(this).attr("style", e(this).data("originalStyling"))
        }
        )),
        i.$slideTrack.children(this.options.slide).detach(),
        i.$slideTrack.detach(),
        i.$list.detach(),
        i.$slider.append(i.$slides)),
        i.cleanUpRows(),
        i.$slider.removeClass("slick-slider"),
        i.$slider.removeClass("slick-initialized"),
        i.$slider.removeClass("slick-dotted"),
        i.unslicked = !0,
        t || i.$slider.trigger("destroy", [i])
    }
    ,
    t.prototype.disableTransition = function(e) {
        var t = this
          , i = {};
        i[t.transitionType] = "",
        !1 === t.options.fade ? t.$slideTrack.css(i) : t.$slides.eq(e).css(i)
    }
    ,
    t.prototype.fadeSlide = function(e, t) {
        var i = this;
        !1 === i.cssTransitions ? (i.$slides.eq(e).css({
            zIndex: i.options.zIndex
        }),
        i.$slides.eq(e).animate({
            opacity: 1
        }, i.options.speed, i.options.easing, t)) : (i.applyTransition(e),
        i.$slides.eq(e).css({
            opacity: 1,
            zIndex: i.options.zIndex
        }),
        t && setTimeout((function() {
            i.disableTransition(e),
            t.call()
        }
        ), i.options.speed))
    }
    ,
    t.prototype.fadeSlideOut = function(e) {
        var t = this;
        !1 === t.cssTransitions ? t.$slides.eq(e).animate({
            opacity: 0,
            zIndex: t.options.zIndex - 2
        }, t.options.speed, t.options.easing) : (t.applyTransition(e),
        t.$slides.eq(e).css({
            opacity: 0,
            zIndex: t.options.zIndex - 2
        }))
    }
    ,
    t.prototype.filterSlides = t.prototype.slickFilter = function(e) {
        var t = this;
        null !== e && (t.$slidesCache = t.$slides,
        t.unload(),
        t.$slideTrack.children(this.options.slide).detach(),
        t.$slidesCache.filter(e).appendTo(t.$slideTrack),
        t.reinit())
    }
    ,
    t.prototype.focusHandler = function() {
        var t = this;
        t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick", "*", (function(i) {
            i.stopImmediatePropagation();
            var n = e(this);
            setTimeout((function() {
                t.options.pauseOnFocus && (t.focussed = n.is(":focus"),
                t.autoPlay())
            }
            ), 0)
        }
        ))
    }
    ,
    t.prototype.getCurrent = t.prototype.slickCurrentSlide = function() {
        return this.currentSlide
    }
    ,
    t.prototype.getDotCount = function() {
        var e = this
          , t = 0
          , i = 0
          , n = 0;
        if (!0 === e.options.infinite)
            if (e.slideCount <= e.options.slidesToShow)
                ++n;
            else
                for (; t < e.slideCount; )
                    ++n,
                    t = i + e.options.slidesToScroll,
                    i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
        else if (!0 === e.options.centerMode)
            n = e.slideCount;
        else if (e.options.asNavFor)
            for (; t < e.slideCount; )
                ++n,
                t = i + e.options.slidesToScroll,
                i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow;
        else
            n = 1 + Math.ceil((e.slideCount - e.options.slidesToShow) / e.options.slidesToScroll);
        return n - 1
    }
    ,
    t.prototype.getLeft = function(e) {
        var t, i, n, s, r = this, a = 0;
        return r.slideOffset = 0,
        i = r.$slides.first().outerHeight(!0),
        !0 === r.options.infinite ? (r.slideCount > r.options.slidesToShow && (r.slideOffset = r.slideWidth * r.options.slidesToShow * -1,
        s = -1,
        !0 === r.options.vertical && !0 === r.options.centerMode && (2 === r.options.slidesToShow ? s = -1.5 : 1 === r.options.slidesToShow && (s = -2)),
        a = i * r.options.slidesToShow * s),
        r.slideCount % r.options.slidesToScroll != 0 && e + r.options.slidesToScroll > r.slideCount && r.slideCount > r.options.slidesToShow && (e > r.slideCount ? (r.slideOffset = (r.options.slidesToShow - (e - r.slideCount)) * r.slideWidth * -1,
        a = (r.options.slidesToShow - (e - r.slideCount)) * i * -1) : (r.slideOffset = r.slideCount % r.options.slidesToScroll * r.slideWidth * -1,
        a = r.slideCount % r.options.slidesToScroll * i * -1))) : e + r.options.slidesToShow > r.slideCount && (r.slideOffset = (e + r.options.slidesToShow - r.slideCount) * r.slideWidth,
        a = (e + r.options.slidesToShow - r.slideCount) * i),
        r.slideCount <= r.options.slidesToShow && (r.slideOffset = 0,
        a = 0),
        !0 === r.options.centerMode && r.slideCount <= r.options.slidesToShow ? r.slideOffset = r.slideWidth * Math.floor(r.options.slidesToShow) / 2 - r.slideWidth * r.slideCount / 2 : !0 === r.options.centerMode && !0 === r.options.infinite ? r.slideOffset += r.slideWidth * Math.floor(r.options.slidesToShow / 2) - r.slideWidth : !0 === r.options.centerMode && (r.slideOffset = 0,
        r.slideOffset += r.slideWidth * Math.floor(r.options.slidesToShow / 2)),
        t = !1 === r.options.vertical ? e * r.slideWidth * -1 + r.slideOffset : e * i * -1 + a,
        !0 === r.options.variableWidth && (n = r.slideCount <= r.options.slidesToShow || !1 === r.options.infinite ? r.$slideTrack.children(".slick-slide").eq(e) : r.$slideTrack.children(".slick-slide").eq(e + r.options.slidesToShow),
        t = !0 === r.options.rtl ? n[0] ? -1 * (r.$slideTrack.width() - n[0].offsetLeft - n.width()) : 0 : n[0] ? -1 * n[0].offsetLeft : 0,
        !0 === r.options.centerMode && (n = r.slideCount <= r.options.slidesToShow || !1 === r.options.infinite ? r.$slideTrack.children(".slick-slide").eq(e) : r.$slideTrack.children(".slick-slide").eq(e + r.options.slidesToShow + 1),
        t = !0 === r.options.rtl ? n[0] ? -1 * (r.$slideTrack.width() - n[0].offsetLeft - n.width()) : 0 : n[0] ? -1 * n[0].offsetLeft : 0,
        t += (r.$list.width() - n.outerWidth()) / 2)),
        t
    }
    ,
    t.prototype.getOption = t.prototype.slickGetOption = function(e) {
        return this.options[e]
    }
    ,
    t.prototype.getNavigableIndexes = function() {
        var e, t = this, i = 0, n = 0, s = [];
        for (!1 === t.options.infinite ? e = t.slideCount : (i = -1 * t.options.slidesToScroll,
        n = -1 * t.options.slidesToScroll,
        e = 2 * t.slideCount); i < e; )
            s.push(i),
            i = n + t.options.slidesToScroll,
            n += t.options.slidesToScroll <= t.options.slidesToShow ? t.options.slidesToScroll : t.options.slidesToShow;
        return s
    }
    ,
    t.prototype.getSlick = function() {
        return this
    }
    ,
    t.prototype.getSlideCount = function() {
        var t, i, n = this;
        return i = !0 === n.options.centerMode ? n.slideWidth * Math.floor(n.options.slidesToShow / 2) : 0,
        !0 === n.options.swipeToSlide ? (n.$slideTrack.find(".slick-slide").each((function(s, r) {
            if (r.offsetLeft - i + e(r).outerWidth() / 2 > -1 * n.swipeLeft)
                return t = r,
                !1
        }
        )),
        Math.abs(e(t).attr("data-slick-index") - n.currentSlide) || 1) : n.options.slidesToScroll
    }
    ,
    t.prototype.goTo = t.prototype.slickGoTo = function(e, t) {
        this.changeSlide({
            data: {
                message: "index",
                index: parseInt(e)
            }
        }, t)
    }
    ,
    t.prototype.init = function(t) {
        var i = this;
        e(i.$slider).hasClass("slick-initialized") || (e(i.$slider).addClass("slick-initialized"),
        i.buildRows(),
        i.buildOut(),
        i.setProps(),
        i.startLoad(),
        i.loadSlider(),
        i.initializeEvents(),
        i.updateArrows(),
        i.updateDots(),
        i.checkResponsive(!0),
        i.focusHandler()),
        t && i.$slider.trigger("init", [i]),
        !0 === i.options.accessibility && i.initADA(),
        i.options.autoplay && (i.paused = !1,
        i.autoPlay())
    }
    ,
    t.prototype.initADA = function() {
        var t = this
          , i = Math.ceil(t.slideCount / t.options.slidesToShow)
          , n = t.getNavigableIndexes().filter((function(e) {
            return e >= 0 && e < t.slideCount
        }
        ));
        t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({
            "aria-hidden": "true",
            tabindex: "-1"
        }).find("a, input, button, select").attr({
            tabindex: "-1"
        }),
        null !== t.$dots && (t.$slides.not(t.$slideTrack.find(".slick-cloned")).each((function(i) {
            var s = n.indexOf(i);
            e(this).attr({
                role: "tabpanel",
                id: "slick-slide" + t.instanceUid + i,
                tabindex: -1
            }),
            -1 !== s && e(this).attr({
                "aria-describedby": "slick-slide-control" + t.instanceUid + s
            })
        }
        )),
        t.$dots.attr("role", "tablist").find("li").each((function(s) {
            var r = n[s];
            e(this).attr({
                role: "presentation"
            }),
            e(this).find("button").first().attr({
                role: "tab",
                id: "slick-slide-control" + t.instanceUid + s,
                "aria-controls": "slick-slide" + t.instanceUid + r,
                "aria-label": s + 1 + " of " + i,
                "aria-selected": null,
                tabindex: "-1"
            })
        }
        )).eq(t.currentSlide).find("button").attr({
            "aria-selected": "true",
            tabindex: "0"
        }).end());
        for (var s = t.currentSlide, r = s + t.options.slidesToShow; s < r; s++)
            t.$slides.eq(s).attr("tabindex", 0);
        t.activateADA()
    }
    ,
    t.prototype.initArrowEvents = function() {
        var e = this;
        !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.off("click.slick").on("click.slick", {
            message: "previous"
        }, e.changeSlide),
        e.$nextArrow.off("click.slick").on("click.slick", {
            message: "next"
        }, e.changeSlide),
        !0 === e.options.accessibility && (e.$prevArrow.on("keydown.slick", e.keyHandler),
        e.$nextArrow.on("keydown.slick", e.keyHandler)))
    }
    ,
    t.prototype.initDotEvents = function() {
        var t = this;
        !0 === t.options.dots && (e("li", t.$dots).on("click.slick", {
            message: "index"
        }, t.changeSlide),
        !0 === t.options.accessibility && t.$dots.on("keydown.slick", t.keyHandler)),
        !0 === t.options.dots && !0 === t.options.pauseOnDotsHover && e("li", t.$dots).on("mouseenter.slick", e.proxy(t.interrupt, t, !0)).on("mouseleave.slick", e.proxy(t.interrupt, t, !1))
    }
    ,
    t.prototype.initSlideEvents = function() {
        var t = this;
        t.options.pauseOnHover && (t.$list.on("mouseenter.slick", e.proxy(t.interrupt, t, !0)),
        t.$list.on("mouseleave.slick", e.proxy(t.interrupt, t, !1)))
    }
    ,
    t.prototype.initializeEvents = function() {
        var t = this;
        t.initArrowEvents(),
        t.initDotEvents(),
        t.initSlideEvents(),
        t.$list.on("touchstart.slick mousedown.slick", {
            action: "start"
        }, t.swipeHandler),
        t.$list.on("touchmove.slick mousemove.slick", {
            action: "move"
        }, t.swipeHandler),
        t.$list.on("touchend.slick mouseup.slick", {
            action: "end"
        }, t.swipeHandler),
        t.$list.on("touchcancel.slick mouseleave.slick", {
            action: "end"
        }, t.swipeHandler),
        t.$list.on("click.slick", t.clickHandler),
        e(document).on(t.visibilityChange, e.proxy(t.visibility, t)),
        !0 === t.options.accessibility && t.$list.on("keydown.slick", t.keyHandler),
        !0 === t.options.focusOnSelect && e(t.$slideTrack).children().on("click.slick", t.selectHandler),
        e(window).on("orientationchange.slick.slick-" + t.instanceUid, e.proxy(t.orientationChange, t)),
        e(window).on("resize.slick.slick-" + t.instanceUid, e.proxy(t.resize, t)),
        e("[draggable!=true]", t.$slideTrack).on("dragstart", t.preventDefault),
        e(window).on("load.slick.slick-" + t.instanceUid, t.setPosition),
        e(t.setPosition)
    }
    ,
    t.prototype.initUI = function() {
        var e = this;
        !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.show(),
        e.$nextArrow.show()),
        !0 === e.options.dots && e.slideCount > e.options.slidesToShow && e.$dots.show()
    }
    ,
    t.prototype.keyHandler = function(e) {
        var t = this;
        e.target.tagName.match("TEXTAREA|INPUT|SELECT") || (37 === e.keyCode && !0 === t.options.accessibility ? t.changeSlide({
            data: {
                message: !0 === t.options.rtl ? "next" : "previous"
            }
        }) : 39 === e.keyCode && !0 === t.options.accessibility && t.changeSlide({
            data: {
                message: !0 === t.options.rtl ? "previous" : "next"
            }
        }))
    }
    ,
    t.prototype.lazyLoad = function() {
        function t(t) {
            e("img[data-lazy]", t).each((function() {
                var t = e(this)
                  , i = e(this).attr("data-lazy")
                  , n = e(this).attr("data-srcset")
                  , s = e(this).attr("data-sizes") || r.$slider.attr("data-sizes")
                  , a = document.createElement("img");
                a.onload = function() {
                    t.animate({
                        opacity: 0
                    }, 100, (function() {
                        n && (t.attr("srcset", n),
                        s && t.attr("sizes", s)),
                        t.attr("src", i).animate({
                            opacity: 1
                        }, 200, (function() {
                            t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")
                        }
                        )),
                        r.$slider.trigger("lazyLoaded", [r, t, i])
                    }
                    ))
                }
                ,
                a.onerror = function() {
                    t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),
                    r.$slider.trigger("lazyLoadError", [r, t, i])
                }
                ,
                a.src = i
            }
            ))
        }
        var i, n, s, r = this;
        if (!0 === r.options.centerMode ? !0 === r.options.infinite ? s = (n = r.currentSlide + (r.options.slidesToShow / 2 + 1)) + r.options.slidesToShow + 2 : (n = Math.max(0, r.currentSlide - (r.options.slidesToShow / 2 + 1)),
        s = r.options.slidesToShow / 2 + 1 + 2 + r.currentSlide) : (n = r.options.infinite ? r.options.slidesToShow + r.currentSlide : r.currentSlide,
        s = Math.ceil(n + r.options.slidesToShow),
        !0 === r.options.fade && (n > 0 && n--,
        s <= r.slideCount && s++)),
        i = r.$slider.find(".slick-slide").slice(n, s),
        "anticipated" === r.options.lazyLoad)
            for (var a = n - 1, o = s, l = r.$slider.find(".slick-slide"), d = 0; d < r.options.slidesToScroll; d++)
                a < 0 && (a = r.slideCount - 1),
                i = (i = i.add(l.eq(a))).add(l.eq(o)),
                a--,
                o++;
        t(i),
        r.slideCount <= r.options.slidesToShow ? t(r.$slider.find(".slick-slide")) : r.currentSlide >= r.slideCount - r.options.slidesToShow ? t(r.$slider.find(".slick-cloned").slice(0, r.options.slidesToShow)) : 0 === r.currentSlide && t(r.$slider.find(".slick-cloned").slice(-1 * r.options.slidesToShow))
    }
    ,
    t.prototype.loadSlider = function() {
        var e = this;
        e.setPosition(),
        e.$slideTrack.css({
            opacity: 1
        }),
        e.$slider.removeClass("slick-loading"),
        e.initUI(),
        "progressive" === e.options.lazyLoad && e.progressiveLazyLoad()
    }
    ,
    t.prototype.next = t.prototype.slickNext = function() {
        this.changeSlide({
            data: {
                message: "next"
            }
        })
    }
    ,
    t.prototype.orientationChange = function() {
        this.checkResponsive(),
        this.setPosition()
    }
    ,
    t.prototype.pause = t.prototype.slickPause = function() {
        this.autoPlayClear(),
        this.paused = !0
    }
    ,
    t.prototype.play = t.prototype.slickPlay = function() {
        var e = this;
        e.autoPlay(),
        e.options.autoplay = !0,
        e.paused = !1,
        e.focussed = !1,
        e.interrupted = !1
    }
    ,
    t.prototype.postSlide = function(t) {
        var i = this;
        i.unslicked || (i.$slider.trigger("afterChange", [i, t]),
        i.animating = !1,
        i.slideCount > i.options.slidesToShow && i.setPosition(),
        i.swipeLeft = null,
        i.options.autoplay && i.autoPlay(),
        !0 === i.options.accessibility && (i.initADA(),
        i.options.focusOnChange && e(i.$slides.get(i.currentSlide)).attr("tabindex", 0).focus()))
    }
    ,
    t.prototype.prev = t.prototype.slickPrev = function() {
        this.changeSlide({
            data: {
                message: "previous"
            }
        })
    }
    ,
    t.prototype.preventDefault = function(e) {
        e.preventDefault()
    }
    ,
    t.prototype.progressiveLazyLoad = function(t) {
        t = t || 1;
        var i, n, s, r, a, o = this, l = e("img[data-lazy]", o.$slider);
        l.length ? (i = l.first(),
        n = i.attr("data-lazy"),
        s = i.attr("data-srcset"),
        r = i.attr("data-sizes") || o.$slider.attr("data-sizes"),
        (a = document.createElement("img")).onload = function() {
            s && (i.attr("srcset", s),
            r && i.attr("sizes", r)),
            i.attr("src", n).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),
            !0 === o.options.adaptiveHeight && o.setPosition(),
            o.$slider.trigger("lazyLoaded", [o, i, n]),
            o.progressiveLazyLoad()
        }
        ,
        a.onerror = function() {
            t < 3 ? setTimeout((function() {
                o.progressiveLazyLoad(t + 1)
            }
            ), 500) : (i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),
            o.$slider.trigger("lazyLoadError", [o, i, n]),
            o.progressiveLazyLoad())
        }
        ,
        a.src = n) : o.$slider.trigger("allImagesLoaded", [o])
    }
    ,
    t.prototype.refresh = function(t) {
        var i, n, s = this;
        n = s.slideCount - s.options.slidesToShow,
        !s.options.infinite && s.currentSlide > n && (s.currentSlide = n),
        s.slideCount <= s.options.slidesToShow && (s.currentSlide = 0),
        i = s.currentSlide,
        s.destroy(!0),
        e.extend(s, s.initials, {
            currentSlide: i
        }),
        s.init(),
        t || s.changeSlide({
            data: {
                message: "index",
                index: i
            }
        }, !1)
    }
    ,
    t.prototype.registerBreakpoints = function() {
        var t, i, n, s = this, r = s.options.responsive || null;
        if ("array" === e.type(r) && r.length) {
            for (t in s.respondTo = s.options.respondTo || "window",
            r)
                if (n = s.breakpoints.length - 1,
                r.hasOwnProperty(t)) {
                    for (i = r[t].breakpoint; n >= 0; )
                        s.breakpoints[n] && s.breakpoints[n] === i && s.breakpoints.splice(n, 1),
                        n--;
                    s.breakpoints.push(i),
                    s.breakpointSettings[i] = r[t].settings
                }
            s.breakpoints.sort((function(e, t) {
                return s.options.mobileFirst ? e - t : t - e
            }
            ))
        }
    }
    ,
    t.prototype.reinit = function() {
        var t = this;
        t.$slides = t.$slideTrack.children(t.options.slide).addClass("slick-slide"),
        t.slideCount = t.$slides.length,
        t.currentSlide >= t.slideCount && 0 !== t.currentSlide && (t.currentSlide = t.currentSlide - t.options.slidesToScroll),
        t.slideCount <= t.options.slidesToShow && (t.currentSlide = 0),
        t.registerBreakpoints(),
        t.setProps(),
        t.setupInfinite(),
        t.buildArrows(),
        t.updateArrows(),
        t.initArrowEvents(),
        t.buildDots(),
        t.updateDots(),
        t.initDotEvents(),
        t.cleanUpSlideEvents(),
        t.initSlideEvents(),
        t.checkResponsive(!1, !0),
        !0 === t.options.focusOnSelect && e(t.$slideTrack).children().on("click.slick", t.selectHandler),
        t.setSlideClasses("number" == typeof t.currentSlide ? t.currentSlide : 0),
        t.setPosition(),
        t.focusHandler(),
        t.paused = !t.options.autoplay,
        t.autoPlay(),
        t.$slider.trigger("reInit", [t])
    }
    ,
    t.prototype.resize = function() {
        var t = this;
        e(window).width() !== t.windowWidth && (clearTimeout(t.windowDelay),
        t.windowDelay = window.setTimeout((function() {
            t.windowWidth = e(window).width(),
            t.checkResponsive(),
            t.unslicked || t.setPosition()
        }
        ), 50))
    }
    ,
    t.prototype.removeSlide = t.prototype.slickRemove = function(e, t, i) {
        var n = this;
        if (e = "boolean" == typeof e ? !0 === (t = e) ? 0 : n.slideCount - 1 : !0 === t ? --e : e,
        n.slideCount < 1 || e < 0 || e > n.slideCount - 1)
            return !1;
        n.unload(),
        !0 === i ? n.$slideTrack.children().remove() : n.$slideTrack.children(this.options.slide).eq(e).remove(),
        n.$slides = n.$slideTrack.children(this.options.slide),
        n.$slideTrack.children(this.options.slide).detach(),
        n.$slideTrack.append(n.$slides),
        n.$slidesCache = n.$slides,
        n.reinit()
    }
    ,
    t.prototype.setCSS = function(e) {
        var t, i, n = this, s = {};
        !0 === n.options.rtl && (e = -e),
        t = "left" == n.positionProp ? Math.ceil(e) + "px" : "0px",
        i = "top" == n.positionProp ? Math.ceil(e) + "px" : "0px",
        s[n.positionProp] = e,
        !1 === n.transformsEnabled ? n.$slideTrack.css(s) : (s = {},
        !1 === n.cssTransitions ? (s[n.animType] = "translate(" + t + ", " + i + ")",
        n.$slideTrack.css(s)) : (s[n.animType] = "translate3d(" + t + ", " + i + ", 0px)",
        n.$slideTrack.css(s)))
    }
    ,
    t.prototype.setDimensions = function() {
        var e = this;
        !1 === e.options.vertical ? !0 === e.options.centerMode && e.$list.css({
            padding: "0px " + e.options.centerPadding
        }) : (e.$list.height(e.$slides.first().outerHeight(!0) * e.options.slidesToShow),
        !0 === e.options.centerMode && e.$list.css({
            padding: e.options.centerPadding + " 0px"
        })),
        e.listWidth = e.$list.width(),
        e.listHeight = e.$list.height(),
        !1 === e.options.vertical && !1 === e.options.variableWidth ? (e.slideWidth = Math.ceil(e.listWidth / e.options.slidesToShow),
        e.$slideTrack.width(Math.ceil(e.slideWidth * e.$slideTrack.children(".slick-slide").length))) : !0 === e.options.variableWidth ? e.$slideTrack.width(5e3 * e.slideCount) : (e.slideWidth = Math.ceil(e.listWidth),
        e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0) * e.$slideTrack.children(".slick-slide").length)));
        var t = e.$slides.first().outerWidth(!0) - e.$slides.first().width();
        !1 === e.options.variableWidth && e.$slideTrack.children(".slick-slide").width(e.slideWidth - t)
    }
    ,
    t.prototype.setFade = function() {
        var t, i = this;
        i.$slides.each((function(n, s) {
            t = i.slideWidth * n * -1,
            !0 === i.options.rtl ? e(s).css({
                position: "relative",
                right: t,
                top: 0,
                zIndex: i.options.zIndex - 2,
                opacity: 0
            }) : e(s).css({
                position: "relative",
                left: t,
                top: 0,
                zIndex: i.options.zIndex - 2,
                opacity: 0
            })
        }
        )),
        i.$slides.eq(i.currentSlide).css({
            zIndex: i.options.zIndex - 1,
            opacity: 1
        })
    }
    ,
    t.prototype.setHeight = function() {
        var e = this;
        if (1 === e.options.slidesToShow && !0 === e.options.adaptiveHeight && !1 === e.options.vertical) {
            var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
            e.$list.css("height", t)
        }
    }
    ,
    t.prototype.setOption = t.prototype.slickSetOption = function() {
        var t, i, n, s, r, a = this, o = !1;
        if ("object" === e.type(arguments[0]) ? (n = arguments[0],
        o = arguments[1],
        r = "multiple") : "string" === e.type(arguments[0]) && (n = arguments[0],
        s = arguments[1],
        o = arguments[2],
        "responsive" === arguments[0] && "array" === e.type(arguments[1]) ? r = "responsive" : void 0 !== arguments[1] && (r = "single")),
        "single" === r)
            a.options[n] = s;
        else if ("multiple" === r)
            e.each(n, (function(e, t) {
                a.options[e] = t
            }
            ));
        else if ("responsive" === r)
            for (i in s)
                if ("array" !== e.type(a.options.responsive))
                    a.options.responsive = [s[i]];
                else {
                    for (t = a.options.responsive.length - 1; t >= 0; )
                        a.options.responsive[t].breakpoint === s[i].breakpoint && a.options.responsive.splice(t, 1),
                        t--;
                    a.options.responsive.push(s[i])
                }
        o && (a.unload(),
        a.reinit())
    }
    ,
    t.prototype.setPosition = function() {
        var e = this;
        e.setDimensions(),
        e.setHeight(),
        !1 === e.options.fade ? e.setCSS(e.getLeft(e.currentSlide)) : e.setFade(),
        e.$slider.trigger("setPosition", [e])
    }
    ,
    t.prototype.setProps = function() {
        var e = this
          , t = document.body.style;
        e.positionProp = !0 === e.options.vertical ? "top" : "left",
        "top" === e.positionProp ? e.$slider.addClass("slick-vertical") : e.$slider.removeClass("slick-vertical"),
        void 0 === t.WebkitTransition && void 0 === t.MozTransition && void 0 === t.msTransition || !0 === e.options.useCSS && (e.cssTransitions = !0),
        e.options.fade && ("number" == typeof e.options.zIndex ? e.options.zIndex < 3 && (e.options.zIndex = 3) : e.options.zIndex = e.defaults.zIndex),
        void 0 !== t.OTransform && (e.animType = "OTransform",
        e.transformType = "-o-transform",
        e.transitionType = "OTransition",
        void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)),
        void 0 !== t.MozTransform && (e.animType = "MozTransform",
        e.transformType = "-moz-transform",
        e.transitionType = "MozTransition",
        void 0 === t.perspectiveProperty && void 0 === t.MozPerspective && (e.animType = !1)),
        void 0 !== t.webkitTransform && (e.animType = "webkitTransform",
        e.transformType = "-webkit-transform",
        e.transitionType = "webkitTransition",
        void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)),
        void 0 !== t.msTransform && (e.animType = "msTransform",
        e.transformType = "-ms-transform",
        e.transitionType = "msTransition",
        void 0 === t.msTransform && (e.animType = !1)),
        void 0 !== t.transform && !1 !== e.animType && (e.animType = "transform",
        e.transformType = "transform",
        e.transitionType = "transition"),
        e.transformsEnabled = e.options.useTransform && null !== e.animType && !1 !== e.animType
    }
    ,
    t.prototype.setSlideClasses = function(e) {
        var t, i, n, s, r = this;
        if (i = r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden", "true"),
        r.$slides.eq(e).addClass("slick-current"),
        !0 === r.options.centerMode) {
            var a = r.options.slidesToShow % 2 == 0 ? 1 : 0;
            t = Math.floor(r.options.slidesToShow / 2),
            !0 === r.options.infinite && (e >= t && e <= r.slideCount - 1 - t ? r.$slides.slice(e - t + a, e + t + 1).addClass("slick-active").attr("aria-hidden", "false") : (n = r.options.slidesToShow + e,
            i.slice(n - t + 1 + a, n + t + 2).addClass("slick-active").attr("aria-hidden", "false")),
            0 === e ? i.eq(i.length - 1 - r.options.slidesToShow).addClass("slick-center") : e === r.slideCount - 1 && i.eq(r.options.slidesToShow).addClass("slick-center")),
            r.$slides.eq(e).addClass("slick-center")
        } else
            e >= 0 && e <= r.slideCount - r.options.slidesToShow ? r.$slides.slice(e, e + r.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false") : i.length <= r.options.slidesToShow ? i.addClass("slick-active").attr("aria-hidden", "false") : (s = r.slideCount % r.options.slidesToShow,
            n = !0 === r.options.infinite ? r.options.slidesToShow + e : e,
            r.options.slidesToShow == r.options.slidesToScroll && r.slideCount - e < r.options.slidesToShow ? i.slice(n - (r.options.slidesToShow - s), n + s).addClass("slick-active").attr("aria-hidden", "false") : i.slice(n, n + r.options.slidesToShow).addClass("slick-active").attr("aria-hidden", "false"));
        "ondemand" !== r.options.lazyLoad && "anticipated" !== r.options.lazyLoad || r.lazyLoad()
    }
    ,
    t.prototype.setupInfinite = function() {
        var t, i, n, s = this;
        if (!0 === s.options.fade && (s.options.centerMode = !1),
        !0 === s.options.infinite && !1 === s.options.fade && (i = null,
        s.slideCount > s.options.slidesToShow)) {
            for (n = !0 === s.options.centerMode ? s.options.slidesToShow + 1 : s.options.slidesToShow,
            t = s.slideCount; t > s.slideCount - n; t -= 1)
                i = t - 1,
                e(s.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i - s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");
            for (t = 0; t < n + s.slideCount; t += 1)
                i = t,
                e(s.$slides[i]).clone(!0).attr("id", "").attr("data-slick-index", i + s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");
            s.$slideTrack.find(".slick-cloned").find("[id]").each((function() {
                e(this).attr("id", "")
            }
            ))
        }
    }
    ,
    t.prototype.interrupt = function(e) {
        e || this.autoPlay(),
        this.interrupted = e
    }
    ,
    t.prototype.selectHandler = function(t) {
        var i = this
          , n = e(t.target).is(".slick-slide") ? e(t.target) : e(t.target).parents(".slick-slide")
          , s = parseInt(n.attr("data-slick-index"));
        s || (s = 0),
        i.slideCount <= i.options.slidesToShow ? i.slideHandler(s, !1, !0) : i.slideHandler(s)
    }
    ,
    t.prototype.slideHandler = function(e, t, i) {
        var n, s, r, a, o, l = null, d = this;
        if (t = t || !1,
        !(!0 === d.animating && !0 === d.options.waitForAnimate || !0 === d.options.fade && d.currentSlide === e))
            if (!1 === t && d.asNavFor(e),
            n = e,
            l = d.getLeft(n),
            a = d.getLeft(d.currentSlide),
            d.currentLeft = null === d.swipeLeft ? a : d.swipeLeft,
            !1 === d.options.infinite && !1 === d.options.centerMode && (e < 0 || e > d.getDotCount() * d.options.slidesToScroll))
                !1 === d.options.fade && (n = d.currentSlide,
                !0 !== i ? d.animateSlide(a, (function() {
                    d.postSlide(n)
                }
                )) : d.postSlide(n));
            else if (!1 === d.options.infinite && !0 === d.options.centerMode && (e < 0 || e > d.slideCount - d.options.slidesToScroll))
                !1 === d.options.fade && (n = d.currentSlide,
                !0 !== i ? d.animateSlide(a, (function() {
                    d.postSlide(n)
                }
                )) : d.postSlide(n));
            else {
                if (d.options.autoplay && clearInterval(d.autoPlayTimer),
                s = n < 0 ? d.slideCount % d.options.slidesToScroll != 0 ? d.slideCount - d.slideCount % d.options.slidesToScroll : d.slideCount + n : n >= d.slideCount ? d.slideCount % d.options.slidesToScroll != 0 ? 0 : n - d.slideCount : n,
                d.animating = !0,
                d.$slider.trigger("beforeChange", [d, d.currentSlide, s]),
                r = d.currentSlide,
                d.currentSlide = s,
                d.setSlideClasses(d.currentSlide),
                d.options.asNavFor && (o = (o = d.getNavTarget()).slick("getSlick")).slideCount <= o.options.slidesToShow && o.setSlideClasses(d.currentSlide),
                d.updateDots(),
                d.updateArrows(),
                !0 === d.options.fade)
                    return !0 !== i ? (d.fadeSlideOut(r),
                    d.fadeSlide(s, (function() {
                        d.postSlide(s)
                    }
                    ))) : d.postSlide(s),
                    void d.animateHeight();
                !0 !== i ? d.animateSlide(l, (function() {
                    d.postSlide(s)
                }
                )) : d.postSlide(s)
            }
    }
    ,
    t.prototype.startLoad = function() {
        var e = this;
        !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.hide(),
        e.$nextArrow.hide()),
        !0 === e.options.dots && e.slideCount > e.options.slidesToShow && e.$dots.hide(),
        e.$slider.addClass("slick-loading")
    }
    ,
    t.prototype.swipeDirection = function() {
        var e, t, i, n, s = this;
        return e = s.touchObject.startX - s.touchObject.curX,
        t = s.touchObject.startY - s.touchObject.curY,
        i = Math.atan2(t, e),
        (n = Math.round(180 * i / Math.PI)) < 0 && (n = 360 - Math.abs(n)),
        n <= 45 && n >= 0 || n <= 360 && n >= 315 ? !1 === s.options.rtl ? "left" : "right" : n >= 135 && n <= 225 ? !1 === s.options.rtl ? "right" : "left" : !0 === s.options.verticalSwiping ? n >= 35 && n <= 135 ? "down" : "up" : "vertical"
    }
    ,
    t.prototype.swipeEnd = function(e) {
        var t, i, n = this;
        if (n.dragging = !1,
        n.swiping = !1,
        n.scrolling)
            return n.scrolling = !1,
            !1;
        if (n.interrupted = !1,
        n.shouldClick = !(n.touchObject.swipeLength > 10),
        void 0 === n.touchObject.curX)
            return !1;
        if (!0 === n.touchObject.edgeHit && n.$slider.trigger("edge", [n, n.swipeDirection()]),
        n.touchObject.swipeLength >= n.touchObject.minSwipe) {
            switch (i = n.swipeDirection()) {
            case "left":
            case "down":
                t = n.options.swipeToSlide ? n.checkNavigable(n.currentSlide + n.getSlideCount()) : n.currentSlide + n.getSlideCount(),
                n.currentDirection = 0;
                break;
            case "right":
            case "up":
                t = n.options.swipeToSlide ? n.checkNavigable(n.currentSlide - n.getSlideCount()) : n.currentSlide - n.getSlideCount(),
                n.currentDirection = 1
            }
            "vertical" != i && (n.slideHandler(t),
            n.touchObject = {},
            n.$slider.trigger("swipe", [n, i]))
        } else
            n.touchObject.startX !== n.touchObject.curX && (n.slideHandler(n.currentSlide),
            n.touchObject = {})
    }
    ,
    t.prototype.swipeHandler = function(e) {
        var t = this;
        if (!(!1 === t.options.swipe || "ontouchend"in document && !1 === t.options.swipe || !1 === t.options.draggable && -1 !== e.type.indexOf("mouse")))
            switch (t.touchObject.fingerCount = e.originalEvent && void 0 !== e.originalEvent.touches ? e.originalEvent.touches.length : 1,
            t.touchObject.minSwipe = t.listWidth / t.options.touchThreshold,
            !0 === t.options.verticalSwiping && (t.touchObject.minSwipe = t.listHeight / t.options.touchThreshold),
            e.data.action) {
            case "start":
                t.swipeStart(e);
                break;
            case "move":
                t.swipeMove(e);
                break;
            case "end":
                t.swipeEnd(e)
            }
    }
    ,
    t.prototype.swipeMove = function(e) {
        var t, i, n, s, r, a, o = this;
        return r = void 0 !== e.originalEvent ? e.originalEvent.touches : null,
        !(!o.dragging || o.scrolling || r && 1 !== r.length) && (t = o.getLeft(o.currentSlide),
        o.touchObject.curX = void 0 !== r ? r[0].pageX : e.clientX,
        o.touchObject.curY = void 0 !== r ? r[0].pageY : e.clientY,
        o.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(o.touchObject.curX - o.touchObject.startX, 2))),
        a = Math.round(Math.sqrt(Math.pow(o.touchObject.curY - o.touchObject.startY, 2))),
        !o.options.verticalSwiping && !o.swiping && a > 4 ? (o.scrolling = !0,
        !1) : (!0 === o.options.verticalSwiping && (o.touchObject.swipeLength = a),
        i = o.swipeDirection(),
        void 0 !== e.originalEvent && o.touchObject.swipeLength > 4 && (o.swiping = !0,
        e.preventDefault()),
        s = (!1 === o.options.rtl ? 1 : -1) * (o.touchObject.curX > o.touchObject.startX ? 1 : -1),
        !0 === o.options.verticalSwiping && (s = o.touchObject.curY > o.touchObject.startY ? 1 : -1),
        n = o.touchObject.swipeLength,
        o.touchObject.edgeHit = !1,
        !1 === o.options.infinite && (0 === o.currentSlide && "right" === i || o.currentSlide >= o.getDotCount() && "left" === i) && (n = o.touchObject.swipeLength * o.options.edgeFriction,
        o.touchObject.edgeHit = !0),
        !1 === o.options.vertical ? o.swipeLeft = t + n * s : o.swipeLeft = t + n * (o.$list.height() / o.listWidth) * s,
        !0 === o.options.verticalSwiping && (o.swipeLeft = t + n * s),
        !0 !== o.options.fade && !1 !== o.options.touchMove && (!0 === o.animating ? (o.swipeLeft = null,
        !1) : void o.setCSS(o.swipeLeft))))
    }
    ,
    t.prototype.swipeStart = function(e) {
        var t, i = this;
        if (i.interrupted = !0,
        1 !== i.touchObject.fingerCount || i.slideCount <= i.options.slidesToShow)
            return i.touchObject = {},
            !1;
        void 0 !== e.originalEvent && void 0 !== e.originalEvent.touches && (t = e.originalEvent.touches[0]),
        i.touchObject.startX = i.touchObject.curX = void 0 !== t ? t.pageX : e.clientX,
        i.touchObject.startY = i.touchObject.curY = void 0 !== t ? t.pageY : e.clientY,
        i.dragging = !0
    }
    ,
    t.prototype.unfilterSlides = t.prototype.slickUnfilter = function() {
        var e = this;
        null !== e.$slidesCache && (e.unload(),
        e.$slideTrack.children(this.options.slide).detach(),
        e.$slidesCache.appendTo(e.$slideTrack),
        e.reinit())
    }
    ,
    t.prototype.unload = function() {
        var t = this;
        e(".slick-cloned", t.$slider).remove(),
        t.$dots && t.$dots.remove(),
        t.$prevArrow && t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.remove(),
        t.$nextArrow && t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.remove(),
        t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden", "true").css("width", "")
    }
    ,
    t.prototype.unslick = function(e) {
        var t = this;
        t.$slider.trigger("unslick", [t, e]),
        t.destroy()
    }
    ,
    t.prototype.updateArrows = function() {
        var e = this;
        Math.floor(e.options.slidesToShow / 2),
        !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && !e.options.infinite && (e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"),
        e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"),
        0 === e.currentSlide ? (e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"),
        e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false")) : (e.currentSlide >= e.slideCount - e.options.slidesToShow && !1 === e.options.centerMode || e.currentSlide >= e.slideCount - 1 && !0 === e.options.centerMode) && (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"),
        e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")))
    }
    ,
    t.prototype.updateDots = function() {
        var e = this;
        null !== e.$dots && (e.$dots.find("li").removeClass("slick-active").end(),
        e.$dots.find("li").eq(Math.floor(e.currentSlide / e.options.slidesToScroll)).addClass("slick-active"))
    }
    ,
    t.prototype.visibility = function() {
        var e = this;
        e.options.autoplay && (document[e.hidden] ? e.interrupted = !0 : e.interrupted = !1)
    }
    ,
    e.fn.slick = function() {
        var e, i, n = this, s = arguments[0], r = Array.prototype.slice.call(arguments, 1), a = n.length;
        for (e = 0; e < a; e++)
            if ("object" == typeof s || void 0 === s ? n[e].slick = new t(n[e],s) : i = n[e].slick[s].apply(n[e].slick, r),
            void 0 !== i)
                return i;
        return n
    }
}
)),
function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : e("object" == typeof exports ? require("jquery") : window.jQuery || window.Zepto)
}((function(e) {
    var t, i, n, s, r, a, o = "Close", l = "BeforeClose", d = "MarkupParse", c = "Open", u = "Change", h = "mfp", p = "." + h, f = "mfp-ready", m = "mfp-removing", g = "mfp-prevent-close", v = function() {}, y = !!window.jQuery, b = e(window), _ = function(e, i) {
        t.ev.on(h + e + p, i)
    }, T = function(t, i, n, s) {
        var r = document.createElement("div");
        return r.className = "mfp-" + t,
        n && (r.innerHTML = n),
        s ? i && i.appendChild(r) : (r = e(r),
        i && r.appendTo(i)),
        r
    }, w = function(i, n) {
        t.ev.triggerHandler(h + i, n),
        t.st.callbacks && (i = i.charAt(0).toLowerCase() + i.slice(1),
        t.st.callbacks[i] && t.st.callbacks[i].apply(t, e.isArray(n) ? n : [n]))
    }, S = function(i) {
        return i === a && t.currTemplate.closeBtn || (t.currTemplate.closeBtn = e(t.st.closeMarkup.replace("%title%", t.st.tClose)),
        a = i),
        t.currTemplate.closeBtn
    }, k = function() {
        e.magnificPopup.instance || ((t = new v).init(),
        e.magnificPopup.instance = t)
    };
    v.prototype = {
        constructor: v,
        init: function() {
            var i = navigator.appVersion;
            t.isIE7 = -1 !== i.indexOf("MSIE 7."),
            t.isIE8 = -1 !== i.indexOf("MSIE 8."),
            t.isLowIE = t.isIE7 || t.isIE8,
            t.isAndroid = /android/gi.test(i),
            t.isIOS = /iphone|ipad|ipod/gi.test(i),
            t.supportsTransition = function() {
                var e = document.createElement("p").style
                  , t = ["ms", "O", "Moz", "Webkit"];
                if (void 0 !== e.transition)
                    return !0;
                for (; t.length; )
                    if (t.pop() + "Transition"in e)
                        return !0;
                return !1
            }(),
            t.probablyMobile = t.isAndroid || t.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),
            n = e(document),
            t.popupsCache = {}
        },
        open: function(i) {
            var s;
            if (!1 === i.isObj) {
                t.items = i.items.toArray(),
                t.index = 0;
                var a, o = i.items;
                for (s = 0; s < o.length; s++)
                    if ((a = o[s]).parsed && (a = a.el[0]),
                    a === i.el[0]) {
                        t.index = s;
                        break
                    }
            } else
                t.items = e.isArray(i.items) ? i.items : [i.items],
                t.index = i.index || 0;
            if (!t.isOpen) {
                t.types = [],
                r = "",
                t.ev = i.mainEl && i.mainEl.length ? i.mainEl.eq(0) : n,
                i.key ? (t.popupsCache[i.key] || (t.popupsCache[i.key] = {}),
                t.currTemplate = t.popupsCache[i.key]) : t.currTemplate = {},
                t.st = e.extend(!0, {}, e.magnificPopup.defaults, i),
                t.fixedContentPos = "auto" === t.st.fixedContentPos ? !t.probablyMobile : t.st.fixedContentPos,
                t.st.modal && (t.st.closeOnContentClick = !1,
                t.st.closeOnBgClick = !1,
                t.st.showCloseBtn = !1,
                t.st.enableEscapeKey = !1),
                t.bgOverlay || (t.bgOverlay = T("bg").on("click" + p, (function() {
                    t.close()
                }
                )),
                t.wrap = T("wrap").attr("tabindex", -1).on("click" + p, (function(e) {
                    t._checkIfClose(e.target) && t.close()
                }
                )),
                t.container = T("container", t.wrap)),
                t.contentContainer = T("content"),
                t.st.preloader && (t.preloader = T("preloader", t.container, t.st.tLoading));
                var l = e.magnificPopup.modules;
                for (s = 0; s < l.length; s++) {
                    var u = l[s];
                    u = u.charAt(0).toUpperCase() + u.slice(1),
                    t["init" + u].call(t)
                }
                w("BeforeOpen"),
                t.st.showCloseBtn && (t.st.closeBtnInside ? (_(d, (function(e, t, i, n) {
                    i.close_replaceWith = S(n.type)
                }
                )),
                r += " mfp-close-btn-in") : t.wrap.append(S())),
                t.st.alignTop && (r += " mfp-align-top"),
                t.wrap.css(t.fixedContentPos ? {
                    overflow: t.st.overflowY,
                    overflowX: "hidden",
                    overflowY: t.st.overflowY
                } : {
                    top: b.scrollTop(),
                    position: "absolute"
                }),
                (!1 === t.st.fixedBgPos || "auto" === t.st.fixedBgPos && !t.fixedContentPos) && t.bgOverlay.css({
                    height: n.height(),
                    position: "absolute"
                }),
                t.st.enableEscapeKey && n.on("keyup" + p, (function(e) {
                    27 === e.keyCode && t.close()
                }
                )),
                b.on("resize" + p, (function() {
                    t.updateSize()
                }
                )),
                t.st.closeOnContentClick || (r += " mfp-auto-cursor"),
                r && t.wrap.addClass(r);
                var h = t.wH = b.height()
                  , m = {};
                if (t.fixedContentPos && t._hasScrollBar(h)) {
                    var g = t._getScrollbarSize();
                    g && (m.marginRight = g)
                }
                t.fixedContentPos && (t.isIE7 ? e("body, html").css("overflow", "hidden") : m.overflow = "hidden");
                var v = t.st.mainClass;
                return t.isIE7 && (v += " mfp-ie7"),
                v && t._addClassToMFP(v),
                t.updateItemHTML(),
                w("BuildControls"),
                e("html").css(m),
                t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo || e(document.body)),
                t._lastFocusedEl = document.activeElement,
                setTimeout((function() {
                    t.content ? (t._addClassToMFP(f),
                    t._setFocus()) : t.bgOverlay.addClass(f),
                    n.on("focusin" + p, t._onFocusIn)
                }
                ), 16),
                t.isOpen = !0,
                t.updateSize(h),
                w(c),
                i
            }
            t.updateItemHTML()
        },
        close: function() {
            t.isOpen && (w(l),
            t.isOpen = !1,
            t.st.removalDelay && !t.isLowIE && t.supportsTransition ? (t._addClassToMFP(m),
            setTimeout((function() {
                t._close()
            }
            ), t.st.removalDelay)) : t._close())
        },
        _close: function() {
            w(o);
            var i = m + " " + f + " ";
            if (t.bgOverlay.detach(),
            t.wrap.detach(),
            t.container.empty(),
            t.st.mainClass && (i += t.st.mainClass + " "),
            t._removeClassFromMFP(i),
            t.fixedContentPos) {
                var s = {
                    marginRight: ""
                };
                t.isIE7 ? e("body, html").css("overflow", "") : s.overflow = "",
                e("html").css(s)
            }
            n.off("keyup.mfp focusin" + p),
            t.ev.off(p),
            t.wrap.attr("class", "mfp-wrap").removeAttr("style"),
            t.bgOverlay.attr("class", "mfp-bg"),
            t.container.attr("class", "mfp-container"),
            !t.st.showCloseBtn || t.st.closeBtnInside && !0 !== t.currTemplate[t.currItem.type] || t.currTemplate.closeBtn && t.currTemplate.closeBtn.detach(),
            t._lastFocusedEl && e(t._lastFocusedEl).focus(),
            t.currItem = null,
            t.content = null,
            t.currTemplate = null,
            t.prevHeight = 0,
            w("AfterClose")
        },
        updateSize: function(e) {
            if (t.isIOS) {
                var i = document.documentElement.clientWidth / window.innerWidth
                  , n = window.innerHeight * i;
                t.wrap.css("height", n),
                t.wH = n
            } else
                t.wH = e || b.height();
            t.fixedContentPos || t.wrap.css("height", t.wH),
            w("Resize")
        },
        updateItemHTML: function() {
            var i = t.items[t.index];
            t.contentContainer.detach(),
            t.content && t.content.detach(),
            i.parsed || (i = t.parseEl(t.index));
            var n = i.type;
            if (w("BeforeChange", [t.currItem ? t.currItem.type : "", n]),
            t.currItem = i,
            !t.currTemplate[n]) {
                var r = !!t.st[n] && t.st[n].markup;
                w("FirstMarkupParse", r),
                t.currTemplate[n] = !r || e(r)
            }
            s && s !== i.type && t.container.removeClass("mfp-" + s + "-holder");
            var a = t["get" + n.charAt(0).toUpperCase() + n.slice(1)](i, t.currTemplate[n]);
            t.appendContent(a, n),
            i.preloaded = !0,
            w(u, i),
            s = i.type,
            t.container.prepend(t.contentContainer),
            w("AfterChange")
        },
        appendContent: function(e, i) {
            t.content = e,
            e ? t.st.showCloseBtn && t.st.closeBtnInside && !0 === t.currTemplate[i] ? t.content.find(".mfp-close").length || t.content.append(S()) : t.content = e : t.content = "",
            w("BeforeAppend"),
            t.container.addClass("mfp-" + i + "-holder"),
            t.contentContainer.append(t.content)
        },
        parseEl: function(i) {
            var n, s = t.items[i];
            if (s.tagName ? s = {
                el: e(s)
            } : (n = s.type,
            s = {
                data: s,
                src: s.src
            }),
            s.el) {
                for (var r = t.types, a = 0; a < r.length; a++)
                    if (s.el.hasClass("mfp-" + r[a])) {
                        n = r[a];
                        break
                    }
                s.src = s.el.attr("data-mfp-src"),
                s.src || (s.src = s.el.attr("href"))
            }
            return s.type = n || t.st.type || "inline",
            s.index = i,
            s.parsed = !0,
            t.items[i] = s,
            w("ElementParse", s),
            t.items[i]
        },
        addGroup: function(e, i) {
            var n = function(n) {
                n.mfpEl = this,
                t._openClick(n, e, i)
            };
            i || (i = {});
            var s = "click.magnificPopup";
            i.mainEl = e,
            i.items ? (i.isObj = !0,
            e.off(s).on(s, n)) : (i.isObj = !1,
            i.delegate ? e.off(s).on(s, i.delegate, n) : (i.items = e,
            e.off(s).on(s, n)))
        },
        _openClick: function(i, n, s) {
            if ((void 0 !== s.midClick ? s.midClick : e.magnificPopup.defaults.midClick) || 2 !== i.which && !i.ctrlKey && !i.metaKey) {
                var r = void 0 !== s.disableOn ? s.disableOn : e.magnificPopup.defaults.disableOn;
                if (r)
                    if (e.isFunction(r)) {
                        if (!r.call(t))
                            return !0
                    } else if (b.width() < r)
                        return !0;
                i.type && (i.preventDefault(),
                t.isOpen && i.stopPropagation()),
                s.el = e(i.mfpEl),
                s.delegate && (s.items = n.find(s.delegate)),
                t.open(s)
            }
        },
        updateStatus: function(e, n) {
            if (t.preloader) {
                i !== e && t.container.removeClass("mfp-s-" + i),
                n || "loading" !== e || (n = t.st.tLoading);
                var s = {
                    status: e,
                    text: n
                };
                w("UpdateStatus", s),
                e = s.status,
                n = s.text,
                t.preloader.html(n),
                t.preloader.find("a").on("click", (function(e) {
                    e.stopImmediatePropagation()
                }
                )),
                t.container.addClass("mfp-s-" + e),
                i = e
            }
        },
        _checkIfClose: function(i) {
            if (!e(i).hasClass(g)) {
                var n = t.st.closeOnContentClick
                  , s = t.st.closeOnBgClick;
                if (n && s)
                    return !0;
                if (!t.content || e(i).hasClass("mfp-close") || t.preloader && i === t.preloader[0])
                    return !0;
                if (i === t.content[0] || e.contains(t.content[0], i)) {
                    if (n)
                        return !0
                } else if (s && e.contains(document, i))
                    return !0;
                return !1
            }
        },
        _addClassToMFP: function(e) {
            t.bgOverlay.addClass(e),
            t.wrap.addClass(e)
        },
        _removeClassFromMFP: function(e) {
            this.bgOverlay.removeClass(e),
            t.wrap.removeClass(e)
        },
        _hasScrollBar: function(e) {
            return (t.isIE7 ? n.height() : document.body.scrollHeight) > (e || b.height())
        },
        _setFocus: function() {
            (t.st.focus ? t.content.find(t.st.focus).eq(0) : t.wrap).focus()
        },
        _onFocusIn: function(i) {
            return i.target === t.wrap[0] || e.contains(t.wrap[0], i.target) ? void 0 : (t._setFocus(),
            !1)
        },
        _parseMarkup: function(t, i, n) {
            var s;
            n.data && (i = e.extend(n.data, i)),
            w(d, [t, i, n]),
            e.each(i, (function(e, i) {
                if (void 0 === i || !1 === i)
                    return !0;
                if ((s = e.split("_")).length > 1) {
                    var n = t.find(p + "-" + s[0]);
                    if (n.length > 0) {
                        var r = s[1];
                        "replaceWith" === r ? n[0] !== i[0] && n.replaceWith(i) : "img" === r ? n.is("img") ? n.attr("src", i) : n.replaceWith('<img src="' + i + '" class="' + n.attr("class") + '" />') : n.attr(s[1], i)
                    }
                } else
                    t.find(p + "-" + e).html(i)
            }
            ))
        },
        _getScrollbarSize: function() {
            if (void 0 === t.scrollbarSize) {
                var e = document.createElement("div");
                e.style.cssText = "width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",
                document.body.appendChild(e),
                t.scrollbarSize = e.offsetWidth - e.clientWidth,
                document.body.removeChild(e)
            }
            return t.scrollbarSize
        }
    },
    e.magnificPopup = {
        instance: null,
        proto: v.prototype,
        modules: [],
        open: function(t, i) {
            return k(),
            (t = t ? e.extend(!0, {}, t) : {}).isObj = !0,
            t.index = i || 0,
            this.instance.open(t)
        },
        close: function() {
            return e.magnificPopup.instance && e.magnificPopup.instance.close()
        },
        registerModule: function(t, i) {
            i.options && (e.magnificPopup.defaults[t] = i.options),
            e.extend(this.proto, i.proto),
            this.modules.push(t)
        },
        defaults: {
            disableOn: 0,
            key: null,
            midClick: !1,
            mainClass: "",
            preloader: !0,
            focus: "",
            closeOnContentClick: !1,
            closeOnBgClick: !0,
            closeBtnInside: !0,
            showCloseBtn: !0,
            enableEscapeKey: !0,
            modal: !1,
            alignTop: !1,
            removalDelay: 0,
            prependTo: null,
            fixedContentPos: "auto",
            fixedBgPos: "auto",
            overflowY: "auto",
            closeMarkup: '<button title="%title%" type="button" class="mfp-close">&times;</button>',
            tClose: "Close (Esc)",
            tLoading: "Loading..."
        }
    },
    e.fn.magnificPopup = function(i) {
        k();
        var n = e(this);
        if ("string" == typeof i)
            if ("open" === i) {
                var s, r = y ? n.data("magnificPopup") : n[0].magnificPopup, a = parseInt(arguments[1], 10) || 0;
                r.items ? s = r.items[a] : (s = n,
                r.delegate && (s = s.find(r.delegate)),
                s = s.eq(a)),
                t._openClick({
                    mfpEl: s
                }, n, r)
            } else
                t.isOpen && t[i].apply(t, Array.prototype.slice.call(arguments, 1));
        else
            i = e.extend(!0, {}, i),
            y ? n.data("magnificPopup", i) : n[0].magnificPopup = i,
            t.addGroup(n, i);
        return n
    }
    ;
    var x, C, E, P = "inline", A = function() {
        E && (C.after(E.addClass(x)).detach(),
        E = null)
    };
    e.magnificPopup.registerModule(P, {
        options: {
            hiddenClass: "hide",
            markup: "",
            tNotFound: "Content not found"
        },
        proto: {
            initInline: function() {
                t.types.push(P),
                _(o + "." + P, (function() {
                    A()
                }
                ))
            },
            getInline: function(i, n) {
                if (A(),
                i.src) {
                    var s = t.st.inline
                      , r = e(i.src);
                    if (r.length) {
                        var a = r[0].parentNode;
                        a && a.tagName && (C || (x = s.hiddenClass,
                        C = T(x),
                        x = "mfp-" + x),
                        E = r.after(C).detach().removeClass(x)),
                        t.updateStatus("ready")
                    } else
                        t.updateStatus("error", s.tNotFound),
                        r = e("<div>");
                    return i.inlineElement = r,
                    r
                }
                return t.updateStatus("ready"),
                t._parseMarkup(n, {}, i),
                n
            }
        }
    });
    var I, O = "ajax", L = function() {
        I && e(document.body).removeClass(I)
    }, M = function() {
        L(),
        t.req && t.req.abort()
    };
    e.magnificPopup.registerModule(O, {
        options: {
            settings: null,
            cursor: "mfp-ajax-cur",
            tError: '<a href="%url%">The content</a> could not be loaded.'
        },
        proto: {
            initAjax: function() {
                t.types.push(O),
                I = t.st.ajax.cursor,
                _(o + "." + O, M),
                _("BeforeChange." + O, M)
            },
            getAjax: function(i) {
                I && e(document.body).addClass(I),
                t.updateStatus("loading");
                var n = e.extend({
                    url: i.src,
                    success: function(n, s, r) {
                        var a = {
                            data: n,
                            xhr: r
                        };
                        w("ParseAjax", a),
                        t.appendContent(e(a.data), O),
                        i.finished = !0,
                        L(),
                        t._setFocus(),
                        setTimeout((function() {
                            t.wrap.addClass(f)
                        }
                        ), 16),
                        t.updateStatus("ready"),
                        w("AjaxContentAdded")
                    },
                    error: function() {
                        L(),
                        i.finished = i.loadError = !0,
                        t.updateStatus("error", t.st.ajax.tError.replace("%url%", i.src))
                    }
                }, t.st.ajax.settings);
                return t.req = e.ajax(n),
                ""
            }
        }
    });
    var D, R = function(i) {
        if (i.data && void 0 !== i.data.title)
            return i.data.title;
        var n = t.st.image.titleSrc;
        if (n) {
            if (e.isFunction(n))
                return n.call(t, i);
            if (i.el)
                return i.el.attr(n) || ""
        }
        return ""
    };
    e.magnificPopup.registerModule("image", {
        options: {
            markup: '<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',
            cursor: "mfp-zoom-out-cur",
            titleSrc: "title",
            verticalFit: !0,
            tError: '<a href="%url%">The image</a> could not be loaded.'
        },
        proto: {
            initImage: function() {
                var i = t.st.image
                  , n = ".image";
                t.types.push("image"),
                _(c + n, (function() {
                    "image" === t.currItem.type && i.cursor && e(document.body).addClass(i.cursor)
                }
                )),
                _(o + n, (function() {
                    i.cursor && e(document.body).removeClass(i.cursor),
                    b.off("resize" + p)
                }
                )),
                _("Resize" + n, t.resizeImage),
                t.isLowIE && _("AfterChange", t.resizeImage)
            },
            resizeImage: function() {
                var e = t.currItem;
                if (e && e.img && t.st.image.verticalFit) {
                    var i = 0;
                    t.isLowIE && (i = parseInt(e.img.css("padding-top"), 10) + parseInt(e.img.css("padding-bottom"), 10)),
                    e.img.css("max-height", t.wH - i)
                }
            },
            _onImageHasSize: function(e) {
                e.img && (e.hasSize = !0,
                D && clearInterval(D),
                e.isCheckingImgSize = !1,
                w("ImageHasSize", e),
                e.imgHidden && (t.content && t.content.removeClass("mfp-loading"),
                e.imgHidden = !1))
            },
            findImageSize: function(e) {
                var i = 0
                  , n = e.img[0]
                  , s = function(r) {
                    D && clearInterval(D),
                    D = setInterval((function() {
                        return n.naturalWidth > 0 ? void t._onImageHasSize(e) : (i > 200 && clearInterval(D),
                        void (3 === ++i ? s(10) : 40 === i ? s(50) : 100 === i && s(500)))
                    }
                    ), r)
                };
                s(1)
            },
            getImage: function(i, n) {
                var s = 0
                  , r = function() {
                    i && (i.img[0].complete ? (i.img.off(".mfploader"),
                    i === t.currItem && (t._onImageHasSize(i),
                    t.updateStatus("ready")),
                    i.hasSize = !0,
                    i.loaded = !0,
                    w("ImageLoadComplete")) : 200 > ++s ? setTimeout(r, 100) : a())
                }
                  , a = function() {
                    i && (i.img.off(".mfploader"),
                    i === t.currItem && (t._onImageHasSize(i),
                    t.updateStatus("error", o.tError.replace("%url%", i.src))),
                    i.hasSize = !0,
                    i.loaded = !0,
                    i.loadError = !0)
                }
                  , o = t.st.image
                  , l = n.find(".mfp-img");
                if (l.length) {
                    var d = document.createElement("img");
                    d.className = "mfp-img",
                    i.el && i.el.find("img").length && (d.alt = i.el.find("img").attr("alt")),
                    i.img = e(d).on("load.mfploader", r).on("error.mfploader", a),
                    d.src = i.src,
                    l.is("img") && (i.img = i.img.clone()),
                    (d = i.img[0]).naturalWidth > 0 ? i.hasSize = !0 : d.width || (i.hasSize = !1)
                }
                return t._parseMarkup(n, {
                    title: R(i),
                    img_replaceWith: i.img
                }, i),
                t.resizeImage(),
                i.hasSize ? (D && clearInterval(D),
                i.loadError ? (n.addClass("mfp-loading"),
                t.updateStatus("error", o.tError.replace("%url%", i.src))) : (n.removeClass("mfp-loading"),
                t.updateStatus("ready")),
                n) : (t.updateStatus("loading"),
                i.loading = !0,
                i.hasSize || (i.imgHidden = !0,
                n.addClass("mfp-loading"),
                t.findImageSize(i)),
                n)
            }
        }
    });
    var N;
    e.magnificPopup.registerModule("zoom", {
        options: {
            enabled: !1,
            easing: "ease-in-out",
            duration: 300,
            opener: function(e) {
                return e.is("img") ? e : e.find("img")
            }
        },
        proto: {
            initZoom: function() {
                var e, i = t.st.zoom, n = ".zoom";
                if (i.enabled && t.supportsTransition) {
                    var s, r, a = i.duration, d = function(e) {
                        var t = e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image")
                          , n = "all " + i.duration / 1e3 + "s " + i.easing
                          , s = {
                            position: "fixed",
                            zIndex: 9999,
                            left: 0,
                            top: 0,
                            "-webkit-backface-visibility": "hidden"
                        }
                          , r = "transition";
                        return s["-webkit-" + r] = s["-moz-" + r] = s["-o-" + r] = s[r] = n,
                        t.css(s),
                        t
                    }, c = function() {
                        t.content.css("visibility", "visible")
                    };
                    _("BuildControls" + n, (function() {
                        if (t._allowZoom()) {
                            if (clearTimeout(s),
                            t.content.css("visibility", "hidden"),
                            !(e = t._getItemToZoom()))
                                return void c();
                            (r = d(e)).css(t._getOffset()),
                            t.wrap.append(r),
                            s = setTimeout((function() {
                                r.css(t._getOffset(!0)),
                                s = setTimeout((function() {
                                    c(),
                                    setTimeout((function() {
                                        r.remove(),
                                        e = r = null,
                                        w("ZoomAnimationEnded")
                                    }
                                    ), 16)
                                }
                                ), a)
                            }
                            ), 16)
                        }
                    }
                    )),
                    _(l + n, (function() {
                        if (t._allowZoom()) {
                            if (clearTimeout(s),
                            t.st.removalDelay = a,
                            !e) {
                                if (!(e = t._getItemToZoom()))
                                    return;
                                r = d(e)
                            }
                            r.css(t._getOffset(!0)),
                            t.wrap.append(r),
                            t.content.css("visibility", "hidden"),
                            setTimeout((function() {
                                r.css(t._getOffset())
                            }
                            ), 16)
                        }
                    }
                    )),
                    _(o + n, (function() {
                        t._allowZoom() && (c(),
                        r && r.remove(),
                        e = null)
                    }
                    ))
                }
            },
            _allowZoom: function() {
                return "image" === t.currItem.type
            },
            _getItemToZoom: function() {
                return !!t.currItem.hasSize && t.currItem.img
            },
            _getOffset: function(i) {
                var n, s = (n = i ? t.currItem.img : t.st.zoom.opener(t.currItem.el || t.currItem)).offset(), r = parseInt(n.css("padding-top"), 10), a = parseInt(n.css("padding-bottom"), 10);
                s.top -= e(window).scrollTop() - r;
                var o = {
                    width: n.width(),
                    height: (y ? n.innerHeight() : n[0].offsetHeight) - a - r
                };
                return void 0 === N && (N = void 0 !== document.createElement("p").style.MozTransform),
                N ? o["-moz-transform"] = o.transform = "translate(" + s.left + "px," + s.top + "px)" : (o.left = s.left,
                o.top = s.top),
                o
            }
        }
    });
    var B = "iframe"
      , j = function(e) {
        if (t.currTemplate[B]) {
            var i = t.currTemplate[B].find("iframe");
            i.length && (e || (i[0].src = "//about:blank"),
            t.isIE8 && i.css("display", e ? "block" : "none"))
        }
    };
    e.magnificPopup.registerModule(B, {
        options: {
            markup: '<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',
            srcAction: "iframe_src",
            patterns: {
                youtube: {
                    index: "youtube.com",
                    id: "v=",
                    src: "//www.youtube.com/embed/%id%?autoplay=1"
                },
                vimeo: {
                    index: "vimeo.com/",
                    id: "/",
                    src: "//player.vimeo.com/video/%id%?autoplay=1"
                },
                gmaps: {
                    index: "//maps.google.",
                    src: "%id%&output=embed"
                }
            }
        },
        proto: {
            initIframe: function() {
                t.types.push(B),
                _("BeforeChange", (function(e, t, i) {
                    t !== i && (t === B ? j() : i === B && j(!0))
                }
                )),
                _(o + "." + B, (function() {
                    j()
                }
                ))
            },
            getIframe: function(i, n) {
                var s = i.src
                  , r = t.st.iframe;
                e.each(r.patterns, (function() {
                    return s.indexOf(this.index) > -1 ? (this.id && (s = "string" == typeof this.id ? s.substr(s.lastIndexOf(this.id) + this.id.length, s.length) : this.id.call(this, s)),
                    s = this.src.replace("%id%", s),
                    !1) : void 0
                }
                ));
                var a = {};
                return r.srcAction && (a[r.srcAction] = s),
                t._parseMarkup(n, a, i),
                t.updateStatus("ready"),
                n
            }
        }
    });
    var F = function(e) {
        var i = t.items.length;
        return e > i - 1 ? e - i : 0 > e ? i + e : e
    }
      , U = function(e, t, i) {
        return e.replace(/%curr%/gi, t + 1).replace(/%total%/gi, i)
    };
    e.magnificPopup.registerModule("gallery", {
        options: {
            enabled: !1,
            arrowMarkup: '<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',
            preload: [0, 2],
            navigateByImgClick: !0,
            arrows: !0,
            tPrev: "Previous (Left arrow key)",
            tNext: "Next (Right arrow key)",
            tCounter: "%curr% of %total%"
        },
        proto: {
            initGallery: function() {
                var i = t.st.gallery
                  , s = ".mfp-gallery"
                  , a = Boolean(e.fn.mfpFastClick);
                return t.direction = !0,
                !(!i || !i.enabled) && (r += " mfp-gallery",
                _(c + s, (function() {
                    i.navigateByImgClick && t.wrap.on("click" + s, ".mfp-img", (function() {
                        return t.items.length > 1 ? (t.next(),
                        !1) : void 0
                    }
                    )),
                    n.on("keydown" + s, (function(e) {
                        37 === e.keyCode ? t.prev() : 39 === e.keyCode && t.next()
                    }
                    ))
                }
                )),
                _("UpdateStatus" + s, (function(e, i) {
                    i.text && (i.text = U(i.text, t.currItem.index, t.items.length))
                }
                )),
                _(d + s, (function(e, n, s, r) {
                    var a = t.items.length;
                    s.counter = a > 1 ? U(i.tCounter, r.index, a) : ""
                }
                )),
                _("BuildControls" + s, (function() {
                    if (t.items.length > 1 && i.arrows && !t.arrowLeft) {
                        var n = i.arrowMarkup
                          , s = t.arrowLeft = e(n.replace(/%title%/gi, i.tPrev).replace(/%dir%/gi, "left")).addClass(g)
                          , r = t.arrowRight = e(n.replace(/%title%/gi, i.tNext).replace(/%dir%/gi, "right")).addClass(g)
                          , o = a ? "mfpFastClick" : "click";
                        s[o]((function() {
                            t.prev()
                        }
                        )),
                        r[o]((function() {
                            t.next()
                        }
                        )),
                        t.isIE7 && (T("b", s[0], !1, !0),
                        T("a", s[0], !1, !0),
                        T("b", r[0], !1, !0),
                        T("a", r[0], !1, !0)),
                        t.container.append(s.add(r))
                    }
                }
                )),
                _(u + s, (function() {
                    t._preloadTimeout && clearTimeout(t._preloadTimeout),
                    t._preloadTimeout = setTimeout((function() {
                        t.preloadNearbyImages(),
                        t._preloadTimeout = null
                    }
                    ), 16)
                }
                )),
                void _(o + s, (function() {
                    n.off(s),
                    t.wrap.off("click" + s),
                    t.arrowLeft && a && t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),
                    t.arrowRight = t.arrowLeft = null
                }
                )))
            },
            next: function() {
                t.direction = !0,
                t.index = F(t.index + 1),
                t.updateItemHTML()
            },
            prev: function() {
                t.direction = !1,
                t.index = F(t.index - 1),
                t.updateItemHTML()
            },
            goTo: function(e) {
                t.direction = e >= t.index,
                t.index = e,
                t.updateItemHTML()
            },
            preloadNearbyImages: function() {
                var e, i = t.st.gallery.preload, n = Math.min(i[0], t.items.length), s = Math.min(i[1], t.items.length);
                for (e = 1; e <= (t.direction ? s : n); e++)
                    t._preloadItem(t.index + e);
                for (e = 1; e <= (t.direction ? n : s); e++)
                    t._preloadItem(t.index - e)
            },
            _preloadItem: function(i) {
                if (i = F(i),
                !t.items[i].preloaded) {
                    var n = t.items[i];
                    n.parsed || (n = t.parseEl(i)),
                    w("LazyLoad", n),
                    "image" === n.type && (n.img = e('<img class="mfp-img" />').on("load.mfploader", (function() {
                        n.hasSize = !0
                    }
                    )).on("error.mfploader", (function() {
                        n.hasSize = !0,
                        n.loadError = !0,
                        w("LazyLoadError", n)
                    }
                    )).attr("src", n.src)),
                    n.preloaded = !0
                }
            }
        }
    });
    var $ = "retina";
    e.magnificPopup.registerModule($, {
        options: {
            replaceSrc: function(e) {
                return e.src.replace(/\.\w+$/, (function(e) {
                    return "@2x" + e
                }
                ))
            },
            ratio: 1
        },
        proto: {
            initRetina: function() {
                if (window.devicePixelRatio > 1) {
                    var e = t.st.retina
                      , i = e.ratio;
                    (i = isNaN(i) ? i() : i) > 1 && (_("ImageHasSize." + $, (function(e, t) {
                        t.img.css({
                            "max-width": t.img[0].naturalWidth / i,
                            width: "100%"
                        })
                    }
                    )),
                    _("ElementParse." + $, (function(t, n) {
                        n.src = e.replaceSrc(n, i)
                    }
                    )))
                }
            }
        }
    }),
    function() {
        var t = "ontouchstart"in window
          , i = function() {
            b.off("touchmove" + n + " touchend" + n)
        }
          , n = ".mfpFastClick";
        e.fn.mfpFastClick = function(s) {
            return e(this).each((function() {
                var r, a, o, l, d, c, u, h = e(this);
                t && h.on("touchstart" + n, (function(e) {
                    d = !1,
                    u = 1,
                    c = e.originalEvent ? e.originalEvent.touches[0] : e.touches[0],
                    o = c.clientX,
                    l = c.clientY,
                    b.on("touchmove" + n, (function(e) {
                        c = e.originalEvent ? e.originalEvent.touches : e.touches,
                        u = c.length,
                        c = c[0],
                        (Math.abs(c.clientX - o) > 10 || Math.abs(c.clientY - l) > 10) && (d = !0,
                        i())
                    }
                    )).on("touchend" + n, (function(e) {
                        i(),
                        d || u > 1 || (r = !0,
                        e.preventDefault(),
                        clearTimeout(a),
                        a = setTimeout((function() {
                            r = !1
                        }
                        ), 1e3),
                        s())
                    }
                    ))
                }
                ));
                h.on("click" + n, (function() {
                    r || s()
                }
                ))
            }
            ))
        }
        ,
        e.fn.destroyMfpFastClick = function() {
            e(this).off("touchstart" + n + " click" + n),
            t && b.off("touchmove" + n + " touchend" + n)
        }
    }(),
    k()
}
)),
function(e, t) {
    "object" == typeof exports && "undefined" != typeof module ? t(exports) : "function" == typeof define && define.amd ? define(["exports"], t) : t((e = "undefined" != typeof globalThis ? globalThis : e || self).window = e.window || {})
}(this, (function(e) {
    "use strict";
    const t = (e, t=1e4) => (e = parseFloat(e + "") || 0,
    Math.round((e + Number.EPSILON) * t) / t)
      , i = function(e) {
        if (!(e && e instanceof Element && e.offsetParent))
            return !1;
        const t = e.scrollHeight > e.clientHeight
          , i = window.getComputedStyle(e).overflowY
          , n = -1 !== i.indexOf("hidden")
          , s = -1 !== i.indexOf("visible");
        return t && !n && !s
    }
      , n = function(e, t=undefined) {
        return !(!e || e === document.body || t && e === t) && (i(e) ? e : n(e.parentElement, t))
    }
      , s = function(e) {
        var t = (new DOMParser).parseFromString(e, "text/html").body;
        if (t.childElementCount > 1) {
            for (var i = document.createElement("div"); t.firstChild; )
                i.appendChild(t.firstChild);
            return i
        }
        return t.firstChild
    }
      , r = e => `${e || ""}`.split(" ").filter((e => !!e))
      , a = (e, t, i) => {
        r(t).forEach((t => {
            e && e.classList.toggle(t, i || !1)
        }
        ))
    }
    ;
    class o {
        constructor(e) {
            Object.defineProperty(this, "pageX", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "pageY", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "clientX", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "clientY", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "id", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "time", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "nativePointer", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            this.nativePointer = e,
            this.pageX = e.pageX,
            this.pageY = e.pageY,
            this.clientX = e.clientX,
            this.clientY = e.clientY,
            this.id = self.Touch && e instanceof Touch ? e.identifier : -1,
            this.time = Date.now()
        }
    }
    const l = {
        passive: !1
    };
    class d {
        constructor(e, {start: t=( () => !0), move: i=( () => {}
        ), end: n=( () => {}
        )}) {
            Object.defineProperty(this, "element", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "startCallback", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "moveCallback", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "endCallback", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "currentPointers", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: []
            }),
            Object.defineProperty(this, "startPointers", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: []
            }),
            this.element = e,
            this.startCallback = t,
            this.moveCallback = i,
            this.endCallback = n;
            for (const e of ["onPointerStart", "onTouchStart", "onMove", "onTouchEnd", "onPointerEnd", "onWindowBlur"])
                this[e] = this[e].bind(this);
            this.element.addEventListener("mousedown", this.onPointerStart, l),
            this.element.addEventListener("touchstart", this.onTouchStart, l),
            this.element.addEventListener("touchmove", this.onMove, l),
            this.element.addEventListener("touchend", this.onTouchEnd),
            this.element.addEventListener("touchcancel", this.onTouchEnd)
        }
        onPointerStart(e) {
            if (!e.buttons || 0 !== e.button)
                return;
            const t = new o(e);
            this.currentPointers.some((e => e.id === t.id)) || this.triggerPointerStart(t, e) && (window.addEventListener("mousemove", this.onMove),
            window.addEventListener("mouseup", this.onPointerEnd),
            window.addEventListener("blur", this.onWindowBlur))
        }
        onTouchStart(e) {
            for (const t of Array.from(e.changedTouches || []))
                this.triggerPointerStart(new o(t), e);
            window.addEventListener("blur", this.onWindowBlur)
        }
        onMove(e) {
            const t = this.currentPointers.slice()
              , i = "changedTouches"in e ? Array.from(e.changedTouches || []).map((e => new o(e))) : [new o(e)]
              , n = [];
            for (const e of i) {
                const t = this.currentPointers.findIndex((t => t.id === e.id));
                t < 0 || (n.push(e),
                this.currentPointers[t] = e)
            }
            n.length && this.moveCallback(e, this.currentPointers.slice(), t)
        }
        onPointerEnd(e) {
            e.buttons > 0 && 0 !== e.button || (this.triggerPointerEnd(e, new o(e)),
            window.removeEventListener("mousemove", this.onMove),
            window.removeEventListener("mouseup", this.onPointerEnd),
            window.removeEventListener("blur", this.onWindowBlur))
        }
        onTouchEnd(e) {
            for (const t of Array.from(e.changedTouches || []))
                this.triggerPointerEnd(e, new o(t))
        }
        triggerPointerStart(e, t) {
            return !!this.startCallback(t, e, this.currentPointers.slice()) && (this.currentPointers.push(e),
            this.startPointers.push(e),
            !0)
        }
        triggerPointerEnd(e, t) {
            const i = this.currentPointers.findIndex((e => e.id === t.id));
            i < 0 || (this.currentPointers.splice(i, 1),
            this.startPointers.splice(i, 1),
            this.endCallback(e, t, this.currentPointers.slice()))
        }
        onWindowBlur() {
            this.clear()
        }
        clear() {
            for (; this.currentPointers.length; ) {
                const e = this.currentPointers[this.currentPointers.length - 1];
                this.currentPointers.splice(this.currentPointers.length - 1, 1),
                this.startPointers.splice(this.currentPointers.length - 1, 1),
                this.endCallback(new Event("touchend",{
                    bubbles: !0,
                    cancelable: !0,
                    clientX: e.clientX,
                    clientY: e.clientY
                }), e, this.currentPointers.slice())
            }
        }
        stop() {
            this.element.removeEventListener("mousedown", this.onPointerStart, l),
            this.element.removeEventListener("touchstart", this.onTouchStart, l),
            this.element.removeEventListener("touchmove", this.onMove, l),
            this.element.removeEventListener("touchend", this.onTouchEnd),
            this.element.removeEventListener("touchcancel", this.onTouchEnd),
            window.removeEventListener("mousemove", this.onMove),
            window.removeEventListener("mouseup", this.onPointerEnd),
            window.removeEventListener("blur", this.onWindowBlur)
        }
    }
    function c(e, t) {
        return t ? Math.sqrt(Math.pow(t.clientX - e.clientX, 2) + Math.pow(t.clientY - e.clientY, 2)) : 0
    }
    function u(e, t) {
        return t ? {
            clientX: (e.clientX + t.clientX) / 2,
            clientY: (e.clientY + t.clientY) / 2
        } : e
    }
    const h = e => "object" == typeof e && null !== e && e.constructor === Object && "[object Object]" === Object.prototype.toString.call(e)
      , p = (e, ...t) => {
        const i = t.length;
        for (let n = 0; n < i; n++) {
            const i = t[n] || {};
            Object.entries(i).forEach(( ([t,i]) => {
                const n = Array.isArray(i) ? [] : {};
                e[t] || Object.assign(e, {
                    [t]: n
                }),
                h(i) ? Object.assign(e[t], p(n, i)) : Array.isArray(i) ? Object.assign(e, {
                    [t]: [...i]
                }) : Object.assign(e, {
                    [t]: i
                })
            }
            ))
        }
        return e
    }
      , f = function(e, t) {
        return e.split(".").reduce(( (e, t) => "object" == typeof e ? e[t] : void 0), t)
    };
    class m {
        constructor(e={}) {
            Object.defineProperty(this, "options", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: e
            }),
            Object.defineProperty(this, "events", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: new Map
            }),
            this.setOptions(e);
            for (const e of Object.getOwnPropertyNames(Object.getPrototypeOf(this)))
                e.startsWith("on") && "function" == typeof this[e] && (this[e] = this[e].bind(this))
        }
        setOptions(e) {
            this.options = e ? p({}, this.constructor.defaults, e) : {};
            for (const [e,t] of Object.entries(this.option("on") || {}))
                this.on(e, t)
        }
        option(e, ...t) {
            let i = f(e, this.options);
            return i && "function" == typeof i && (i = i.call(this, this, ...t)),
            i
        }
        optionFor(e, t, i, ...n) {
            let s = f(t, e);
            var r;
            "string" != typeof (r = s) || isNaN(r) || isNaN(parseFloat(r)) || (s = parseFloat(s)),
            "true" === s && (s = !0),
            "false" === s && (s = !1),
            s && "function" == typeof s && (s = s.call(this, this, e, ...n));
            let a = f(t, this.options);
            return a && "function" == typeof a ? s = a.call(this, this, e, ...n, s) : void 0 === s && (s = a),
            void 0 === s ? i : s
        }
        cn(e) {
            const t = this.options.classes;
            return t && t[e] || ""
        }
        localize(e, t=[]) {
            e = String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g, ( (e, t, i) => {
                let n = "";
                return i ? n = this.option(`${t[0] + t.toLowerCase().substring(1)}.l10n.${i}`) : t && (n = this.option(`l10n.${t}`)),
                n || (n = e),
                n
            }
            ));
            for (let i = 0; i < t.length; i++)
                e = e.split(t[i][0]).join(t[i][1]);
            return e.replace(/\{\{(.*?)\}\}/g, ( (e, t) => t))
        }
        on(e, t) {
            let i = [];
            "string" == typeof e ? i = e.split(" ") : Array.isArray(e) && (i = e),
            this.events || (this.events = new Map),
            i.forEach((e => {
                let i = this.events.get(e);
                i || (this.events.set(e, []),
                i = []),
                i.includes(t) || i.push(t),
                this.events.set(e, i)
            }
            ))
        }
        off(e, t) {
            let i = [];
            "string" == typeof e ? i = e.split(" ") : Array.isArray(e) && (i = e),
            i.forEach((e => {
                const i = this.events.get(e);
                if (Array.isArray(i)) {
                    const e = i.indexOf(t);
                    e > -1 && i.splice(e, 1)
                }
            }
            ))
        }
        emit(e, ...t) {
            [...this.events.get(e) || []].forEach((e => e(this, ...t))),
            "*" !== e && this.emit("*", e, ...t)
        }
    }
    Object.defineProperty(m, "version", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: "5.0.22"
    }),
    Object.defineProperty(m, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: {}
    });
    class g extends m {
        constructor(e={}) {
            super(e),
            Object.defineProperty(this, "plugins", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: {}
            })
        }
        attachPlugins(e={}) {
            const t = new Map;
            for (const [i,n] of Object.entries(e)) {
                const e = this.option(i)
                  , s = this.plugins[i];
                s || !1 === e ? s && !1 === e && (s.detach(),
                delete this.plugins[i]) : t.set(i, new n(this,e || {}))
            }
            for (const [e,i] of t)
                this.plugins[e] = i,
                i.attach();
            this.emit("attachPlugins")
        }
        detachPlugins(e) {
            e = e || Object.keys(this.plugins);
            for (const t of e) {
                const e = this.plugins[t];
                e && e.detach(),
                delete this.plugins[t]
            }
            return this.emit("detachPlugins"),
            this
        }
    }
    var v;
    !function(e) {
        e[e.Init = 0] = "Init",
        e[e.Error = 1] = "Error",
        e[e.Ready = 2] = "Ready",
        e[e.Panning = 3] = "Panning",
        e[e.Mousemove = 4] = "Mousemove",
        e[e.Destroy = 5] = "Destroy"
    }(v || (v = {}));
    const y = ["a", "b", "c", "d", "e", "f"]
      , b = {
        PANUP: "Move up",
        PANDOWN: "Move down",
        PANLEFT: "Move left",
        PANRIGHT: "Move right",
        ZOOMIN: "Zoom in",
        ZOOMOUT: "Zoom out",
        TOGGLEZOOM: "Toggle zoom level",
        TOGGLE1TO1: "Toggle zoom level",
        ITERATEZOOM: "Toggle zoom level",
        ROTATECCW: "Rotate counterclockwise",
        ROTATECW: "Rotate clockwise",
        FLIPX: "Flip horizontally",
        FLIPY: "Flip vertically",
        FITX: "Fit horizontally",
        FITY: "Fit vertically",
        RESET: "Reset",
        TOGGLEFS: "Toggle fullscreen"
    }
      , _ = {
        content: null,
        width: "auto",
        height: "auto",
        panMode: "drag",
        touch: !0,
        dragMinThreshold: 3,
        lockAxis: !1,
        mouseMoveFactor: 1,
        mouseMoveFriction: .12,
        zoom: !0,
        pinchToZoom: !0,
        panOnlyZoomed: "auto",
        minScale: 1,
        maxScale: 2,
        friction: .25,
        dragFriction: .35,
        decelFriction: .05,
        click: "toggleZoom",
        dblClick: !1,
        wheel: "zoom",
        wheelLimit: 7,
        spinner: !0,
        bounds: "auto",
        infinite: !1,
        rubberband: !0,
        bounce: !0,
        maxVelocity: 75,
        transformParent: !1,
        classes: {
            content: "f-panzoom__content",
            isLoading: "is-loading",
            canZoomIn: "can-zoom_in",
            canZoomOut: "can-zoom_out",
            isDraggable: "is-draggable",
            isDragging: "is-dragging",
            inFullscreen: "in-fullscreen",
            htmlHasFullscreen: "with-panzoom-in-fullscreen"
        },
        l10n: b
    }
      , T = '<div class="f-spinner"><svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="20"></circle><circle cx="25" cy="25" r="20"></circle></svg></div>'
      , w = e => e && null !== e && e instanceof Element && "nodeType"in e
      , S = (e, t) => {
        e && r(t).forEach((t => {
            e.classList.remove(t)
        }
        ))
    }
      , k = (e, t) => {
        e && r(t).forEach((t => {
            e.classList.add(t)
        }
        ))
    }
      , x = {
        a: 1,
        b: 0,
        c: 0,
        d: 1,
        e: 0,
        f: 0
    }
      , C = 1e3
      , E = "mousemove"
      , P = "drag"
      , A = "content";
    let I = null
      , O = null;
    class L extends g {
        get isTouchDevice() {
            return null === O && (O = window.matchMedia("(hover: none)").matches),
            O
        }
        get isMobile() {
            return null === I && (I = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),
            I
        }
        get panMode() {
            return this.options.panMode !== E || this.isTouchDevice ? P : E
        }
        get panOnlyZoomed() {
            const e = this.options.panOnlyZoomed;
            return "auto" === e ? this.isTouchDevice : e
        }
        get isInfinite() {
            return this.option("infinite")
        }
        get angle() {
            return 180 * Math.atan2(this.current.b, this.current.a) / Math.PI || 0
        }
        get targetAngle() {
            return 180 * Math.atan2(this.target.b, this.target.a) / Math.PI || 0
        }
        get scale() {
            const {a: e, b: t} = this.current;
            return Math.sqrt(e * e + t * t) || 1
        }
        get targetScale() {
            const {a: e, b: t} = this.target;
            return Math.sqrt(e * e + t * t) || 1
        }
        get minScale() {
            return this.option("minScale") || 1
        }
        get fullScale() {
            const {contentRect: e} = this;
            return e.fullWidth / e.fitWidth || 1
        }
        get maxScale() {
            return this.fullScale * (this.option("maxScale") || 1) || 1
        }
        get coverScale() {
            const {containerRect: e, contentRect: t} = this
              , i = Math.max(e.height / t.fitHeight, e.width / t.fitWidth) || 1;
            return Math.min(this.fullScale, i)
        }
        get isScaling() {
            return Math.abs(this.targetScale - this.scale) > 1e-5 && !this.isResting
        }
        get isContentLoading() {
            const e = this.content;
            return !!(e && e instanceof HTMLImageElement) && !e.complete
        }
        get isResting() {
            if (this.isBouncingX || this.isBouncingY)
                return !1;
            for (const e of y) {
                const t = "e" == e || "f" === e ? .001 : 1e-5;
                if (Math.abs(this.target[e] - this.current[e]) > t)
                    return !1
            }
            return !(!this.ignoreBounds && !this.checkBounds().inBounds)
        }
        constructor(e, t={}, i={}) {
            var n;
            if (super(t),
            Object.defineProperty(this, "pointerTracker", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "resizeObserver", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "updateTimer", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "clickTimer", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "rAF", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "isTicking", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: !1
            }),
            Object.defineProperty(this, "friction", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            Object.defineProperty(this, "ignoreBounds", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: !1
            }),
            Object.defineProperty(this, "isBouncingX", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: !1
            }),
            Object.defineProperty(this, "isBouncingY", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: !1
            }),
            Object.defineProperty(this, "clicks", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            Object.defineProperty(this, "trackingPoints", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: []
            }),
            Object.defineProperty(this, "pwt", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            Object.defineProperty(this, "cwd", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            Object.defineProperty(this, "pmme", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "state", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: v.Init
            }),
            Object.defineProperty(this, "isDragging", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: !1
            }),
            Object.defineProperty(this, "container", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "content", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "spinner", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "containerRect", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: {
                    width: 0,
                    height: 0,
                    innerWidth: 0,
                    innerHeight: 0
                }
            }),
            Object.defineProperty(this, "contentRect", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: {
                    top: 0,
                    right: 0,
                    bottom: 0,
                    left: 0,
                    fullWidth: 0,
                    fullHeight: 0,
                    fitWidth: 0,
                    fitHeight: 0,
                    width: 0,
                    height: 0
                }
            }),
            Object.defineProperty(this, "dragStart", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: {
                    x: 0,
                    y: 0,
                    top: 0,
                    left: 0,
                    time: 0
                }
            }),
            Object.defineProperty(this, "dragOffset", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: {
                    x: 0,
                    y: 0,
                    time: 0
                }
            }),
            Object.defineProperty(this, "current", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: Object.assign({}, x)
            }),
            Object.defineProperty(this, "target", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: Object.assign({}, x)
            }),
            Object.defineProperty(this, "velocity", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: {
                    a: 0,
                    b: 0,
                    c: 0,
                    d: 0,
                    e: 0,
                    f: 0
                }
            }),
            Object.defineProperty(this, "lockedAxis", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: !1
            }),
            !e)
                throw new Error("Container Element Not Found");
            this.container = e,
            this.initContent(),
            this.attachPlugins(Object.assign(Object.assign({}, L.Plugins), i)),
            this.emit("init");
            const r = this.content;
            if (r.addEventListener("load", this.onLoad),
            r.addEventListener("error", this.onError),
            this.isContentLoading) {
                if (this.option("spinner")) {
                    e.classList.add(this.cn("isLoading"));
                    const t = s(T);
                    !e.contains(r) || r.parentElement instanceof HTMLPictureElement ? this.spinner = e.appendChild(t) : this.spinner = (null === (n = r.parentElement) || void 0 === n ? void 0 : n.insertBefore(t, r)) || null
                }
                this.emit("beforeLoad")
            } else
                queueMicrotask(( () => {
                    this.enable()
                }
                ))
        }
        initContent() {
            const {container: e} = this
              , t = this.cn(A);
            let i = this.option(A) || e.querySelector(`.${t}`);
            if (i || (i = e.querySelector("img,picture") || e.firstElementChild,
            i && k(i, t)),
            i instanceof HTMLPictureElement && (i = i.querySelector("img")),
            !i)
                throw new Error("No content found");
            this.content = i
        }
        onLoad() {
            this.spinner && (this.spinner.remove(),
            this.spinner = null),
            this.option("spinner") && this.container.classList.remove(this.cn("isLoading")),
            this.emit("afterLoad"),
            this.state === v.Init ? this.enable() : this.updateMetrics()
        }
        onError() {
            this.state !== v.Destroy && (this.spinner && (this.spinner.remove(),
            this.spinner = null),
            this.stop(),
            this.detachEvents(),
            this.state = v.Error,
            this.emit("error"))
        }
        attachObserver() {
            var e;
            const t = () => Math.abs(this.containerRect.width - this.container.getBoundingClientRect().width) > .1 || Math.abs(this.containerRect.height - this.container.getBoundingClientRect().height) > .1;
            this.resizeObserver || void 0 === window.ResizeObserver || (this.resizeObserver = new ResizeObserver(( () => {
                this.updateTimer || (t() ? (this.onResize(),
                this.isMobile && (this.updateTimer = setTimeout(( () => {
                    t() && this.onResize(),
                    this.updateTimer = null
                }
                ), 500))) : this.updateTimer && (clearTimeout(this.updateTimer),
                this.updateTimer = null))
            }
            ))),
            null === (e = this.resizeObserver) || void 0 === e || e.observe(this.container)
        }
        detachObserver() {
            var e;
            null === (e = this.resizeObserver) || void 0 === e || e.disconnect()
        }
        attachEvents() {
            const {container: e} = this;
            e.addEventListener("click", this.onClick, {
                passive: !1,
                capture: !1
            }),
            e.addEventListener("wheel", this.onWheel, {
                passive: !1
            }),
            this.pointerTracker = new d(e,{
                start: this.onPointerDown,
                move: this.onPointerMove,
                end: this.onPointerUp
            }),
            document.addEventListener(E, this.onMouseMove)
        }
        detachEvents() {
            var e;
            const {container: t} = this;
            t.removeEventListener("click", this.onClick, {
                passive: !1,
                capture: !1
            }),
            t.removeEventListener("wheel", this.onWheel, {
                passive: !1
            }),
            null === (e = this.pointerTracker) || void 0 === e || e.stop(),
            this.pointerTracker = null,
            document.removeEventListener(E, this.onMouseMove),
            document.removeEventListener("keydown", this.onKeydown, !0),
            this.clickTimer && (clearTimeout(this.clickTimer),
            this.clickTimer = null),
            this.updateTimer && (clearTimeout(this.updateTimer),
            this.updateTimer = null)
        }
        animate() {
            const e = this.friction;
            this.setTargetForce();
            const t = this.option("maxVelocity");
            for (const i of y)
                e ? (this.velocity[i] *= 1 - e,
                t && !this.isScaling && (this.velocity[i] = Math.max(Math.min(this.velocity[i], t), -1 * t)),
                this.current[i] += this.velocity[i]) : this.current[i] = this.target[i];
            this.setTransform(),
            this.setEdgeForce(),
            !this.isResting || this.isDragging ? this.rAF = requestAnimationFrame(( () => this.animate())) : this.stop("current")
        }
        setTargetForce() {
            for (const e of y)
                "e" === e && this.isBouncingX || "f" === e && this.isBouncingY || (this.velocity[e] = (1 / (1 - this.friction) - 1) * (this.target[e] - this.current[e]))
        }
        checkBounds(e=0, t=0) {
            const {current: i} = this
              , n = i.e + e
              , s = i.f + t
              , r = this.getBounds()
              , {x: a, y: o} = r
              , l = a.min
              , d = a.max
              , c = o.min
              , u = o.max;
            let h = 0
              , p = 0;
            return l !== 1 / 0 && n < l ? h = l - n : d !== 1 / 0 && n > d && (h = d - n),
            c !== 1 / 0 && s < c ? p = c - s : u !== 1 / 0 && s > u && (p = u - s),
            Math.abs(h) < .001 && (h = 0),
            Math.abs(p) < .001 && (p = 0),
            Object.assign(Object.assign({}, r), {
                xDiff: h,
                yDiff: p,
                inBounds: !h && !p
            })
        }
        clampTargetBounds() {
            const {target: e} = this
              , {x: t, y: i} = this.getBounds();
            t.min !== 1 / 0 && (e.e = Math.max(e.e, t.min)),
            t.max !== 1 / 0 && (e.e = Math.min(e.e, t.max)),
            i.min !== 1 / 0 && (e.f = Math.max(e.f, i.min)),
            i.max !== 1 / 0 && (e.f = Math.min(e.f, i.max))
        }
        calculateContentDim(e=this.current) {
            const {content: t, contentRect: i} = this
              , {fitWidth: n, fitHeight: s, fullWidth: r, fullHeight: a} = i;
            let o = r
              , l = a;
            if (this.option("zoom") || 0 !== this.angle) {
                const i = !(t instanceof HTMLImageElement || "none" !== window.getComputedStyle(t).maxWidth && "none" !== window.getComputedStyle(t).maxHeight)
                  , d = i ? r : n
                  , c = i ? a : s
                  , u = this.getMatrix(e)
                  , h = new DOMPoint(0,0).matrixTransform(u)
                  , p = new DOMPoint(0 + d,0).matrixTransform(u)
                  , f = new DOMPoint(0 + d,0 + c).matrixTransform(u)
                  , m = new DOMPoint(0,0 + c).matrixTransform(u)
                  , g = Math.abs(f.x - h.x)
                  , v = Math.abs(f.y - h.y)
                  , y = Math.abs(m.x - p.x)
                  , b = Math.abs(m.y - p.y);
                o = Math.max(g, y),
                l = Math.max(v, b)
            }
            return {
                contentWidth: o,
                contentHeight: l
            }
        }
        setEdgeForce() {
            if (this.ignoreBounds || this.isDragging || this.panMode === E || this.targetScale < this.scale)
                return this.isBouncingX = !1,
                void (this.isBouncingY = !1);
            const {target: e} = this
              , {x: t, y: i, xDiff: n, yDiff: s} = this.checkBounds()
              , r = this.option("maxVelocity");
            let a = this.velocity.e
              , o = this.velocity.f;
            0 !== n ? (this.isBouncingX = !0,
            n * a <= 0 ? a += .14 * n : (a = .14 * n,
            t.min !== 1 / 0 && (this.target.e = Math.max(e.e, t.min)),
            t.max !== 1 / 0 && (this.target.e = Math.min(e.e, t.max))),
            r && (a = Math.max(Math.min(a, r), -1 * r))) : this.isBouncingX = !1,
            0 !== s ? (this.isBouncingY = !0,
            s * o <= 0 ? o += .14 * s : (o = .14 * s,
            i.min !== 1 / 0 && (this.target.f = Math.max(e.f, i.min)),
            i.max !== 1 / 0 && (this.target.f = Math.min(e.f, i.max))),
            r && (o = Math.max(Math.min(o, r), -1 * r))) : this.isBouncingY = !1,
            this.isBouncingX && (this.velocity.e = a),
            this.isBouncingY && (this.velocity.f = o)
        }
        enable() {
            const {content: e} = this
              , t = new DOMMatrixReadOnly(window.getComputedStyle(e).transform);
            for (const e of y)
                this.current[e] = this.target[e] = t[e];
            this.updateMetrics(),
            this.attachObserver(),
            this.attachEvents(),
            this.state = v.Ready,
            this.emit("ready")
        }
        onClick(e) {
            var t;
            this.isDragging && (null === (t = this.pointerTracker) || void 0 === t || t.clear(),
            this.trackingPoints = [],
            this.startDecelAnim());
            const i = e.target;
            if (!i || e.defaultPrevented)
                return;
            if (i && i.hasAttribute("disabled"))
                return e.preventDefault(),
                void e.stopPropagation();
            if (( () => {
                const e = window.getSelection();
                return e && "Range" === e.type
            }
            )() && !i.closest("button"))
                return;
            const n = i.closest("[data-panzoom-action]")
              , s = i.closest("[data-panzoom-change]")
              , r = n || s
              , a = r && w(r) ? r.dataset : null;
            if (a) {
                const t = a.panzoomChange
                  , i = a.panzoomAction;
                if ((t || i) && e.preventDefault(),
                t) {
                    let i = {};
                    try {
                        i = JSON.parse(t)
                    } catch (e) {
                        console && console.warn("The given data was not valid JSON")
                    }
                    return void this.applyChange(i)
                }
                if (i)
                    return void (this[i] && this[i]())
            }
            if (Math.abs(this.dragOffset.x) > 3 || Math.abs(this.dragOffset.y) > 3)
                return e.preventDefault(),
                void e.stopPropagation();
            const o = this.content.getBoundingClientRect();
            if (this.dragStart.time && !this.canZoomOut() && (Math.abs(o.x - this.dragStart.x) > 2 || Math.abs(o.y - this.dragStart.y) > 2))
                return;
            this.dragStart.time = 0;
            const l = t => {
                this.option("zoom") && t && "string" == typeof t && /(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(t) && "function" == typeof this[t] && (e.preventDefault(),
                this[t]({
                    event: e
                }))
            }
              , d = this.option("click", e)
              , c = this.option("dblClick", e);
            c ? (this.clicks++,
            1 == this.clicks && (this.clickTimer = setTimeout(( () => {
                1 === this.clicks ? (this.emit("click", e),
                !e.defaultPrevented && d && l(d)) : (this.emit("dblClick", e),
                e.defaultPrevented || l(c)),
                this.clicks = 0,
                this.clickTimer = null
            }
            ), 350))) : (this.emit("click", e),
            !e.defaultPrevented && d && l(d))
        }
        addTrackingPoint(e) {
            const t = this.trackingPoints.filter((e => e.time > Date.now() - 100));
            t.push(e),
            this.trackingPoints = t
        }
        onPointerDown(e, t, i) {
            var n;
            if (!1 === this.option("touch", e))
                return !1;
            this.pwt = 0,
            this.dragOffset = {
                x: 0,
                y: 0,
                time: 0
            },
            this.trackingPoints = [];
            const s = this.content.getBoundingClientRect();
            if (this.dragStart = {
                x: s.x,
                y: s.y,
                top: s.top,
                left: s.left,
                time: Date.now()
            },
            this.clickTimer)
                return !1;
            if (this.panMode === E && this.targetScale > 1)
                return e.preventDefault(),
                e.stopPropagation(),
                !1;
            const r = e.composedPath()[0];
            if (!i.length) {
                if (["TEXTAREA", "OPTION", "INPUT", "SELECT", "VIDEO", "IFRAME"].includes(r.nodeName) || r.closest("[contenteditable]") || r.closest("[data-selectable]") || r.closest("[data-draggable]") || r.closest("[data-clickable]") || r.closest("[data-panzoom-change]") || r.closest("[data-panzoom-action]"))
                    return !1;
                null === (n = window.getSelection()) || void 0 === n || n.removeAllRanges()
            }
            if ("mousedown" === e.type)
                ["A", "BUTTON"].includes(r.nodeName) || e.preventDefault();
            else if (Math.abs(this.velocity.a) > .3)
                return !1;
            return this.target.e = this.current.e,
            this.target.f = this.current.f,
            this.stop(),
            this.isDragging || (this.isDragging = !0,
            this.addTrackingPoint(t),
            this.emit("touchStart", e)),
            !0
        }
        onPointerMove(e, i, s) {
            if (!1 === this.option("touch", e))
                return;
            if (!this.isDragging)
                return;
            if (i.length < 2 && this.panOnlyZoomed && t(this.targetScale) <= t(this.minScale))
                return;
            if (this.emit("touchMove", e),
            e.defaultPrevented)
                return;
            this.addTrackingPoint(i[0]);
            const {content: r} = this
              , a = u(s[0], s[1])
              , o = u(i[0], i[1]);
            let l = 0
              , d = 0;
            if (i.length > 1) {
                const e = r.getBoundingClientRect();
                l = a.clientX - e.left - .5 * e.width,
                d = a.clientY - e.top - .5 * e.height
            }
            const h = c(s[0], s[1])
              , p = c(i[0], i[1]);
            let f = h ? p / h : 1
              , m = o.clientX - a.clientX
              , g = o.clientY - a.clientY;
            this.dragOffset.x += m,
            this.dragOffset.y += g,
            this.dragOffset.time = Date.now() - this.dragStart.time;
            let v = t(this.targetScale) === t(this.minScale) && this.option("lockAxis");
            if (v && !this.lockedAxis)
                if ("xy" === v || "y" === v || "touchmove" === e.type) {
                    if (Math.abs(this.dragOffset.x) < 6 && Math.abs(this.dragOffset.y) < 6)
                        return void e.preventDefault();
                    const t = Math.abs(180 * Math.atan2(this.dragOffset.y, this.dragOffset.x) / Math.PI);
                    this.lockedAxis = t > 45 && t < 135 ? "y" : "x",
                    this.dragOffset.x = 0,
                    this.dragOffset.y = 0,
                    m = 0,
                    g = 0
                } else
                    this.lockedAxis = v;
            if (n(e.target, this.content) && (v = "x",
            this.dragOffset.y = 0),
            v && "xy" !== v && this.lockedAxis !== v && t(this.targetScale) === t(this.minScale))
                return;
            e.cancelable && e.preventDefault(),
            this.container.classList.add(this.cn("isDragging"));
            const y = this.checkBounds(m, g);
            this.option("rubberband") ? ("x" !== this.isInfinite && (y.xDiff > 0 && m < 0 || y.xDiff < 0 && m > 0) && (m *= Math.max(0, .5 - Math.abs(.75 / this.contentRect.fitWidth * y.xDiff))),
            "y" !== this.isInfinite && (y.yDiff > 0 && g < 0 || y.yDiff < 0 && g > 0) && (g *= Math.max(0, .5 - Math.abs(.75 / this.contentRect.fitHeight * y.yDiff)))) : (y.xDiff && (m = 0),
            y.yDiff && (g = 0));
            const b = this.targetScale
              , _ = this.minScale
              , T = this.maxScale;
            b < .5 * _ && (f = Math.max(f, _)),
            b > 1.5 * T && (f = Math.min(f, T)),
            "y" === this.lockedAxis && t(b) === t(_) && (m = 0),
            "x" === this.lockedAxis && t(b) === t(_) && (g = 0),
            this.applyChange({
                originX: l,
                originY: d,
                panX: m,
                panY: g,
                scale: f,
                friction: this.option("dragFriction"),
                ignoreBounds: !0
            })
        }
        onPointerUp(e, t, i) {
            if (i.length)
                return this.dragOffset.x = 0,
                this.dragOffset.y = 0,
                void (this.trackingPoints = []);
            this.container.classList.remove(this.cn("isDragging")),
            this.isDragging && (this.addTrackingPoint(t),
            this.panOnlyZoomed && this.contentRect.width - this.contentRect.fitWidth < 1 && this.contentRect.height - this.contentRect.fitHeight < 1 && (this.trackingPoints = []),
            n(e.target, this.content) && "y" === this.lockedAxis && (this.trackingPoints = []),
            this.emit("touchEnd", e),
            this.isDragging = !1,
            this.lockedAxis = !1,
            this.state !== v.Destroy && (e.defaultPrevented || this.startDecelAnim()))
        }
        startDecelAnim() {
            var e;
            const i = this.isScaling;
            this.rAF && (cancelAnimationFrame(this.rAF),
            this.rAF = null),
            this.isBouncingX = !1,
            this.isBouncingY = !1;
            for (const e of y)
                this.velocity[e] = 0;
            this.target.e = this.current.e,
            this.target.f = this.current.f,
            S(this.container, "is-scaling"),
            S(this.container, "is-animating"),
            this.isTicking = !1;
            const {trackingPoints: n} = this
              , s = n[0]
              , r = n[n.length - 1];
            let a = 0
              , o = 0
              , l = 0;
            r && s && (a = r.clientX - s.clientX,
            o = r.clientY - s.clientY,
            l = r.time - s.time);
            const d = (null === (e = window.visualViewport) || void 0 === e ? void 0 : e.scale) || 1;
            1 !== d && (a *= d,
            o *= d);
            let c = 0
              , u = 0
              , h = 0
              , p = 0
              , f = this.option("decelFriction");
            const m = this.targetScale;
            if (l > 0) {
                h = Math.abs(a) > 3 ? a / (l / 30) : 0,
                p = Math.abs(o) > 3 ? o / (l / 30) : 0;
                const e = this.option("maxVelocity");
                e && (h = Math.max(Math.min(h, e), -1 * e),
                p = Math.max(Math.min(p, e), -1 * e))
            }
            h && (c = h / (1 / (1 - f) - 1)),
            p && (u = p / (1 / (1 - f) - 1)),
            ("y" === this.option("lockAxis") || "xy" === this.option("lockAxis") && "y" === this.lockedAxis && t(m) === this.minScale) && (c = h = 0),
            ("x" === this.option("lockAxis") || "xy" === this.option("lockAxis") && "x" === this.lockedAxis && t(m) === this.minScale) && (u = p = 0);
            const g = this.dragOffset.x
              , v = this.dragOffset.y
              , b = this.option("dragMinThreshold") || 0;
            Math.abs(g) < b && Math.abs(v) < b && (c = u = 0,
            h = p = 0),
            (m < this.minScale - 1e-5 || m > this.maxScale + 1e-5 || i && !c && !u) && (f = .35),
            this.applyChange({
                panX: c,
                panY: u,
                friction: f
            }),
            this.emit("decel", h, p, g, v)
        }
        onWheel(e) {
            var t = [-e.deltaX || 0, -e.deltaY || 0, -e.detail || 0].reduce((function(e, t) {
                return Math.abs(t) > Math.abs(e) ? t : e
            }
            ));
            const i = Math.max(-1, Math.min(1, t));
            if (this.emit("wheel", e, i),
            this.panMode === E)
                return;
            if (e.defaultPrevented)
                return;
            const n = this.option("wheel");
            "pan" === n ? (e.preventDefault(),
            this.panOnlyZoomed && !this.canZoomOut() || this.applyChange({
                panX: 2 * -e.deltaX,
                panY: 2 * -e.deltaY,
                bounce: !1
            })) : "zoom" === n && !1 !== this.option("zoom") && this.zoomWithWheel(e)
        }
        onMouseMove(e) {
            this.panWithMouse(e)
        }
        onKeydown(e) {
            "Escape" === e.key && this.toggleFS()
        }
        onResize() {
            this.updateMetrics(),
            this.checkBounds().inBounds || this.requestTick()
        }
        setTransform() {
            this.emit("beforeTransform");
            const {current: e, target: i, content: n, contentRect: s} = this
              , r = Object.assign({}, x);
            for (const n of y) {
                const s = "e" == n || "f" === n ? C : 1e5;
                r[n] = t(e[n], s),
                Math.abs(i[n] - e[n]) < ("e" == n || "f" === n ? .51 : .001) && (e[n] = i[n])
            }
            let {a: a, b: o, c: l, d: d, e: c, f: u} = r
              , h = `matrix(${a}, ${o}, ${l}, ${d}, ${c}, ${u})`
              , p = n.parentElement instanceof HTMLPictureElement ? n.parentElement : n;
            if (this.option("transformParent") && (p = p.parentElement || p),
            p.style.transform === h)
                return;
            p.style.transform = h;
            const {contentWidth: f, contentHeight: m} = this.calculateContentDim();
            s.width = f,
            s.height = m,
            this.emit("afterTransform")
        }
        updateMetrics(e=!1) {
            var i;
            if (!this || this.state === v.Destroy)
                return;
            if (this.isContentLoading)
                return;
            const n = Math.max(1, (null === (i = window.visualViewport) || void 0 === i ? void 0 : i.scale) || 1)
              , {container: s, content: r} = this
              , a = r instanceof HTMLImageElement
              , o = s.getBoundingClientRect()
              , l = getComputedStyle(this.container);
            let d = o.width * n
              , c = o.height * n;
            const u = parseFloat(l.paddingTop) + parseFloat(l.paddingBottom)
              , h = d - (parseFloat(l.paddingLeft) + parseFloat(l.paddingRight))
              , p = c - u;
            this.containerRect = {
                width: d,
                height: c,
                innerWidth: h,
                innerHeight: p
            };
            let f = this.option("width") || "auto"
              , m = this.option("height") || "auto";
            "auto" === f && (f = parseFloat(r.dataset.width || "") || (e => {
                let t = 0;
                return t = e instanceof HTMLImageElement ? e.naturalWidth : e instanceof SVGElement ? e.width.baseVal.value : Math.max(e.offsetWidth, e.scrollWidth),
                t || 0
            }
            )(r)),
            "auto" === m && (m = parseFloat(r.dataset.height || "") || (e => {
                let t = 0;
                return t = e instanceof HTMLImageElement ? e.naturalHeight : e instanceof SVGElement ? e.height.baseVal.value : Math.max(e.offsetHeight, e.scrollHeight),
                t || 0
            }
            )(r));
            let g = r.parentElement instanceof HTMLPictureElement ? r.parentElement : r;
            this.option("transformParent") && (g = g.parentElement || g);
            const y = g.getAttribute("style") || "";
            g.style.setProperty("transform", "none", "important"),
            a && (g.style.width = "",
            g.style.height = ""),
            g.offsetHeight;
            const b = r.getBoundingClientRect();
            let _ = b.width * n
              , T = b.height * n
              , w = 0
              , S = 0;
            a && (Math.abs(f - _) > 1 || Math.abs(m - T) > 1) && ({width: _, height: T, top: w, left: S} = ( (e, t, i, n) => {
                const s = i / n;
                return s > e / t ? (i = e,
                n = e / s) : (i = t * s,
                n = t),
                {
                    width: i,
                    height: n,
                    top: .5 * (t - n),
                    left: .5 * (e - i)
                }
            }
            )(_, T, f, m)),
            this.contentRect = Object.assign(Object.assign({}, this.contentRect), {
                top: b.top - o.top + w,
                bottom: o.bottom - b.bottom + w,
                left: b.left - o.left + S,
                right: o.right - b.right + S,
                fitWidth: _,
                fitHeight: T,
                width: _,
                height: T,
                fullWidth: f,
                fullHeight: m
            }),
            g.style.cssText = y,
            a && (g.style.width = `${_}px`,
            g.style.height = `${T}px`),
            this.setTransform(),
            !0 !== e && this.emit("refresh"),
            this.ignoreBounds || (t(this.targetScale) < t(this.minScale) ? this.zoomTo(this.minScale, {
                friction: 0
            }) : this.targetScale > this.maxScale ? this.zoomTo(this.maxScale, {
                friction: 0
            }) : this.state === v.Init || this.checkBounds().inBounds || this.requestTick()),
            this.updateControls()
        }
        getBounds() {
            const e = this.option("bounds");
            if ("auto" !== e)
                return e;
            const {contentWidth: i, contentHeight: n} = this.calculateContentDim(this.target);
            let s = 0
              , r = 0
              , a = 0
              , o = 0;
            const l = this.option("infinite");
            if (!0 === l || this.lockedAxis && l === this.lockedAxis)
                s = -1 / 0,
                a = 1 / 0,
                r = -1 / 0,
                o = 1 / 0;
            else {
                let {containerRect: e, contentRect: l} = this
                  , d = t(this.contentRect.fitWidth * this.targetScale, C)
                  , c = t(this.contentRect.fitHeight * this.targetScale, C)
                  , {innerWidth: u, innerHeight: h} = e;
                if (this.containerRect.width === d && (u = e.width),
                this.containerRect.width === c && (h = e.height),
                i > u) {
                    a = .5 * (i - u),
                    s = -1 * a;
                    let e = .5 * (l.right - l.left);
                    s += e,
                    a += e
                }
                if (this.contentRect.fitWidth > u && i < u && (s -= .5 * (this.contentRect.fitWidth - u),
                a -= .5 * (this.contentRect.fitWidth - u)),
                n > h) {
                    o = .5 * (n - h),
                    r = -1 * o;
                    let e = .5 * (l.bottom - l.top);
                    r += e,
                    o += e
                }
                this.contentRect.fitHeight > h && n < h && (s -= .5 * (this.contentRect.fitHeight - h),
                a -= .5 * (this.contentRect.fitHeight - h))
            }
            return {
                x: {
                    min: s,
                    max: a
                },
                y: {
                    min: r,
                    max: o
                }
            }
        }
        updateControls() {
            const e = this
              , i = e.container
              , {panMode: n, contentRect: s, fullScale: r, targetScale: o, coverScale: l, maxScale: d, minScale: c} = e;
            let u = {
                toggleMax: o - c < .5 * (d - c) ? d : c,
                toggleCover: o - c < .5 * (l - c) ? l : c,
                toggleZoom: o - c < .5 * (r - c) ? r : c
            }[e.option("click") || ""] || c
              , h = e.canZoomIn()
              , p = e.canZoomOut()
              , f = n === P && !!this.option("touch")
              , m = p && f;
            f && (t(o) < t(c) && !this.panOnlyZoomed && (m = !0),
            (t(s.width, 1) > t(s.fitWidth, 1) || t(s.height, 1) > t(s.fitHeight, 1)) && (m = !0)),
            t(s.width * o, 1) < t(s.fitWidth, 1) && (m = !1),
            n === E && (m = !1);
            let g = h && t(u) > t(o)
              , v = !g && !m && p && t(u) < t(o);
            a(i, this.cn("canZoomIn"), g),
            a(i, this.cn("canZoomOut"), v),
            a(i, this.cn("isDraggable"), m);
            for (const e of i.querySelectorAll('[data-panzoom-action="zoomIn"]'))
                h ? (e.removeAttribute("disabled"),
                e.removeAttribute("tabindex")) : (e.setAttribute("disabled", ""),
                e.setAttribute("tabindex", "-1"));
            for (const e of i.querySelectorAll('[data-panzoom-action="zoomOut"]'))
                p ? (e.removeAttribute("disabled"),
                e.removeAttribute("tabindex")) : (e.setAttribute("disabled", ""),
                e.setAttribute("tabindex", "-1"));
            for (const e of i.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')) {
                h || p ? (e.removeAttribute("disabled"),
                e.removeAttribute("tabindex")) : (e.setAttribute("disabled", ""),
                e.setAttribute("tabindex", "-1"));
                const t = e.querySelector("g");
                t && (t.style.display = h ? "" : "none")
            }
        }
        panTo({x: e=this.target.e, y: t=this.target.f, scale: i=this.targetScale, friction: n=this.option("friction"), angle: s=0, originX: r=0, originY: a=0, flipX: o=!1, flipY: l=!1, ignoreBounds: d=!1}) {
            this.state !== v.Destroy && this.applyChange({
                panX: e - this.target.e,
                panY: t - this.target.f,
                scale: i / this.targetScale,
                angle: s,
                originX: r,
                originY: a,
                friction: n,
                flipX: o,
                flipY: l,
                ignoreBounds: d
            })
        }
        applyChange({panX: e=0, panY: i=0, scale: n=1, angle: s=0, originX: r=-this.current.e, originY: a=-this.current.f, friction: o=this.option("friction"), flipX: l=!1, flipY: d=!1, ignoreBounds: c=!1, bounce: u=this.option("bounce")}) {
            if (this.state === v.Destroy)
                return;
            this.rAF && (cancelAnimationFrame(this.rAF),
            this.rAF = null),
            this.friction = o || 0,
            this.ignoreBounds = c;
            const {current: h} = this
              , p = h.e
              , f = h.f
              , m = this.getMatrix(this.target);
            let g = (new DOMMatrix).translate(p, f).translate(r, a).translate(e, i);
            if (this.option("zoom")) {
                if (!c) {
                    const e = this.targetScale
                      , t = this.minScale
                      , i = this.maxScale;
                    e * n < t && (n = t / e),
                    e * n > i && (n = i / e)
                }
                g = g.scale(n)
            }
            g = g.translate(-r, -a).translate(-p, -f).multiply(m),
            s && (g = g.rotate(s)),
            l && (g = g.scale(-1, 1)),
            d && (g = g.scale(1, -1));
            for (const e of y)
                "e" !== e && "f" !== e && (g[e] > this.minScale + 1e-5 || g[e] < this.minScale - 1e-5) ? this.target[e] = g[e] : this.target[e] = t(g[e], C);
            (this.targetScale < this.scale || Math.abs(n - 1) > .1 || this.panMode === E || !1 === u) && !c && this.clampTargetBounds(),
            this.isResting || (this.state = v.Panning,
            this.requestTick())
        }
        stop(e=!1) {
            if (this.state === v.Init || this.state === v.Destroy)
                return;
            const t = this.isTicking;
            this.rAF && (cancelAnimationFrame(this.rAF),
            this.rAF = null),
            this.isBouncingX = !1,
            this.isBouncingY = !1;
            for (const t of y)
                this.velocity[t] = 0,
                "current" === e ? this.current[t] = this.target[t] : "target" === e && (this.target[t] = this.current[t]);
            this.setTransform(),
            S(this.container, "is-scaling"),
            S(this.container, "is-animating"),
            this.isTicking = !1,
            this.state = v.Ready,
            t && (this.emit("endAnimation"),
            this.updateControls())
        }
        requestTick() {
            this.isTicking || (this.emit("startAnimation"),
            this.updateControls(),
            k(this.container, "is-animating"),
            this.isScaling && k(this.container, "is-scaling")),
            this.isTicking = !0,
            this.rAF || (this.rAF = requestAnimationFrame(( () => this.animate())))
        }
        panWithMouse(e, i=this.option("mouseMoveFriction")) {
            if (this.pmme = e,
            this.panMode !== E || !e)
                return;
            if (t(this.targetScale) <= t(this.minScale))
                return;
            this.emit("mouseMove", e);
            const {container: n, containerRect: s, contentRect: r} = this
              , a = s.width
              , o = s.height
              , l = n.getBoundingClientRect()
              , d = (e.clientX || 0) - l.left
              , c = (e.clientY || 0) - l.top;
            let {contentWidth: u, contentHeight: h} = this.calculateContentDim(this.target);
            const p = this.option("mouseMoveFactor");
            p > 1 && (u !== a && (u *= p),
            h !== o && (h *= p));
            let f = .5 * (u - a) - d / a * 100 / 100 * (u - a);
            f += .5 * (r.right - r.left);
            let m = .5 * (h - o) - c / o * 100 / 100 * (h - o);
            m += .5 * (r.bottom - r.top),
            this.applyChange({
                panX: f - this.target.e,
                panY: m - this.target.f,
                friction: i
            })
        }
        zoomWithWheel(e) {
            if (this.state === v.Destroy || this.state === v.Init)
                return;
            const i = Date.now();
            if (i - this.pwt < 45)
                return void e.preventDefault();
            this.pwt = i;
            var n = [-e.deltaX || 0, -e.deltaY || 0, -e.detail || 0].reduce((function(e, t) {
                return Math.abs(t) > Math.abs(e) ? t : e
            }
            ));
            const s = Math.max(-1, Math.min(1, n))
              , {targetScale: r, maxScale: a, minScale: o} = this;
            let l = r * (100 + 45 * s) / 100;
            t(l) < t(o) && t(r) <= t(o) ? (this.cwd += Math.abs(s),
            l = o) : t(l) > t(a) && t(r) >= t(a) ? (this.cwd += Math.abs(s),
            l = a) : (this.cwd = 0,
            l = Math.max(Math.min(l, a), o)),
            this.cwd > this.option("wheelLimit") || (e.preventDefault(),
            t(l) !== t(r) && this.zoomTo(l, {
                event: e
            }))
        }
        canZoomIn() {
            return this.option("zoom") && (t(this.contentRect.width, 1) < t(this.contentRect.fitWidth, 1) || t(this.targetScale) < t(this.maxScale))
        }
        canZoomOut() {
            return this.option("zoom") && t(this.targetScale) > t(this.minScale)
        }
        zoomIn(e=1.25, t) {
            this.zoomTo(this.targetScale * e, t)
        }
        zoomOut(e=.8, t) {
            this.zoomTo(this.targetScale * e, t)
        }
        zoomToFit(e) {
            this.zoomTo("fit", e)
        }
        zoomToCover(e) {
            this.zoomTo("cover", e)
        }
        zoomToFull(e) {
            this.zoomTo("full", e)
        }
        zoomToMax(e) {
            this.zoomTo("max", e)
        }
        toggleZoom(e) {
            this.zoomTo(this.targetScale - this.minScale < .5 * (this.fullScale - this.minScale) ? "full" : "fit", e)
        }
        toggleMax(e) {
            this.zoomTo(this.targetScale - this.minScale < .5 * (this.maxScale - this.minScale) ? "max" : "fit", e)
        }
        toggleCover(e) {
            this.zoomTo(this.targetScale - this.minScale < .5 * (this.coverScale - this.minScale) ? "cover" : "fit", e)
        }
        iterateZoom(e) {
            this.zoomTo("next", e)
        }
        zoomTo(e=1, {friction: t="auto", originX: i="auto", originY: n="auto", event: s}={}) {
            if (this.isContentLoading || this.state === v.Destroy)
                return;
            const {targetScale: r} = this;
            this.stop();
            let a = 1;
            if (this.panMode === E && (s = this.pmme || s),
            s || "auto" === i || "auto" === n) {
                const e = this.content.getBoundingClientRect()
                  , t = this.container.getBoundingClientRect()
                  , r = s ? s.clientX : t.left + .5 * t.width
                  , a = s ? s.clientY : t.top + .5 * t.height;
                i = r - e.left - .5 * e.width,
                n = a - e.top - .5 * e.height
            }
            const o = this.fullScale
              , l = this.maxScale;
            let d = this.coverScale;
            "number" == typeof e ? a = e / r : ("next" === e && (o - d < .2 && (d = o),
            e = r < o - 1e-5 ? "full" : r < l - 1e-5 ? "max" : "fit"),
            a = "full" === e ? o / r || 1 : "cover" === e ? d / r || 1 : "max" === e ? l / r || 1 : 1 / r || 1),
            t = "auto" === t ? a > 1 ? .15 : .25 : t,
            this.applyChange({
                scale: a,
                originX: i,
                originY: n,
                friction: t
            }),
            s && this.panMode === E && this.panWithMouse(s, t)
        }
        rotateCCW() {
            this.applyChange({
                angle: -90
            })
        }
        rotateCW() {
            this.applyChange({
                angle: 90
            })
        }
        flipX() {
            this.applyChange({
                flipX: !0
            })
        }
        flipY() {
            this.applyChange({
                flipY: !0
            })
        }
        fitX() {
            this.stop("target");
            const {containerRect: e, contentRect: t, target: i} = this;
            this.applyChange({
                panX: .5 * e.width - (t.left + .5 * t.fitWidth) - i.e,
                panY: .5 * e.height - (t.top + .5 * t.fitHeight) - i.f,
                scale: e.width / t.fitWidth / this.targetScale,
                originX: 0,
                originY: 0,
                ignoreBounds: !0
            })
        }
        fitY() {
            this.stop("target");
            const {containerRect: e, contentRect: t, target: i} = this;
            this.applyChange({
                panX: .5 * e.width - (t.left + .5 * t.fitWidth) - i.e,
                panY: .5 * e.innerHeight - (t.top + .5 * t.fitHeight) - i.f,
                scale: e.height / t.fitHeight / this.targetScale,
                originX: 0,
                originY: 0,
                ignoreBounds: !0
            })
        }
        toggleFS() {
            const {container: e} = this
              , t = this.cn("inFullscreen")
              , i = this.cn("htmlHasFullscreen");
            e.classList.toggle(t);
            const n = e.classList.contains(t);
            n ? (document.documentElement.classList.add(i),
            document.addEventListener("keydown", this.onKeydown, !0)) : (document.documentElement.classList.remove(i),
            document.removeEventListener("keydown", this.onKeydown, !0)),
            this.updateMetrics(),
            this.emit(n ? "enterFS" : "exitFS")
        }
        getMatrix(e=this.current) {
            const {a: t, b: i, c: n, d: s, e: r, f: a} = e;
            return new DOMMatrix([t, i, n, s, r, a])
        }
        reset(e) {
            if (this.state !== v.Init && this.state !== v.Destroy) {
                this.stop("current");
                for (const e of y)
                    this.target[e] = x[e];
                this.target.a = this.minScale,
                this.target.d = this.minScale,
                this.clampTargetBounds(),
                this.isResting || (this.friction = void 0 === e ? this.option("friction") : e,
                this.state = v.Panning,
                this.requestTick())
            }
        }
        destroy() {
            this.stop(),
            this.state = v.Destroy,
            this.detachEvents(),
            this.detachObserver();
            const {container: e, content: t} = this
              , i = this.option("classes") || {};
            for (const t of Object.values(i))
                e.classList.remove(t + "");
            t && (t.removeEventListener("load", this.onLoad),
            t.removeEventListener("error", this.onError)),
            this.detachPlugins()
        }
    }
    Object.defineProperty(L, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: _
    }),
    Object.defineProperty(L, "Plugins", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: {}
    });
    const M = function(e, t) {
        let i = !0;
        return (...n) => {
            i && (i = !1,
            e(...n),
            setTimeout(( () => {
                i = !0
            }
            ), t))
        }
    }
      , D = (e, t) => {
        let i = [];
        return e.childNodes.forEach((e => {
            e.nodeType !== Node.ELEMENT_NODE || t && !e.matches(t) || i.push(e)
        }
        )),
        i
    }
    ;
    var R;
    !function(e) {
        e[e.Init = 0] = "Init",
        e[e.Ready = 1] = "Ready",
        e[e.Destroy = 2] = "Destroy"
    }(R || (R = {}));
    const N = e => {
        if ("string" == typeof e || e instanceof HTMLElement)
            e = {
                html: e
            };
        else {
            const t = e.thumb;
            void 0 !== t && ("string" == typeof t && (e.thumbSrc = t),
            t instanceof HTMLImageElement && (e.thumbEl = t,
            e.thumbElSrc = t.src,
            e.thumbSrc = t.src),
            delete e.thumb)
        }
        return Object.assign({
            html: "",
            el: null,
            isDom: !1,
            class: "",
            customClass: "",
            index: -1,
            dim: 0,
            gap: 0,
            pos: 0,
            transition: !1
        }, e)
    }
      , B = (e={}) => Object.assign({
        index: -1,
        slides: [],
        dim: 0,
        pos: -1
    }, e);
    class j extends m {
        constructor(e, t) {
            super(t),
            Object.defineProperty(this, "instance", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: e
            })
        }
        attach() {}
        detach() {}
    }
    class F extends j {
        constructor() {
            super(...arguments),
            Object.defineProperty(this, "isDynamic", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: !1
            }),
            Object.defineProperty(this, "list", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            })
        }
        onRefresh() {
            this.refresh()
        }
        build() {
            let e = this.list;
            return e || (e = document.createElement("ul"),
            k(e, this.cn("list")),
            e.setAttribute("role", "tablist"),
            this.instance.container.appendChild(e),
            k(this.instance.container, this.cn("hasDots")),
            this.list = e),
            e
        }
        refresh() {
            var e;
            const t = this.instance.pages.length
              , i = Math.min(2, this.option("minCount"))
              , n = Math.max(2e3, this.option("maxCount"))
              , s = this.option("dynamicFrom");
            if (t < i || t > n)
                return void this.cleanup();
            const r = "number" == typeof s && t > 5 && t >= s
              , o = !this.list || this.isDynamic !== r || this.list.children.length !== t;
            o && this.cleanup();
            const l = this.build();
            if (a(l, this.cn("isDynamic"), !!r),
            o)
                for (let e = 0; e < t; e++)
                    l.append(this.createItem(e));
            let d, c = 0;
            for (const t of [...l.children]) {
                const i = c === this.instance.page;
                i && (d = t),
                a(t, this.cn("isCurrent"), i),
                null === (e = t.children[0]) || void 0 === e || e.setAttribute("aria-selected", i ? "true" : "false");
                for (const e of ["isBeforePrev", "isPrev", "isNext", "isAfterNext"])
                    S(t, this.cn(e));
                c++
            }
            if (d = d || l.firstChild,
            r && d) {
                const e = d.previousElementSibling
                  , t = e && e.previousElementSibling;
                k(e, this.cn("isPrev")),
                k(t, this.cn("isBeforePrev"));
                const i = d.nextElementSibling
                  , n = i && i.nextElementSibling;
                k(i, this.cn("isNext")),
                k(n, this.cn("isAfterNext"))
            }
            this.isDynamic = r
        }
        createItem(e=0) {
            var t;
            const i = document.createElement("li");
            i.setAttribute("role", "presentation");
            const n = s(this.instance.localize(this.option("dotTpl"), [["%d", e + 1]]).replace(/\%i/g, e + ""));
            return i.appendChild(n),
            null === (t = i.children[0]) || void 0 === t || t.setAttribute("role", "tab"),
            i
        }
        cleanup() {
            this.list && (this.list.remove(),
            this.list = null),
            this.isDynamic = !1,
            S(this.instance.container, this.cn("hasDots"))
        }
        attach() {
            this.instance.on(["refresh", "change"], this.onRefresh)
        }
        detach() {
            this.instance.off(["refresh", "change"], this.onRefresh),
            this.cleanup()
        }
    }
    Object.defineProperty(F, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: {
            classes: {
                list: "f-carousel__dots",
                isDynamic: "is-dynamic",
                hasDots: "has-dots",
                dot: "f-carousel__dot",
                isBeforePrev: "is-before-prev",
                isPrev: "is-prev",
                isCurrent: "is-current",
                isNext: "is-next",
                isAfterNext: "is-after-next"
            },
            dotTpl: '<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',
            dynamicFrom: 11,
            maxCount: 1 / 0,
            minCount: 2
        }
    });
    const U = "disabled"
      , $ = "next"
      , H = "prev";
    class z extends j {
        constructor() {
            super(...arguments),
            Object.defineProperty(this, "container", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "prev", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "next", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            })
        }
        onRefresh() {
            const e = this.instance
              , t = e.pages.length
              , i = e.page;
            if (t < 2)
                return void this.cleanup();
            this.build();
            let n = this.prev
              , s = this.next;
            n && s && (n.removeAttribute(U),
            s.removeAttribute(U),
            e.isInfinite || (i <= 0 && n.setAttribute(U, ""),
            i >= t - 1 && s.setAttribute(U, "")))
        }
        createButton(e) {
            const t = this.instance
              , i = document.createElement("button");
            i.setAttribute("tabindex", "0"),
            i.setAttribute("title", t.localize(`{{${e.toUpperCase()}}}`)),
            k(i, this.cn("button") + " " + this.cn(e === $ ? "isNext" : "isPrev"));
            const n = t.isRTL ? e === $ ? H : $ : e;
            var s;
            return i.innerHTML = t.localize(this.option(`${n}Tpl`)),
            i.dataset[`carousel${s = e,
            s ? s.match("^[a-z]") ? s.charAt(0).toUpperCase() + s.substring(1) : s : ""}`] = "true",
            i
        }
        build() {
            let e = this.container;
            e || (this.container = e = document.createElement("div"),
            k(e, this.cn("container")),
            this.instance.container.appendChild(e)),
            this.next || (this.next = e.appendChild(this.createButton($))),
            this.prev || (this.prev = e.appendChild(this.createButton(H)))
        }
        cleanup() {
            this.prev && this.prev.remove(),
            this.next && this.next.remove(),
            this.container && this.container.remove(),
            this.prev = null,
            this.next = null,
            this.container = null
        }
        attach() {
            this.instance.on(["refresh", "change"], this.onRefresh)
        }
        detach() {
            this.instance.off(["refresh", "change"], this.onRefresh),
            this.cleanup()
        }
    }
    Object.defineProperty(z, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: {
            classes: {
                container: "f-carousel__nav",
                button: "f-button",
                isNext: "is-next",
                isPrev: "is-prev"
            },
            nextTpl: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',
            prevTpl: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'
        }
    });
    class q extends j {
        constructor() {
            super(...arguments),
            Object.defineProperty(this, "selectedIndex", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "target", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "nav", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            })
        }
        addAsTargetFor(e) {
            this.target = this.instance,
            this.nav = e,
            this.attachEvents()
        }
        addAsNavFor(e) {
            this.nav = this.instance,
            this.target = e,
            this.attachEvents()
        }
        attachEvents() {
            this.nav && this.target && (this.nav.options.initialSlide = this.target.options.initialPage,
            this.nav.on("ready", this.onNavReady),
            this.nav.state === R.Ready && this.onNavReady(this.nav),
            this.target.on("ready", this.onTargetReady),
            this.target.state === R.Ready && this.onTargetReady(this.target))
        }
        onNavReady(e) {
            e.on("createSlide", this.onNavCreateSlide),
            e.on("Panzoom.click", this.onNavClick),
            e.on("Panzoom.touchEnd", this.onNavTouch),
            this.onTargetChange()
        }
        onTargetReady(e) {
            e.on("change", this.onTargetChange),
            e.on("Panzoom.refresh", this.onTargetChange),
            this.onTargetChange()
        }
        onNavClick(e, t, i) {
            this.onNavTouch(e, e.panzoom, i)
        }
        onNavTouch(e, t, i) {
            var n, s;
            if (Math.abs(t.dragOffset.x) > 3 || Math.abs(t.dragOffset.y) > 3)
                return;
            const r = i.target
              , {nav: a, target: o} = this;
            if (!a || !o || !r)
                return;
            const l = r.closest("[data-index]");
            if (i.stopPropagation(),
            i.preventDefault(),
            !l)
                return;
            const d = parseInt(l.dataset.index || "", 10) || 0
              , c = o.getPageForSlide(d)
              , u = a.getPageForSlide(d);
            a.slideTo(u),
            o.slideTo(c, {
                friction: (null === (s = null === (n = this.nav) || void 0 === n ? void 0 : n.plugins) || void 0 === s ? void 0 : s.Sync.option("friction")) || 0
            }),
            this.markSelectedSlide(d)
        }
        onNavCreateSlide(e, t) {
            t.index === this.selectedIndex && this.markSelectedSlide(t.index)
        }
        onTargetChange() {
            const {target: e, nav: t} = this;
            if (!e || !t)
                return;
            if (t.state !== R.Ready || e.state !== R.Ready)
                return;
            const i = e.pages[e.page].slides[0].index
              , n = t.getPageForSlide(i);
            this.markSelectedSlide(i),
            t.slideTo(n)
        }
        markSelectedSlide(e) {
            const t = this.nav;
            t && t.state === R.Ready && (this.selectedIndex = e,
            [...t.slides].map((t => {
                t.el && t.el.classList[t.index === e ? "add" : "remove"]("is-nav-selected")
            }
            )))
        }
        attach() {
            const e = this;
            let t = e.options.target
              , i = e.options.nav;
            t ? e.addAsNavFor(t) : i && e.addAsTargetFor(i)
        }
        detach() {
            const e = this
              , t = e.nav
              , i = e.target;
            t && (t.off("ready", e.onNavReady),
            t.off("createSlide", e.onNavCreateSlide),
            t.off("Panzoom.click", e.onNavClick),
            t.off("Panzoom.touchEnd", e.onNavTouch)),
            e.nav = null,
            i && (i.off("ready", e.onTargetReady),
            i.off("refresh", e.onTargetChange),
            i.off("change", e.onTargetChange)),
            e.target = null
        }
    }
    Object.defineProperty(q, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: {
            friction: .35
        }
    });
    const W = {
        Navigation: z,
        Dots: F,
        Sync: q
    };
    class V extends g {
        get axis() {
            return this.isHorizontal ? "e" : "f"
        }
        get isEnabled() {
            return this.state === R.Ready
        }
        get isInfinite() {
            let e = !1;
            const {contentDim: t, viewportDim: i, pages: n, slides: s} = this;
            return n.length >= 2 && t + s[0].dim >= i && (e = this.option("infinite")),
            e
        }
        get isRTL() {
            return "rtl" === this.option("direction")
        }
        get isHorizontal() {
            return "x" === this.option("axis")
        }
        constructor(e, t={}, i={}) {
            if (super(),
            Object.defineProperty(this, "userOptions", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: {}
            }),
            Object.defineProperty(this, "userPlugins", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: {}
            }),
            Object.defineProperty(this, "bp", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: ""
            }),
            Object.defineProperty(this, "lp", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            Object.defineProperty(this, "state", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: R.Init
            }),
            Object.defineProperty(this, "page", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            Object.defineProperty(this, "prevPage", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "container", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "viewport", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "track", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "slides", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: []
            }),
            Object.defineProperty(this, "pages", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: []
            }),
            Object.defineProperty(this, "panzoom", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "inTransition", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: new Set
            }),
            Object.defineProperty(this, "contentDim", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            Object.defineProperty(this, "viewportDim", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            "string" == typeof e && (e = document.querySelector(e)),
            !e || !w(e))
                throw new Error("No Element found");
            this.container = e,
            this.slideNext = M(this.slideNext.bind(this), 150),
            this.slidePrev = M(this.slidePrev.bind(this), 150),
            this.userOptions = t,
            this.userPlugins = i,
            queueMicrotask(( () => {
                this.processOptions()
            }
            ))
        }
        processOptions() {
            const e = p({}, V.defaults, this.userOptions);
            let t = "";
            const i = e.breakpoints;
            if (i && h(i))
                for (const [n,s] of Object.entries(i))
                    window.matchMedia(n).matches && h(s) && (t += n,
                    p(e, s));
            t === this.bp && this.state !== R.Init || (this.bp = t,
            this.state === R.Ready && (e.initialSlide = this.pages[this.page].slides[0].index),
            this.state !== R.Init && this.destroy(),
            super.setOptions(e),
            !1 === this.option("enabled") ? this.attachEvents() : setTimeout(( () => {
                this.init()
            }
            ), 0))
        }
        init() {
            this.state = R.Init,
            this.emit("init"),
            this.attachPlugins(Object.assign(Object.assign({}, V.Plugins), this.userPlugins)),
            this.initLayout(),
            this.initSlides(),
            this.updateMetrics(),
            this.setInitialPosition(),
            this.initPanzoom(),
            this.attachEvents(),
            this.state = R.Ready,
            this.emit("ready")
        }
        initLayout() {
            const {container: e} = this
              , t = this.option("classes");
            k(e, this.cn("container")),
            a(e, t.isLTR, !this.isRTL),
            a(e, t.isRTL, this.isRTL),
            a(e, t.isVertical, !this.isHorizontal),
            a(e, t.isHorizontal, this.isHorizontal);
            let i = this.option("viewport") || e.querySelector(`.${t.viewport}`);
            i || (i = document.createElement("div"),
            k(i, t.viewport),
            i.append(...D(e, `.${t.slide}`)),
            e.prepend(i));
            let n = this.option("track") || e.querySelector(`.${t.track}`);
            n || (n = document.createElement("div"),
            k(n, t.track),
            n.append(...Array.from(i.childNodes))),
            n.setAttribute("aria-live", "polite"),
            i.contains(n) || i.prepend(n),
            this.viewport = i,
            this.track = n,
            this.emit("initLayout")
        }
        initSlides() {
            const {track: e} = this;
            if (e) {
                this.slides = [],
                [...D(e, `.${this.cn("slide")}`)].forEach((e => {
                    if (w(e)) {
                        const t = N({
                            el: e,
                            isDom: !0,
                            index: this.slides.length
                        });
                        this.slides.push(t),
                        this.emit("initSlide", t, this.slides.length)
                    }
                }
                ));
                for (let e of this.option("slides", [])) {
                    const t = N(e);
                    t.index = this.slides.length,
                    this.slides.push(t),
                    this.emit("initSlide", t, this.slides.length)
                }
                this.emit("initSlides")
            }
        }
        setInitialPage() {
            let e = 0;
            const t = this.option("initialSlide");
            e = "number" == typeof t ? this.getPageForSlide(t) : parseInt(this.option("initialPage", 0) + "", 10) || 0,
            this.page = e
        }
        setInitialPosition() {
            if (!this.track || !this.pages.length)
                return;
            const e = this.isHorizontal;
            let t = this.page;
            this.pages[t] || (this.page = t = 0);
            const i = this.pages[t].pos * (this.isRTL && e ? 1 : -1)
              , n = e ? `${i}px` : "0"
              , s = e ? "0" : `${i}px`;
            this.track.style.transform = `translate3d(${n}, ${s}, 0) scale(1)`,
            this.option("adaptiveHeight") && this.setViewportHeight()
        }
        initPanzoom() {
            this.panzoom && (this.panzoom.destroy(),
            this.panzoom = null);
            const e = this.option("Panzoom") || {};
            this.panzoom = new L(this.viewport,p({}, {
                content: this.track,
                zoom: !1,
                panOnlyZoomed: !1,
                lockAxis: this.isHorizontal ? "x" : "y",
                infinite: this.isInfinite,
                click: !1,
                dblClick: !1,
                touch: e => !(this.pages.length < 2 && !e.options.infinite),
                bounds: () => this.getBounds(),
                maxVelocity: e => Math.abs(e.target[this.axis] - e.current[this.axis]) < 2 * this.viewportDim ? 100 : 0
            }, e)),
            this.panzoom.on("*", ( (e, t, ...i) => {
                this.emit(`Panzoom.${t}`, e, ...i)
            }
            )),
            this.panzoom.on("decel", this.onDecel),
            this.panzoom.on("refresh", this.onRefresh),
            this.panzoom.on("beforeTransform", this.onBeforeTransform),
            this.panzoom.on("endAnimation", this.onEndAnimation)
        }
        attachEvents() {
            const e = this.container;
            e && (e.addEventListener("click", this.onClick, {
                passive: !1,
                capture: !1
            }),
            e.addEventListener("slideTo", this.onSlideTo)),
            window.addEventListener("resize", this.onResize)
        }
        createPages() {
            let e = [];
            const {contentDim: t, viewportDim: i} = this;
            let n = this.option("slidesPerPage");
            ("number" != typeof n || t <= i) && (n = 1 / 0);
            let s = 0
              , r = 0
              , a = 0;
            for (const t of this.slides)
                (!e.length || r + t.dim > i || a === n) && (e.push(B()),
                s = e.length - 1,
                r = 0,
                a = 0),
                e[s].slides.push(t),
                r += t.dim + t.gap,
                a++;
            return e
        }
        processPages() {
            const e = this.pages
              , {contentDim: i, viewportDim: n} = this
              , s = this.option("center")
              , r = this.option("fill")
              , a = r && s && i > n && !this.isInfinite;
            if (e.forEach(( (e, t) => {
                e.index = t,
                e.pos = e.slides[0].pos,
                e.dim = 0;
                for (const [t,i] of e.slides.entries())
                    e.dim += i.dim,
                    t < e.slides.length - 1 && (e.dim += i.gap);
                a && e.pos + .5 * e.dim < .5 * n ? e.pos = 0 : a && e.pos + .5 * e.dim >= i - .5 * n ? e.pos = i - n : s && (e.pos += -.5 * (n - e.dim))
            }
            )),
            e.forEach(( (e, s) => {
                r && !this.isInfinite && i > n && (e.pos = Math.max(e.pos, 0),
                e.pos = Math.min(e.pos, i - n)),
                e.pos = t(e.pos, 1e3),
                e.dim = t(e.dim, 1e3),
                Math.abs(e.pos) <= .1 && (e.pos = 0)
            }
            )),
            this.isInfinite)
                return e;
            const o = [];
            let l;
            return e.forEach((e => {
                const t = Object.assign({}, e);
                l && t.pos === l.pos ? (l.dim += t.dim,
                l.slides = [...l.slides, ...t.slides]) : (t.index = o.length,
                l = t,
                o.push(t))
            }
            )),
            o
        }
        getPageFromIndex(e=0) {
            const t = this.pages.length;
            let i;
            return e = parseInt((e || 0).toString()) || 0,
            i = this.isInfinite ? (e % t + t) % t : Math.max(Math.min(e, t - 1), 0),
            i
        }
        getSlideMetrics(e) {
            var i, n;
            const s = this.isHorizontal ? "width" : "height";
            let r = 0
              , a = 0
              , o = e.el;
            const l = o && !o.parentNode;
            if (o ? r = parseFloat(o.dataset[s] || "") || 0 : (o = document.createElement("div"),
            o.style.visibility = "hidden",
            (this.track || document.body).prepend(o)),
            k(o, this.cn("slide") + " " + e.class + " " + e.customClass),
            r)
                o.style[s] = `${r}px`,
                o.style["width" === s ? "height" : "width"] = "";
            else {
                l && (this.track || document.body).prepend(o);
                const e = Math.max(1, (null === (i = window.visualViewport) || void 0 === i ? void 0 : i.scale) || 1);
                r = o.getBoundingClientRect()[s] * e
            }
            const d = getComputedStyle(o);
            return "content-box" === d.boxSizing && (this.isHorizontal ? (r += parseFloat(d.paddingLeft) || 0,
            r += parseFloat(d.paddingRight) || 0) : (r += parseFloat(d.paddingTop) || 0,
            r += parseFloat(d.paddingBottom) || 0)),
            a = parseFloat(d[this.isHorizontal ? "marginRight" : "marginBottom"]) || 0,
            l ? null === (n = o.parentElement) || void 0 === n || n.removeChild(o) : e.el || o.remove(),
            {
                dim: t(r, 1e3),
                gap: t(a, 1e3)
            }
        }
        getBounds() {
            const {isInfinite: e, isRTL: t, isHorizontal: i, pages: n} = this;
            let s = {
                min: 0,
                max: 0
            };
            if (e)
                s = {
                    min: -1 / 0,
                    max: 1 / 0
                };
            else if (n.length) {
                const e = n[0].pos
                  , r = n[n.length - 1].pos;
                s = t && i ? {
                    min: e,
                    max: r
                } : {
                    min: -1 * r,
                    max: -1 * e
                }
            }
            return {
                x: i ? s : {
                    min: 0,
                    max: 0
                },
                y: i ? {
                    min: 0,
                    max: 0
                } : s
            }
        }
        repositionSlides() {
            let e, {isHorizontal: i, isRTL: n, isInfinite: s, viewport: r, viewportDim: a, contentDim: o, page: l, pages: d, slides: c, panzoom: u} = this, h = 0, p = 0, f = 0, m = 0;
            u ? m = -1 * u.current[this.axis] : d[l] && (m = d[l].pos || 0),
            e = i ? n ? "right" : "left" : "top",
            n && i && (m *= -1);
            for (const i of c)
                i.el ? ("top" === e ? (i.el.style.right = "",
                i.el.style.left = "") : i.el.style.top = "",
                i.index !== h ? i.el.style[e] = 0 === p ? "" : `${t(p, 1e3)}px` : i.el.style[e] = "",
                f += i.dim + i.gap,
                h++) : p += i.dim + i.gap;
            if (s && f && r) {
                let n = getComputedStyle(r)
                  , s = "padding"
                  , l = i ? "Right" : "Bottom"
                  , d = parseFloat(n[s + (i ? "Left" : "Top")]);
                m -= d,
                a += d,
                a += parseFloat(n[s + l]);
                for (const i of c)
                    i.el && (t(i.pos) < t(a) && t(i.pos + i.dim + i.gap) < t(m) && t(m) > t(o - a) && (i.el.style[e] = `${t(p + f, 1e3)}px`),
                    t(i.pos + i.gap) >= t(o - a) && t(i.pos) > t(m + a) && t(m) < t(a) && (i.el.style[e] = `-${t(f, 1e3)}px`))
            }
            let g, v, y = [...this.inTransition];
            if (y.length > 1 && (g = d[y[0]],
            v = d[y[1]]),
            g && v) {
                let i = 0;
                for (const n of c)
                    n.el ? this.inTransition.has(n.index) && g.slides.indexOf(n) < 0 && (n.el.style[e] = `${t(i + (g.pos - v.pos), 1e3)}px`) : i += n.dim + n.gap
            }
        }
        createSlideEl(e) {
            const {track: t, slides: i} = this;
            if (!t || !e)
                return;
            if (e.el && e.el.parentNode)
                return;
            const n = e.el || document.createElement("div");
            k(n, this.cn("slide")),
            k(n, e.class),
            k(n, e.customClass);
            const s = e.html;
            s && (s instanceof HTMLElement ? n.appendChild(s) : n.innerHTML = e.html + "");
            const r = [];
            i.forEach(( (e, t) => {
                e.el && r.push(t)
            }
            ));
            const a = e.index;
            let o = null;
            r.length && (o = i[r.reduce(( (e, t) => Math.abs(t - a) < Math.abs(e - a) ? t : e))]);
            const l = o && o.el && o.el.parentNode ? o.index < e.index ? o.el.nextSibling : o.el : null;
            t.insertBefore(n, t.contains(l) ? l : null),
            e.el = n,
            this.emit("createSlide", e)
        }
        removeSlideEl(e, t=!1) {
            const i = e.el;
            if (!i || !i.parentNode)
                return;
            if (S(i, this.cn("isSelected")),
            e.isDom && !t)
                return i.removeAttribute("aria-hidden"),
                i.removeAttribute("data-index"),
                S(i, this.cn("isSelected")),
                void (i.style.left = "");
            this.emit("removeSlide", e);
            const n = new CustomEvent("animationend");
            i.dispatchEvent(n),
            e.el && (e.el.remove(),
            e.el = null)
        }
        transitionTo(e=0, t=this.option("transition")) {
            if (!t)
                return !1;
            const {pages: i, panzoom: n} = this;
            e = parseInt((e || 0).toString()) || 0;
            const s = this.getPageFromIndex(e);
            if (!n || !i[s] || i.length < 2 || Math.abs(i[this.page].slides[0].dim - this.viewportDim) > 1)
                return !1;
            const r = e > this.page ? 1 : -1
              , a = this.pages[s].pos * (this.isRTL ? 1 : -1);
            if (this.page === s && Math.abs(a - n.target[this.axis]) < 1)
                return !1;
            this.clearTransitions();
            const o = n.isResting;
            k(this.container, this.cn("inTransition"));
            const l = this.pages[this.page].slides[0]
              , d = this.pages[s].slides[0];
            this.inTransition.add(d.index),
            this.createSlideEl(d);
            let c = l.el
              , u = d.el;
            o || "slide" === t || (t = "fadeFast",
            c = null);
            const h = this.isRTL ? "next" : "prev"
              , p = this.isRTL ? "prev" : "next";
            return c && (this.inTransition.add(l.index),
            l.transition = t,
            c.addEventListener("animationend", this.onAnimationEnd),
            c.classList.add(`f-${t}Out`, `to-${r > 0 ? p : h}`)),
            u && (d.transition = t,
            u.addEventListener("animationend", this.onAnimationEnd),
            u.classList.add(`f-${t}In`, `from-${r > 0 ? h : p}`)),
            n.panTo({
                x: this.isHorizontal ? a : 0,
                y: this.isHorizontal ? 0 : a,
                friction: 0
            }),
            this.onChange(s),
            !0
        }
        manageSlideVisiblity() {
            const e = new Set
              , t = new Set
              , i = this.getVisibleSlides(parseFloat(this.option("preload", 0) + "") || 0);
            for (const n of this.slides)
                i.has(n) ? e.add(n) : t.add(n);
            for (const t of this.inTransition)
                e.add(this.slides[t]);
            for (const t of e)
                this.createSlideEl(t),
                this.lazyLoadSlide(t);
            for (const i of t)
                e.has(i) || this.removeSlideEl(i);
            this.markSelectedSlides(),
            this.repositionSlides()
        }
        markSelectedSlides() {
            if (!this.pages[this.page] || !this.pages[this.page].slides)
                return;
            const e = "aria-hidden";
            let t = this.cn("isSelected");
            if (t)
                for (const i of this.slides)
                    i.el && (i.el.dataset.index = `${i.index}`,
                    this.pages[this.page].slides.includes(i) ? (i.el.classList.contains(t) || (k(i.el, t),
                    this.emit("selectSlide", i)),
                    i.el.removeAttribute(e)) : (i.el.classList.contains(t) && (S(i.el, t),
                    this.emit("unselectSlide", i)),
                    i.el.setAttribute(e, "true")))
        }
        flipInfiniteTrack() {
            const e = this.panzoom;
            if (!e || !this.isInfinite)
                return;
            const t = "x" === this.option("axis") ? "e" : "f"
              , {viewportDim: i, contentDim: n} = this;
            let s = e.current[t]
              , r = e.target[t] - s
              , a = 0
              , o = .5 * i
              , l = n;
            this.isRTL && this.isHorizontal ? (s < -o && (a = -1,
            s += l),
            s > l - o && (a = 1,
            s -= l)) : (s > o && (a = 1,
            s -= l),
            s < -l + o && (a = -1,
            s += l)),
            a && (e.current[t] = s,
            e.target[t] = s + r)
        }
        lazyLoadSlide(e) {
            const t = this
              , i = e && e.el;
            if (!i)
                return;
            const n = new Set
              , r = "f-fadeIn";
            i.querySelectorAll("[data-lazy-srcset]").forEach((e => {
                e instanceof HTMLImageElement && n.add(e)
            }
            ));
            let a = Array.from(i.querySelectorAll("[data-lazy-src]"));
            i.dataset.lazySrc && a.push(i),
            a.map((e => {
                e instanceof HTMLImageElement ? n.add(e) : w(e) && (e.style.backgroundImage = `url('${e.dataset.lazySrc || ""}')`,
                delete e.dataset.lazySrc)
            }
            ));
            const o = (e, i, n) => {
                n && (n.remove(),
                n = null),
                i.complete && (i.classList.add(r),
                setTimeout(( () => {
                    i.classList.remove(r)
                }
                ), 350),
                i.style.display = ""),
                this.option("adaptiveHeight") && e.el && this.pages[this.page].slides.indexOf(e) > -1 && (t.updateMetrics(),
                t.setViewportHeight()),
                this.emit("load", e)
            }
            ;
            for (const t of n) {
                let i = null;
                t.src = t.dataset.lazySrcset || t.dataset.lazySrc || "",
                delete t.dataset.lazySrc,
                delete t.dataset.lazySrcset,
                t.style.display = "none",
                t.addEventListener("error", ( () => {
                    o(e, t, i)
                }
                )),
                t.addEventListener("load", ( () => {
                    o(e, t, i)
                }
                )),
                setTimeout(( () => {
                    t.parentNode && e.el && (t.complete ? o(e, t, i) : (i = s(T),
                    t.parentNode.insertBefore(i, t)))
                }
                ), 300)
            }
        }
        onAnimationEnd(e) {
            var t;
            const i = e.target
              , n = i ? parseInt(i.dataset.index || "", 10) || 0 : -1
              , s = this.slides[n]
              , r = e.animationName;
            if (!i || !s || !r)
                return;
            const a = !!this.inTransition.has(n) && s.transition;
            a && r.substring(0, a.length + 2) === `f-${a}` && this.inTransition.delete(n),
            this.inTransition.size || this.clearTransitions(),
            n === this.page && (null === (t = this.panzoom) || void 0 === t ? void 0 : t.isResting) && this.emit("settle")
        }
        onDecel(e, t=0, i=0, n=0, s=0) {
            const {isRTL: r, isHorizontal: a, axis: o, pages: l} = this
              , d = l.length
              , c = Math.abs(Math.atan2(i, t) / (Math.PI / 180));
            let u = 0;
            if (u = c > 45 && c < 135 ? a ? 0 : i : a ? t : 0,
            !d)
                return;
            const h = this.option("dragFree");
            let p = this.page
              , f = r && a ? 1 : -1;
            const m = e.target[o] * f
              , g = e.current[o] * f;
            let {pageIndex: v} = this.getPageFromPosition(m)
              , {pageIndex: y} = this.getPageFromPosition(g);
            h ? this.onChange(v) : (Math.abs(u) > 5 ? (l[p].dim < document.documentElement["client" + (this.isHorizontal ? "Width" : "Height")] - 1 && (p = y),
            p = r && a ? u < 0 ? p - 1 : p + 1 : u < 0 ? p + 1 : p - 1) : p = 0 === n && 0 === s ? p : y,
            this.slideTo(p, {
                transition: !1,
                friction: e.option("decelFriction")
            }))
        }
        onClick(e) {
            const t = e.target
              , i = t && w(t) ? t.dataset : null;
            let n, s;
            i && (void 0 !== i.carouselPage ? (s = "slideTo",
            n = i.carouselPage) : void 0 !== i.carouselNext ? s = "slideNext" : void 0 !== i.carouselPrev && (s = "slidePrev")),
            s ? (e.preventDefault(),
            e.stopPropagation(),
            t && !t.hasAttribute("disabled") && this[s](n)) : this.emit("click", e)
        }
        onSlideTo(e) {
            const t = e.detail || 0;
            this.slideTo(this.getPageForSlide(t), {
                friction: 0
            })
        }
        onChange(e, t=0) {
            const i = this.page;
            this.prevPage = i,
            this.page = e,
            this.option("adaptiveHeight") && this.setViewportHeight(),
            e !== i && (this.markSelectedSlides(),
            this.emit("change", e, i, t))
        }
        onRefresh() {
            let e = this.contentDim
              , t = this.viewportDim;
            this.updateMetrics(),
            this.contentDim === e && this.viewportDim === t || this.slideTo(this.page, {
                friction: 0,
                transition: !1
            })
        }
        onResize() {
            this.option("breakpoints") && this.processOptions()
        }
        onBeforeTransform(e) {
            this.lp !== e.current[this.axis] && (this.flipInfiniteTrack(),
            this.manageSlideVisiblity()),
            this.lp = e.current.e
        }
        onEndAnimation() {
            this.inTransition.size || this.emit("settle")
        }
        reInit(e=null, t=null) {
            this.destroy(),
            this.state = R.Init,
            this.userOptions = e || this.userOptions,
            this.userPlugins = t || this.userPlugins,
            this.processOptions()
        }
        slideTo(e=0, {friction: t=this.option("friction"), transition: i=this.option("transition")}={}) {
            if (this.state === R.Destroy)
                return;
            const {axis: n, isHorizontal: s, isRTL: r, pages: a, panzoom: o} = this
              , l = a.length
              , d = r && s ? 1 : -1;
            if (!o || !l)
                return;
            if (this.transitionTo(e, i))
                return;
            const c = this.getPageFromIndex(e);
            let u = a[c].pos;
            if (this.isInfinite) {
                const t = this.contentDim
                  , i = o.target[n] * d;
                if (2 === l)
                    u += t * Math.floor(parseFloat(e + "") / 2);
                else {
                    const e = i;
                    u = [u, u - t, u + t].reduce((function(t, i) {
                        return Math.abs(i - e) < Math.abs(t - e) ? i : t
                    }
                    ))
                }
            }
            u *= d,
            Math.abs(o.target[n] - u) < .1 || (o.panTo({
                x: s ? u : 0,
                y: s ? 0 : u,
                friction: t
            }),
            this.onChange(c))
        }
        slideToClosest(e) {
            if (this.panzoom) {
                const {pageIndex: t} = this.getPageFromPosition(this.panzoom.current[this.isHorizontal ? "e" : "f"]);
                this.slideTo(t, e)
            }
        }
        slideNext() {
            this.slideTo(this.page + 1)
        }
        slidePrev() {
            this.slideTo(this.page - 1)
        }
        clearTransitions() {
            this.inTransition.clear(),
            S(this.container, this.cn("inTransition"));
            const e = ["to-prev", "to-next", "from-prev", "from-next"];
            for (const t of this.slides) {
                const i = t.el;
                if (i) {
                    i.removeEventListener("animationend", this.onAnimationEnd),
                    i.classList.remove(...e);
                    const n = t.transition;
                    n && i.classList.remove(`f-${n}Out`, `f-${n}In`)
                }
            }
            this.manageSlideVisiblity()
        }
        prependSlide(e) {
            var t, i;
            let n = Array.isArray(e) ? e : [e];
            for (const e of n.reverse())
                this.slides.unshift(N(e));
            for (let e = 0; e < this.slides.length; e++)
                this.slides[e].index = e;
            const s = (null === (t = this.pages[this.page]) || void 0 === t ? void 0 : t.pos) || 0;
            this.page += n.length,
            this.updateMetrics();
            const r = (null === (i = this.pages[this.page]) || void 0 === i ? void 0 : i.pos) || 0;
            if (this.panzoom) {
                const e = this.isRTL ? s - r : r - s;
                this.panzoom.target.e -= e,
                this.panzoom.current.e -= e,
                this.panzoom.requestTick()
            }
        }
        appendSlide(e) {
            let t = Array.isArray(e) ? e : [e];
            for (const e of t) {
                const t = N(e);
                t.index = this.slides.length,
                this.slides.push(t),
                this.emit("initSlide", t, this.slides.length)
            }
            this.updateMetrics()
        }
        removeSlide(e) {
            const t = this.slides.length;
            e = (e % t + t) % t,
            this.removeSlideEl(this.slides[e], !0),
            this.slides.splice(e, 1);
            for (let e = 0; e < this.slides.length; e++)
                this.slides[e].index = e;
            this.updateMetrics(),
            this.slideTo(this.page, {
                friction: 0,
                transition: !1
            })
        }
        updateMetrics() {
            const {panzoom: e, viewport: i, track: n, isHorizontal: s} = this;
            if (!n)
                return;
            const r = s ? "width" : "height"
              , a = s ? "offsetWidth" : "offsetHeight";
            if (i) {
                let e = Math.max(i[a], t(i.getBoundingClientRect()[r], 1e3))
                  , n = getComputedStyle(i)
                  , o = "padding"
                  , l = s ? "Right" : "Bottom";
                e -= parseFloat(n[o + (s ? "Left" : "Top")]) + parseFloat(n[o + l]),
                this.viewportDim = e
            }
            let o, l = this.pages.length, d = 0;
            for (const [e,i] of this.slides.entries()) {
                let n = 0
                  , s = 0;
                !i.el && o ? (n = o.dim,
                s = o.gap) : (({dim: n, gap: s} = this.getSlideMetrics(i)),
                o = i),
                n = t(n, 1e3),
                s = t(s, 1e3),
                i.dim = n,
                i.gap = s,
                i.pos = d,
                d += n,
                (this.isInfinite || e < this.slides.length - 1) && (d += s)
            }
            const c = this.contentDim;
            d = t(d, 1e3),
            this.contentDim = d,
            e && (e.contentRect[r] = d,
            e.contentRect["e" === this.axis ? "fullWidth" : "fullHeight"] = d),
            this.pages = this.createPages(),
            this.pages = this.processPages(),
            this.state === R.Init && this.setInitialPage(),
            this.page = Math.max(0, Math.min(this.page, this.pages.length - 1)),
            e && l === this.pages.length && Math.abs(d - c) > .5 && (e.target[this.axis] = -1 * this.pages[this.page].pos,
            e.current[this.axis] = -1 * this.pages[this.page].pos,
            e.stop()),
            this.manageSlideVisiblity(),
            this.emit("refresh")
        }
        getProgress(e, i=!1) {
            void 0 === e && (e = this.page);
            const n = this
              , s = n.panzoom
              , r = n.pages[e] || 0;
            if (!r || !s)
                return 0;
            let a = -1 * s.current.e
              , o = n.contentDim;
            var l = [t((a - r.pos) / (1 * r.dim), 1e3), t((a + o - r.pos) / (1 * r.dim), 1e3), t((a - o - r.pos) / (1 * r.dim), 1e3)].reduce((function(e, t) {
                return Math.abs(t) < Math.abs(e) ? t : e
            }
            ));
            return i ? l : Math.max(-1, Math.min(1, l))
        }
        setViewportHeight() {
            const {page: e, pages: t, viewport: i, isHorizontal: n} = this;
            if (!i || !t[e])
                return;
            let s = 0;
            n && this.track && (this.track.style.height = "auto",
            t[e].slides.forEach((e => {
                e.el && (s = Math.max(s, e.el.offsetHeight))
            }
            ))),
            i.style.height = s ? `${s}px` : ""
        }
        getPageForSlide(e) {
            for (const t of this.pages)
                for (const i of t.slides)
                    if (i.index === e)
                        return t.index;
            return -1
        }
        getVisibleSlides(e=0) {
            var t;
            const i = new Set;
            let {contentDim: n, viewportDim: s, pages: r, page: a} = this;
            n = n + (null === (t = this.slides[this.slides.length - 1]) || void 0 === t ? void 0 : t.gap) || 0;
            let o = 0;
            o = this.panzoom ? -1 * this.panzoom.current[this.axis] : r[a] && r[a].pos || 0,
            this.isInfinite && (o -= Math.floor(o / n) * n),
            this.isRTL && this.isHorizontal && (o *= -1);
            const l = o - s * e
              , d = o + s * (e + 1)
              , c = this.isInfinite ? [-1, 0, 1] : [0];
            for (const e of this.slides)
                for (const t of c) {
                    const s = e.pos + t * n
                      , r = e.pos + e.dim + e.gap + t * n;
                    s < d && r > l && i.add(e)
                }
            return i
        }
        getPageFromPosition(e) {
            const {viewportDim: t, contentDim: i} = this
              , n = this.pages.length
              , s = this.slides.length
              , r = this.slides[s - 1];
            let a = 0
              , o = 0
              , l = 0;
            const d = this.option("center");
            d && (e += .5 * t),
            this.isInfinite || (e = Math.max(this.slides[0].pos, Math.min(e, r.pos)));
            const c = i + r.gap;
            l = Math.floor(e / c) || 0,
            e -= l * c;
            let u = r
              , h = this.slides.find((t => {
                const i = e + (u && !d ? .5 * u.dim : 0);
                return u = t,
                t.pos <= i && t.pos + t.dim + t.gap > i
            }
            ));
            return h || (h = r),
            o = this.getPageForSlide(h.index),
            a = o + l * n,
            {
                page: a,
                pageIndex: o
            }
        }
        destroy() {
            if ([R.Destroy].includes(this.state))
                return;
            this.state = R.Destroy;
            const {container: e, viewport: t, track: i, slides: n, panzoom: s} = this
              , r = this.option("classes");
            e.removeEventListener("click", this.onClick, {
                passive: !1,
                capture: !1
            }),
            e.removeEventListener("slideTo", this.onSlideTo),
            window.removeEventListener("resize", this.onResize),
            s && (s.destroy(),
            this.panzoom = null),
            n && n.forEach((e => {
                this.removeSlideEl(e)
            }
            )),
            this.detachPlugins(),
            t && t.offsetParent && i && i.offsetParent && t.replaceWith(...i.childNodes);
            for (const [t,i] of Object.entries(r))
                "container" !== t && i && e.classList.remove(i);
            this.track = null,
            this.viewport = null,
            this.page = 0,
            this.slides = [];
            const a = this.events.get("ready");
            this.events = new Map,
            a && this.events.set("ready", a)
        }
    }
    Object.defineProperty(V, "Panzoom", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: L
    }),
    Object.defineProperty(V, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: {
            viewport: null,
            track: null,
            enabled: !0,
            slides: [],
            axis: "x",
            transition: "fade",
            preload: 1,
            slidesPerPage: "auto",
            initialPage: 0,
            friction: .12,
            Panzoom: {
                decelFriction: .12
            },
            center: !0,
            infinite: !0,
            fill: !0,
            dragFree: !1,
            adaptiveHeight: !1,
            direction: "ltr",
            classes: {
                container: "f-carousel",
                viewport: "f-carousel__viewport",
                track: "f-carousel__track",
                slide: "f-carousel__slide",
                isLTR: "is-ltr",
                isRTL: "is-rtl",
                isHorizontal: "is-horizontal",
                isVertical: "is-vertical",
                inTransition: "in-transition",
                isSelected: "is-selected"
            },
            l10n: {
                NEXT: "Next slide",
                PREV: "Previous slide",
                GOTO: "Go to slide #%d"
            }
        }
    }),
    Object.defineProperty(V, "Plugins", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: W
    });
    const G = function(e) {
        const t = window.pageYOffset
          , i = window.pageYOffset + window.innerHeight;
        if (!w(e))
            return 0;
        const n = e.getBoundingClientRect()
          , s = n.y + window.pageYOffset
          , r = n.y + n.height + window.pageYOffset;
        if (t > r || i < s)
            return 0;
        if (t < s && i > r)
            return 100;
        if (s < t && r > i)
            return 100;
        let a = n.height;
        s < t && (a -= window.pageYOffset - s),
        r > i && (a -= r - i);
        const o = a / window.innerHeight * 100;
        return Math.round(o)
    }
      , X = !("undefined" == typeof window || !window.document || !window.document.createElement);
    let Y;
    const K = ["a[href]", "area[href]", 'input:not([disabled]):not([type="hidden"]):not([aria-hidden])', "select:not([disabled]):not([aria-hidden])", "textarea:not([disabled]):not([aria-hidden])", "button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)", "iframe", "object", "embed", "video", "audio", "[contenteditable]", '[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(",")
      , Q = e => {
        if (e && X) {
            void 0 === Y && document.createElement("div").focus({
                get preventScroll() {
                    return Y = !0,
                    !1
                }
            });
            try {
                if (Y)
                    e.focus({
                        preventScroll: !0
                    });
                else {
                    const t = window.pageXOffset || document.body.scrollTop
                      , i = window.pageYOffset || document.body.scrollLeft;
                    e.focus(),
                    document.body.scrollTo({
                        top: t,
                        left: i,
                        behavior: "auto"
                    })
                }
            } catch (e) {}
        }
    }
      , Z = {
        dragToClose: !0,
        hideScrollbar: !0,
        Carousel: {
            classes: {
                container: "fancybox__carousel",
                viewport: "fancybox__viewport",
                track: "fancybox__track",
                slide: "fancybox__slide"
            }
        },
        contentClick: "toggleZoom",
        contentDblClick: !1,
        backdropClick: "close",
        animated: !0,
        idle: 3500,
        showClass: "f-zoomInUp",
        hideClass: "f-fadeOut",
        commonCaption: !1,
        parentEl: null,
        startIndex: 0,
        l10n: Object.assign(Object.assign({}, b), {
            CLOSE: "Close",
            NEXT: "Next",
            PREV: "Previous",
            MODAL: "You can close this modal content with the ESC key",
            ERROR: "Something Went Wrong, Please Try Again Later",
            IMAGE_ERROR: "Image Not Found",
            ELEMENT_NOT_FOUND: "HTML Element Not Found",
            AJAX_NOT_FOUND: "Error Loading AJAX : Not Found",
            AJAX_FORBIDDEN: "Error Loading AJAX : Forbidden",
            IFRAME_ERROR: "Error Loading Page",
            TOGGLE_ZOOM: "Toggle zoom level",
            TOGGLE_THUMBS: "Toggle thumbnails",
            TOGGLE_SLIDESHOW: "Toggle slideshow",
            TOGGLE_FULLSCREEN: "Toggle full-screen mode",
            DOWNLOAD: "Download"
        }),
        tpl: {
            closeButton: '<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',
            main: '<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">\n    <div class="fancybox__backdrop"></div>\n    <div class="fancybox__carousel"></div>\n    <div class="fancybox__footer"></div>\n  </div>'
        },
        groupAll: !1,
        groupAttr: "data-fancybox",
        defaultType: "image",
        defaultDisplay: "block",
        autoFocus: !0,
        trapFocus: !0,
        placeFocusBack: !0,
        closeButton: "auto",
        keyboard: {
            Escape: "close",
            Delete: "close",
            Backspace: "close",
            PageUp: "next",
            PageDown: "prev",
            ArrowUp: "prev",
            ArrowDown: "next",
            ArrowRight: "next",
            ArrowLeft: "prev"
        },
        Fullscreen: {
            autoStart: !1
        },
        compact: () => window.matchMedia("(max-width: 578px), (max-height: 578px)").matches,
        wheel: "zoom"
    };
    var J, ee;
    !function(e) {
        e[e.Init = 0] = "Init",
        e[e.Ready = 1] = "Ready",
        e[e.Closing = 2] = "Closing",
        e[e.CustomClosing = 3] = "CustomClosing",
        e[e.Destroy = 4] = "Destroy"
    }(J || (J = {})),
    function(e) {
        e[e.Loading = 0] = "Loading",
        e[e.Opening = 1] = "Opening",
        e[e.Ready = 2] = "Ready",
        e[e.Closing = 3] = "Closing"
    }(ee || (ee = {}));
    const te = () => {
        queueMicrotask(( () => {
            ( () => {
                const {slug: e, index: t} = ie.parseURL()
                  , i = Be.getInstance();
                if (i && !1 !== i.option("Hash")) {
                    const n = i.carousel;
                    if (e && n) {
                        for (let t of n.slides)
                            if (t.slug && t.slug === e)
                                return n.slideTo(t.index);
                        if (e === i.option("slug"))
                            return n.slideTo(t - 1);
                        const s = i.getSlide()
                          , r = s && s.triggerEl && s.triggerEl.dataset;
                        if (r && r.fancybox === e)
                            return n.slideTo(t - 1)
                    }
                    ie.hasSilentClose = !0,
                    i.close()
                }
                ie.startFromUrl()
            }
            )()
        }
        ))
    }
    ;
    class ie extends j {
        constructor() {
            super(...arguments),
            Object.defineProperty(this, "origHash", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: ""
            }),
            Object.defineProperty(this, "timer", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            })
        }
        onChange() {
            const e = this.instance
              , t = e.carousel;
            this.timer && clearTimeout(this.timer);
            const i = e.getSlide();
            if (!t || !i)
                return;
            const n = e.isOpeningSlide(i)
              , s = new URL(document.URL).hash;
            let r, a = i.slug || void 0, o = i.triggerEl || void 0;
            r = a || this.instance.option("slug"),
            !r && o && o.dataset && (r = o.dataset.fancybox);
            let l = "";
            r && "true" !== r && (l = "#" + r + (!a && t.slides.length > 1 ? "-" + (i.index + 1) : "")),
            n && (this.origHash = s !== l ? s : ""),
            l && s !== l && (this.timer = setTimeout(( () => {
                try {
                    e.state === J.Ready && window.history[n ? "pushState" : "replaceState"]({}, document.title, window.location.pathname + window.location.search + l)
                } catch (e) {}
            }
            ), 300))
        }
        onClose() {
            if (this.timer && clearTimeout(this.timer),
            !0 !== ie.hasSilentClose)
                try {
                    window.history.replaceState({}, document.title, window.location.pathname + window.location.search + (this.origHash || ""))
                } catch (e) {}
        }
        attach() {
            const e = this.instance;
            e.on("Carousel.ready", this.onChange),
            e.on("Carousel.change", this.onChange),
            e.on("close", this.onClose)
        }
        detach() {
            const e = this.instance;
            e.off("Carousel.ready", this.onChange),
            e.off("Carousel.change", this.onChange),
            e.off("close", this.onClose)
        }
        static parseURL() {
            const e = window.location.hash.slice(1)
              , t = e.split("-")
              , i = t[t.length - 1]
              , n = i && /^\+?\d+$/.test(i) && parseInt(t.pop() || "1", 10) || 1;
            return {
                hash: e,
                slug: t.join("-"),
                index: n
            }
        }
        static startFromUrl() {
            if (ie.hasSilentClose = !1,
            Be.getInstance() || !1 === Be.defaults.Hash)
                return;
            const {hash: e, slug: t, index: i} = ie.parseURL();
            if (!t)
                return;
            let n = document.querySelector(`[data-slug="${e}"]`);
            if (n && n.dispatchEvent(new CustomEvent("click",{
                bubbles: !0,
                cancelable: !0
            })),
            Be.getInstance())
                return;
            const s = document.querySelectorAll(`[data-fancybox="${t}"]`);
            s.length && (n = s[i - 1],
            n && n.dispatchEvent(new CustomEvent("click",{
                bubbles: !0,
                cancelable: !0
            })))
        }
        static destroy() {
            window.removeEventListener("hashchange", te, !1)
        }
    }
    function ne() {
        window.addEventListener("hashchange", te, !1),
        setTimeout(( () => {
            ie.startFromUrl()
        }
        ), 500)
    }
    Object.defineProperty(ie, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: {}
    }),
    Object.defineProperty(ie, "hasSilentClose", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: !1
    }),
    X && (/complete|interactive|loaded/.test(document.readyState) ? ne() : document.addEventListener("DOMContentLoaded", ne));
    class se extends j {
        onCreateSlide(e, t, i) {
            const n = this.instance.optionFor(i, "src") || "";
            i.el && "image" === i.type && "string" == typeof n && this.setImage(i, n)
        }
        onRemoveSlide(e, t, i) {
            i.panzoom && i.panzoom.destroy(),
            i.panzoom = void 0,
            i.imageEl = void 0
        }
        onChange(e, t, i, n) {
            for (const e of t.slides) {
                const t = e.panzoom;
                t && e.index !== i && t.reset(.35)
            }
        }
        onClose() {
            var e;
            const t = this.instance
              , i = t.container
              , n = t.getSlide();
            if (!i || !i.parentElement || !n)
                return;
            const {el: s, contentEl: r, panzoom: a} = n
              , o = n.thumbElSrc;
            if (!s || !o || !r || !a || a.isContentLoading || a.state === v.Init || a.state === v.Destroy)
                return;
            a.updateMetrics();
            let l = this.getZoomInfo(n);
            if (!l)
                return;
            this.instance.state = J.CustomClosing,
            i.classList.remove("is-zooming-in"),
            i.classList.add("is-zooming-out"),
            r.style.backgroundImage = `url('${o}')`;
            const d = i.getBoundingClientRect();
            1 === ((null === (e = window.visualViewport) || void 0 === e ? void 0 : e.scale) || 1) && Object.assign(i.style, {
                position: "absolute",
                top: `${window.pageYOffset}px`,
                left: `${window.pageXOffset}px`,
                bottom: "auto",
                right: "auto",
                width: `${d.width}px`,
                height: `${d.height}px`,
                overflow: "hidden"
            });
            const {x: c, y: u, scale: h, opacity: p} = l;
            if (p) {
                const e = ( (e, t, i, n) => {
                    const s = t - e;
                    return t => 1 + ((t - e) / s * -1 || 0)
                }
                )(a.scale, h);
                a.on("afterTransform", ( () => {
                    r.style.opacity = e(a.scale) + ""
                }
                ))
            }
            a.on("endAnimation", ( () => {
                t.destroy()
            }
            )),
            a.target.a = h,
            a.target.b = 0,
            a.target.c = 0,
            a.target.d = h,
            a.panTo({
                x: c,
                y: u,
                scale: h,
                friction: p ? .2 : .33,
                ignoreBounds: !0
            }),
            a.isResting && t.destroy()
        }
        setImage(e, t) {
            const i = this.instance;
            e.src = t,
            this.process(e, t).then((t => {
                var n;
                const s = e.contentEl
                  , r = e.imageEl
                  , a = e.thumbElSrc;
                if (i.isClosing() || !s || !r)
                    return;
                s.offsetHeight;
                const o = !!i.isOpeningSlide(e) && this.getZoomInfo(e);
                if (this.option("protected")) {
                    null === (n = e.el) || void 0 === n || n.addEventListener("contextmenu", (e => {
                        e.preventDefault()
                    }
                    ));
                    const t = document.createElement("div");
                    k(t, "fancybox-protected"),
                    s.appendChild(t)
                }
                if (a && o) {
                    const n = t.contentRect
                      , r = Math.max(n.fullWidth, n.fullHeight);
                    let d = null;
                    !o.opacity && r > 1200 && (d = document.createElement("img"),
                    k(d, "fancybox-ghost"),
                    d.src = a,
                    s.appendChild(d));
                    const c = () => {
                        d && (k(d, "f-fadeFastOut"),
                        setTimeout(( () => {
                            d && (d.remove(),
                            d = null)
                        }
                        ), 200))
                    }
                    ;
                    (l = a,
                    new Promise(( (e, t) => {
                        const i = new Image;
                        i.onload = e,
                        i.onerror = t,
                        i.src = l
                    }
                    ))).then(( () => {
                        e.state = ee.Opening,
                        this.instance.emit("reveal", e),
                        this.zoomIn(e).then(( () => {
                            c(),
                            this.instance.done(e)
                        }
                        ), ( () => {
                            i.hideLoading(e)
                        }
                        )),
                        d && setTimeout(( () => {
                            c()
                        }
                        ), r > 2500 ? 800 : 200)
                    }
                    ), ( () => {
                        i.hideLoading(e),
                        i.revealContent(e)
                    }
                    ))
                } else {
                    const n = this.optionFor(e, "initialSize")
                      , s = this.optionFor(e, "zoom")
                      , r = {
                        event: i.prevMouseMoveEvent || i.options.event,
                        friction: s ? .12 : 0
                    };
                    let a = i.optionFor(e, "showClass") || void 0
                      , o = !0;
                    i.isOpeningSlide(e) && ("full" === n ? t.zoomToFull(r) : "cover" === n ? t.zoomToCover(r) : "max" === n ? t.zoomToMax(r) : o = !1,
                    t.stop("current")),
                    o && a && (a = t.isDragging ? "f-fadeIn" : ""),
                    i.revealContent(e, a)
                }
                var l
            }
            ), ( () => {
                i.setError(e, "{{IMAGE_ERROR}}")
            }
            ))
        }
        process(e, t) {
            return new Promise(( (i, n) => {
                var r;
                const a = this.instance
                  , o = e.el;
                a.clearContent(e),
                a.showLoading(e);
                let l = this.optionFor(e, "content");
                if ("string" == typeof l && (l = s(l)),
                !l || !w(l)) {
                    if (l = document.createElement("img"),
                    l instanceof HTMLImageElement) {
                        let i = ""
                          , n = e.caption;
                        i = "string" == typeof n && n ? n.replace(/<[^>]+>/gi, "").substring(0, 1e3) : `Image ${e.index + 1} of ${null === (r = a.carousel) || void 0 === r ? void 0 : r.pages.length}`,
                        l.src = t || "",
                        l.alt = i,
                        l.draggable = !1,
                        e.srcset && l.setAttribute("srcset", e.srcset)
                    }
                    e.sizes && l.setAttribute("sizes", e.sizes)
                }
                l.classList.add("fancybox-image"),
                e.imageEl = l,
                a.setContent(e, l, !1),
                e.panzoom = new L(o,p({
                    transformParent: !0
                }, this.option("Panzoom") || {}, {
                    content: l,
                    width: a.optionFor(e, "width", "auto"),
                    height: a.optionFor(e, "height", "auto"),
                    wheel: () => {
                        const e = a.option("wheel");
                        return ("zoom" === e || "pan" == e) && e
                    }
                    ,
                    click: (t, i) => {
                        var n, s;
                        if (a.isCompact || a.isClosing())
                            return !1;
                        if (e.index !== (null === (n = a.getSlide()) || void 0 === n ? void 0 : n.index))
                            return !1;
                        if (i) {
                            const e = i.composedPath()[0];
                            if (["A", "BUTTON", "TEXTAREA", "OPTION", "INPUT", "SELECT", "VIDEO"].includes(e.nodeName))
                                return !1
                        }
                        let r = !i || i.target && (null === (s = e.contentEl) || void 0 === s ? void 0 : s.contains(i.target));
                        return a.option(r ? "contentClick" : "backdropClick") || !1
                    }
                    ,
                    dblClick: () => a.isCompact ? "toggleZoom" : a.option("contentDblClick") || !1,
                    spinner: !1,
                    panOnlyZoomed: !0,
                    wheelLimit: 1 / 0,
                    on: {
                        ready: e => {
                            i(e)
                        }
                        ,
                        error: () => {
                            n()
                        }
                        ,
                        destroy: () => {
                            n()
                        }
                    }
                }))
            }
            ))
        }
        zoomIn(e) {
            return new Promise(( (t, i) => {
                const n = this.instance
                  , s = n.container
                  , {panzoom: r, contentEl: a, el: o} = e;
                r && r.updateMetrics();
                const l = this.getZoomInfo(e);
                if (!(l && o && a && r && s))
                    return void i();
                const {x: d, y: c, scale: u, opacity: h} = l
                  , p = () => {
                    e.state !== ee.Closing && (h && (a.style.opacity = Math.max(Math.min(1, 1 - (1 - r.scale) / (1 - u)), 0) + ""),
                    r.scale >= 1 && r.scale > r.targetScale - .1 && t(r))
                }
                  , f = e => {
                    S(s, "is-zooming-in"),
                    e.scale < .99 || e.scale > 1.01 || (a.style.opacity = "",
                    e.off("endAnimation", f),
                    e.off("touchStart", f),
                    e.off("afterTransform", p),
                    t(e))
                }
                ;
                r.on("endAnimation", f),
                r.on("touchStart", f),
                r.on("afterTransform", p),
                r.on(["error", "destroy"], ( () => {
                    i()
                }
                )),
                r.panTo({
                    x: d,
                    y: c,
                    scale: u,
                    friction: 0,
                    ignoreBounds: !0
                }),
                r.stop("current");
                const m = {
                    event: "mousemove" === r.panMode ? n.prevMouseMoveEvent || n.options.event : void 0
                }
                  , g = this.optionFor(e, "initialSize");
                k(s, "is-zooming-in"),
                n.hideLoading(e),
                "full" === g ? r.zoomToFull(m) : "cover" === g ? r.zoomToCover(m) : "max" === g ? r.zoomToMax(m) : r.reset(.172)
            }
            ))
        }
        getZoomInfo(e) {
            var t;
            const {el: i, imageEl: n, thumbEl: s, panzoom: r} = e;
            if (!i || !n || !s || !r || G(s) < 3 || !this.optionFor(e, "zoom") || this.instance.state === J.Destroy)
                return !1;
            if (1 !== ((null === (t = window.visualViewport) || void 0 === t ? void 0 : t.scale) || 1))
                return !1;
            let {top: a, left: o, width: l, height: d} = s.getBoundingClientRect()
              , {top: c, left: u, fitWidth: h, fitHeight: p} = r.contentRect;
            if (!(l && d && h && p))
                return !1;
            const f = r.container.getBoundingClientRect();
            u += f.left,
            c += f.top;
            const m = -1 * (u + .5 * h - (o + .5 * l))
              , g = -1 * (c + .5 * p - (a + .5 * d))
              , v = l / h;
            let y = this.option("zoomOpacity") || !1;
            return "auto" === y && (y = Math.abs(l / d - h / p) > .1),
            {
                x: m,
                y: g,
                scale: v,
                opacity: y
            }
        }
        attach() {
            const e = this
              , t = e.instance;
            t.on("Carousel.change", e.onChange),
            t.on("Carousel.createSlide", e.onCreateSlide),
            t.on("Carousel.removeSlide", e.onRemoveSlide),
            t.on("close", e.onClose)
        }
        detach() {
            const e = this
              , t = e.instance;
            t.off("Carousel.change", e.onChange),
            t.off("Carousel.createSlide", e.onCreateSlide),
            t.off("Carousel.removeSlide", e.onRemoveSlide),
            t.off("close", e.onClose)
        }
    }
    Object.defineProperty(se, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: {
            initialSize: "fit",
            Panzoom: {
                maxScale: 1
            },
            protected: !1,
            zoom: !0,
            zoomOpacity: "auto"
        }
    }),
    "function" == typeof SuppressedError && SuppressedError;
    const re = (e, t={}) => {
        const i = new URL(e)
          , n = new URLSearchParams(i.search)
          , s = new URLSearchParams;
        for (const [e,i] of [...n, ...Object.entries(t)]) {
            let t = i.toString();
            "t" === e ? s.set("start", parseInt(t).toString()) : s.set(e, t)
        }
        let r = s.toString()
          , a = e.match(/#t=((.*)?\d+s)/);
        return a && (r += `#t=${a[1]}`),
        r
    }
      , ae = ["image", "html", "ajax", "inline", "clone", "iframe", "map", "pdf", "html5video", "youtube", "vimeo", "video"];
    class oe extends j {
        onInitSlide(e, t, i) {
            this.processType(i)
        }
        onCreateSlide(e, t, i) {
            this.setContent(i)
        }
        onRemoveSlide(e, t, i) {
            i.xhr && (i.xhr.abort(),
            i.xhr = null);
            const n = i.iframeEl;
            n && (n.onload = n.onerror = null,
            n.src = "//about:blank",
            i.iframeEl = null);
            const s = i.contentEl
              , r = i.placeholderEl;
            if ("inline" === i.type && s && r)
                s.classList.remove("fancybox__content"),
                "none" !== s.style.display && (s.style.display = "none"),
                r.parentNode && r.parentNode.insertBefore(s, r),
                r.remove(),
                i.contentEl = void 0,
                i.placeholderEl = void 0;
            else
                for (; i.el && i.el.firstChild; )
                    i.el.removeChild(i.el.firstChild)
        }
        onSelectSlide(e, t, i) {
            i.state === ee.Ready && this.playVideo()
        }
        onUnselectSlide(e, t, i) {
            var n, s;
            if ("html5video" === i.type) {
                try {
                    null === (s = null === (n = i.el) || void 0 === n ? void 0 : n.querySelector("video")) || void 0 === s || s.pause()
                } catch (e) {}
                return
            }
            let r;
            "vimeo" === i.type ? r = {
                method: "pause",
                value: "true"
            } : "youtube" === i.type && (r = {
                event: "command",
                func: "pauseVideo"
            }),
            r && i.iframeEl && i.iframeEl.contentWindow && i.iframeEl.contentWindow.postMessage(JSON.stringify(r), "*"),
            i.poller && clearTimeout(i.poller)
        }
        onDone(e, t) {
            e.isCurrentSlide(t) && !e.isClosing() && this.playVideo()
        }
        onRefresh(e, t) {
            t.slides.forEach((e => {
                e.el && (this.setAspectRatio(e),
                this.resizeIframe(e))
            }
            ))
        }
        onMessage(e) {
            try {
                let t = JSON.parse(e.data);
                if ("https://player.vimeo.com" === e.origin) {
                    if ("ready" === t.event)
                        for (let t of Array.from(document.getElementsByClassName("fancybox__iframe")))
                            t instanceof HTMLIFrameElement && t.contentWindow === e.source && (t.dataset.ready = "true")
                } else if (e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/) && "onReady" === t.event) {
                    const e = document.getElementById(t.id);
                    e && (e.dataset.ready = "true")
                }
            } catch (e) {}
        }
        loadAjaxContent(e) {
            const t = this.instance.optionFor(e, "src") || "";
            this.instance.showLoading(e);
            const i = this.instance
              , n = new XMLHttpRequest;
            i.showLoading(e),
            n.onreadystatechange = function() {
                n.readyState === XMLHttpRequest.DONE && i.state === J.Ready && (i.hideLoading(e),
                200 === n.status ? i.setContent(e, n.responseText) : i.setError(e, 404 === n.status ? "{{AJAX_NOT_FOUND}}" : "{{AJAX_FORBIDDEN}}"))
            }
            ;
            const s = e.ajax || null;
            n.open(s ? "POST" : "GET", t + ""),
            n.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"),
            n.setRequestHeader("X-Requested-With", "XMLHttpRequest"),
            n.send(s),
            e.xhr = n
        }
        setInlineContent(e) {
            let t = null;
            if (w(e.src))
                t = e.src;
            else if ("string" == typeof e.src) {
                const i = e.src.split("#", 2).pop();
                t = i ? document.getElementById(i) : null
            }
            if (t) {
                if ("clone" === e.type || t.closest(".fancybox__slide")) {
                    t = t.cloneNode(!0);
                    const i = t.dataset.animationName;
                    i && (t.classList.remove(i),
                    delete t.dataset.animationName);
                    let n = t.getAttribute("id");
                    n = n ? `${n}--clone` : `clone-${this.instance.id}-${e.index}`,
                    t.setAttribute("id", n)
                } else if (t.parentNode) {
                    const i = document.createElement("div");
                    i.classList.add("fancybox-placeholder"),
                    t.parentNode.insertBefore(i, t),
                    e.placeholderEl = i
                }
                this.instance.setContent(e, t)
            } else
                this.instance.setError(e, "{{ELEMENT_NOT_FOUND}}")
        }
        setIframeContent(e) {
            const {src: t, el: i} = e;
            if (!t || "string" != typeof t || !i)
                return;
            i.classList.add("is-loading");
            const n = this.instance
              , s = document.createElement("iframe");
            s.className = "fancybox__iframe",
            s.setAttribute("id", `fancybox__iframe_${n.id}_${e.index}`);
            for (const [t,i] of Object.entries(this.optionFor(e, "iframeAttr") || {}))
                s.setAttribute(t, i);
            s.onerror = () => {
                n.setError(e, "{{IFRAME_ERROR}}")
            }
            ,
            e.iframeEl = s;
            const r = this.optionFor(e, "preload");
            if ("iframe" !== e.type || !1 === r)
                return s.setAttribute("src", e.src + ""),
                n.setContent(e, s, !1),
                this.resizeIframe(e),
                void n.revealContent(e);
            n.showLoading(e),
            s.onload = () => {
                if (!s.src.length)
                    return;
                const t = "true" !== s.dataset.ready;
                s.dataset.ready = "true",
                this.resizeIframe(e),
                t ? n.revealContent(e) : n.hideLoading(e)
            }
            ,
            s.setAttribute("src", t),
            n.setContent(e, s, !1)
        }
        resizeIframe(e) {
            const t = e.iframeEl
              , i = null == t ? void 0 : t.parentElement;
            if (!t || !i)
                return;
            let n = e.autoSize
              , s = e.width || 0
              , r = e.height || 0;
            s && r && (n = !1);
            const a = i && i.style;
            if (!1 !== e.preload && !1 !== n && a)
                try {
                    const e = window.getComputedStyle(i)
                      , n = parseFloat(e.paddingLeft) + parseFloat(e.paddingRight)
                      , o = parseFloat(e.paddingTop) + parseFloat(e.paddingBottom)
                      , l = t.contentWindow;
                    if (l) {
                        const e = l.document
                          , t = e.getElementsByTagName("html")[0]
                          , i = e.body;
                        a.width = "",
                        i.style.overflow = "hidden",
                        s = s || t.scrollWidth + n,
                        a.width = `${s}px`,
                        i.style.overflow = "",
                        a.flex = "0 0 auto",
                        a.height = `${i.scrollHeight}px`,
                        r = t.scrollHeight + o
                    }
                } catch (e) {}
            if (s || r) {
                const e = {
                    flex: "0 1 auto",
                    width: "",
                    height: ""
                };
                s && (e.width = `${s}px`),
                r && (e.height = `${r}px`),
                Object.assign(a, e)
            }
        }
        playVideo() {
            const e = this.instance.getSlide();
            if (!e)
                return;
            const {el: t} = e;
            if (!t || !t.offsetParent)
                return;
            if (!this.optionFor(e, "videoAutoplay"))
                return;
            if ("html5video" === e.type)
                try {
                    const e = t.querySelector("video");
                    if (e) {
                        const t = e.play();
                        void 0 !== t && t.then(( () => {}
                        )).catch((t => {
                            e.muted = !0,
                            e.play()
                        }
                        ))
                    }
                } catch (e) {}
            if ("youtube" !== e.type && "vimeo" !== e.type)
                return;
            const i = () => {
                if (e.iframeEl && e.iframeEl.contentWindow) {
                    let t;
                    if ("true" === e.iframeEl.dataset.ready)
                        return t = "youtube" === e.type ? {
                            event: "command",
                            func: "playVideo"
                        } : {
                            method: "play",
                            value: "true"
                        },
                        t && e.iframeEl.contentWindow.postMessage(JSON.stringify(t), "*"),
                        void (e.poller = void 0);
                    "youtube" === e.type && (t = {
                        event: "listening",
                        id: e.iframeEl.getAttribute("id")
                    },
                    e.iframeEl.contentWindow.postMessage(JSON.stringify(t), "*"))
                }
                e.poller = setTimeout(i, 250)
            }
            ;
            i()
        }
        processType(e) {
            if (e.html)
                return e.type = "html",
                e.src = e.html,
                void (e.html = "");
            const t = this.instance.optionFor(e, "src", "");
            if (!t || "string" != typeof t)
                return;
            let i = e.type
              , n = null;
            if (n = t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)) {
                const s = this.optionFor(e, "youtube")
                  , {nocookie: r} = s
                  , a = function(e, t) {
                    var i = {};
                    for (var n in e)
                        Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (i[n] = e[n]);
                    if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                        var s = 0;
                        for (n = Object.getOwnPropertySymbols(e); s < n.length; s++)
                            t.indexOf(n[s]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[s]) && (i[n[s]] = e[n[s]])
                    }
                    return i
                }(s, ["nocookie"])
                  , o = `www.youtube${r ? "-nocookie" : ""}.com`
                  , l = re(t, a)
                  , d = encodeURIComponent(n[2]);
                e.videoId = d,
                e.src = `https://${o}/embed/${d}?${l}`,
                e.thumbSrc = e.thumbSrc || `https://i.ytimg.com/vi/${d}/mqdefault.jpg`,
                i = "youtube"
            } else if (n = t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)) {
                const s = re(t, this.optionFor(e, "vimeo"))
                  , r = encodeURIComponent(n[1])
                  , a = n[4] || "";
                e.videoId = r,
                e.src = `https://player.vimeo.com/video/${r}?${a ? `h=${a}${s ? "&" : ""}` : ""}${s}`,
                i = "vimeo"
            }
            if (!i && e.triggerEl) {
                const t = e.triggerEl.dataset.type;
                ae.includes(t) && (i = t)
            }
            i || "string" == typeof t && ("#" === t.charAt(0) ? i = "inline" : (n = t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i)) ? (i = "html5video",
            e.videoFormat = e.videoFormat || "video/" + ("ogv" === n[1] ? "ogg" : n[1])) : t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i) ? i = "image" : t.match(/\.(pdf)((\?|#).*)?$/i) ? i = "pdf" : (n = t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i)) ? (e.src = `https://maps.google.${n[1]}/?ll=${(n[2] ? n[2] + "&z=" + Math.floor(parseFloat(n[3])) + (n[4] ? n[4].replace(/^\//, "&") : "") : n[4] + "").replace(/\?/, "&")}&output=${n[4] && n[4].indexOf("layer=c") > 0 ? "svembed" : "embed"}`,
            i = "map") : (n = t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i)) && (e.src = `https://maps.google.${n[1]}/maps?q=${n[2].replace("query=", "q=").replace("api=1", "")}&output=embed`,
            i = "map")),
            i = i || this.instance.option("defaultType"),
            e.type = i,
            "image" === i && (e.thumbSrc = e.thumbSrc || e.src)
        }
        setContent(e) {
            const t = this.instance.optionFor(e, "src") || "";
            if (e && e.type && t) {
                switch (e.type) {
                case "html":
                    this.instance.setContent(e, t);
                    break;
                case "html5video":
                    const i = this.option("videoTpl");
                    i && this.instance.setContent(e, i.replace(/\{\{src\}\}/gi, t + "").replace(/\{\{format\}\}/gi, this.optionFor(e, "videoFormat") || "").replace(/\{\{poster\}\}/gi, e.poster || e.thumbSrc || ""));
                    break;
                case "inline":
                case "clone":
                    this.setInlineContent(e);
                    break;
                case "ajax":
                    this.loadAjaxContent(e);
                    break;
                case "pdf":
                case "map":
                case "youtube":
                case "vimeo":
                    e.preload = !1;
                case "iframe":
                    this.setIframeContent(e)
                }
                this.setAspectRatio(e)
            }
        }
        setAspectRatio(e) {
            var t;
            const i = e.width || 0
              , n = e.height || 0;
            if (i && n)
                return;
            const s = e.contentEl
              , r = this.optionFor(e, "videoRatio")
              , a = null === (t = e.el) || void 0 === t ? void 0 : t.getBoundingClientRect();
            if (!(s && a && r && 1 !== r && e.type && ["video", "youtube", "vimeo", "html5video"].includes(e.type)))
                return;
            const o = a.width
              , l = a.height;
            s.style.aspectRatio = r + "",
            s.style.width = o / l > r ? "auto" : "",
            s.style.height = o / l > r ? "" : "auto"
        }
        attach() {
            const e = this
              , t = e.instance;
            t.on("Carousel.initSlide", e.onInitSlide),
            t.on("Carousel.createSlide", e.onCreateSlide),
            t.on("Carousel.removeSlide", e.onRemoveSlide),
            t.on("Carousel.selectSlide", e.onSelectSlide),
            t.on("Carousel.unselectSlide", e.onUnselectSlide),
            t.on("Carousel.Panzoom.refresh", e.onRefresh),
            t.on("done", e.onDone),
            window.addEventListener("message", e.onMessage)
        }
        detach() {
            const e = this
              , t = e.instance;
            t.off("Carousel.initSlide", e.onInitSlide),
            t.off("Carousel.createSlide", e.onCreateSlide),
            t.off("Carousel.removeSlide", e.onRemoveSlide),
            t.off("Carousel.selectSlide", e.onSelectSlide),
            t.off("Carousel.unselectSlide", e.onUnselectSlide),
            t.off("Carousel.Panzoom.refresh", e.onRefresh),
            t.off("done", e.onDone),
            window.removeEventListener("message", e.onMessage)
        }
    }
    Object.defineProperty(oe, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: {
            ajax: null,
            autoSize: !0,
            iframeAttr: {
                allow: "autoplay; fullscreen",
                scrolling: "auto"
            },
            preload: !0,
            videoAutoplay: !0,
            videoRatio: 16 / 9,
            videoTpl: '<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',
            videoFormat: "",
            vimeo: {
                byline: 1,
                color: "00adef",
                controls: 1,
                dnt: 1,
                muted: 0
            },
            youtube: {
                controls: 1,
                enablejsapi: 1,
                nocookie: 1,
                rel: 0,
                fs: 1
            }
        }
    });
    const le = "play"
      , de = "pause"
      , ce = "ready";
    class ue extends j {
        constructor() {
            super(...arguments),
            Object.defineProperty(this, "state", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: ce
            }),
            Object.defineProperty(this, "inHover", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: !1
            }),
            Object.defineProperty(this, "timer", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "progressBar", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            })
        }
        get isActive() {
            return this.state !== ce
        }
        onReady(e) {
            this.option("autoStart") && (e.isInfinite || e.page < e.pages.length - 1) && this.start()
        }
        onChange() {
            var e;
            (null === (e = this.instance.panzoom) || void 0 === e ? void 0 : e.isResting) || (this.removeProgressBar(),
            this.pause())
        }
        onSettle() {
            this.resume()
        }
        onVisibilityChange() {
            "visible" === document.visibilityState ? this.resume() : this.pause()
        }
        onMouseEnter() {
            this.inHover = !0,
            this.pause()
        }
        onMouseLeave() {
            var e;
            this.inHover = !1,
            (null === (e = this.instance.panzoom) || void 0 === e ? void 0 : e.isResting) && this.resume()
        }
        onTimerEnd() {
            const e = this.instance;
            "play" === this.state && (e.isInfinite || e.page !== e.pages.length - 1 ? e.slideNext() : e.slideTo(0))
        }
        removeProgressBar() {
            this.progressBar && (this.progressBar.remove(),
            this.progressBar = null)
        }
        createProgressBar() {
            var e;
            if (!this.option("showProgress"))
                return null;
            this.removeProgressBar();
            const t = this.instance
              , i = (null === (e = t.pages[t.page]) || void 0 === e ? void 0 : e.slides) || [];
            let n = this.option("progressParentEl");
            if (n || (n = (1 === i.length ? i[0].el : null) || t.viewport),
            !n)
                return null;
            const s = document.createElement("div");
            return k(s, "f-progress"),
            n.prepend(s),
            this.progressBar = s,
            s.offsetHeight,
            s
        }
        set() {
            const e = this
              , t = e.instance;
            if (t.pages.length < 2)
                return;
            if (e.timer)
                return;
            const i = e.option("timeout");
            e.state = le,
            k(t.container, "has-autoplay");
            let n = e.createProgressBar();
            n && (n.style.transitionDuration = `${i}ms`,
            n.style.transform = "scaleX(1)"),
            e.timer = setTimeout(( () => {
                e.timer = null,
                e.inHover || e.onTimerEnd()
            }
            ), i),
            e.emit("set")
        }
        clear() {
            const e = this;
            e.timer && (clearTimeout(e.timer),
            e.timer = null),
            e.removeProgressBar()
        }
        start() {
            const e = this;
            if (e.set(),
            e.state !== ce) {
                if (e.option("pauseOnHover")) {
                    const t = e.instance.container;
                    t.addEventListener("mouseenter", e.onMouseEnter, !1),
                    t.addEventListener("mouseleave", e.onMouseLeave, !1)
                }
                document.addEventListener("visibilitychange", e.onVisibilityChange, !1),
                e.emit("start")
            }
        }
        stop() {
            const e = this
              , t = e.state
              , i = e.instance.container;
            e.clear(),
            e.state = ce,
            i.removeEventListener("mouseenter", e.onMouseEnter, !1),
            i.removeEventListener("mouseleave", e.onMouseLeave, !1),
            document.removeEventListener("visibilitychange", e.onVisibilityChange, !1),
            S(i, "has-autoplay"),
            t !== ce && e.emit("stop")
        }
        pause() {
            const e = this;
            e.state === le && (e.state = de,
            e.clear(),
            e.emit(de))
        }
        resume() {
            const e = this
              , t = e.instance;
            if (t.isInfinite || t.page !== t.pages.length - 1)
                if (e.state !== le) {
                    if (e.state === de && !e.inHover) {
                        const t = new Event("resume",{
                            bubbles: !0,
                            cancelable: !0
                        });
                        e.emit("resume", t),
                        t.defaultPrevented || e.set()
                    }
                } else
                    e.set();
            else
                e.stop()
        }
        toggle() {
            this.state === le || this.state === de ? this.stop() : this.start()
        }
        attach() {
            const e = this
              , t = e.instance;
            t.on("ready", e.onReady),
            t.on("Panzoom.startAnimation", e.onChange),
            t.on("Panzoom.endAnimation", e.onSettle),
            t.on("Panzoom.touchMove", e.onChange)
        }
        detach() {
            const e = this
              , t = e.instance;
            t.off("ready", e.onReady),
            t.off("Panzoom.startAnimation", e.onChange),
            t.off("Panzoom.endAnimation", e.onSettle),
            t.off("Panzoom.touchMove", e.onChange),
            e.stop()
        }
    }
    Object.defineProperty(ue, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: {
            autoStart: !0,
            pauseOnHover: !0,
            progressParentEl: null,
            showProgress: !0,
            timeout: 3e3
        }
    });
    class he extends j {
        constructor() {
            super(...arguments),
            Object.defineProperty(this, "ref", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            })
        }
        onPrepare(e) {
            const t = e.carousel;
            if (!t)
                return;
            const i = e.container;
            i && (t.options.Autoplay = p({
                autoStart: !1
            }, this.option("Autoplay") || {}, {
                pauseOnHover: !1,
                timeout: this.option("timeout"),
                progressParentEl: () => this.option("progressParentEl") || null,
                on: {
                    start: () => {
                        e.emit("startSlideshow")
                    }
                    ,
                    set: t => {
                        var n;
                        i.classList.add("has-slideshow"),
                        (null === (n = e.getSlide()) || void 0 === n ? void 0 : n.state) !== ee.Ready && t.pause()
                    }
                    ,
                    stop: () => {
                        i.classList.remove("has-slideshow"),
                        e.isCompact || e.endIdle(),
                        e.emit("endSlideshow")
                    }
                    ,
                    resume: (t, i) => {
                        var n, s, r;
                        !i || !i.cancelable || (null === (n = e.getSlide()) || void 0 === n ? void 0 : n.state) === ee.Ready && (null === (r = null === (s = e.carousel) || void 0 === s ? void 0 : s.panzoom) || void 0 === r ? void 0 : r.isResting) || i.preventDefault()
                    }
                }
            }),
            t.attachPlugins({
                Autoplay: ue
            }),
            this.ref = t.plugins.Autoplay)
        }
        onReady(e) {
            const t = e.carousel
              , i = this.ref;
            t && i && this.option("playOnStart") && (t.isInfinite || t.page < t.pages.length - 1) && i.start()
        }
        onDone(e, t) {
            const i = this.ref;
            if (!i)
                return;
            const n = t.panzoom;
            n && n.on("startAnimation", ( () => {
                e.isCurrentSlide(t) && i.stop()
            }
            )),
            e.isCurrentSlide(t) && i.resume()
        }
        onKeydown(e, t) {
            var i;
            const n = this.ref;
            n && t === this.option("key") && "BUTTON" !== (null === (i = document.activeElement) || void 0 === i ? void 0 : i.nodeName) && n.toggle()
        }
        attach() {
            const e = this
              , t = e.instance;
            t.on("Carousel.init", e.onPrepare),
            t.on("Carousel.ready", e.onReady),
            t.on("done", e.onDone),
            t.on("keydown", e.onKeydown)
        }
        detach() {
            const e = this
              , t = e.instance;
            t.off("Carousel.init", e.onPrepare),
            t.off("Carousel.ready", e.onReady),
            t.off("done", e.onDone),
            t.off("keydown", e.onKeydown)
        }
    }
    Object.defineProperty(he, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: {
            key: " ",
            playOnStart: !1,
            progressParentEl: e => {
                var t;
                return (null === (t = e.instance.container) || void 0 === t ? void 0 : t.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]")) || e.instance.container
            }
            ,
            timeout: 3e3
        }
    });
    const pe = {
        classes: {
            container: "f-thumbs f-carousel__thumbs",
            viewport: "f-thumbs__viewport",
            track: "f-thumbs__track",
            slide: "f-thumbs__slide",
            isResting: "is-resting",
            isSelected: "is-selected",
            isLoading: "is-loading",
            hasThumbs: "has-thumbs"
        },
        minCount: 2,
        parentEl: null,
        thumbTpl: '<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',
        type: "modern"
    };
    var fe;
    !function(e) {
        e[e.Init = 0] = "Init",
        e[e.Ready = 1] = "Ready",
        e[e.Hidden = 2] = "Hidden",
        e[e.Disabled = 3] = "Disabled"
    }(fe || (fe = {}));
    let me = class extends j {
        constructor() {
            super(...arguments),
            Object.defineProperty(this, "type", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: "modern"
            }),
            Object.defineProperty(this, "container", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "track", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "carousel", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "panzoom", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "thumbWidth", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            Object.defineProperty(this, "thumbClipWidth", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            Object.defineProperty(this, "thumbHeight", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            Object.defineProperty(this, "thumbGap", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            Object.defineProperty(this, "thumbExtraGap", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            Object.defineProperty(this, "shouldCenter", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: !0
            }),
            Object.defineProperty(this, "state", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: fe.Init
            })
        }
        formatThumb(e, t) {
            return this.instance.localize(t, [["%i", e.index], ["%d", e.index + 1], ["%s", e.thumbSrc || "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])
        }
        getSlides() {
            const e = []
              , t = this.option("thumbTpl") || "";
            if (t)
                for (const i of this.instance.slides || []) {
                    let n = "";
                    i.type && (n = `for-${i.type}`,
                    i.type && ["video", "youtube", "vimeo", "html5video"].includes(i.type) && (n += " for-video")),
                    e.push({
                        html: this.formatThumb(i, t),
                        customClass: n
                    })
                }
            return e
        }
        onInitSlide(e, t) {
            const i = t.el;
            i && (t.thumbSrc = i.dataset.thumbSrc || t.thumbSrc || "",
            t.thumbClipWidth = parseFloat(i.dataset.thumbClipWidth || "") || t.thumbClipWidth || 0,
            t.thumbHeight = parseFloat(i.dataset.thumbHeight || "") || t.thumbHeight || 0)
        }
        onInitSlides() {
            this.state === fe.Init && this.build()
        }
        onRefreshM() {
            this.refreshModern()
        }
        onChangeM() {
            "modern" === this.type && (this.shouldCenter = !0,
            this.centerModern())
        }
        onClickModern(e) {
            e.preventDefault(),
            e.stopPropagation();
            const t = this.instance
              , i = t.page
              , n = e => {
                if (e) {
                    const t = e.closest("[data-carousel-index]");
                    if (t)
                        return parseInt(t.dataset.carouselIndex || "", 10) || 0
                }
                return -1
            }
              , s = (e, t) => {
                const i = document.elementFromPoint(e, t);
                return i ? n(i) : -1
            }
            ;
            let r = n(e.target);
            r < 0 && (r = s(e.clientX + this.thumbGap, e.clientY),
            r === i && (r = i - 1)),
            r < 0 && (r = s(e.clientX - this.thumbGap, e.clientY),
            r === i && (r = i + 1)),
            r < 0 && (r = (t => {
                let n = s(e.clientX - t, e.clientY)
                  , a = s(e.clientX + t, e.clientY);
                return r < 0 && n === i && (r = i + 1),
                r < 0 && a === i && (r = i - 1),
                r
            }
            )(this.thumbExtraGap)),
            r === i ? this.centerModern() : r > -1 && r < t.pages.length && t.slideTo(r)
        }
        onTransformM() {
            if ("modern" !== this.type)
                return;
            const {instance: e, container: t, track: i} = this
              , n = e.panzoom;
            if (!(t && i && n && this.panzoom))
                return;
            a(t, this.cn("isResting"), n.state !== v.Init && n.isResting);
            const s = this.thumbGap
              , r = this.thumbExtraGap
              , o = this.thumbClipWidth;
            let l = 0
              , d = 0
              , c = 0;
            for (const t of e.slides) {
                let i = t.index
                  , n = t.thumbSlideEl;
                if (!n)
                    continue;
                a(n, this.cn("isSelected"), i === e.page),
                d = 1 - Math.abs(e.getProgress(i)),
                n.style.setProperty("--progress", d ? d + "" : "");
                const u = .5 * ((t.thumbWidth || 0) - o);
                l += s,
                l += u,
                d && (l -= d * (u + r)),
                n.style.setProperty("--shift", l - s + ""),
                l += u,
                d && (l -= d * (u + r)),
                l -= s,
                0 === i && (c = r * d)
            }
            i && (i.style.setProperty("--left", c + ""),
            i.style.setProperty("--width", l + c + s + r * d + "")),
            this.shouldCenter && this.centerModern()
        }
        buildClassic() {
            const {container: e, track: t} = this
              , i = this.getSlides();
            if (!e || !t || !i)
                return;
            const n = new this.instance.constructor(e,p({
                track: t,
                infinite: !1,
                center: !0,
                fill: !0,
                dragFree: !0,
                slidesPerPage: 1,
                transition: !1,
                Dots: !1,
                Navigation: !1,
                classes: {
                    container: "f-thumbs",
                    viewport: "f-thumbs__viewport",
                    track: "f-thumbs__track",
                    slide: "f-thumbs__slide"
                }
            }, this.option("Carousel") || {}, {
                Sync: {
                    target: this.instance
                },
                slides: i
            }));
            this.carousel = n,
            this.track = t,
            n.on("ready", ( () => {
                this.emit("ready")
            }
            )),
            n.on("createSlide", ( (e, t) => {
                this.emit("createSlide", t, t.el)
            }
            ))
        }
        buildModern() {
            if ("modern" !== this.type)
                return;
            const {container: e, track: t, instance: i} = this
              , n = this.option("thumbTpl") || "";
            if (!e || !t || !n)
                return;
            e.addEventListener("keydown", ( () => {
                S(e, "is-using-mouse")
            }
            )),
            k(e, "is-horizontal"),
            this.updateModern();
            for (const e of i.slides || []) {
                const i = document.createElement("div");
                if (k(i, this.cn("slide")),
                e.type) {
                    let t = `for-${e.type}`;
                    ["video", "youtube", "vimeo", "html5video"].includes(e.type) && (t += " for-video"),
                    k(i, t)
                }
                i.appendChild(s(this.formatThumb(e, n))),
                this.emit("createSlide", e, i),
                e.thumbSlideEl = i,
                t.appendChild(i),
                this.resizeModernSlide(e)
            }
            const r = new i.constructor.Panzoom(e,{
                content: t,
                lockAxis: "x",
                zoom: !1,
                panOnlyZoomed: !1,
                bounds: () => {
                    let e = 0
                      , t = 0
                      , n = i.slides[0]
                      , s = i.slides[i.slides.length - 1]
                      , r = i.slides[i.page];
                    return n && s && r && (t = -1 * this.getModernThumbPos(0),
                    0 !== i.page && (t += .5 * (n.thumbWidth || 0)),
                    e = -1 * this.getModernThumbPos(i.slides.length - 1),
                    i.page !== i.slides.length - 1 && (e += (s.thumbWidth || 0) - (r.thumbWidth || 0) - .5 * (s.thumbWidth || 0))),
                    {
                        x: {
                            min: e,
                            max: t
                        },
                        y: {
                            min: 0,
                            max: 0
                        }
                    }
                }
            });
            r.on("touchStart", ( (e, t) => {
                this.shouldCenter = !1,
                k(this.container, "is-using-mouse")
            }
            )),
            r.on("click", ( (e, t) => this.onClickModern(t))),
            r.on("ready", ( () => {
                this.centerModern(),
                this.emit("ready")
            }
            )),
            r.on(["afterTransform", "refresh"], (e => {
                this.lazyLoadModern()
            }
            )),
            this.panzoom = r,
            this.refreshModern()
        }
        updateModern() {
            if ("modern" !== this.type)
                return;
            const {container: e} = this;
            e && (this.thumbGap = parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-gap")) || 0,
            this.thumbExtraGap = parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-extra-gap")) || 0,
            this.thumbWidth = parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-width")) || 40,
            this.thumbClipWidth = parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-clip-width")) || 40,
            this.thumbHeight = parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-height")) || 40)
        }
        refreshModern() {
            var e;
            if ("modern" === this.type) {
                this.updateModern();
                for (const e of this.instance.slides || [])
                    this.resizeModernSlide(e);
                this.onTransformM(),
                null === (e = this.panzoom) || void 0 === e || e.updateMetrics(!0),
                this.centerModern(0)
            }
        }
        centerModern(e) {
            const i = this.instance
              , {container: n, panzoom: s} = this;
            if (!n || !s || s.state === v.Init)
                return;
            const r = i.page;
            let a = this.getModernThumbPos(r)
              , o = a;
            for (let e = i.page - 3; e < i.page + 3; e++) {
                if (e < 0 || e > i.pages.length - 1 || e === i.page)
                    continue;
                const t = 1 - Math.abs(i.getProgress(e));
                t > 0 && t < 1 && (o += t * (this.getModernThumbPos(e) - a))
            }
            let l = 100;
            void 0 === e && (e = .2,
            i.inTransition.size > 0 && (e = .12),
            Math.abs(-1 * s.current.e - o) > s.containerRect.width && (e = .5,
            l = 0)),
            s.options.maxVelocity = l,
            s.applyChange({
                panX: t(-1 * o - s.target.e, 1e3),
                friction: null === i.prevPage ? 0 : e
            })
        }
        lazyLoadModern() {
            const {instance: e, panzoom: t} = this;
            if (!t)
                return;
            const i = -1 * t.current.e || 0;
            let n = this.getModernThumbPos(e.page);
            if (t.state !== v.Init || 0 === n)
                for (const n of e.slides || []) {
                    const e = n.thumbSlideEl;
                    if (!e)
                        continue;
                    const r = e.querySelector("img[data-lazy-src]")
                      , a = n.index
                      , o = this.getModernThumbPos(a)
                      , l = i - .5 * t.containerRect.innerWidth
                      , d = l + t.containerRect.innerWidth;
                    if (!r || o < l || o > d)
                        continue;
                    let c = r.dataset.lazySrc;
                    if (!c || !c.length)
                        continue;
                    if (delete r.dataset.lazySrc,
                    r.src = c,
                    r.complete)
                        continue;
                    k(e, this.cn("isLoading"));
                    const u = s(T);
                    e.appendChild(u),
                    r.addEventListener("load", ( () => {
                        e.offsetParent && (e.classList.remove(this.cn("isLoading")),
                        u.remove())
                    }
                    ), !1)
                }
        }
        resizeModernSlide(e) {
            if ("modern" !== this.type)
                return;
            if (!e.thumbSlideEl)
                return;
            const t = e.thumbClipWidth && e.thumbHeight ? Math.round(this.thumbHeight * (e.thumbClipWidth / e.thumbHeight)) : this.thumbWidth;
            e.thumbWidth = t
        }
        getModernThumbPos(e) {
            const i = this.instance.slides[e]
              , n = this.panzoom;
            if (!n || !n.contentRect.fitWidth)
                return 0;
            let s = n.containerRect.innerWidth
              , r = n.contentRect.width;
            2 === this.instance.slides.length && (e -= 1,
            r = 2 * this.thumbClipWidth);
            let a = e * (this.thumbClipWidth + this.thumbGap) + this.thumbExtraGap + .5 * (i.thumbWidth || 0);
            return a -= r > s ? .5 * s : .5 * r,
            t(a || 0, 1)
        }
        build() {
            const e = this.instance
              , t = e.container
              , i = this.option("minCount") || 0;
            if (i) {
                let t = 0;
                for (const i of e.slides || [])
                    i.thumbSrc && t++;
                if (t < i)
                    return this.cleanup(),
                    void (this.state = fe.Disabled)
            }
            const n = this.option("type");
            if (["modern", "classic"].indexOf(n) < 0)
                return void (this.state = fe.Disabled);
            this.type = n;
            const s = document.createElement("div");
            k(s, this.cn("container")),
            k(s, `is-${n}`);
            const r = this.option("parentEl");
            r ? r.appendChild(s) : t.after(s),
            this.container = s,
            k(t, this.cn("hasThumbs"));
            const a = document.createElement("div");
            k(a, this.cn("track")),
            s.appendChild(a),
            this.track = a,
            "classic" === n ? this.buildClassic() : this.buildModern(),
            this.state = fe.Ready
        }
        cleanup() {
            this.carousel && this.carousel.destroy(),
            this.carousel = null,
            this.panzoom && this.panzoom.destroy(),
            this.panzoom = null,
            this.container && this.container.remove(),
            this.container = null,
            this.track = null,
            this.state = fe.Init,
            S(this.instance.container, this.cn("hasThumbs"))
        }
        attach() {
            const e = this
              , t = e.instance;
            t.on("initSlide", e.onInitSlide),
            t.state === R.Init ? t.on("initSlides", e.onInitSlides) : e.onInitSlides(),
            t.on("Panzoom.afterTransform", e.onTransformM),
            t.on("Panzoom.refresh", e.onRefreshM),
            t.on("change", e.onChangeM)
        }
        detach() {
            const e = this
              , t = e.instance;
            t.off("initSlide", e.onInitSlide),
            t.off("initSlides", e.onInitSlides),
            t.off("Panzoom.afterTransform", e.onTransformM),
            t.off("Panzoom.refresh", e.onRefreshM),
            t.off("change", e.onChangeM),
            e.cleanup()
        }
    }
    ;
    Object.defineProperty(me, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: pe
    });
    const ge = Object.assign(Object.assign({}, pe), {
        key: "t",
        showOnStart: !0,
        parentEl: null
    })
      , ve = "is-masked"
      , ye = "aria-hidden";
    class be extends j {
        constructor() {
            super(...arguments),
            Object.defineProperty(this, "ref", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "hidden", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: !1
            })
        }
        get isEnabled() {
            const e = this.ref;
            return e && e.state !== fe.Disabled
        }
        get isHidden() {
            return this.hidden
        }
        onInit() {
            var e;
            const t = this
              , i = t.instance
              , n = i.carousel;
            if (t.ref || !n)
                return;
            const s = t.option("parentEl") || i.footer || i.container;
            if (!s)
                return;
            const r = p({}, t.options, {
                parentEl: s,
                classes: {
                    container: "f-thumbs fancybox__thumbs"
                },
                Carousel: {
                    Sync: {
                        friction: i.option("Carousel.friction") || 0
                    }
                },
                on: {
                    ready: e => {
                        const i = e.container;
                        i && this.hidden && (t.refresh(),
                        i.style.transition = "none",
                        t.hide(),
                        i.offsetHeight,
                        queueMicrotask(( () => {
                            i.style.transition = "",
                            t.show()
                        }
                        )))
                    }
                }
            });
            r.Carousel = r.Carousel || {},
            r.Carousel.on = p((null === (e = t.options.Carousel) || void 0 === e ? void 0 : e.on) || {}, {
                click: (e, t) => {
                    t.stopPropagation()
                }
            }),
            n.options.Thumbs = r,
            n.attachPlugins({
                Thumbs: me
            }),
            t.ref = n.plugins.Thumbs,
            t.option("showOnStart") || (t.ref.state = fe.Hidden,
            t.hidden = !0)
        }
        onResize() {
            var e;
            const t = null === (e = this.ref) || void 0 === e ? void 0 : e.container;
            t && (t.style.maxHeight = "")
        }
        onKeydown(e, t) {
            const i = this.option("key");
            i && i === t && this.toggle()
        }
        toggle() {
            const e = this.ref;
            e && e.state !== fe.Disabled && (e.state !== fe.Hidden ? this.hidden ? this.show() : this.hide() : e.build())
        }
        show() {
            const e = this.ref
              , t = e && e.state !== fe.Disabled && e.container;
            t && (this.refresh(),
            t.offsetHeight,
            t.removeAttribute(ye),
            t.classList.remove(ve),
            this.hidden = !1)
        }
        hide() {
            const e = this.ref
              , t = e && e.container;
            t && (this.refresh(),
            t.offsetHeight,
            t.classList.add(ve),
            t.setAttribute(ye, "true")),
            this.hidden = !0
        }
        refresh() {
            const e = this.ref;
            if (!e || e.state === fe.Disabled)
                return;
            const t = e.container
              , i = (null == t ? void 0 : t.firstChild) || null;
            t && i && i.childNodes.length && (t.style.maxHeight = `${i.getBoundingClientRect().height}px`)
        }
        attach() {
            const e = this
              , t = e.instance;
            t.state === J.Init ? t.on("Carousel.init", e.onInit) : e.onInit(),
            t.on("resize", e.onResize),
            t.on("keydown", e.onKeydown)
        }
        detach() {
            var e;
            const t = this
              , i = t.instance;
            i.off("Carousel.init", t.onInit),
            i.off("resize", t.onResize),
            i.off("keydown", t.onKeydown),
            null === (e = i.carousel) || void 0 === e || e.detachPlugins(["Thumbs"]),
            t.ref = null
        }
    }
    Object.defineProperty(be, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: ge
    });
    const _e = {
        panLeft: {
            icon: '<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',
            change: {
                panX: -100
            }
        },
        panRight: {
            icon: '<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',
            change: {
                panX: 100
            }
        },
        panUp: {
            icon: '<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',
            change: {
                panY: -100
            }
        },
        panDown: {
            icon: '<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',
            change: {
                panY: 100
            }
        },
        zoomIn: {
            icon: '<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',
            action: "zoomIn"
        },
        zoomOut: {
            icon: '<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',
            action: "zoomOut"
        },
        toggle1to1: {
            icon: '<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',
            action: "toggleZoom"
        },
        toggleZoom: {
            icon: '<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',
            action: "toggleZoom"
        },
        iterateZoom: {
            icon: '<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',
            action: "iterateZoom"
        },
        rotateCCW: {
            icon: '<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',
            action: "rotateCCW"
        },
        rotateCW: {
            icon: '<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',
            action: "rotateCW"
        },
        flipX: {
            icon: '<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',
            action: "flipX"
        },
        flipY: {
            icon: '<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',
            action: "flipY"
        },
        fitX: {
            icon: '<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',
            action: "fitX"
        },
        fitY: {
            icon: '<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',
            action: "fitY"
        },
        reset: {
            icon: '<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',
            action: "reset"
        },
        toggleFS: {
            icon: '<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',
            action: "toggleFS"
        }
    };
    var Te;
    !function(e) {
        e[e.Init = 0] = "Init",
        e[e.Ready = 1] = "Ready",
        e[e.Disabled = 2] = "Disabled"
    }(Te || (Te = {}));
    const we = {
        tabindex: "-1",
        width: "24",
        height: "24",
        viewBox: "0 0 24 24",
        xmlns: "http://www.w3.org/2000/svg"
    };
    class Se extends j {
        constructor() {
            super(...arguments),
            Object.defineProperty(this, "state", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: Te.Init
            }),
            Object.defineProperty(this, "container", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            })
        }
        onReady(e) {
            var t;
            if (!e.carousel)
                return;
            let i = this.option("display")
              , n = this.option("absolute")
              , s = this.option("enabled");
            if ("auto" === s) {
                const e = this.instance.carousel;
                let t = 0;
                if (e)
                    for (const i of e.slides)
                        (i.panzoom || "image" === i.type) && t++;
                t || (s = !1)
            }
            s || (i = void 0);
            let r = 0;
            const a = {
                left: [],
                middle: [],
                right: []
            };
            if (i)
                for (const e of ["left", "middle", "right"])
                    for (const n of i[e]) {
                        const i = this.createEl(n);
                        i && (null === (t = a[e]) || void 0 === t || t.push(i),
                        r++)
                    }
            let o = null;
            if (r && (o = this.createContainer()),
            o) {
                for (const [e,t] of Object.entries(a)) {
                    const i = document.createElement("div");
                    k(i, "fancybox__toolbar__column is-" + e);
                    for (const e of t)
                        i.appendChild(e);
                    "auto" !== n || "middle" !== e || t.length || (n = !0),
                    o.appendChild(i)
                }
                !0 === n && k(o, "is-absolute"),
                this.state = Te.Ready,
                this.onRefresh()
            } else
                this.state = Te.Disabled
        }
        onClick(e) {
            var t, i;
            const n = this.instance
              , s = n.getSlide()
              , r = null == s ? void 0 : s.panzoom
              , a = e.target
              , o = a && w(a) ? a.dataset : null;
            if (!o)
                return;
            if (void 0 !== o.fancyboxToggleThumbs)
                return e.preventDefault(),
                e.stopPropagation(),
                void (null === (t = n.plugins.Thumbs) || void 0 === t || t.toggle());
            if (void 0 !== o.fancyboxToggleFullscreen)
                return e.preventDefault(),
                e.stopPropagation(),
                void this.instance.toggleFullscreen();
            if (void 0 !== o.fancyboxToggleSlideshow) {
                e.preventDefault(),
                e.stopPropagation();
                const t = null === (i = n.carousel) || void 0 === i ? void 0 : i.plugins.Autoplay;
                let s = t.isActive;
                return r && "mousemove" === r.panMode && !s && r.reset(),
                void (s ? t.stop() : t.start())
            }
            const l = o.panzoomAction
              , d = o.panzoomChange;
            if ((d || l) && (e.preventDefault(),
            e.stopPropagation()),
            d) {
                let t = {};
                try {
                    t = JSON.parse(d)
                } catch (e) {}
                r && r.applyChange(t)
            } else
                l && r && r[l] && r[l]()
        }
        onChange() {
            this.onRefresh()
        }
        onRefresh() {
            if (this.instance.isClosing())
                return;
            const e = this.container;
            if (!e)
                return;
            const t = this.instance.getSlide();
            if (!t || t.state !== ee.Ready)
                return;
            const i = t && !t.error && t.panzoom;
            for (const t of e.querySelectorAll("[data-panzoom-action]"))
                i ? (t.removeAttribute("disabled"),
                t.removeAttribute("tabindex")) : (t.setAttribute("disabled", ""),
                t.setAttribute("tabindex", "-1"));
            let n = i && i.canZoomIn()
              , s = i && i.canZoomOut();
            for (const t of e.querySelectorAll('[data-panzoom-action="zoomIn"]'))
                n ? (t.removeAttribute("disabled"),
                t.removeAttribute("tabindex")) : (t.setAttribute("disabled", ""),
                t.setAttribute("tabindex", "-1"));
            for (const t of e.querySelectorAll('[data-panzoom-action="zoomOut"]'))
                s ? (t.removeAttribute("disabled"),
                t.removeAttribute("tabindex")) : (t.setAttribute("disabled", ""),
                t.setAttribute("tabindex", "-1"));
            for (const t of e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')) {
                s || n ? (t.removeAttribute("disabled"),
                t.removeAttribute("tabindex")) : (t.setAttribute("disabled", ""),
                t.setAttribute("tabindex", "-1"));
                const e = t.querySelector("g");
                e && (e.style.display = n ? "" : "none")
            }
        }
        onDone(e, t) {
            var i;
            null === (i = t.panzoom) || void 0 === i || i.on("afterTransform", ( () => {
                this.instance.isCurrentSlide(t) && this.onRefresh()
            }
            )),
            this.instance.isCurrentSlide(t) && this.onRefresh()
        }
        createContainer() {
            const e = this.instance.container;
            if (!e)
                return null;
            const t = this.option("parentEl") || e
              , i = document.createElement("div");
            return k(i, "fancybox__toolbar"),
            t.prepend(i),
            i.addEventListener("click", this.onClick, {
                passive: !1,
                capture: !0
            }),
            e && k(e, "has-toolbar"),
            this.container = i,
            i
        }
        createEl(e) {
            const t = this.instance
              , i = t.carousel;
            if (!i)
                return null;
            if ("toggleFS" === e)
                return null;
            if ("fullscreen" === e && !t.fsAPI)
                return null;
            let n = null;
            const r = i.slides.length || 0;
            let a = 0
              , o = 0;
            for (const e of i.slides)
                (e.panzoom || "image" === e.type) && a++,
                ("image" === e.type || e.downloadSrc) && o++;
            if (r < 2 && ["infobar", "prev", "next"].includes(e))
                return n;
            if (void 0 !== _e[e] && !a)
                return null;
            if ("download" === e && !o)
                return null;
            if ("thumbs" === e) {
                const e = t.plugins.Thumbs;
                if (!e || !e.isEnabled)
                    return null
            }
            if ("slideshow" === e && (!i.plugins.Autoplay || r < 2))
                return null;
            if (void 0 !== _e[e]) {
                const t = _e[e];
                n = document.createElement("button"),
                n.setAttribute("title", this.instance.localize(`{{${e.toUpperCase()}}}`)),
                k(n, "f-button"),
                t.action && (n.dataset.panzoomAction = t.action),
                t.change && (n.dataset.panzoomChange = JSON.stringify(t.change)),
                n.appendChild(s(this.instance.localize(t.icon)))
            } else {
                const t = (this.option("items") || [])[e];
                t && (n = s(this.instance.localize(t.tpl)),
                "function" == typeof t.click && n.addEventListener("click", (e => {
                    e.preventDefault(),
                    e.stopPropagation(),
                    "function" == typeof t.click && t.click.call(this, this, e)
                }
                )))
            }
            const l = null == n ? void 0 : n.querySelector("svg");
            if (l)
                for (const [e,t] of Object.entries(we))
                    l.getAttribute(e) || l.setAttribute(e, String(t));
            return n
        }
        removeContainer() {
            const e = this.container;
            e && e.remove(),
            this.container = null,
            this.state = Te.Disabled;
            const t = this.instance.container;
            t && S(t, "has-toolbar")
        }
        attach() {
            const e = this
              , t = e.instance;
            t.on("Carousel.initSlides", e.onReady),
            t.on("done", e.onDone),
            t.on("reveal", e.onChange),
            t.on("Carousel.change", e.onChange),
            e.onReady(e.instance)
        }
        detach() {
            const e = this
              , t = e.instance;
            t.off("Carousel.initSlides", e.onReady),
            t.off("done", e.onDone),
            t.off("reveal", e.onChange),
            t.off("Carousel.change", e.onChange),
            e.removeContainer()
        }
    }
    Object.defineProperty(Se, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: {
            absolute: "auto",
            display: {
                left: ["infobar"],
                middle: [],
                right: ["iterateZoom", "slideshow", "fullscreen", "thumbs", "close"]
            },
            enabled: "auto",
            items: {
                infobar: {
                    tpl: '<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'
                },
                download: {
                    tpl: '<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'
                },
                prev: {
                    tpl: '<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'
                },
                next: {
                    tpl: '<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'
                },
                slideshow: {
                    tpl: '<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'
                },
                fullscreen: {
                    tpl: '<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'
                },
                thumbs: {
                    tpl: '<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'
                },
                close: {
                    tpl: '<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'
                }
            },
            parentEl: null
        }
    });
    const ke = {
        Hash: ie,
        Html: oe,
        Images: se,
        Slideshow: he,
        Thumbs: be,
        Toolbar: Se
    }
      , xe = "with-fancybox"
      , Ce = "hide-scrollbar"
      , Ee = "--fancybox-scrollbar-compensate"
      , Pe = "--fancybox-body-margin"
      , Ae = "is-animated"
      , Ie = "is-compact"
      , Oe = "is-loading"
      , Le = function() {
        var e = window.getSelection();
        return e && "Range" === e.type
    };
    let Me = null
      , De = null;
    const Re = new Map;
    let Ne = 0;
    class Be extends g {
        get isIdle() {
            return this.idle
        }
        get isCompact() {
            return this.option("compact")
        }
        constructor(e=[], t={}, i={}) {
            super(t),
            Object.defineProperty(this, "userSlides", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: []
            }),
            Object.defineProperty(this, "userPlugins", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: {}
            }),
            Object.defineProperty(this, "idle", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: !1
            }),
            Object.defineProperty(this, "idleTimer", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "clickTimer", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "pwt", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            Object.defineProperty(this, "ignoreFocusChange", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: !1
            }),
            Object.defineProperty(this, "state", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: J.Init
            }),
            Object.defineProperty(this, "id", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: 0
            }),
            Object.defineProperty(this, "container", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "footer", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "caption", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "carousel", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "lastFocus", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: null
            }),
            Object.defineProperty(this, "prevMouseMoveEvent", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            Object.defineProperty(this, "fsAPI", {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: void 0
            }),
            this.fsAPI = ( () => {
                let e, t = "", i = "", n = "";
                return document.fullscreenEnabled ? (t = "requestFullscreen",
                i = "exitFullscreen",
                n = "fullscreenElement") : document.webkitFullscreenEnabled && (t = "webkitRequestFullscreen",
                i = "webkitExitFullscreen",
                n = "webkitFullscreenElement"),
                t && (e = {
                    request: function(e) {
                        return "webkitRequestFullscreen" === t ? e[t](Element.ALLOW_KEYBOARD_INPUT) : e[t]()
                    },
                    exit: function() {
                        return document[n] && document[i]()
                    },
                    isFullscreen: function() {
                        return document[n]
                    }
                }),
                e
            }
            )(),
            this.id = t.id || ++Ne,
            Re.set(this.id, this),
            this.userSlides = e,
            this.userPlugins = i,
            queueMicrotask(( () => {
                this.init()
            }
            ))
        }
        init() {
            if (this.state === J.Destroy)
                return;
            this.state = J.Init,
            this.attachPlugins(Object.assign(Object.assign({}, Be.Plugins), this.userPlugins)),
            this.emit("init"),
            !0 === this.option("hideScrollbar") && ( () => {
                if (!X)
                    return;
                const e = document.body;
                if (e.classList.contains(Ce))
                    return;
                let t = window.innerWidth - document.documentElement.getBoundingClientRect().width;
                t < 0 && (t = 0);
                const i = e.currentStyle || window.getComputedStyle(e)
                  , n = parseFloat(i.marginRight);
                document.documentElement.style.setProperty(Ee, `${t}px`),
                n && e.style.setProperty(Pe, `${n}px`),
                e.classList.add(Ce)
            }
            )(),
            this.initLayout(),
            this.scale();
            const e = () => {
                this.initCarousel(this.userSlides),
                this.state = J.Ready,
                this.attachEvents(),
                this.emit("ready"),
                setTimeout(( () => {
                    this.container && this.container.setAttribute("aria-hidden", "false")
                }
                ), 16)
            }
              , t = this.fsAPI;
            this.option("Fullscreen.autoStart") && t && !t.isFullscreen() ? t.request(this.container).then(( () => e())).catch(( () => e())) : e()
        }
        initLayout() {
            var e, t;
            const i = this.option("parentEl") || document.body
              , n = s(this.localize(this.option("tpl.main") || ""));
            n && (n.setAttribute("id", `fancybox-${this.id}`),
            n.setAttribute("aria-label", this.localize("{{MODAL}}")),
            n.classList.toggle(Ie, this.isCompact),
            k(n, this.option("mainClass") || ""),
            this.container = n,
            this.footer = n.querySelector(".fancybox__footer"),
            i.appendChild(n),
            k(document.documentElement, xe),
            Me && De || (Me = document.createElement("span"),
            k(Me, "fancybox-focus-guard"),
            Me.setAttribute("tabindex", "0"),
            Me.setAttribute("aria-hidden", "true"),
            Me.setAttribute("aria-label", "Focus guard"),
            De = Me.cloneNode(),
            null === (e = n.parentElement) || void 0 === e || e.insertBefore(Me, n),
            null === (t = n.parentElement) || void 0 === t || t.append(De)),
            this.option("animated") && (k(n, Ae),
            setTimeout(( () => {
                this.isClosing() || S(n, Ae)
            }
            ), 350)),
            this.emit("initLayout"))
        }
        initCarousel(e) {
            const t = this.container;
            if (!t)
                return;
            const n = t.querySelector(".fancybox__carousel");
            if (!n)
                return;
            const s = this.carousel = new V(n,p({}, {
                slides: e,
                transition: "fade",
                Panzoom: {
                    lockAxis: this.option("dragToClose") ? "xy" : "x",
                    infinite: !!this.option("dragToClose") && "y"
                },
                Dots: !1,
                Navigation: {
                    classes: {
                        container: "fancybox__nav",
                        button: "f-button",
                        isNext: "is-next",
                        isPrev: "is-prev"
                    }
                },
                initialPage: this.option("startIndex"),
                l10n: this.option("l10n")
            }, this.option("Carousel") || {}));
            s.on("*", ( (e, t, ...i) => {
                this.emit(`Carousel.${t}`, e, ...i)
            }
            )),
            s.on(["ready", "change"], ( () => {
                var e;
                const t = this.getSlide();
                t && (null === (e = t.panzoom) || void 0 === e || e.updateControls()),
                this.manageCaption(t)
            }
            )),
            this.on("Carousel.removeSlide", ( (e, t, i) => {
                i.contentEl && (i.contentEl.remove(),
                i.contentEl = void 0);
                const n = i.el;
                n && (S(n, "has-error"),
                S(n, "has-unknown"),
                S(n, `has-${i.type || "unknown"}`)),
                i.closeBtnEl && i.closeBtnEl.remove(),
                i.closeBtnEl = void 0,
                i.captionEl && i.captionEl.remove(),
                i.captionEl = void 0,
                i.spinnerEl && i.spinnerEl.remove(),
                i.spinnerEl = void 0,
                i.state = void 0
            }
            )),
            s.on("Panzoom.touchStart", ( () => {
                var e, t;
                this.isCompact || this.endIdle(),
                (null === (e = document.activeElement) || void 0 === e ? void 0 : e.closest(".f-thumbs")) && (null === (t = this.container) || void 0 === t || t.focus())
            }
            )),
            s.on("settle", ( () => {
                this.idleTimer || this.isCompact || !this.option("idle") || this.setIdle(),
                this.option("autoFocus") && !this.isClosing && this.checkFocus()
            }
            )),
            this.option("dragToClose") && (s.on("Panzoom.afterTransform", ( (e, t) => {
                const n = this.getSlide();
                if (n && i(n.el))
                    return;
                const s = this.container;
                if (s) {
                    const e = Math.abs(t.current.f)
                      , i = e < 1 ? "" : Math.max(.5, Math.min(1, 1 - e / t.contentRect.fitHeight * 1.5));
                    s.style.setProperty("--fancybox-ts", i ? "0s" : ""),
                    s.style.setProperty("--fancybox-opacity", i + "")
                }
            }
            )),
            s.on("Panzoom.touchEnd", ( (e, t, n) => {
                var s;
                const r = this.getSlide();
                if (r && i(r.el))
                    return;
                if (t.isMobile && document.activeElement && -1 !== ["TEXTAREA", "INPUT"].indexOf(null === (s = document.activeElement) || void 0 === s ? void 0 : s.nodeName))
                    return;
                const a = Math.abs(t.dragOffset.y);
                "y" === t.lockedAxis && (a >= 200 || a >= 50 && t.dragOffset.time < 300) && (n && n.cancelable && n.preventDefault(),
                this.close(n, "f-throwOut" + (t.current.f < 0 ? "Up" : "Down")))
            }
            ))),
            s.on("change", (e => {
                var t;
                let i = null === (t = this.getSlide()) || void 0 === t ? void 0 : t.triggerEl;
                if (i) {
                    const t = new CustomEvent("slideTo",{
                        bubbles: !0,
                        cancelable: !0,
                        detail: e.page
                    });
                    i.dispatchEvent(t)
                }
            }
            )),
            s.on(["refresh", "change"], (e => {
                const t = this.container;
                if (!t)
                    return;
                for (const i of t.querySelectorAll("[data-fancybox-current-index]"))
                    i.innerHTML = e.page + 1;
                for (const i of t.querySelectorAll("[data-fancybox-count]"))
                    i.innerHTML = e.pages.length;
                if (!e.isInfinite) {
                    for (const i of t.querySelectorAll("[data-fancybox-next]"))
                        e.page < e.pages.length - 1 ? (i.removeAttribute("disabled"),
                        i.removeAttribute("tabindex")) : (i.setAttribute("disabled", ""),
                        i.setAttribute("tabindex", "-1"));
                    for (const i of t.querySelectorAll("[data-fancybox-prev]"))
                        e.page > 0 ? (i.removeAttribute("disabled"),
                        i.removeAttribute("tabindex")) : (i.setAttribute("disabled", ""),
                        i.setAttribute("tabindex", "-1"))
                }
                const i = this.getSlide();
                if (!i)
                    return;
                let n = i.downloadSrc || "";
                n || "image" !== i.type || i.error || "string" != typeof i.src || (n = i.src);
                const s = "disabled"
                  , r = "tabindex"
                  , a = "download"
                  , o = "href";
                for (const e of t.querySelectorAll("[data-fancybox-download]")) {
                    const t = i.downloadFilename;
                    n ? (e.removeAttribute(s),
                    e.removeAttribute(r),
                    e.setAttribute(o, n),
                    e.setAttribute(a, t || n),
                    e.setAttribute("target", "_blank")) : (e.setAttribute(s, ""),
                    e.setAttribute(r, "-1"),
                    e.removeAttribute(o),
                    e.removeAttribute(a))
                }
            }
            )),
            this.emit("initCarousel")
        }
        attachEvents() {
            const e = this
              , t = e.container;
            if (!t)
                return;
            t.addEventListener("click", e.onClick, {
                passive: !1,
                capture: !1
            }),
            t.addEventListener("wheel", e.onWheel, {
                passive: !1,
                capture: !1
            }),
            document.addEventListener("keydown", e.onKeydown, {
                passive: !1,
                capture: !0
            }),
            document.addEventListener("visibilitychange", e.onVisibilityChange, !1),
            document.addEventListener("mousemove", e.onMousemove),
            e.option("trapFocus") && document.addEventListener("focus", e.onFocus, !0),
            window.addEventListener("resize", e.onResize);
            const i = window.visualViewport;
            i && (i.addEventListener("scroll", e.onResize),
            i.addEventListener("resize", e.onResize))
        }
        detachEvents() {
            const e = this
              , t = e.container;
            if (!t)
                return;
            document.removeEventListener("keydown", e.onKeydown, {
                passive: !1,
                capture: !0
            }),
            t.removeEventListener("wheel", e.onWheel, {
                passive: !1,
                capture: !1
            }),
            t.removeEventListener("click", e.onClick, {
                passive: !1,
                capture: !1
            }),
            document.removeEventListener("mousemove", e.onMousemove),
            window.removeEventListener("resize", e.onResize);
            const i = window.visualViewport;
            i && (i.removeEventListener("resize", e.onResize),
            i.removeEventListener("scroll", e.onResize)),
            document.removeEventListener("visibilitychange", e.onVisibilityChange, !1),
            document.removeEventListener("focus", e.onFocus, !0)
        }
        scale() {
            const e = this.container;
            if (!e)
                return;
            const t = window.visualViewport
              , i = Math.max(1, (null == t ? void 0 : t.scale) || 1);
            let n = ""
              , s = ""
              , r = "";
            if (t && i > 1) {
                let e = `${t.offsetLeft}px`
                  , a = `${t.offsetTop}px`;
                n = t.width * i + "px",
                s = t.height * i + "px",
                r = `translate3d(${e}, ${a}, 0) scale(${1 / i})`
            }
            e.style.transform = r,
            e.style.width = n,
            e.style.height = s
        }
        onClick(e) {
            var t, i;
            const {container: n, isCompact: s} = this;
            if (!n || this.isClosing())
                return;
            !s && this.option("idle") && this.resetIdle();
            const r = document.activeElement;
            if (Le() && r && n.contains(r))
                return;
            const a = e.composedPath()[0];
            if (a === (null === (t = this.carousel) || void 0 === t ? void 0 : t.container))
                return;
            if (a.closest(".f-spinner") || a.closest("[data-fancybox-close]"))
                return e.preventDefault(),
                void this.close(e);
            if (a.closest("[data-fancybox-prev]"))
                return e.preventDefault(),
                void this.prev();
            if (a.closest("[data-fancybox-next]"))
                return e.preventDefault(),
                void this.next();
            if (s && "image" === (null === (i = this.getSlide()) || void 0 === i ? void 0 : i.type))
                return void (this.clickTimer ? (clearTimeout(this.clickTimer),
                this.clickTimer = null) : this.clickTimer = setTimeout(( () => {
                    this.toggleIdle(),
                    this.clickTimer = null
                }
                ), 350));
            if (this.emit("click", e),
            e.defaultPrevented)
                return;
            let o = !1;
            if (a.closest(".fancybox__content")) {
                if (r) {
                    if (r.closest("[contenteditable]"))
                        return;
                    a.matches(K) || r.blur()
                }
                if (Le())
                    return;
                o = this.option("contentClick")
            } else
                a.closest(".fancybox__carousel") && !a.matches(K) && (o = this.option("backdropClick"));
            "close" === o ? (e.preventDefault(),
            this.close(e)) : "next" === o ? (e.preventDefault(),
            this.next()) : "prev" === o && (e.preventDefault(),
            this.prev())
        }
        onWheel(e) {
            var t;
            let i = this.option("wheel", e);
            (null === (t = e.target) || void 0 === t ? void 0 : t.closest(".fancybox__thumbs")) && (i = "slide");
            const n = "slide" === i
              , s = [-e.deltaX || 0, -e.deltaY || 0, -e.detail || 0].reduce((function(e, t) {
                return Math.abs(t) > Math.abs(e) ? t : e
            }
            ))
              , r = Math.max(-1, Math.min(1, s))
              , a = Date.now();
            this.pwt && a - this.pwt < 300 ? n && e.preventDefault() : (this.pwt = a,
            this.emit("wheel", e),
            e.defaultPrevented || ("close" === i ? (e.preventDefault(),
            this.close(e)) : "slide" === i && (e.preventDefault(),
            this[r > 0 ? "prev" : "next"]())))
        }
        onKeydown(e) {
            if (!this.isTopmost())
                return;
            this.isCompact || !this.option("idle") || this.isClosing() || this.resetIdle();
            const t = e.key
              , i = this.option("keyboard");
            if (!i || e.ctrlKey || e.altKey || e.shiftKey)
                return;
            const n = e.composedPath()[0]
              , s = document.activeElement && document.activeElement.classList
              , r = s && s.contains("f-button") || n.dataset.carouselPage || n.dataset.carouselIndex;
            if ("Escape" !== t && !r && w(n) && (n.isContentEditable || -1 !== ["TEXTAREA", "OPTION", "INPUT", "SELECT", "VIDEO"].indexOf(n.nodeName)))
                return;
            this.emit("keydown", t, e);
            const a = i[t];
            "function" == typeof this[a] && (e.preventDefault(),
            this[a]())
        }
        onResize() {
            const e = Ie
              , t = this.container;
            if (!t)
                return;
            const i = this.isCompact;
            t.classList.toggle(e, i),
            this.manageCaption(this.getSlide()),
            this.isCompact ? this.clearIdle() : this.endIdle(),
            this.scale(),
            this.emit("resize")
        }
        onFocus(e) {
            this.isTopmost() && this.checkFocus(e)
        }
        onMousemove(e) {
            this.prevMouseMoveEvent = e,
            !this.isCompact && this.option("idle") && this.resetIdle()
        }
        onVisibilityChange() {
            "visible" === document.visibilityState ? this.checkFocus() : this.endIdle()
        }
        manageCloseBtn(e) {
            const t = this.optionFor(e, "closeButton") || !1;
            if ("auto" === t) {
                const e = this.plugins.Toolbar;
                if (e && e.state === Te.Ready)
                    return
            }
            if (!t)
                return;
            if (!e.contentEl || e.closeBtnEl)
                return;
            const i = this.option("tpl.closeButton");
            if (i) {
                const t = s(this.localize(i));
                e.closeBtnEl = e.contentEl.appendChild(t),
                e.el && k(e.el, "has-close-btn")
            }
        }
        manageCaption(e=undefined) {
            var t, i;
            const n = "fancybox__caption"
              , s = "has-caption"
              , r = this.container;
            if (!r)
                return;
            const a = this.isCompact || this.option("commonCaption")
              , o = !a;
            if (this.caption && this.stop(this.caption),
            o && this.caption && (this.caption.remove(),
            this.caption = null),
            a && !this.caption)
                for (const e of (null === (t = this.carousel) || void 0 === t ? void 0 : t.slides) || [])
                    e.captionEl && (e.captionEl.remove(),
                    e.captionEl = void 0,
                    S(e.el, s),
                    null === (i = e.el) || void 0 === i || i.removeAttribute("aria-labelledby"));
            if (e || (e = this.getSlide()),
            !e || a && !this.isCurrentSlide(e))
                return;
            const l = e.el;
            let d = this.optionFor(e, "caption", "");
            if (!d)
                return void (a && this.caption && this.animate(this.caption, "f-fadeOut", ( () => {
                    this.caption && (this.caption.innerHTML = "")
                }
                )));
            let c = null;
            if (o) {
                if (c = e.captionEl || null,
                l && !c) {
                    const t = n + `_${this.id}_${e.index}`;
                    c = document.createElement("div"),
                    k(c, n),
                    c.setAttribute("id", t),
                    e.captionEl = l.appendChild(c),
                    k(l, s),
                    l.setAttribute("aria-labelledby", t)
                }
            } else
                c = this.caption,
                c || (c = r.querySelector("." + n)),
                c || (c = document.createElement("div"),
                c.dataset.fancyboxCaption = "",
                k(c, n),
                (this.footer || r).prepend(c)),
                k(r, s),
                this.caption = c;
            c && (c.innerHTML = "",
            "string" == typeof d ? c.innerHTML = d : d instanceof HTMLElement && c.appendChild(d))
        }
        checkFocus(e) {
            var t;
            const i = document.activeElement || null;
            i && (null === (t = this.container) || void 0 === t ? void 0 : t.contains(i)) || this.focus(e)
        }
        focus(e) {
            var t;
            if (this.ignoreFocusChange)
                return;
            const i = document.activeElement || null
              , n = (null == e ? void 0 : e.target) || null
              , s = this.container
              , r = this.getSlide();
            if (!s || !(null === (t = this.carousel) || void 0 === t ? void 0 : t.viewport))
                return;
            if (!e && i && s.contains(i))
                return;
            const a = r && r.state === ee.Ready ? r.el : null;
            if (!a || a.contains(i) || s === i)
                return;
            e && e.cancelable && e.preventDefault(),
            this.ignoreFocusChange = !0;
            const o = Array.from(s.querySelectorAll(K));
            let l = []
              , d = null;
            for (let e of o) {
                const t = !e.offsetParent || e.closest('[aria-hidden="true"]')
                  , i = a && a.contains(e)
                  , n = !this.carousel.viewport.contains(e);
                if (e === s || (i || n) && !t) {
                    l.push(e);
                    const t = e.dataset.origTabindex;
                    void 0 !== t && t && (e.tabIndex = parseFloat(t)),
                    e.removeAttribute("data-orig-tabindex"),
                    !e.hasAttribute("autoFocus") && d || (d = e)
                } else {
                    const t = void 0 === e.dataset.origTabindex ? e.getAttribute("tabindex") || "" : e.dataset.origTabindex;
                    t && (e.dataset.origTabindex = t),
                    e.tabIndex = -1
                }
            }
            let c = null;
            e ? (!n || l.indexOf(n) < 0) && (c = d || s,
            l.length && (i === De ? c = l[0] : this.lastFocus !== s && i !== Me || (c = l[l.length - 1]))) : c = r && "image" === r.type ? s : d || s,
            c && Q(c),
            this.lastFocus = document.activeElement,
            this.ignoreFocusChange = !1
        }
        next() {
            const e = this.carousel;
            e && e.pages.length > 1 && e.slideNext()
        }
        prev() {
            const e = this.carousel;
            e && e.pages.length > 1 && e.slidePrev()
        }
        jumpTo(...e) {
            this.carousel && this.carousel.slideTo(...e)
        }
        isTopmost() {
            var e;
            return (null === (e = Be.getInstance()) || void 0 === e ? void 0 : e.id) == this.id
        }
        animate(e=null, t="", i) {
            if (!e || !t)
                return void (i && i());
            this.stop(e);
            const n = s => {
                s.target === e && e.dataset.animationName && (e.removeEventListener("animationend", n),
                delete e.dataset.animationName,
                i && i(),
                S(e, t))
            }
            ;
            e.dataset.animationName = t,
            e.addEventListener("animationend", n),
            k(e, t)
        }
        stop(e) {
            e && e.dispatchEvent(new CustomEvent("animationend",{
                bubbles: !1,
                cancelable: !0,
                currentTarget: e
            }))
        }
        setContent(e, t="", i=!0) {
            if (this.isClosing())
                return;
            const n = e.el;
            if (!n)
                return;
            let r = null;
            if (w(t) ? r = t : (r = s(t + ""),
            w(r) || (r = document.createElement("div"),
            r.innerHTML = t + "")),
            ["img", "picture", "iframe", "video", "audio"].includes(r.nodeName.toLowerCase())) {
                const e = document.createElement("div");
                e.appendChild(r),
                r = e
            }
            w(r) && e.filter && !e.error && (r = r.querySelector(e.filter)),
            r && w(r) ? (k(r, "fancybox__content"),
            e.id && r.setAttribute("id", e.id),
            "none" !== r.style.display && "none" !== getComputedStyle(r).getPropertyValue("display") || (r.style.display = e.display || this.option("defaultDisplay") || "flex"),
            n.classList.add(`has-${e.error ? "error" : e.type || "unknown"}`),
            n.prepend(r),
            e.contentEl = r,
            i && this.revealContent(e),
            this.manageCloseBtn(e),
            this.manageCaption(e)) : this.setError(e, "{{ELEMENT_NOT_FOUND}}")
        }
        revealContent(e, t) {
            const i = e.el
              , n = e.contentEl;
            i && n && (this.emit("reveal", e),
            this.hideLoading(e),
            e.state = ee.Opening,
            (t = this.isOpeningSlide(e) ? void 0 === t ? this.optionFor(e, "showClass") : t : "f-fadeIn") ? this.animate(n, t, ( () => {
                this.done(e)
            }
            )) : this.done(e))
        }
        done(e) {
            this.isClosing() || (e.state = ee.Ready,
            this.emit("done", e),
            k(e.el, "is-done"),
            this.isCurrentSlide(e) && this.option("autoFocus") && queueMicrotask(( () => {
                this.option("autoFocus") && (this.option("autoFocus") ? this.focus() : this.checkFocus())
            }
            )),
            this.isOpeningSlide(e) && !this.isCompact && this.option("idle") && this.setIdle())
        }
        isCurrentSlide(e) {
            const t = this.getSlide();
            return !(!e || !t) && t.index === e.index
        }
        isOpeningSlide(e) {
            var t, i;
            return null === (null === (t = this.carousel) || void 0 === t ? void 0 : t.prevPage) && e.index === (null === (i = this.getSlide()) || void 0 === i ? void 0 : i.index)
        }
        showLoading(e) {
            e.state = ee.Loading;
            const t = e.el;
            t && (k(t, Oe),
            this.emit("loading", e),
            e.spinnerEl || setTimeout(( () => {
                if (!this.isClosing() && !e.spinnerEl && e.state === ee.Loading) {
                    let i = s(T);
                    e.spinnerEl = i,
                    t.prepend(i),
                    this.animate(i, "f-fadeIn")
                }
            }
            ), 250))
        }
        hideLoading(e) {
            const t = e.el;
            if (!t)
                return;
            const i = e.spinnerEl;
            this.isClosing() ? null == i || i.remove() : (S(t, Oe),
            i && this.animate(i, "f-fadeOut", ( () => {
                i.remove()
            }
            )),
            e.state === ee.Loading && (this.emit("loaded", e),
            e.state = ee.Ready))
        }
        setError(e, t) {
            if (this.isClosing())
                return;
            const i = new Event("error",{
                bubbles: !0,
                cancelable: !0
            });
            if (this.emit("error", i, e),
            i.defaultPrevented)
                return;
            e.error = t,
            this.hideLoading(e),
            this.clearContent(e);
            const n = document.createElement("div");
            n.classList.add("fancybox-error"),
            n.innerHTML = this.localize(t || "<p>{{ERROR}}</p>"),
            this.setContent(e, n)
        }
        clearContent(e) {
            var t;
            null === (t = this.carousel) || void 0 === t || t.emit("removeSlide", e)
        }
        getSlide() {
            var e;
            const t = this.carousel;
            return (null === (e = null == t ? void 0 : t.pages[null == t ? void 0 : t.page]) || void 0 === e ? void 0 : e.slides[0]) || void 0
        }
        close(e, t) {
            if (this.isClosing())
                return;
            const i = new Event("shouldClose",{
                bubbles: !0,
                cancelable: !0
            });
            if (this.emit("shouldClose", i, e),
            i.defaultPrevented)
                return;
            e && e.cancelable && (e.preventDefault(),
            e.stopPropagation());
            const n = this.fsAPI
              , s = () => {
                this.proceedClose(e, t)
            }
            ;
            n && n.isFullscreen() ? Promise.resolve(n.exit()).then(( () => s())) : s()
        }
        clearIdle() {
            this.idleTimer && clearTimeout(this.idleTimer),
            this.idleTimer = null
        }
        setIdle(e=!1) {
            const t = () => {
                this.clearIdle(),
                this.idle = !0,
                k(this.container, "is-idle"),
                this.emit("setIdle")
            }
            ;
            if (this.clearIdle(),
            !this.isClosing())
                if (e)
                    t();
                else {
                    const e = this.option("idle");
                    e && (this.idleTimer = setTimeout(t, e))
                }
        }
        endIdle() {
            this.clearIdle(),
            this.idle && !this.isClosing() && (this.idle = !1,
            S(this.container, "is-idle"),
            this.emit("endIdle"))
        }
        resetIdle() {
            this.endIdle(),
            this.setIdle()
        }
        toggleIdle() {
            this.idle ? this.endIdle() : this.setIdle(!0)
        }
        toggleFullscreen() {
            const e = this.fsAPI;
            e && (e.isFullscreen() ? e.exit() : this.container && e.request(this.container))
        }
        isClosing() {
            return [J.Closing, J.CustomClosing, J.Destroy].includes(this.state)
        }
        proceedClose(e, t) {
            var i, n;
            this.state = J.Closing,
            this.clearIdle(),
            this.detachEvents();
            const s = this.container
              , r = this.carousel
              , a = this.getSlide()
              , o = a && this.option("placeFocusBack") ? a.triggerEl || this.option("triggerEl") : null;
            if (o && (G(o) ? Q(o) : o.focus()),
            s && (k(s, "is-closing"),
            s.setAttribute("aria-hidden", "true"),
            this.option("animated") && k(s, Ae),
            s.style.pointerEvents = "none"),
            r) {
                r.clearTransitions(),
                null === (i = r.panzoom) || void 0 === i || i.destroy(),
                null === (n = r.plugins.Navigation) || void 0 === n || n.detach();
                for (const e of r.slides) {
                    e.state = ee.Closing,
                    this.hideLoading(e);
                    const t = e.contentEl;
                    t && this.stop(t);
                    const i = null == e ? void 0 : e.panzoom;
                    i && (i.stop(),
                    i.detachEvents(),
                    i.detachObserver()),
                    this.isCurrentSlide(e) || r.emit("removeSlide", e)
                }
            }
            this.emit("close", e),
            this.state !== J.CustomClosing ? (void 0 === t && a && (t = this.optionFor(a, "hideClass")),
            t && a ? (this.animate(a.contentEl, t, ( () => {
                r && r.emit("removeSlide", a)
            }
            )),
            setTimeout(( () => {
                this.destroy()
            }
            ), 500)) : this.destroy()) : setTimeout(( () => {
                this.destroy()
            }
            ), 500)
        }
        destroy() {
            var e;
            if (this.state === J.Destroy)
                return;
            this.state = J.Destroy,
            null === (e = this.carousel) || void 0 === e || e.destroy();
            const t = this.container;
            t && t.remove(),
            Re.delete(this.id);
            const i = Be.getInstance();
            i ? i.focus() : (Me && (Me.remove(),
            Me = null),
            De && (De.remove(),
            De = null),
            S(document.documentElement, xe),
            ( () => {
                if (!X)
                    return;
                const e = document
                  , t = e.body;
                t.classList.remove(Ce),
                t.style.setProperty(Pe, ""),
                e.documentElement.style.setProperty(Ee, "")
            }
            )(),
            this.emit("destroy"))
        }
        static bind(e, t, i) {
            if (!X)
                return;
            let n, s = "", r = {};
            if (void 0 === e ? n = document.body : "string" == typeof e ? (n = document.body,
            s = e,
            "object" == typeof t && (r = t || {})) : (n = e,
            "string" == typeof t && (s = t),
            "object" == typeof i && (r = i || {})),
            !n || !w(n))
                return;
            s = s || "[data-fancybox]";
            const a = Be.openers.get(n) || new Map;
            a.set(s, r),
            Be.openers.set(n, a),
            1 === a.size && n.addEventListener("click", Be.fromEvent)
        }
        static unbind(e, t) {
            let i, n = "";
            if ("string" == typeof e ? (i = document.body,
            n = e) : (i = e,
            "string" == typeof t && (n = t)),
            !i)
                return;
            const s = Be.openers.get(i);
            s && n && s.delete(n),
            n && s || (Be.openers.delete(i),
            i.removeEventListener("click", Be.fromEvent))
        }
        static destroy() {
            let e;
            for (; e = Be.getInstance(); )
                e.destroy();
            for (const e of Be.openers.keys())
                e.removeEventListener("click", Be.fromEvent);
            Be.openers = new Map
        }
        static fromEvent(e) {
            if (e.defaultPrevented)
                return;
            if (e.button && 0 !== e.button)
                return;
            if (e.ctrlKey || e.metaKey || e.shiftKey)
                return;
            let t = e.composedPath()[0];
            const i = t.closest("[data-fancybox-trigger]");
            if (i) {
                const e = i.dataset.fancyboxTrigger || ""
                  , n = document.querySelectorAll(`[data-fancybox="${e}"]`)
                  , s = parseInt(i.dataset.fancyboxIndex || "", 10) || 0;
                t = n[s] || t
            }
            if (!(t && t instanceof Element))
                return;
            let n, s, r, a;
            if ([...Be.openers].reverse().find(( ([e,i]) => !(!e.contains(t) || ![...i].reverse().find(( ([i,o]) => {
                let l = t.closest(i);
                return !!l && (n = e,
                s = i,
                r = l,
                a = o,
                !0)
            }
            ))))),
            !n || !s || !r)
                return;
            a = a || {},
            e.preventDefault(),
            t = r;
            let o = []
              , l = p({}, Z, a);
            l.event = e,
            l.triggerEl = t,
            l.delegate = i;
            const d = l.groupAll
              , c = l.groupAttr
              , u = c && t ? t.getAttribute(`${c}`) : "";
            if ((!t || u || d) && (o = [].slice.call(n.querySelectorAll(s))),
            t && !d && (o = u ? o.filter((e => e.getAttribute(`${c}`) === u)) : [t]),
            !o.length)
                return;
            const h = Be.getInstance();
            return h && h.options.triggerEl && o.indexOf(h.options.triggerEl) > -1 ? void 0 : (t && (l.startIndex = o.indexOf(t)),
            Be.fromNodes(o, l))
        }
        static fromSelector(e, t) {
            let i = null
              , n = "";
            if ("string" == typeof e ? (i = document.body,
            n = e) : e instanceof HTMLElement && "string" == typeof t && (i = e,
            n = t),
            !i || !n)
                return !1;
            const s = Be.openers.get(i);
            if (!s)
                return !1;
            const r = s.get(n);
            return !!r && Be.fromNodes(Array.from(i.querySelectorAll(n)), r)
        }
        static fromNodes(e, t) {
            t = p({}, Z, t || {});
            const i = [];
            for (const n of e) {
                const e = n.dataset || {}
                  , s = e.src || n.getAttribute("href") || n.getAttribute("currentSrc") || n.getAttribute("src") || void 0;
                let r;
                const a = t.delegate;
                let o;
                a && i.length === t.startIndex && (r = a instanceof HTMLImageElement ? a : a.querySelector("img:not([aria-hidden])")),
                r || (r = n instanceof HTMLImageElement ? n : n.querySelector("img:not([aria-hidden])")),
                r && (o = r.currentSrc || r.src || void 0,
                !o && r.dataset && (o = r.dataset.lazySrc || r.dataset.src || void 0));
                const l = {
                    src: s,
                    triggerEl: n,
                    thumbEl: r,
                    thumbElSrc: o,
                    thumbSrc: o
                };
                for (const t in e)
                    l[t] = e[t] + "";
                i.push(l)
            }
            return new Be(i,t)
        }
        static getInstance(e) {
            return e ? Re.get(e) : Array.from(Re.values()).reverse().find((e => !e.isClosing() && e)) || null
        }
        static getSlide() {
            var e;
            return (null === (e = Be.getInstance()) || void 0 === e ? void 0 : e.getSlide()) || null
        }
        static show(e=[], t={}) {
            return new Be(e,t)
        }
        static next() {
            const e = Be.getInstance();
            e && e.next()
        }
        static prev() {
            const e = Be.getInstance();
            e && e.prev()
        }
        static close(e=!0, ...t) {
            if (e)
                for (const e of Re.values())
                    e.close(...t);
            else {
                const e = Be.getInstance();
                e && e.close(...t)
            }
        }
    }
    Object.defineProperty(Be, "version", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: "5.0.22"
    }),
    Object.defineProperty(Be, "defaults", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: Z
    }),
    Object.defineProperty(Be, "Plugins", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: ke
    }),
    Object.defineProperty(Be, "openers", {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: new Map
    }),
    e.Carousel = V,
    e.Fancybox = Be,
    e.Panzoom = L
}
)),
function(e, t) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : (e = "undefined" != typeof globalThis ? globalThis : e || self).videojs = t()
}(this, (function() {
    "use strict";
    var e = "8.0.4";
    const t = {}
      , i = function(e, i) {
        return t[e] = t[e] || [],
        i && (t[e] = t[e].concat(i)),
        t[e]
    };
    function n(e, n) {
        return !((n = i(e).indexOf(n)) <= -1 || (t[e] = t[e].slice(),
        t[e].splice(n, 1),
        0))
    }
    const s = {
        prefixed: !0
    };
    var r = [["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror", "fullscreen"], ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror", "-webkit-full-screen"], ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror", "-moz-full-screen"], ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError", "-ms-fullscreen"]]
      , a = r[0];
    let o;
    for (let e = 0; e < r.length; e++)
        if (r[e][1]in document) {
            o = r[e];
            break
        }
    if (o) {
        for (let e = 0; e < o.length; e++)
            s[a[e]] = o[e];
        s.prefixed = o[0] !== a[0]
    }
    let l = [];
    function d(e) {
        return m(e) ? Object.keys(e) : []
    }
    const c = function e(t) {
        let i, n = "info";
        function s(...e) {
            i("log", n, e)
        }
        var r, a;
        return r = t,
        i = (e, t, i) => {
            t = a.levels[t];
            var n, s = new RegExp(`^(${t})$`);
            if ("log" !== e && i.unshift(e.toUpperCase() + ":"),
            i.unshift(r + ":"),
            l && (l.push([].concat(i)),
            n = l.length - 1e3,
            l.splice(0, 0 < n ? n : 0)),
            window.console) {
                let n = window.console[e];
                (n = n || "debug" !== e ? n : window.console.info || window.console.log) && t && s.test(e) && n[Array.isArray(i) ? "apply" : "call"](window.console, i)
            }
        }
        ,
        (a = s).createLogger = i => e(t + ": " + i),
        s.levels = {
            all: "debug|log|warn|error",
            off: "",
            debug: "debug|log|warn|error",
            info: "log|warn|error",
            warn: "warn|error",
            error: "error",
            DEFAULT: n
        },
        s.level = e => {
            if ("string" == typeof e) {
                if (!s.levels.hasOwnProperty(e))
                    throw new Error(`"${e}" in not a valid log level`);
                n = e
            }
            return n
        }
        ,
        s.history = () => l ? [].concat(l) : [],
        s.history.filter = e => (l || []).filter((t => new RegExp(`.*${e}.*`).test(t[0]))),
        s.history.clear = () => {
            l && (l.length = 0)
        }
        ,
        s.history.disable = () => {
            null !== l && (l.length = 0,
            l = null)
        }
        ,
        s.history.enable = () => {
            null === l && (l = [])
        }
        ,
        s.error = (...e) => i("error", n, e),
        s.warn = (...e) => i("warn", n, e),
        s.debug = (...e) => i("debug", n, e),
        s
    }("VIDEOJS")
      , u = c.createLogger
      , h = Object.prototype.toString;
    function p(e, t) {
        d(e).forEach((i => t(e[i], i)))
    }
    function f(e, t, i=0) {
        return d(e).reduce(( (i, n) => t(i, e[n], n)), i)
    }
    function m(e) {
        return !!e && "object" == typeof e
    }
    function g(e) {
        return m(e) && "[object Object]" === h.call(e) && e.constructor === Object
    }
    function v(...e) {
        const t = {};
        return e.forEach((e => {
            e && p(e, ( (e, i) => {
                g(e) ? (g(t[i]) || (t[i] = {}),
                t[i] = v(t[i], e)) : t[i] = e
            }
            ))
        }
        )),
        t
    }
    function y(e, t, i, n=!0) {
        const s = i => Object.defineProperty(e, t, {
            value: i,
            enumerable: !0,
            writable: !0
        });
        var r = {
            configurable: !0,
            enumerable: !0,
            get() {
                var e = i();
                return s(e),
                e
            }
        };
        return n && (r.set = s),
        Object.defineProperty(e, t, r)
    }
    var b = Object.freeze({
        __proto__: null,
        each: p,
        reduce: f,
        isObject: m,
        isPlain: g,
        merge: v,
        defineLazyProperty: y
    });
    let _, T = !1, w = null, S = !1, k = !1, x = !1, C = !1, E = !1, P = null, A = null, I = null, O = !1, L = !1, M = !1, D = !1;
    const R = Boolean($() && ("ontouchstart"in window || window.navigator.maxTouchPoints || window.DocumentTouch && window.document instanceof window.DocumentTouch));
    var N, B = window.navigator && window.navigator.userAgentData;
    if (B && (S = "Android" === B.platform,
    x = Boolean(B.brands.find((e => "Microsoft Edge" === e.brand))),
    C = Boolean(B.brands.find((e => "Chromium" === e.brand))),
    E = !x && C,
    P = A = (B.brands.find((e => "Chromium" === e.brand)) || {}).version || null,
    L = "Windows" === B.platform),
    !C) {
        const e = window.navigator && window.navigator.userAgent || "";
        T = /iPod/i.test(e),
        w = (B = e.match(/OS (\d+)_/i)) && B[1] ? B[1] : null,
        S = /Android/i.test(e),
        _ = (B = e.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i)) ? ($e = B[1] && parseFloat(B[1]),
        N = B[2] && parseFloat(B[2]),
        $e && N ? parseFloat(B[1] + "." + B[2]) : $e || null) : null,
        k = /Firefox/i.test(e),
        x = /Edg/i.test(e),
        C = /Chrome/i.test(e) || /CriOS/i.test(e),
        E = !x && C,
        P = A = (N = e.match(/(Chrome|CriOS)\/(\d+)/)) && N[2] ? parseFloat(N[2]) : null,
        I = function() {
            var t = /MSIE\s(\d+)\.\d/.exec(e);
            let i = t && parseFloat(t[1]);
            return !i && /Trident\/7.0/i.test(e) && /rv:11.0/.test(e) ? 11 : i
        }(),
        O = /Safari/i.test(e) && !E && !S && !x,
        L = /Windows/i.test(e),
        M = /iPad/i.test(e) || O && R && !/iPhone/i.test(e),
        D = /iPhone/i.test(e) && !M
    }
    const j = D || M || T
      , F = (O || j) && !E;
    function U(e) {
        return "string" == typeof e && Boolean(e.trim())
    }
    function $() {
        return document === window.document
    }
    function H(e) {
        return m(e) && 1 === e.nodeType
    }
    function z() {
        try {
            return window.parent !== window.self
        } catch (e) {
            return !0
        }
    }
    function q(e) {
        return function(t, i) {
            return U(t) ? (i = H(i = U(i) ? document.querySelector(i) : i) ? i : document)[e] && i[e](t) : document[e](null)
        }
    }
    function W(e="div", t={}, i={}, n) {
        const s = document.createElement(e);
        return Object.getOwnPropertyNames(t).forEach((function(e) {
            var i = t[e];
            "textContent" === e ? V(s, i) : s[e] === i && "tabIndex" !== e || (s[e] = i)
        }
        )),
        Object.getOwnPropertyNames(i).forEach((function(e) {
            s.setAttribute(e, i[e])
        }
        )),
        n && ue(s, n),
        s
    }
    function V(e, t) {
        return void 0 === e.textContent ? e.innerText = t : e.textContent = t,
        e
    }
    function G(e, t) {
        t.firstChild ? t.insertBefore(e, t.firstChild) : t.appendChild(e)
    }
    function X(e, t) {
        if (0 <= t.indexOf(" "))
            throw new Error("class has illegal whitespace characters");
        return e.classList.contains(t)
    }
    function Y(e, ...t) {
        return e.classList.add(...t.reduce(( (e, t) => e.concat(t.split(/\s+/))), [])),
        e
    }
    function K(e, ...t) {
        return e ? (e.classList.remove(...t.reduce(( (e, t) => e.concat(t.split(/\s+/))), [])),
        e) : (c.warn("removeClass was called with an element that doesn't exist"),
        null)
    }
    function Q(e, t, i) {
        return "boolean" != typeof (i = "function" == typeof i ? i(e, t) : i) && (i = void 0),
        t.split(/\s+/).forEach((t => e.classList.toggle(t, i))),
        e
    }
    function Z(e, t) {
        Object.getOwnPropertyNames(t).forEach((function(i) {
            var n = t[i];
            null == n || !1 === n ? e.removeAttribute(i) : e.setAttribute(i, !0 === n ? "" : n)
        }
        ))
    }
    function J(e) {
        var t = {};
        if (e && e.attributes && 0 < e.attributes.length) {
            var i = e.attributes;
            for (let s = i.length - 1; 0 <= s; s--) {
                var n = i[s].name;
                let r = i[s].value;
                "boolean" != typeof e[n] && -1 === ",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf("," + n + ",") || (r = null !== r),
                t[n] = r
            }
        }
        return t
    }
    function ee(e, t) {
        return e.getAttribute(t)
    }
    function te(e, t, i) {
        e.setAttribute(t, i)
    }
    function ie(e, t) {
        e.removeAttribute(t)
    }
    function ne() {
        document.body.focus(),
        document.onselectstart = function() {
            return !1
        }
    }
    function se() {
        document.onselectstart = function() {
            return !0
        }
    }
    function re(e) {
        if (e && e.getBoundingClientRect && e.parentNode) {
            const t = e.getBoundingClientRect()
              , i = {};
            return ["bottom", "height", "left", "right", "top", "width"].forEach((e => {
                void 0 !== t[e] && (i[e] = t[e])
            }
            )),
            i.height || (i.height = parseFloat(ge(e, "height"))),
            i.width || (i.width = parseFloat(ge(e, "width"))),
            i
        }
    }
    function ae(e) {
        if (!e || !e.offsetParent)
            return {
                left: 0,
                top: 0,
                width: 0,
                height: 0
            };
        var t = e.offsetWidth
          , i = e.offsetHeight;
        let n = 0
          , r = 0;
        for (; e.offsetParent && e !== document[s.fullscreenElement]; )
            n += e.offsetLeft,
            r += e.offsetTop,
            e = e.offsetParent;
        return {
            left: n,
            top: r,
            width: t,
            height: i
        }
    }
    function oe(e, t) {
        var i = {
            x: 0,
            y: 0
        };
        if (j) {
            let t = e;
            for (; t && "html" !== t.nodeName.toLowerCase(); ) {
                var n, s = ge(t, "transform");
                /^matrix/.test(s) ? (n = s.slice(7, -1).split(/,\s/).map(Number),
                i.x += n[4],
                i.y += n[5]) : /^matrix3d/.test(s) && (n = s.slice(9, -1).split(/,\s/).map(Number),
                i.x += n[12],
                i.y += n[13]),
                t = t.parentNode
            }
        }
        var r = {}
          , a = ae(t.target)
          , o = (e = ae(e)).width
          , l = e.height;
        let d = t.offsetY - (e.top - a.top)
          , c = t.offsetX - (e.left - a.left);
        return t.changedTouches && (c = t.changedTouches[0].pageX - e.left,
        d = t.changedTouches[0].pageY + e.top,
        j) && (c -= i.x,
        d -= i.y),
        r.y = 1 - Math.max(0, Math.min(1, d / l)),
        r.x = Math.max(0, Math.min(1, c / o)),
        r
    }
    function le(e) {
        return m(e) && 3 === e.nodeType
    }
    function de(e) {
        for (; e.firstChild; )
            e.removeChild(e.firstChild);
        return e
    }
    function ce(e) {
        return "function" == typeof e && (e = e()),
        (Array.isArray(e) ? e : [e]).map((e => H(e = "function" == typeof e ? e() : e) || le(e) ? e : "string" == typeof e && /\S/.test(e) ? document.createTextNode(e) : void 0)).filter((e => e))
    }
    function ue(e, t) {
        return ce(t).forEach((t => e.appendChild(t))),
        e
    }
    function he(e, t) {
        return ue(de(e), t)
    }
    function pe(e) {
        return void 0 === e.button && void 0 === e.buttons || 0 === e.button && void 0 === e.buttons || "mouseup" === e.type && 0 === e.button && 0 === e.buttons || 0 === e.button && 1 === e.buttons
    }
    B = Object.freeze({
        __proto__: null,
        get IS_IPOD() {
            return T
        },
        get IOS_VERSION() {
            return w
        },
        get IS_ANDROID() {
            return S
        },
        get ANDROID_VERSION() {
            return _
        },
        get IS_FIREFOX() {
            return k
        },
        get IS_EDGE() {
            return x
        },
        get IS_CHROMIUM() {
            return C
        },
        get IS_CHROME() {
            return E
        },
        get CHROMIUM_VERSION() {
            return P
        },
        get CHROME_VERSION() {
            return A
        },
        get IE_VERSION() {
            return I
        },
        get IS_SAFARI() {
            return O
        },
        get IS_WINDOWS() {
            return L
        },
        get IS_IPAD() {
            return M
        },
        get IS_IPHONE() {
            return D
        },
        TOUCH_ENABLED: R,
        IS_IOS: j,
        IS_ANY_SAFARI: F
    });
    const fe = q("querySelector")
      , me = q("querySelectorAll");
    function ge(e, t) {
        if (!e || !t)
            return "";
        if ("function" != typeof window.getComputedStyle)
            return "";
        {
            let i;
            try {
                i = window.getComputedStyle(e)
            } catch (e) {
                return ""
            }
            return i ? i.getPropertyValue(t) || i[t] : ""
        }
    }
    var ve = Object.freeze({
        __proto__: null,
        isReal: $,
        isEl: H,
        isInFrame: z,
        createEl: W,
        textContent: V,
        prependTo: G,
        hasClass: X,
        addClass: Y,
        removeClass: K,
        toggleClass: Q,
        setAttributes: Z,
        getAttributes: J,
        getAttribute: ee,
        setAttribute: te,
        removeAttribute: ie,
        blockTextSelection: ne,
        unblockTextSelection: se,
        getBoundingClientRect: re,
        findPosition: ae,
        getPointerPosition: oe,
        isTextNode: le,
        emptyEl: de,
        normalizeContent: ce,
        appendContent: ue,
        insertContent: he,
        isSingleLeftClick: pe,
        $: fe,
        $$: me,
        computedStyle: ge
    });
    let ye, be = !1;
    function _e() {
        if (!1 !== ye.options.autoSetup) {
            var e = Array.prototype.slice.call(document.getElementsByTagName("video"))
              , t = Array.prototype.slice.call(document.getElementsByTagName("audio"))
              , i = Array.prototype.slice.call(document.getElementsByTagName("video-js"))
              , n = e.concat(t, i);
            if (n && 0 < n.length)
                for (let e = 0, t = n.length; e < t; e++) {
                    var s = n[e];
                    if (!s || !s.getAttribute) {
                        Te(1);
                        break
                    }
                    void 0 === s.player && null !== s.getAttribute("data-setup") && ye(s)
                }
            else
                be || Te(1)
        }
    }
    function Te(e, t) {
        $() && (t && (ye = t),
        window.setTimeout(_e, e))
    }
    function we() {
        be = !0,
        window.removeEventListener("load", we)
    }
    function Se(e) {
        var t = document.createElement("style");
        return t.className = e,
        t
    }
    function ke(e, t) {
        e.styleSheet ? e.styleSheet.cssText = t : e.textContent = t
    }
    $() && ("complete" === document.readyState ? we() : window.addEventListener("load", we));
    var xe = new WeakMap;
    let Ce, Ee = 3;
    function Pe(e, t) {
        var i;
        xe.has(e) && (0 === (i = xe.get(e)).handlers[t].length && (delete i.handlers[t],
        e.removeEventListener ? e.removeEventListener(t, i.dispatcher, !1) : e.detachEvent && e.detachEvent("on" + t, i.dispatcher)),
        Object.getOwnPropertyNames(i.handlers).length <= 0 && (delete i.handlers,
        delete i.dispatcher,
        delete i.disabled),
        0 === Object.getOwnPropertyNames(i).length) && xe.delete(e)
    }
    function Ae(e, t, i, n) {
        i.forEach((function(i) {
            e(t, i, n)
        }
        ))
    }
    function Ie(e) {
        if (!e.fixed_) {
            if (!e || !e.isPropagationStopped || !e.isImmediatePropagationStopped) {
                const r = e || window.event;
                e = {};
                for (const t in r)
                    "layerX" === t || "layerY" === t || "keyLocation" === t || "webkitMovementX" === t || "webkitMovementY" === t || "path" === t || "returnValue" === t && r.preventDefault || (e[t] = r[t]);
                var t, i;
                e.target || (e.target = e.srcElement || document),
                e.relatedTarget || (e.relatedTarget = e.fromElement === e.target ? e.toElement : e.fromElement),
                e.preventDefault = function() {
                    r.preventDefault && r.preventDefault(),
                    e.returnValue = !1,
                    r.returnValue = !1,
                    e.defaultPrevented = !0
                }
                ,
                e.defaultPrevented = !1,
                e.stopPropagation = function() {
                    r.stopPropagation && r.stopPropagation(),
                    e.cancelBubble = !0,
                    r.cancelBubble = !0,
                    e.isPropagationStopped = n
                }
                ,
                e.isPropagationStopped = s,
                e.stopImmediatePropagation = function() {
                    r.stopImmediatePropagation && r.stopImmediatePropagation(),
                    e.isImmediatePropagationStopped = n,
                    e.stopPropagation()
                }
                ,
                e.isImmediatePropagationStopped = s,
                null !== e.clientX && void 0 !== e.clientX && (t = document.documentElement,
                i = document.body,
                e.pageX = e.clientX + (t && t.scrollLeft || i && i.scrollLeft || 0) - (t && t.clientLeft || i && i.clientLeft || 0),
                e.pageY = e.clientY + (t && t.scrollTop || i && i.scrollTop || 0) - (t && t.clientTop || i && i.clientTop || 0)),
                e.which = e.charCode || e.keyCode,
                null !== e.button && void 0 !== e.button && (e.button = 1 & e.button ? 0 : 4 & e.button ? 1 : 2 & e.button ? 2 : 0)
            }
            e.fixed_ = !0
        }
        return e;
        function n() {
            return !0
        }
        function s() {
            return !1
        }
    }
    const Oe = ["touchstart", "touchmove"];
    function Le(e, t, i) {
        if (Array.isArray(t))
            return Ae(Le, e, t, i);
        xe.has(e) || xe.set(e, {});
        const n = xe.get(e);
        if (n.handlers || (n.handlers = {}),
        n.handlers[t] || (n.handlers[t] = []),
        i.guid || (i.guid = Ee++),
        n.handlers[t].push(i),
        n.dispatcher || (n.disabled = !1,
        n.dispatcher = function(t, i) {
            if (!n.disabled) {
                t = Ie(t);
                var s = n.handlers[t.type];
                if (s) {
                    var r = s.slice(0);
                    for (let n = 0, a = r.length; n < a && !t.isImmediatePropagationStopped(); n++)
                        try {
                            r[n].call(e, t, i)
                        } catch (s) {
                            c.error(s)
                        }
                }
            }
        }
        ),
        1 === n.handlers[t].length)
            if (e.addEventListener) {
                let i = !1;
                (function() {
                    if ("boolean" != typeof Ce) {
                        Ce = !1;
                        try {
                            var e = Object.defineProperty({}, "passive", {
                                get() {
                                    Ce = !0
                                }
                            });
                            window.addEventListener("test", null, e),
                            window.removeEventListener("test", null, e)
                        } catch (e) {}
                    }
                    return Ce
                }
                )() && -1 < Oe.indexOf(t) && (i = {
                    passive: !0
                }),
                e.addEventListener(t, n.dispatcher, i)
            } else
                e.attachEvent && e.attachEvent("on" + t, n.dispatcher)
    }
    function Me(e, t, i) {
        if (xe.has(e)) {
            const r = xe.get(e);
            if (r.handlers) {
                if (Array.isArray(t))
                    return Ae(Me, e, t, i);
                var n = function(e, t) {
                    r.handlers[t] = [],
                    Pe(e, t)
                };
                if (void 0 === t)
                    for (const t in r.handlers)
                        Object.prototype.hasOwnProperty.call(r.handlers || {}, t) && n(e, t);
                else {
                    var s = r.handlers[t];
                    if (s)
                        if (i) {
                            if (i.guid)
                                for (let e = 0; e < s.length; e++)
                                    s[e].guid === i.guid && s.splice(e--, 1);
                            Pe(e, t)
                        } else
                            n(e, t)
                }
            }
        }
    }
    function De(e, t, i) {
        var n = xe.has(e) ? xe.get(e) : {}
          , s = e.parentNode || e.ownerDocument;
        return "string" == typeof t ? t = {
            type: t,
            target: e
        } : t.target || (t.target = e),
        t = Ie(t),
        n.dispatcher && n.dispatcher.call(e, t, i),
        s && !t.isPropagationStopped() && !0 === t.bubbles ? De.call(null, s, t, i) : !s && !t.defaultPrevented && t.target && t.target[t.type] && (xe.has(t.target) || xe.set(t.target, {}),
        n = xe.get(t.target),
        t.target[t.type]) && (n.disabled = !0,
        "function" == typeof t.target[t.type] && t.target[t.type](),
        n.disabled = !1),
        !t.defaultPrevented
    }
    function Re(e, t, i) {
        if (Array.isArray(t))
            return Ae(Re, e, t, i);
        function n() {
            Me(e, t, n),
            i.apply(this, arguments)
        }
        n.guid = i.guid = i.guid || Ee++,
        Le(e, t, n)
    }
    function Ne(e, t, i) {
        function n() {
            Me(e, t, n),
            i.apply(this, arguments)
        }
        n.guid = i.guid = i.guid || Ee++,
        Le(e, t, n)
    }
    var Be = Object.freeze({
        __proto__: null,
        fixEvent: Ie,
        on: Le,
        off: Me,
        trigger: De,
        one: Re,
        any: Ne
    });
    function je(e, t, i) {
        return t.guid || (t.guid = Ee++),
        (e = t.bind(e)).guid = i ? i + "_" + t.guid : t.guid,
        e
    }
    function Fe(e, t) {
        let i = window.performance.now();
        return function(...n) {
            var s = window.performance.now();
            s - i >= t && (e(...n),
            i = s)
        }
    }
    function Ue(e, t, i, n=window) {
        let s;
        function r() {
            const r = this
              , a = arguments;
            let o = function() {
                s = null,
                o = null,
                i || e.apply(r, a)
            };
            !s && i && e.apply(r, a),
            n.clearTimeout(s),
            s = n.setTimeout(o, t)
        }
        return r.cancel = () => {
            n.clearTimeout(s),
            s = null
        }
        ,
        r
    }
    var $e = Object.freeze({
        __proto__: null,
        UPDATE_REFRESH_INTERVAL: 30,
        bind_: je,
        throttle: Fe,
        debounce: Ue
    });
    let He;
    class ze {
        on(e, t) {
            var i = this.addEventListener;
            this.addEventListener = () => {}
            ,
            Le(this, e, t),
            this.addEventListener = i
        }
        off(e, t) {
            Me(this, e, t)
        }
        one(e, t) {
            var i = this.addEventListener;
            this.addEventListener = () => {}
            ,
            Re(this, e, t),
            this.addEventListener = i
        }
        any(e, t) {
            var i = this.addEventListener;
            this.addEventListener = () => {}
            ,
            Ne(this, e, t),
            this.addEventListener = i
        }
        trigger(e) {
            var t = e.type || e;
            e = Ie(e = "string" == typeof e ? {
                type: t
            } : e),
            this.allowedEvents_[t] && this["on" + t] && this["on" + t](e),
            De(this, e)
        }
        queueTrigger(e) {
            He = He || new Map;
            const t = e.type || e;
            let i = He.get(this);
            i || (i = new Map,
            He.set(this, i));
            var n = i.get(t);
            i.delete(t),
            window.clearTimeout(n),
            n = window.setTimeout(( () => {
                i.delete(t),
                0 === i.size && (i = null,
                He.delete(this)),
                this.trigger(e)
            }
            ), 0);
            i.set(t, n)
        }
    }
    ze.prototype.allowedEvents_ = {},
    ze.prototype.addEventListener = ze.prototype.on,
    ze.prototype.removeEventListener = ze.prototype.off,
    ze.prototype.dispatchEvent = ze.prototype.trigger;
    const qe = e => "function" == typeof e.name ? e.name() : "string" == typeof e.name ? e.name : e.name_ || (e.constructor && e.constructor.name ? e.constructor.name : typeof e)
      , We = e => e instanceof ze || !!e.eventBusEl_ && ["on", "one", "off", "trigger"].every((t => "function" == typeof e[t]))
      , Ve = e => "string" == typeof e && /\S/.test(e) || Array.isArray(e) && !!e.length
      , Ge = (e, t, i) => {
        if (!e || !e.nodeName && !We(e))
            throw new Error(`Invalid target for ${qe(t)}#${i}; must be a DOM node or evented object.`)
    }
      , Xe = (e, t, i) => {
        if (!Ve(e))
            throw new Error(`Invalid event type for ${qe(t)}#${i}; must be a non-empty string or array.`)
    }
      , Ye = (e, t, i) => {
        if ("function" != typeof e)
            throw new Error(`Invalid listener for ${qe(t)}#${i}; must be a function.`)
    }
      , Ke = (e, t, i) => {
        var n = t.length < 3 || t[0] === e || t[0] === e.eventBusEl_;
        let s, r, a;
        return n ? (s = e.eventBusEl_,
        3 <= t.length && t.shift(),
        [r,a] = t) : [s,r,a] = t,
        Ge(s, e, i),
        Xe(r, e, i),
        Ye(a, e, i),
        a = je(e, a),
        {
            isTargetingSelf: n,
            target: s,
            type: r,
            listener: a
        }
    }
      , Qe = (e, t, i, n) => {
        Ge(e, e, t),
        e.nodeName ? Be[t](e, i, n) : e[t](i, n)
    }
      , Ze = {
        on(...e) {
            const {isTargetingSelf: t, target: i, type: n, listener: s} = Ke(this, e, "on");
            if (Qe(i, "on", n, s),
            !t) {
                const t = () => this.off(i, n, s);
                t.guid = s.guid,
                (e = () => this.off("dispose", t)).guid = s.guid,
                Qe(this, "on", "dispose", t),
                Qe(i, "on", "dispose", e)
            }
        },
        one(...e) {
            const {isTargetingSelf: t, target: i, type: n, listener: s} = Ke(this, e, "one");
            if (t)
                Qe(i, "one", n, s);
            else {
                const e = (...t) => {
                    this.off(i, n, e),
                    s.apply(null, t)
                }
                ;
                e.guid = s.guid,
                Qe(i, "one", n, e)
            }
        },
        any(...e) {
            const {isTargetingSelf: t, target: i, type: n, listener: s} = Ke(this, e, "any");
            if (t)
                Qe(i, "any", n, s);
            else {
                const e = (...t) => {
                    this.off(i, n, e),
                    s.apply(null, t)
                }
                ;
                e.guid = s.guid,
                Qe(i, "any", n, e)
            }
        },
        off(e, t, i) {
            !e || Ve(e) ? Me(this.eventBusEl_, e, t) : (Ge(e, this, "off"),
            Xe(t, this, "off"),
            Ye(i, this, "off"),
            i = je(this, i),
            this.off("dispose", i),
            e.nodeName ? (Me(e, t, i),
            Me(e, "dispose", i)) : We(e) && (e.off(t, i),
            e.off("dispose", i)))
        },
        trigger(e, t) {
            Ge(this.eventBusEl_, this, "trigger");
            var i = e && "string" != typeof e ? e.type : e;
            if (Ve(i))
                return De(this.eventBusEl_, e, t);
            throw new Error(`Invalid event type for ${qe(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`)
        }
    };
    function Je(e, t={}) {
        if (t = t.eventBusKey) {
            if (!e[t].nodeName)
                throw new Error(`The eventBusKey "${t}" does not refer to an element.`);
            e.eventBusEl_ = e[t]
        } else
            e.eventBusEl_ = W("span", {
                className: "vjs-event-bus"
            });
        Object.assign(e, Ze),
        e.eventedCallbacks && e.eventedCallbacks.forEach((e => {
            e()
        }
        )),
        e.on("dispose", ( () => {
            e.off(),
            [e, e.el_, e.eventBusEl_].forEach((function(e) {
                e && xe.has(e) && xe.delete(e)
            }
            )),
            window.setTimeout(( () => {
                e.eventBusEl_ = null
            }
            ), 0)
        }
        ))
    }
    const et = {
        state: {},
        setState(e) {
            let t;
            return "function" == typeof e && (e = e()),
            p(e, ( (e, i) => {
                this.state[i] !== e && ((t = t || {})[i] = {
                    from: this.state[i],
                    to: e
                }),
                this.state[i] = e
            }
            )),
            t && We(this) && this.trigger({
                changes: t,
                type: "statechanged"
            }),
            t
        }
    };
    function tt(e, t) {
        Object.assign(e, et),
        e.state = Object.assign({}, e.state, t),
        "function" == typeof e.handleStateChanged && We(e) && e.on("statechanged", e.handleStateChanged)
    }
    function it(e) {
        return "string" != typeof e ? e : e.replace(/./, (e => e.toLowerCase()))
    }
    function nt(e) {
        return "string" != typeof e ? e : e.replace(/./, (e => e.toUpperCase()))
    }
    function st(e, t) {
        return nt(e) === nt(t)
    }
    var rt = Object.freeze({
        __proto__: null,
        toLowerCase: it,
        toTitleCase: nt,
        titleCaseEquals: st
    })
      , at = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
    function ot(e, t) {
        return e(t = {
            exports: {}
        }, t.exports),
        t.exports
    }
    var lt = ot((function(e, t) {
        function i(e) {
            var t;
            return "number" == typeof (e = e && "object" == typeof e && (t = e.which || e.keyCode || e.charCode) ? t : e) ? o[e] : (t = String(e),
            n[t.toLowerCase()] || s[t.toLowerCase()] || (1 === t.length ? t.charCodeAt(0) : void 0))
        }
        i.isEventKey = function(e, t) {
            if (e && "object" == typeof e) {
                if (null != (e = e.which || e.keyCode || e.charCode))
                    if ("string" == typeof t) {
                        var i = n[t.toLowerCase()];
                        if (i)
                            return i === e;
                        if (i = s[t.toLowerCase()])
                            return i === e
                    } else if ("number" == typeof t)
                        return t === e;
                return !1
            }
        }
        ;
        for (var n = (t = e.exports = i).code = t.codes = {
            backspace: 8,
            tab: 9,
            enter: 13,
            shift: 16,
            ctrl: 17,
            alt: 18,
            "pause/break": 19,
            "caps lock": 20,
            esc: 27,
            space: 32,
            "page up": 33,
            "page down": 34,
            end: 35,
            home: 36,
            left: 37,
            up: 38,
            right: 39,
            down: 40,
            insert: 45,
            delete: 46,
            command: 91,
            "left command": 91,
            "right command": 93,
            "numpad *": 106,
            "numpad +": 107,
            "numpad -": 109,
            "numpad .": 110,
            "numpad /": 111,
            "num lock": 144,
            "scroll lock": 145,
            "my computer": 182,
            "my calculator": 183,
            ";": 186,
            "=": 187,
            ",": 188,
            "-": 189,
            ".": 190,
            "/": 191,
            "`": 192,
            "[": 219,
            "\\": 220,
            "]": 221,
            "'": 222
        }, s = t.aliases = {
            windows: 91,
            "â§": 16,
            "â¥": 18,
            "â": 17,
            "â": 91,
            ctl: 17,
            control: 17,
            option: 18,
            pause: 19,
            break: 19,
            caps: 20,
            return: 13,
            escape: 27,
            spc: 32,
            spacebar: 32,
            pgup: 33,
            pgdn: 34,
            ins: 45,
            del: 46,
            cmd: 91
        }, r = 97; r < 123; r++)
            n[String.fromCharCode(r)] = r - 32;
        for (r = 48; r < 58; r++)
            n[r - 48] = r;
        for (r = 1; r < 13; r++)
            n["f" + r] = r + 111;
        for (r = 0; r < 10; r++)
            n["numpad " + r] = r + 96;
        var a, o = t.names = t.title = {};
        for (r in n)
            o[n[r]] = r;
        for (a in s)
            n[a] = s[a]
    }
    ));
    lt.code,
    lt.codes,
    lt.aliases,
    lt.names,
    lt.title;
    class dt {
        constructor(e, t, i) {
            !e && this.play ? this.player_ = e = this : this.player_ = e,
            this.isDisposed_ = !1,
            this.parentComponent_ = null,
            this.options_ = v({}, this.options_),
            t = this.options_ = v(this.options_, t),
            this.id_ = t.id || t.el && t.el.id,
            this.id_ || (e = e && e.id && e.id() || "no_player",
            this.id_ = e + "_component_" + Ee++),
            this.name_ = t.name || null,
            t.el ? this.el_ = t.el : !1 !== t.createEl && (this.el_ = this.createEl()),
            t.className && this.el_ && t.className.split(" ").forEach((e => this.addClass(e))),
            !1 !== t.evented && (Je(this, {
                eventBusKey: this.el_ ? "el_" : null
            }),
            this.handleLanguagechange = this.handleLanguagechange.bind(this),
            this.on(this.player_, "languagechange", this.handleLanguagechange)),
            tt(this, this.constructor.defaultState),
            this.children_ = [],
            this.childIndex_ = {},
            this.childNameIndex_ = {},
            this.setTimeoutIds_ = new Set,
            this.setIntervalIds_ = new Set,
            this.rafIds_ = new Set,
            this.namedRafs_ = new Map,
            (this.clearingTimersOnDispose_ = !1) !== t.initChildren && this.initChildren(),
            this.ready(i),
            !1 !== t.reportTouchActivity && this.enableTouchActivity()
        }
        dispose(e={}) {
            if (!this.isDisposed_) {
                if (this.readyQueue_ && (this.readyQueue_.length = 0),
                this.trigger({
                    type: "dispose",
                    bubbles: !1
                }),
                this.isDisposed_ = !0,
                this.children_)
                    for (let e = this.children_.length - 1; 0 <= e; e--)
                        this.children_[e].dispose && this.children_[e].dispose();
                this.children_ = null,
                this.childIndex_ = null,
                this.childNameIndex_ = null,
                this.parentComponent_ = null,
                this.el_ && (this.el_.parentNode && (e.restoreEl ? this.el_.parentNode.replaceChild(e.restoreEl, this.el_) : this.el_.parentNode.removeChild(this.el_)),
                this.el_ = null),
                this.player_ = null
            }
        }
        isDisposed() {
            return Boolean(this.isDisposed_)
        }
        player() {
            return this.player_
        }
        options(e) {
            return e && (this.options_ = v(this.options_, e)),
            this.options_
        }
        el() {
            return this.el_
        }
        createEl(e, t, i) {
            return W(e, t, i)
        }
        localize(e, t, i=e) {
            var n = this.player_.language && this.player_.language()
              , s = (r = this.player_.languages && this.player_.languages()) && r[n]
              , r = (n = n && n.split("-")[0],
            r && r[n]);
            let a = i;
            return s && s[e] ? a = s[e] : r && r[e] && (a = r[e]),
            t ? a.replace(/\{(\d+)\}/g, (function(e, i) {
                return void 0 === (i = t[i - 1]) ? e : i
            }
            )) : a
        }
        handleLanguagechange() {}
        contentEl() {
            return this.contentEl_ || this.el_
        }
        id() {
            return this.id_
        }
        name() {
            return this.name_
        }
        children() {
            return this.children_
        }
        getChildById(e) {
            return this.childIndex_[e]
        }
        getChild(e) {
            if (e)
                return this.childNameIndex_[e]
        }
        getDescendant(...e) {
            e = e.reduce(( (e, t) => e.concat(t)), []);
            let t = this;
            for (let i = 0; i < e.length; i++)
                if (!(t = t.getChild(e[i])) || !t.getChild)
                    return;
            return t
        }
        addChild(e, t={}, i=this.children_.length) {
            let n, s;
            if ("string" == typeof e) {
                s = nt(e);
                var r = t.componentClass || s
                  , a = (t.name = s,
                dt.getComponent(r));
                if (!a)
                    throw new Error(`Component ${r} does not exist`);
                if ("function" != typeof a)
                    return null;
                n = new a(this.player_ || this,t)
            } else
                n = e;
            if (n.parentComponent_ && n.parentComponent_.removeChild(n),
            this.children_.splice(i, 0, n),
            n.parentComponent_ = this,
            "function" == typeof n.id && (this.childIndex_[n.id()] = n),
            (s = s || n.name && nt(n.name())) && (this.childNameIndex_[s] = n,
            this.childNameIndex_[it(s)] = n),
            "function" == typeof n.el && n.el()) {
                let e = null;
                this.children_[i + 1] && (this.children_[i + 1].el_ ? e = this.children_[i + 1].el_ : H(this.children_[i + 1]) && (e = this.children_[i + 1])),
                this.contentEl().insertBefore(n.el(), e)
            }
            return n
        }
        removeChild(e) {
            if ((e = "string" == typeof e ? this.getChild(e) : e) && this.children_) {
                let i = !1;
                for (let t = this.children_.length - 1; 0 <= t; t--)
                    if (this.children_[t] === e) {
                        i = !0,
                        this.children_.splice(t, 1);
                        break
                    }
                var t;
                i && (e.parentComponent_ = null,
                this.childIndex_[e.id()] = null,
                this.childNameIndex_[nt(e.name())] = null,
                this.childNameIndex_[it(e.name())] = null,
                t = e.el()) && t.parentNode === this.contentEl() && this.contentEl().removeChild(e.el())
            }
        }
        initChildren() {
            const e = this.options_.children;
            if (e) {
                const t = this.options_;
                let i;
                const n = dt.getComponent("Tech");
                (i = Array.isArray(e) ? e : Object.keys(e)).concat(Object.keys(this.options_).filter((function(e) {
                    return !i.some((function(t) {
                        return "string" == typeof t ? e === t : e === t.name
                    }
                    ))
                }
                ))).map((t => {
                    let i, n;
                    return n = "string" == typeof t ? (i = t,
                    e[i] || this.options_[i] || {}) : (i = t.name,
                    t),
                    {
                        name: i,
                        opts: n
                    }
                }
                )).filter((e => (e = dt.getComponent(e.opts.componentClass || nt(e.name))) && !n.isTech(e))).forEach((e => {
                    var i = e.name;
                    let n = e.opts;
                    !1 !== (n = void 0 !== t[i] ? t[i] : n) && ((n = !0 === n ? {} : n).playerOptions = this.options_.playerOptions,
                    e = this.addChild(i, n)) && (this[i] = e)
                }
                ))
            }
        }
        buildCSSClass() {
            return ""
        }
        ready(e, t=!1) {
            e && (this.isReady_ ? t ? e.call(this) : this.setTimeout(e, 1) : (this.readyQueue_ = this.readyQueue_ || [],
            this.readyQueue_.push(e)))
        }
        triggerReady() {
            this.isReady_ = !0,
            this.setTimeout((function() {
                var e = this.readyQueue_;
                this.readyQueue_ = [],
                e && 0 < e.length && e.forEach((function(e) {
                    e.call(this)
                }
                ), this),
                this.trigger("ready")
            }
            ), 1)
        }
        $(e, t) {
            return fe(e, t || this.contentEl())
        }
        $$(e, t) {
            return me(e, t || this.contentEl())
        }
        hasClass(e) {
            return X(this.el_, e)
        }
        addClass(...e) {
            Y(this.el_, ...e)
        }
        removeClass(...e) {
            K(this.el_, ...e)
        }
        toggleClass(e, t) {
            Q(this.el_, e, t)
        }
        show() {
            this.removeClass("vjs-hidden")
        }
        hide() {
            this.addClass("vjs-hidden")
        }
        lockShowing() {
            this.addClass("vjs-lock-showing")
        }
        unlockShowing() {
            this.removeClass("vjs-lock-showing")
        }
        getAttribute(e) {
            return ee(this.el_, e)
        }
        setAttribute(e, t) {
            te(this.el_, e, t)
        }
        removeAttribute(e) {
            ie(this.el_, e)
        }
        width(e, t) {
            return this.dimension("width", e, t)
        }
        height(e, t) {
            return this.dimension("height", e, t)
        }
        dimensions(e, t) {
            this.width(e, !0),
            this.height(t)
        }
        dimension(e, t, i) {
            var n, s;
            if (void 0 === t)
                return this.el_ ? -1 !== (s = (n = this.el_.style[e]).indexOf("px")) ? parseInt(n.slice(0, s), 10) : parseInt(this.el_["offset" + nt(e)], 10) : 0;
            -1 !== ("" + (t = null !== t && t == t ? t : 0)).indexOf("%") || -1 !== ("" + t).indexOf("px") ? this.el_.style[e] = t : this.el_.style[e] = "auto" === t ? "" : t + "px",
            i || this.trigger("componentresize")
        }
        currentDimension(e) {
            let t = 0;
            if ("width" !== e && "height" !== e)
                throw new Error("currentDimension only accepts width or height value");
            return t = ge(this.el_, e),
            0 !== (t = parseFloat(t)) && !isNaN(t) || (e = "offset" + nt(e),
            t = this.el_[e]),
            t
        }
        currentDimensions() {
            return {
                width: this.currentDimension("width"),
                height: this.currentDimension("height")
            }
        }
        currentWidth() {
            return this.currentDimension("width")
        }
        currentHeight() {
            return this.currentDimension("height")
        }
        focus() {
            this.el_.focus()
        }
        blur() {
            this.el_.blur()
        }
        handleKeyDown(e) {
            this.player_ && (lt.isEventKey(e, "Tab") || e.stopPropagation(),
            this.player_.handleKeyDown(e))
        }
        handleKeyPress(e) {
            this.handleKeyDown(e)
        }
        emitTapEvents() {
            let e, t = 0, i = null;
            function n() {
                e = !1
            }
            this.on("touchstart", (function(n) {
                1 === n.touches.length && (i = {
                    pageX: n.touches[0].pageX,
                    pageY: n.touches[0].pageY
                },
                t = window.performance.now(),
                e = !0)
            }
            )),
            this.on("touchmove", (function(t) {
                var n;
                (1 < t.touches.length || i && (n = t.touches[0].pageX - i.pageX,
                t = t.touches[0].pageY - i.pageY,
                10 < Math.sqrt(n * n + t * t))) && (e = !1)
            }
            )),
            this.on("touchleave", n),
            this.on("touchcancel", n),
            this.on("touchend", (function(n) {
                !(i = null) === e && window.performance.now() - t < 200 && (n.preventDefault(),
                this.trigger("tap"))
            }
            ))
        }
        enableTouchActivity() {
            if (this.player() && this.player().reportUserActivity) {
                const t = je(this.player(), this.player().reportUserActivity);
                let i;
                this.on("touchstart", (function() {
                    t(),
                    this.clearInterval(i),
                    i = this.setInterval(t, 250)
                }
                ));
                var e = function(e) {
                    t(),
                    this.clearInterval(i)
                };
                this.on("touchmove", t),
                this.on("touchend", e),
                this.on("touchcancel", e)
            }
        }
        setTimeout(e, t) {
            var i;
            return e = je(this, e),
            this.clearTimersOnDispose_(),
            i = window.setTimeout(( () => {
                this.setTimeoutIds_.has(i) && this.setTimeoutIds_.delete(i),
                e()
            }
            ), t),
            this.setTimeoutIds_.add(i),
            i
        }
        clearTimeout(e) {
            return this.setTimeoutIds_.has(e) && (this.setTimeoutIds_.delete(e),
            window.clearTimeout(e)),
            e
        }
        setInterval(e, t) {
            return e = je(this, e),
            this.clearTimersOnDispose_(),
            e = window.setInterval(e, t),
            this.setIntervalIds_.add(e),
            e
        }
        clearInterval(e) {
            return this.setIntervalIds_.has(e) && (this.setIntervalIds_.delete(e),
            window.clearInterval(e)),
            e
        }
        requestAnimationFrame(e) {
            var t;
            return this.clearTimersOnDispose_(),
            e = je(this, e),
            t = window.requestAnimationFrame(( () => {
                this.rafIds_.has(t) && this.rafIds_.delete(t),
                e()
            }
            )),
            this.rafIds_.add(t),
            t
        }
        requestNamedAnimationFrame(e, t) {
            var i;
            if (!this.namedRafs_.has(e))
                return this.clearTimersOnDispose_(),
                t = je(this, t),
                i = this.requestAnimationFrame(( () => {
                    t(),
                    this.namedRafs_.has(e) && this.namedRafs_.delete(e)
                }
                )),
                this.namedRafs_.set(e, i),
                e
        }
        cancelNamedAnimationFrame(e) {
            this.namedRafs_.has(e) && (this.cancelAnimationFrame(this.namedRafs_.get(e)),
            this.namedRafs_.delete(e))
        }
        cancelAnimationFrame(e) {
            return this.rafIds_.has(e) && (this.rafIds_.delete(e),
            window.cancelAnimationFrame(e)),
            e
        }
        clearTimersOnDispose_() {
            this.clearingTimersOnDispose_ || (this.clearingTimersOnDispose_ = !0,
            this.one("dispose", ( () => {
                [["namedRafs_", "cancelNamedAnimationFrame"], ["rafIds_", "cancelAnimationFrame"], ["setTimeoutIds_", "clearTimeout"], ["setIntervalIds_", "clearInterval"]].forEach(( ([e,t]) => {
                    this[e].forEach(( (e, i) => this[t](i)))
                }
                )),
                this.clearingTimersOnDispose_ = !1
            }
            )))
        }
        static registerComponent(e, t) {
            if ("string" != typeof e || !e)
                throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);
            var i = (i = dt.getComponent("Tech")) && i.isTech(t)
              , n = dt === t || dt.prototype.isPrototypeOf(t.prototype);
            if (i || !n) {
                let t;
                throw t = i ? "techs must be registered using Tech.registerTech()" : "must be a Component subclass",
                new Error(`Illegal component, "${e}"; ${t}.`)
            }
            if (e = nt(e),
            dt.components_ || (dt.components_ = {}),
            n = dt.getComponent("Player"),
            "Player" === e && n && n.players) {
                const e = n.players;
                if (i = Object.keys(e),
                e && 0 < i.length && i.map((t => e[t])).every(Boolean))
                    throw new Error("Can not register Player component after player has been created.")
            }
            return dt.components_[e] = t,
            dt.components_[it(e)] = t
        }
        static getComponent(e) {
            if (e && dt.components_)
                return dt.components_[e]
        }
    }
    function ct(e, t, i, n) {
        var s = n
          , r = i.length - 1;
        if ("number" != typeof s || s < 0 || r < s)
            throw new Error(`Failed to execute '${e}' on 'TimeRanges': The index provided (${s}) is non-numeric or out of bounds (0-${r}).`);
        return i[n][t]
    }
    function ut(e) {
        let t;
        return t = void 0 === e || 0 === e.length ? {
            length: 0,
            start() {
                throw new Error("This TimeRanges object is empty")
            },
            end() {
                throw new Error("This TimeRanges object is empty")
            }
        } : {
            length: e.length,
            start: ct.bind(null, "start", 0, e),
            end: ct.bind(null, "end", 1, e)
        },
        window.Symbol && window.Symbol.iterator && (t[window.Symbol.iterator] = () => (e || []).values()),
        t
    }
    function ht(e, t) {
        return Array.isArray(e) ? ut(e) : void 0 === e || void 0 === t ? ut() : ut([[e, t]])
    }
    function pt(e, t) {
        e = e < 0 ? 0 : e;
        let i = Math.floor(e % 60)
          , n = Math.floor(e / 60 % 60)
          , s = Math.floor(e / 3600);
        var r = Math.floor(t / 60 % 60);
        t = Math.floor(t / 3600);
        return s = 0 < (s = isNaN(e) || e === 1 / 0 ? n = i = "-" : s) || 0 < t ? s + ":" : "",
        n = ((s || 10 <= r) && n < 10 ? "0" + n : n) + ":",
        i = i < 10 ? "0" + i : i,
        s + n + i
    }
    dt.registerComponent("Component", dt);
    let ft = pt;
    function mt(e) {
        ft = e
    }
    function gt() {
        ft = pt
    }
    function vt(e, t=e) {
        return ft(e, t)
    }
    var yt = Object.freeze({
        __proto__: null,
        createTimeRanges: ht,
        createTimeRange: ht,
        setFormatTime: mt,
        resetFormatTime: gt,
        formatTime: vt
    });
    function bt(e, t) {
        let i = 0;
        var n;
        let s;
        if (!t)
            return 0;
        e && e.length || (e = ht(0, 0));
        for (let r = 0; r < e.length; r++)
            n = e.start(r),
            (s = e.end(r)) > t && (s = t),
            i += s - n;
        return i / t
    }
    function _t(e) {
        if (e instanceof _t)
            return e;
        "number" == typeof e ? this.code = e : "string" == typeof e ? this.message = e : m(e) && ("number" == typeof e.code && (this.code = e.code),
        Object.assign(this, e)),
        this.message || (this.message = _t.defaultMessages[this.code] || "")
    }
    _t.prototype.code = 0,
    _t.prototype.message = "",
    _t.prototype.status = null,
    _t.errorTypes = ["MEDIA_ERR_CUSTOM", "MEDIA_ERR_ABORTED", "MEDIA_ERR_NETWORK", "MEDIA_ERR_DECODE", "MEDIA_ERR_SRC_NOT_SUPPORTED", "MEDIA_ERR_ENCRYPTED"],
    _t.defaultMessages = {
        1: "You aborted the media playback",
        2: "A network error caused the media download to fail part-way.",
        3: "The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",
        4: "The media could not be loaded, either because the server or network failed or because the format is not supported.",
        5: "The media is encrypted and we do not have the keys to decrypt it."
    };
    for (let e = 0; e < _t.errorTypes.length; e++)
        _t[_t.errorTypes[e]] = e,
        _t.prototype[_t.errorTypes[e]] = e;
    function Tt(e) {
        return null != e && "function" == typeof e.then
    }
    function wt(e) {
        Tt(e) && e.then(null, (e => {}
        ))
    }
    function St(e) {
        return ["kind", "label", "language", "id", "inBandMetadataTrackDispatchType", "mode", "src"].reduce(( (t, i, n) => (e[i] && (t[i] = e[i]),
        t)), {
            cues: e.cues && Array.prototype.map.call(e.cues, (function(e) {
                return {
                    startTime: e.startTime,
                    endTime: e.endTime,
                    text: e.text,
                    id: e.id
                }
            }
            ))
        })
    }
    const kt = "vjs-modal-dialog";
    class xt extends dt {
        constructor(e, t) {
            super(e, t),
            this.handleKeyDown_ = e => this.handleKeyDown(e),
            this.close_ = e => this.close(e),
            this.opened_ = this.hasBeenOpened_ = this.hasBeenFilled_ = !1,
            this.closeable(!this.options_.uncloseable),
            this.content(this.options_.content),
            this.contentEl_ = W("div", {
                className: kt + "-content"
            }, {
                role: "document"
            }),
            this.descEl_ = W("p", {
                className: kt + "-description vjs-control-text",
                id: this.el().getAttribute("aria-describedby")
            }),
            V(this.descEl_, this.description()),
            this.el_.appendChild(this.descEl_),
            this.el_.appendChild(this.contentEl_)
        }
        createEl() {
            return super.createEl("div", {
                className: this.buildCSSClass(),
                tabIndex: -1
            }, {
                "aria-describedby": this.id() + "_description",
                "aria-hidden": "true",
                "aria-label": this.label(),
                role: "dialog"
            })
        }
        dispose() {
            this.contentEl_ = null,
            this.descEl_ = null,
            this.previouslyActiveEl_ = null,
            super.dispose()
        }
        buildCSSClass() {
            return kt + " vjs-hidden " + super.buildCSSClass()
        }
        label() {
            return this.localize(this.options_.label || "Modal Window")
        }
        description() {
            let e = this.options_.description || this.localize("This is a modal window.");
            return this.closeable() && (e += " " + this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),
            e
        }
        open() {
            var e;
            this.opened_ || (e = this.player(),
            this.trigger("beforemodalopen"),
            this.opened_ = !0,
            !this.options_.fillAlways && (this.hasBeenOpened_ || this.hasBeenFilled_) || this.fill(),
            this.wasPlaying_ = !e.paused(),
            this.options_.pauseOnOpen && this.wasPlaying_ && e.pause(),
            this.on("keydown", this.handleKeyDown_),
            this.hadControls_ = e.controls(),
            e.controls(!1),
            this.show(),
            this.conditionalFocus_(),
            this.el().setAttribute("aria-hidden", "false"),
            this.trigger("modalopen"),
            this.hasBeenOpened_ = !0)
        }
        opened(e) {
            return "boolean" == typeof e && this[e ? "open" : "close"](),
            this.opened_
        }
        close() {
            var e;
            this.opened_ && (e = this.player(),
            this.trigger("beforemodalclose"),
            this.opened_ = !1,
            this.wasPlaying_ && this.options_.pauseOnOpen && e.play(),
            this.off("keydown", this.handleKeyDown_),
            this.hadControls_ && e.controls(!0),
            this.hide(),
            this.el().setAttribute("aria-hidden", "true"),
            this.trigger("modalclose"),
            this.conditionalBlur_(),
            this.options_.temporary) && this.dispose()
        }
        closeable(e) {
            if ("boolean" == typeof e) {
                var t;
                e = this.closeable_ = !!e;
                let i = this.getChild("closeButton");
                e && !i && (t = this.contentEl_,
                this.contentEl_ = this.el_,
                i = this.addChild("closeButton", {
                    controlText: "Close Modal Dialog"
                }),
                this.contentEl_ = t,
                this.on(i, "close", this.close_)),
                !e && i && (this.off(i, "close", this.close_),
                this.removeChild(i),
                i.dispose())
            }
            return this.closeable_
        }
        fill() {
            this.fillWith(this.content())
        }
        fillWith(e) {
            var t = this.contentEl()
              , i = t.parentNode
              , n = t.nextSibling;
            (e = (this.trigger("beforemodalfill"),
            this.hasBeenFilled_ = !0,
            i.removeChild(t),
            this.empty(),
            he(t, e),
            this.trigger("modalfill"),
            n ? i.insertBefore(t, n) : i.appendChild(t),
            this.getChild("closeButton"))) && i.appendChild(e.el_)
        }
        empty() {
            this.trigger("beforemodalempty"),
            de(this.contentEl()),
            this.trigger("modalempty")
        }
        content(e) {
            return void 0 !== e && (this.content_ = e),
            this.content_
        }
        conditionalFocus_() {
            var e = document.activeElement
              , t = this.player_.el_;
            this.previouslyActiveEl_ = null,
            !t.contains(e) && t !== e || (this.previouslyActiveEl_ = e,
            this.focus())
        }
        conditionalBlur_() {
            this.previouslyActiveEl_ && (this.previouslyActiveEl_.focus(),
            this.previouslyActiveEl_ = null)
        }
        handleKeyDown(e) {
            if (e.stopPropagation(),
            lt.isEventKey(e, "Escape") && this.closeable())
                e.preventDefault(),
                this.close();
            else if (lt.isEventKey(e, "Tab")) {
                var t = this.focusableEls_()
                  , i = this.el_.querySelector(":focus");
                let n;
                for (let e = 0; e < t.length; e++)
                    if (i === t[e]) {
                        n = e;
                        break
                    }
                document.activeElement === this.el_ && (n = 0),
                e.shiftKey && 0 === n ? (t[t.length - 1].focus(),
                e.preventDefault()) : e.shiftKey || n !== t.length - 1 || (t[0].focus(),
                e.preventDefault())
            }
        }
        focusableEls_() {
            var e = this.el_.querySelectorAll("*");
            return Array.prototype.filter.call(e, (e => (e instanceof window.HTMLAnchorElement || e instanceof window.HTMLAreaElement) && e.hasAttribute("href") || (e instanceof window.HTMLInputElement || e instanceof window.HTMLSelectElement || e instanceof window.HTMLTextAreaElement || e instanceof window.HTMLButtonElement) && !e.hasAttribute("disabled") || e instanceof window.HTMLIFrameElement || e instanceof window.HTMLObjectElement || e instanceof window.HTMLEmbedElement || e.hasAttribute("tabindex") && -1 !== e.getAttribute("tabindex") || e.hasAttribute("contenteditable")))
        }
    }
    xt.prototype.options_ = {
        pauseOnOpen: !0,
        temporary: !0
    },
    dt.registerComponent("ModalDialog", xt);
    class Ct extends ze {
        constructor(e=[]) {
            super(),
            this.tracks_ = [],
            Object.defineProperty(this, "length", {
                get() {
                    return this.tracks_.length
                }
            });
            for (let t = 0; t < e.length; t++)
                this.addTrack(e[t])
        }
        addTrack(e) {
            const t = this.tracks_.length;
            "" + t in this || Object.defineProperty(this, t, {
                get() {
                    return this.tracks_[t]
                }
            }),
            -1 === this.tracks_.indexOf(e) && (this.tracks_.push(e),
            this.trigger({
                track: e,
                type: "addtrack",
                target: this
            })),
            e.labelchange_ = () => {
                this.trigger({
                    track: e,
                    type: "labelchange",
                    target: this
                })
            }
            ,
            We(e) && e.addEventListener("labelchange", e.labelchange_)
        }
        removeTrack(e) {
            let t;
            for (let i = 0, n = this.length; i < n; i++)
                if (this[i] === e) {
                    (t = this[i]).off && t.off(),
                    this.tracks_.splice(i, 1);
                    break
                }
            t && this.trigger({
                track: t,
                type: "removetrack",
                target: this
            })
        }
        getTrackById(e) {
            let t = null;
            for (let n = 0, s = this.length; n < s; n++) {
                var i = this[n];
                if (i.id === e) {
                    t = i;
                    break
                }
            }
            return t
        }
    }
    for (const e in Ct.prototype.allowedEvents_ = {
        change: "change",
        addtrack: "addtrack",
        removetrack: "removetrack",
        labelchange: "labelchange"
    })
        Ct.prototype["on" + e] = null;
    function Et(e, t) {
        for (let i = 0; i < e.length; i++)
            Object.keys(e[i]).length && t.id !== e[i].id && (e[i].enabled = !1)
    }
    function Pt(e, t) {
        for (let i = 0; i < e.length; i++)
            Object.keys(e[i]).length && t.id !== e[i].id && (e[i].selected = !1)
    }
    class At extends Ct {
        addTrack(e) {
            super.addTrack(e),
            this.queueChange_ || (this.queueChange_ = () => this.queueTrigger("change")),
            this.triggerSelectedlanguagechange || (this.triggerSelectedlanguagechange_ = () => this.trigger("selectedlanguagechange")),
            e.addEventListener("modechange", this.queueChange_),
            -1 === ["metadata", "chapters"].indexOf(e.kind) && e.addEventListener("modechange", this.triggerSelectedlanguagechange_)
        }
        removeTrack(e) {
            super.removeTrack(e),
            e.removeEventListener && (this.queueChange_ && e.removeEventListener("modechange", this.queueChange_),
            this.selectedlanguagechange_) && e.removeEventListener("modechange", this.triggerSelectedlanguagechange_)
        }
    }
    class It {
        constructor(e) {
            It.prototype.setCues_.call(this, e),
            Object.defineProperty(this, "length", {
                get() {
                    return this.length_
                }
            })
        }
        setCues_(e) {
            var t = this.length || 0;
            let i = 0;
            function n(e) {
                "" + e in this || Object.defineProperty(this, "" + e, {
                    get() {
                        return this.cues_[e]
                    }
                })
            }
            var s = e.length;
            if (this.cues_ = e,
            this.length_ = e.length,
            t < s)
                for (i = t; i < s; i++)
                    n.call(this, i)
        }
        getCueById(e) {
            let t = null;
            for (let n = 0, s = this.length; n < s; n++) {
                var i = this[n];
                if (i.id === e) {
                    t = i;
                    break
                }
            }
            return t
        }
    }
    const Ot = {
        alternative: "alternative",
        captions: "captions",
        main: "main",
        sign: "sign",
        subtitles: "subtitles",
        commentary: "commentary"
    }
      , Lt = {
        alternative: "alternative",
        descriptions: "descriptions",
        main: "main",
        "main-desc": "main-desc",
        translation: "translation",
        commentary: "commentary"
    }
      , Mt = {
        subtitles: "subtitles",
        captions: "captions",
        descriptions: "descriptions",
        chapters: "chapters",
        metadata: "metadata"
    }
      , Dt = {
        disabled: "disabled",
        hidden: "hidden",
        showing: "showing"
    };
    class Rt extends ze {
        constructor(e={}) {
            super();
            const t = {
                id: e.id || "vjs_track_" + Ee++,
                kind: e.kind || "",
                language: e.language || ""
            };
            let i = e.label || "";
            for (const e in t)
                Object.defineProperty(this, e, {
                    get: () => t[e],
                    set() {}
                });
            Object.defineProperty(this, "label", {
                get: () => i,
                set(e) {
                    e !== i && (i = e,
                    this.trigger("labelchange"))
                }
            })
        }
    }
    function Nt(e) {
        var t = ["protocol", "hostname", "port", "pathname", "search", "hash", "host"]
          , i = document.createElement("a")
          , n = (i.href = e,
        {});
        for (let e = 0; e < t.length; e++)
            n[t[e]] = i[t[e]];
        return "http:" === n.protocol && (n.host = n.host.replace(/:80$/, "")),
        "https:" === n.protocol && (n.host = n.host.replace(/:443$/, "")),
        n.protocol || (n.protocol = window.location.protocol),
        n.host || (n.host = window.location.host),
        n
    }
    function Bt(e) {
        var t;
        return e.match(/^https?:\/\//) || ((t = document.createElement("a")).href = e,
        e = t.href),
        e
    }
    function jt(e, t=window.location) {
        return (":" === (e = Nt(e)).protocol ? t : e).protocol + e.host !== t.protocol + t.host
    }
    const Ft = function(e) {
        return "string" == typeof e && (e = /^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e)) ? e.pop().toLowerCase() : ""
    };
    var Ut = Object.freeze({
        __proto__: null,
        parseUrl: Nt,
        getAbsoluteURL: Bt,
        getFileExtension: Ft,
        isCrossOrigin: jt
    })
      , $t = Xt = "undefined" != typeof window ? window : void 0 !== at ? at : "undefined" != typeof self ? self : {}
      , Ht = ot((function(e) {
        function t() {
            return e.exports = t = Object.assign ? Object.assign.bind() : function(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var i, n = arguments[t];
                    for (i in n)
                        Object.prototype.hasOwnProperty.call(n, i) && (e[i] = n[i])
                }
                return e
            }
            ,
            e.exports.__esModule = !0,
            e.exports.default = e.exports,
            t.apply(this, arguments)
        }
        e.exports = t,
        e.exports.__esModule = !0,
        e.exports.default = e.exports
    }
    ))
      , zt = (Xt = Ht) && Xt.__esModule && Object.prototype.hasOwnProperty.call(Xt, "default") ? Xt.default : Xt
      , qt = function(e) {
        var t;
        return !!e && ("[object Function]" === (t = Wt.call(e)) || "function" == typeof e && "[object RegExp]" !== t || "undefined" != typeof window && (e === window.setTimeout || e === window.alert || e === window.confirm || e === window.prompt))
    }
      , Wt = Object.prototype.toString;
    Jt.httpHandler = function(e, t) {
        return void 0 === t && (t = !1),
        function(i, n, s) {
            if (i)
                e(i);
            else if (400 <= n.statusCode && n.statusCode <= 599) {
                if (i = s,
                t)
                    if ($t.TextDecoder) {
                        n = function(e) {
                            return void 0 === e && (e = ""),
                            e.toLowerCase().split(";").reduce((function(e, t) {
                                var i = (t = t.split("="))[0];
                                t = t[1];
                                return "charset" === i.trim() ? t.trim() : e
                            }
                            ), "utf-8")
                        }(n.headers && n.headers["content-type"]);
                        try {
                            i = new TextDecoder(n).decode(s)
                        } catch (i) {}
                    } else
                        i = String.fromCharCode.apply(null, new Uint8Array(s));
                e({
                    cause: i
                })
            } else
                e(null, s)
        }
    }
    ;
    for (var Vt = function(e) {
        var t = {};
        return e && e.trim().split("\n").forEach((function(e) {
            var i = e.indexOf(":")
              , n = e.slice(0, i).trim().toLowerCase();
            e = e.slice(i + 1).trim();
            void 0 === t[n] ? t[n] = e : Array.isArray(t[n]) ? t[n].push(e) : t[n] = [t[n], e]
        }
        )),
        t
    }, Gt = Jt, Xt = Jt, Yt = (Jt.XMLHttpRequest = $t.XMLHttpRequest || function() {}
    ,
    Jt.XDomainRequest = "withCredentials"in new Jt.XMLHttpRequest ? Jt.XMLHttpRequest : $t.XDomainRequest,
    ["get", "put", "post", "patch", "head", "delete"]), Kt = function(e) {
        Jt["delete" === e ? "del" : e] = function(t, i, n) {
            return (i = Zt(t, i, n)).method = e.toUpperCase(),
            ei(i)
        }
    }, Qt = 0; Qt < Yt.length; Qt++)
        Kt(Yt[Qt]);
    function Zt(e, t, i) {
        var n = e;
        return qt(t) ? (i = t,
        "string" == typeof e && (n = {
            uri: e
        })) : n = Ht({}, t, {
            uri: e
        }),
        n.callback = i,
        n
    }
    function Jt(e, t, i) {
        return ei(t = Zt(e, t, i))
    }
    function ei(e) {
        if (void 0 === e.callback)
            throw new Error("callback argument missing");
        var t = !1
          , i = function(i, n, s) {
            t || (t = !0,
            e.callback(i, n, s))
        };
        function n() {
            var e = void 0;
            e = d.response || d.responseText || function(e) {
                try {
                    if ("document" === e.responseType)
                        return e.responseXML;
                    var t = e.responseXML && "parsererror" === e.responseXML.documentElement.nodeName;
                    if ("" === e.responseType && !t)
                        return e.responseXML
                } catch (e) {}
                return null
            }(d);
            if (m)
                try {
                    e = JSON.parse(e)
                } catch (e) {}
            return e
        }
        function s(e) {
            return clearTimeout(l),
            (e = e instanceof Error ? e : new Error("" + (e || "Unknown XMLHttpRequest Error"))).statusCode = 0,
            i(e, g)
        }
        function r() {
            var t, s, r;
            if (!o)
                return clearTimeout(l),
                t = e.useXDR && void 0 === d.status ? 200 : 1223 === d.status ? 204 : d.status,
                s = g,
                r = null,
                0 !== t ? (s = {
                    body: n(),
                    statusCode: t,
                    method: u,
                    headers: {},
                    url: c,
                    rawRequest: d
                },
                d.getAllResponseHeaders && (s.headers = Vt(d.getAllResponseHeaders()))) : r = new Error("Internal XMLHttpRequest Error"),
                i(r, s, s.body)
        }
        var a, o, l, d = e.xhr || null, c = (d = d || new (e.cors || e.useXDR ? Jt.XDomainRequest : Jt.XMLHttpRequest)).url = e.uri || e.url, u = d.method = e.method || "GET", h = e.body || e.data, p = d.headers = e.headers || {}, f = !!e.sync, m = !1, g = {
            body: void 0,
            headers: {},
            statusCode: 0,
            method: u,
            url: c,
            rawRequest: d
        };
        if ("json"in e && !1 !== e.json && (m = !0,
        p.accept || p.Accept || (p.Accept = "application/json"),
        "GET" !== u) && "HEAD" !== u && (p["content-type"] || p["Content-Type"] || (p["Content-Type"] = "application/json"),
        h = JSON.stringify(!0 === e.json ? h : e.json)),
        d.onreadystatechange = function() {
            4 === d.readyState && setTimeout(r, 0)
        }
        ,
        d.onload = r,
        d.onerror = s,
        d.onprogress = function() {}
        ,
        d.onabort = function() {
            o = !0
        }
        ,
        d.ontimeout = s,
        d.open(u, c, !f, e.username, e.password),
        f || (d.withCredentials = !!e.withCredentials),
        !f && 0 < e.timeout && (l = setTimeout((function() {
            var e;
            o || (o = !0,
            d.abort("timeout"),
            (e = new Error("XMLHttpRequest timeout")).code = "ETIMEDOUT",
            s(e))
        }
        ), e.timeout)),
        d.setRequestHeader)
            for (a in p)
                p.hasOwnProperty(a) && d.setRequestHeader(a, p[a]);
        else if (e.headers && !function(e) {
            for (var t in e)
                if (e.hasOwnProperty(t))
                    return;
            return 1
        }(e.headers))
            throw new Error("Headers cannot be set on an XDomainRequest object");
        return "responseType"in e && (d.responseType = e.responseType),
        "beforeSend"in e && "function" == typeof e.beforeSend && e.beforeSend(d),
        d.send(h || null),
        d
    }
    function ti(e, t) {
        var i = new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder());
        const n = [];
        i.oncue = function(e) {
            t.addCue(e)
        }
        ,
        i.onparsingerror = function(e) {
            n.push(e)
        }
        ,
        i.onflush = function() {
            t.trigger({
                type: "loadeddata",
                target: t
            })
        }
        ,
        i.parse(e),
        0 < n.length && (window.console && window.console.groupCollapsed && window.console.groupCollapsed("Text Track parsing errors for " + t.src),
        n.forEach((e => c.error(e))),
        window.console) && window.console.groupEnd && window.console.groupEnd(),
        i.flush()
    }
    function ii(e, t) {
        var i = {
            uri: e
        };
        (e = jt(e)) && (i.cors = e),
        (e = "use-credentials" === t.tech_.crossOrigin()) && (i.withCredentials = e),
        Gt(i, je(this, (function(e, i, n) {
            if (e)
                return c.error(e, i);
            t.loaded_ = !0,
            "function" != typeof window.WebVTT ? t.tech_ && t.tech_.any(["vttjsloaded", "vttjserror"], (e => {
                if ("vttjserror" !== e.type)
                    return ti(n, t);
                c.error("vttjs failed to load, stopping trying to process " + t.src)
            }
            )) : ti(n, t)
        }
        )))
    }
    Gt.default = Xt;
    class ni extends Rt {
        constructor(e={}) {
            if (!e.tech)
                throw new Error("A tech was not provided.");
            e = v(e, {
                kind: Mt[e.kind] || "subtitles",
                language: e.language || e.srclang || ""
            });
            let t = Dt[e.mode] || "disabled";
            const i = e.default
              , n = ("metadata" !== e.kind && "chapters" !== e.kind || (t = "hidden"),
            super(e),
            this.tech_ = e.tech,
            this.cues_ = [],
            this.activeCues_ = [],
            this.preload_ = !1 !== this.tech_.preloadTextTracks,
            new It(this.cues_))
              , s = new It(this.activeCues_);
            let r = !1;
            this.timeupdateHandler = je(this, (function(e={}) {
                this.tech_.isDisposed() || (this.tech_.isReady_ && (this.activeCues = this.activeCues,
                r) && (this.trigger("cuechange"),
                r = !1),
                "timeupdate" !== e.type && (this.rvf_ = this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))
            }
            )),
            this.tech_.one("dispose", ( () => {
                this.stopTracking()
            }
            )),
            "disabled" !== t && this.startTracking(),
            Object.defineProperties(this, {
                default: {
                    get: () => i,
                    set() {}
                },
                mode: {
                    get: () => t,
                    set(e) {
                        Dt[e] && t !== e && (t = e,
                        this.preload_ || "disabled" === t || 0 !== this.cues.length || ii(this.src, this),
                        this.stopTracking(),
                        "disabled" !== t && this.startTracking(),
                        this.trigger("modechange"))
                    }
                },
                cues: {
                    get() {
                        return this.loaded_ ? n : null
                    },
                    set() {}
                },
                activeCues: {
                    get() {
                        if (!this.loaded_)
                            return null;
                        if (0 !== this.cues.length) {
                            var e = this.tech_.currentTime()
                              , t = [];
                            for (let n = 0, s = this.cues.length; n < s; n++) {
                                var i = this.cues[n];
                                i.startTime <= e && i.endTime >= e && t.push(i)
                            }
                            if (r = !1,
                            t.length !== this.activeCues_.length)
                                r = !0;
                            else
                                for (let e = 0; e < t.length; e++)
                                    -1 === this.activeCues_.indexOf(t[e]) && (r = !0);
                            this.activeCues_ = t,
                            s.setCues_(this.activeCues_)
                        }
                        return s
                    },
                    set() {}
                }
            }),
            e.src ? (this.src = e.src,
            this.preload_ || (this.loaded_ = !0),
            (this.preload_ || "subtitles" !== e.kind && "captions" !== e.kind) && ii(this.src, this)) : this.loaded_ = !0
        }
        startTracking() {
            this.rvf_ = this.tech_.requestVideoFrameCallback(this.timeupdateHandler),
            this.tech_.on("timeupdate", this.timeupdateHandler)
        }
        stopTracking() {
            this.rvf_ && (this.tech_.cancelVideoFrameCallback(this.rvf_),
            this.rvf_ = void 0),
            this.tech_.off("timeupdate", this.timeupdateHandler)
        }
        addCue(e) {
            let t = e;
            if (window.vttjs && !(e instanceof window.vttjs.VTTCue)) {
                t = new window.vttjs.VTTCue(e.startTime,e.endTime,e.text);
                for (const i in e)
                    i in t || (t[i] = e[i]);
                t.id = e.id,
                t.originalCue_ = e
            }
            var i = this.tech_.textTracks();
            for (let e = 0; e < i.length; e++)
                i[e] !== this && i[e].removeCue(t);
            this.cues_.push(t),
            this.cues.setCues_(this.cues_)
        }
        removeCue(e) {
            let t = this.cues_.length;
            for (; t--; ) {
                var i = this.cues_[t];
                if (i === e || i.originalCue_ && i.originalCue_ === e) {
                    this.cues_.splice(t, 1),
                    this.cues.setCues_(this.cues_);
                    break
                }
            }
        }
    }
    ni.prototype.allowedEvents_ = {
        cuechange: "cuechange"
    };
    class si extends Rt {
        constructor(e={}) {
            super(e = v(e, {
                kind: Lt[e.kind] || ""
            }));
            let t = !1;
            Object.defineProperty(this, "enabled", {
                get: () => t,
                set(e) {
                    "boolean" == typeof e && e !== t && (t = e,
                    this.trigger("enabledchange"))
                }
            }),
            e.enabled && (this.enabled = e.enabled),
            this.loaded_ = !0
        }
    }
    class ri extends Rt {
        constructor(e={}) {
            super(e = v(e, {
                kind: Ot[e.kind] || ""
            }));
            let t = !1;
            Object.defineProperty(this, "selected", {
                get: () => t,
                set(e) {
                    "boolean" == typeof e && e !== t && (t = e,
                    this.trigger("selectedchange"))
                }
            }),
            e.selected && (this.selected = e.selected)
        }
    }
    class ai extends ze {
        constructor(e={}) {
            let t;
            super();
            const i = new ni(e);
            this.kind = i.kind,
            this.src = i.src,
            this.srclang = i.language,
            this.label = i.label,
            this.default = i.default,
            Object.defineProperties(this, {
                readyState: {
                    get: () => t
                },
                track: {
                    get: () => i
                }
            }),
            t = ai.NONE,
            i.addEventListener("loadeddata", ( () => {
                t = ai.LOADED,
                this.trigger({
                    type: "load",
                    target: this
                })
            }
            ))
        }
    }
    ai.prototype.allowedEvents_ = {
        load: "load"
    },
    ai.NONE = 0,
    ai.LOADING = 1,
    ai.LOADED = 2,
    ai.ERROR = 3;
    const oi = {
        audio: {
            ListClass: class extends Ct {
                constructor(e=[]) {
                    for (let t = e.length - 1; 0 <= t; t--)
                        if (e[t].enabled) {
                            Et(e, e[t]);
                            break
                        }
                    super(e),
                    this.changing_ = !1
                }
                addTrack(e) {
                    e.enabled && Et(this, e),
                    super.addTrack(e),
                    e.addEventListener && (e.enabledChange_ = () => {
                        this.changing_ || (this.changing_ = !0,
                        Et(this, e),
                        this.changing_ = !1,
                        this.trigger("change"))
                    }
                    ,
                    e.addEventListener("enabledchange", e.enabledChange_))
                }
                removeTrack(e) {
                    super.removeTrack(e),
                    e.removeEventListener && e.enabledChange_ && (e.removeEventListener("enabledchange", e.enabledChange_),
                    e.enabledChange_ = null)
                }
            }
            ,
            TrackClass: si,
            capitalName: "Audio"
        },
        video: {
            ListClass: class extends Ct {
                constructor(e=[]) {
                    for (let t = e.length - 1; 0 <= t; t--)
                        if (e[t].selected) {
                            Pt(e, e[t]);
                            break
                        }
                    super(e),
                    this.changing_ = !1,
                    Object.defineProperty(this, "selectedIndex", {
                        get() {
                            for (let e = 0; e < this.length; e++)
                                if (this[e].selected)
                                    return e;
                            return -1
                        },
                        set() {}
                    })
                }
                addTrack(e) {
                    e.selected && Pt(this, e),
                    super.addTrack(e),
                    e.addEventListener && (e.selectedChange_ = () => {
                        this.changing_ || (this.changing_ = !0,
                        Pt(this, e),
                        this.changing_ = !1,
                        this.trigger("change"))
                    }
                    ,
                    e.addEventListener("selectedchange", e.selectedChange_))
                }
                removeTrack(e) {
                    super.removeTrack(e),
                    e.removeEventListener && e.selectedChange_ && (e.removeEventListener("selectedchange", e.selectedChange_),
                    e.selectedChange_ = null)
                }
            }
            ,
            TrackClass: ri,
            capitalName: "Video"
        },
        text: {
            ListClass: At,
            TrackClass: ni,
            capitalName: "Text"
        }
    }
      , li = (Object.keys(oi).forEach((function(e) {
        oi[e].getterName = e + "Tracks",
        oi[e].privateName = e + "Tracks_"
    }
    )),
    {
        remoteText: {
            ListClass: At,
            TrackClass: ni,
            capitalName: "RemoteText",
            getterName: "remoteTextTracks",
            privateName: "remoteTextTracks_"
        },
        remoteTextEl: {
            ListClass: class {
                constructor(e=[]) {
                    this.trackElements_ = [],
                    Object.defineProperty(this, "length", {
                        get() {
                            return this.trackElements_.length
                        }
                    });
                    for (let t = 0, i = e.length; t < i; t++)
                        this.addTrackElement_(e[t])
                }
                addTrackElement_(e) {
                    const t = this.trackElements_.length;
                    "" + t in this || Object.defineProperty(this, t, {
                        get() {
                            return this.trackElements_[t]
                        }
                    }),
                    -1 === this.trackElements_.indexOf(e) && this.trackElements_.push(e)
                }
                getTrackElementByTrack_(e) {
                    let t;
                    for (let i = 0, n = this.trackElements_.length; i < n; i++)
                        if (e === this.trackElements_[i].track) {
                            t = this.trackElements_[i];
                            break
                        }
                    return t
                }
                removeTrackElement_(e) {
                    for (let t = 0, i = this.trackElements_.length; t < i; t++)
                        if (e === this.trackElements_[t]) {
                            this.trackElements_[t].track && "function" == typeof this.trackElements_[t].track.off && this.trackElements_[t].track.off(),
                            "function" == typeof this.trackElements_[t].off && this.trackElements_[t].off(),
                            this.trackElements_.splice(t, 1);
                            break
                        }
                }
            }
            ,
            TrackClass: ai,
            capitalName: "RemoteTextTrackEls",
            getterName: "remoteTextTrackEls",
            privateName: "remoteTextTrackEls_"
        }
    })
      , di = Object.assign({}, oi, li);
    li.names = Object.keys(li),
    oi.names = Object.keys(oi),
    di.names = [].concat(li.names).concat(oi.names);
    Xt = void 0 !== at ? at : "undefined" != typeof window ? window : {},
    at = Qn = "undefined" != typeof document ? document : (Qn = Xt["__GLOBAL_DOCUMENT_CACHE@4"]) || (Xt["__GLOBAL_DOCUMENT_CACHE@4"] = {});
    var ci = Object.create || function(e) {
        if (1 !== arguments.length)
            throw new Error("Object.create shim only accepts one parameter.");
        return ui.prototype = e,
        new ui
    }
    ;
    function ui() {}
    function hi(e, t) {
        this.name = "ParsingError",
        this.code = e.code,
        this.message = t || e.message
    }
    function pi(e) {
        function t(e, t, i, n) {
            return 3600 * (0 | e) + 60 * (0 | t) + (0 | i) + (0 | n) / 1e3
        }
        return (e = e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/)) ? e[3] ? t(e[1], e[2], e[3].replace(":", ""), e[4]) : 59 < e[1] ? t(e[1], e[2], 0, e[4]) : t(0, e[1], e[2], e[4]) : null
    }
    function fi() {
        this.values = ci(null)
    }
    function mi(e, t, i, n) {
        var s, r, a = n ? e.split(n) : [e];
        for (s in a)
            "string" == typeof a[s] && 2 === (r = a[s].split(i)).length && t(r[0].trim(), r[1].trim())
    }
    ((hi.prototype = ci(Error.prototype)).constructor = hi).Errors = {
        BadSignature: {
            code: 0,
            message: "Malformed WebVTT signature."
        },
        BadTimeStamp: {
            code: 1,
            message: "Malformed time stamp."
        }
    },
    fi.prototype = {
        set: function(e, t) {
            this.get(e) || "" === t || (this.values[e] = t)
        },
        get: function(e, t, i) {
            return i ? this.has(e) ? this.values[e] : t[i] : this.has(e) ? this.values[e] : t
        },
        has: function(e) {
            return e in this.values
        },
        alt: function(e, t, i) {
            for (var n = 0; n < i.length; ++n)
                if (t === i[n]) {
                    this.set(e, t);
                    break
                }
        },
        integer: function(e, t) {
            /^-?\d+$/.test(t) && this.set(e, parseInt(t, 10))
        },
        percent: function(e, t) {
            return !!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/) && 0 <= (t = parseFloat(t)) && t <= 100) && (this.set(e, t),
            !0)
        }
    };
    var gi = at.createElement && at.createElement("textarea")
      , vi = {
        c: "span",
        i: "i",
        b: "b",
        u: "u",
        ruby: "ruby",
        rt: "rt",
        v: "span",
        lang: "span"
    }
      , yi = {
        white: "rgba(255,255,255,1)",
        lime: "rgba(0,255,0,1)",
        cyan: "rgba(0,255,255,1)",
        red: "rgba(255,0,0,1)",
        yellow: "rgba(255,255,0,1)",
        magenta: "rgba(255,0,255,1)",
        blue: "rgba(0,0,255,1)",
        black: "rgba(0,0,0,1)"
    }
      , bi = {
        v: "title",
        lang: "lang"
    }
      , _i = {
        rt: "ruby"
    };
    function Ti(e, t) {
        for (var i, n, s, r, a, o, l = e.document.createElement("div"), d = l, c = []; null !== (o = void 0,
        o = t ? (o = (o = t.match(/^([^<]*)(<[^>]*>?)?/))[1] || o[2],
        t = t.substr(o.length),
        o) : null); )
            "<" === o[0] ? "/" === o[1] ? c.length && c[c.length - 1] === o.substr(2).replace(">", "") && (c.pop(),
            d = d.parentNode) : (n = pi(o.substr(1, o.length - 2))) ? (i = e.document.createProcessingInstruction("timestamp", n),
            d.appendChild(i)) : (n = o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/)) && (s = n[1],
            r = n[3],
            a = void 0,
            a = vi[s],
            i = a ? (a = e.document.createElement(a),
            (s = bi[s]) && r && (a[s] = r.trim()),
            a) : null) && (s = d,
            _i[(r = i).localName] && _i[r.localName] !== s.localName || (n[2] && ((a = n[2].split(".")).forEach((function(e) {
                var t = /^bg_/.test(e);
                e = t ? e.slice(3) : e;
                yi.hasOwnProperty(e) && (e = yi[e],
                i.style[t ? "background-color" : "color"] = e)
            }
            )),
            i.className = a.join(" ")),
            c.push(n[1]),
            d.appendChild(i),
            d = i)) : d.appendChild(e.document.createTextNode((r = o,
            gi.innerHTML = r,
            r = gi.textContent,
            gi.textContent = "",
            r)));
        return l
    }
    var wi = [[1470, 1470], [1472, 1472], [1475, 1475], [1478, 1478], [1488, 1514], [1520, 1524], [1544, 1544], [1547, 1547], [1549, 1549], [1563, 1563], [1566, 1610], [1645, 1647], [1649, 1749], [1765, 1766], [1774, 1775], [1786, 1805], [1807, 1808], [1810, 1839], [1869, 1957], [1969, 1969], [1984, 2026], [2036, 2037], [2042, 2042], [2048, 2069], [2074, 2074], [2084, 2084], [2088, 2088], [2096, 2110], [2112, 2136], [2142, 2142], [2208, 2208], [2210, 2220], [8207, 8207], [64285, 64285], [64287, 64296], [64298, 64310], [64312, 64316], [64318, 64318], [64320, 64321], [64323, 64324], [64326, 64449], [64467, 64829], [64848, 64911], [64914, 64967], [65008, 65020], [65136, 65140], [65142, 65276], [67584, 67589], [67592, 67592], [67594, 67637], [67639, 67640], [67644, 67644], [67647, 67669], [67671, 67679], [67840, 67867], [67872, 67897], [67903, 67903], [67968, 68023], [68030, 68031], [68096, 68096], [68112, 68115], [68117, 68119], [68121, 68147], [68160, 68167], [68176, 68184], [68192, 68223], [68352, 68405], [68416, 68437], [68440, 68466], [68472, 68479], [68608, 68680], [126464, 126467], [126469, 126495], [126497, 126498], [126500, 126500], [126503, 126503], [126505, 126514], [126516, 126519], [126521, 126521], [126523, 126523], [126530, 126530], [126535, 126535], [126537, 126537], [126539, 126539], [126541, 126543], [126545, 126546], [126548, 126548], [126551, 126551], [126553, 126553], [126555, 126555], [126557, 126557], [126559, 126559], [126561, 126562], [126564, 126564], [126567, 126570], [126572, 126578], [126580, 126583], [126585, 126588], [126590, 126590], [126592, 126601], [126603, 126619], [126625, 126627], [126629, 126633], [126635, 126651], [1114109, 1114109]];
    function Si(e) {
        var t = []
          , i = "";
        if (e && e.childNodes)
            for (s(t, e); i = function e(t) {
                var i, n, r;
                return t && t.length ? (n = (i = t.pop()).textContent || i.innerText) ? (r = n.match(/^.*(\n|\r)/)) ? r[t.length = 0] : n : "ruby" === i.tagName ? e(t) : i.childNodes ? (s(t, i),
                e(t)) : void 0 : null
            }(t); )
                for (var n = 0; n < i.length; n++)
                    if (function(e) {
                        for (var t = 0; t < wi.length; t++) {
                            var i = wi[t];
                            if (e >= i[0] && e <= i[1])
                                return 1
                        }
                    }(i.charCodeAt(n)))
                        return "rtl";
        return "ltr";
        function s(e, t) {
            for (var i = t.childNodes.length - 1; 0 <= i; i--)
                e.push(t.childNodes[i])
        }
    }
    function ki() {}
    function xi(e, t, i) {
        ki.call(this),
        this.cue = t,
        this.cueDiv = Ti(e, t.text);
        var n = {
            color: "rgba(255, 255, 255, 1)",
            backgroundColor: "rgba(0, 0, 0, 0.8)",
            position: "relative",
            left: 0,
            right: 0,
            top: 0,
            bottom: 0,
            display: "inline",
            writingMode: "" === t.vertical ? "horizontal-tb" : "lr" === t.vertical ? "vertical-lr" : "vertical-rl",
            unicodeBidi: "plaintext"
        }
          , s = (this.applyStyles(n, this.cueDiv),
        this.div = e.document.createElement("div"),
        n = {
            direction: Si(this.cueDiv),
            writingMode: "" === t.vertical ? "horizontal-tb" : "lr" === t.vertical ? "vertical-lr" : "vertical-rl",
            unicodeBidi: "plaintext",
            textAlign: "middle" === t.align ? "center" : t.align,
            font: i.font,
            whiteSpace: "pre-line",
            position: "absolute"
        },
        this.applyStyles(n),
        this.div.appendChild(this.cueDiv),
        0);
        switch (t.positionAlign) {
        case "start":
            s = t.position;
            break;
        case "center":
            s = t.position - t.size / 2;
            break;
        case "end":
            s = t.position - t.size
        }
        "" === t.vertical ? this.applyStyles({
            left: this.formatStyle(s, "%"),
            width: this.formatStyle(t.size, "%")
        }) : this.applyStyles({
            top: this.formatStyle(s, "%"),
            height: this.formatStyle(t.size, "%")
        }),
        this.move = function(e) {
            this.applyStyles({
                top: this.formatStyle(e.top, "px"),
                bottom: this.formatStyle(e.bottom, "px"),
                left: this.formatStyle(e.left, "px"),
                right: this.formatStyle(e.right, "px"),
                height: this.formatStyle(e.height, "px"),
                width: this.formatStyle(e.width, "px")
            })
        }
    }
    function Ci(e) {
        var t, i, n, s;
        e.div && (t = e.div.offsetHeight,
        i = e.div.offsetWidth,
        n = e.div.offsetTop,
        s = (s = (s = e.div.childNodes) && s[0]) && s.getClientRects && s.getClientRects(),
        e = e.div.getBoundingClientRect(),
        s = s ? Math.max(s[0] && s[0].height || 0, e.height / s.length) : 0),
        this.left = e.left,
        this.right = e.right,
        this.top = e.top || n,
        this.height = e.height || t,
        this.bottom = e.bottom || n + (e.height || t),
        this.width = e.width || i,
        this.lineHeight = void 0 !== s ? s : e.lineHeight
    }
    function Ei(e, t, i, n) {
        var s, r = new Ci(t), a = t.cue, o = function(e) {
            if ("number" == typeof e.line && (e.snapToLines || 0 <= e.line && e.line <= 100))
                return e.line;
            if (!e.track || !e.track.textTrackList || !e.track.textTrackList.mediaElement)
                return -1;
            for (var t = e.track, i = t.textTrackList, n = 0, s = 0; s < i.length && i[s] !== t; s++)
                "showing" === i[s].mode && n++;
            return -1 * ++n
        }(a), l = [];
        if (a.snapToLines) {
            switch (a.vertical) {
            case "":
                l = ["+y", "-y"],
                s = "height";
                break;
            case "rl":
                l = ["+x", "-x"],
                s = "width";
                break;
            case "lr":
                l = ["-x", "+x"],
                s = "width"
            }
            var d = r.lineHeight
              , c = d * Math.round(o)
              , u = i[s] + d
              , h = l[0];
            Math.abs(c) > u && (c = c < 0 ? -1 : 1,
            c *= Math.ceil(u / d) * d),
            o < 0 && (c += "" === a.vertical ? i.height : i.width,
            l = l.reverse()),
            r.move(h, c)
        } else {
            var p = r.lineHeight / i.height * 100;
            switch (a.lineAlign) {
            case "center":
                o -= p / 2;
                break;
            case "end":
                o -= p
            }
            switch (a.vertical) {
            case "":
                t.applyStyles({
                    top: t.formatStyle(o, "%")
                });
                break;
            case "rl":
                t.applyStyles({
                    left: t.formatStyle(o, "%")
                });
                break;
            case "lr":
                t.applyStyles({
                    right: t.formatStyle(o, "%")
                })
            }
            l = ["+y", "-x", "+x", "-y"],
            r = new Ci(t)
        }
        u = function(e, t) {
            for (var s, r = new Ci(e), a = 1, o = 0; o < t.length; o++) {
                for (; e.overlapsOppositeAxis(i, t[o]) || e.within(i) && e.overlapsAny(n); )
                    e.move(t[o]);
                if (e.within(i))
                    return e;
                var l = e.intersectPercentage(i);
                l < a && (s = new Ci(e),
                a = l),
                e = new Ci(r)
            }
            return s || r
        }(r, l),
        t.move(u.toCSSCompatValues(i))
    }
    function Pi() {}
    ki.prototype.applyStyles = function(e, t) {
        for (var i in t = t || this.div,
        e)
            e.hasOwnProperty(i) && (t.style[i] = e[i])
    }
    ,
    ki.prototype.formatStyle = function(e, t) {
        return 0 === e ? 0 : e + t
    }
    ,
    (xi.prototype = ci(ki.prototype)).constructor = xi,
    Ci.prototype.move = function(e, t) {
        switch (t = void 0 !== t ? t : this.lineHeight,
        e) {
        case "+x":
            this.left += t,
            this.right += t;
            break;
        case "-x":
            this.left -= t,
            this.right -= t;
            break;
        case "+y":
            this.top += t,
            this.bottom += t;
            break;
        case "-y":
            this.top -= t,
            this.bottom -= t
        }
    }
    ,
    Ci.prototype.overlaps = function(e) {
        return this.left < e.right && this.right > e.left && this.top < e.bottom && this.bottom > e.top
    }
    ,
    Ci.prototype.overlapsAny = function(e) {
        for (var t = 0; t < e.length; t++)
            if (this.overlaps(e[t]))
                return !0;
        return !1
    }
    ,
    Ci.prototype.within = function(e) {
        return this.top >= e.top && this.bottom <= e.bottom && this.left >= e.left && this.right <= e.right
    }
    ,
    Ci.prototype.overlapsOppositeAxis = function(e, t) {
        switch (t) {
        case "+x":
            return this.left < e.left;
        case "-x":
            return this.right > e.right;
        case "+y":
            return this.top < e.top;
        case "-y":
            return this.bottom > e.bottom
        }
    }
    ,
    Ci.prototype.intersectPercentage = function(e) {
        return Math.max(0, Math.min(this.right, e.right) - Math.max(this.left, e.left)) * Math.max(0, Math.min(this.bottom, e.bottom) - Math.max(this.top, e.top)) / (this.height * this.width)
    }
    ,
    Ci.prototype.toCSSCompatValues = function(e) {
        return {
            top: this.top - e.top,
            bottom: e.bottom - this.bottom,
            left: this.left - e.left,
            right: e.right - this.right,
            height: this.height,
            width: this.width
        }
    }
    ,
    Ci.getSimpleBoxPosition = function(e) {
        var t = e.div ? e.div.offsetHeight : e.tagName ? e.offsetHeight : 0
          , i = e.div ? e.div.offsetWidth : e.tagName ? e.offsetWidth : 0
          , n = e.div ? e.div.offsetTop : e.tagName ? e.offsetTop : 0;
        return {
            left: (e = e.div ? e.div.getBoundingClientRect() : e.tagName ? e.getBoundingClientRect() : e).left,
            right: e.right,
            top: e.top || n,
            height: e.height || t,
            bottom: e.bottom || n + (e.height || t),
            width: e.width || i
        }
    }
    ,
    Pi.StringDecoder = function() {
        return {
            decode: function(e) {
                if (!e)
                    return "";
                if ("string" != typeof e)
                    throw new Error("Error - expected string data.");
                return decodeURIComponent(encodeURIComponent(e))
            }
        }
    }
    ,
    Pi.convertCueToDOMTree = function(e, t) {
        return e && t ? Ti(e, t) : null
    }
    ,
    Pi.processCues = function(e, t, i) {
        if (!e || !t || !i)
            return null;
        for (; i.firstChild; )
            i.removeChild(i.firstChild);
        var n = e.document.createElement("div");
        if (n.style.position = "absolute",
        n.style.left = "0",
        n.style.right = "0",
        n.style.top = "0",
        n.style.bottom = "0",
        n.style.margin = "1.5%",
        i.appendChild(n),
        function(e) {
            for (var t = 0; t < e.length; t++)
                if (e[t].hasBeenReset || !e[t].displayState)
                    return 1
        }(t))
            for (var s, r, a = [], o = Ci.getSimpleBoxPosition(n), l = {
                font: Math.round(.05 * o.height * 100) / 100 + "px sans-serif"
            }, d = 0; d < t.length; d++)
                s = new xi(e,r = t[d],l),
                n.appendChild(s.div),
                Ei(0, s, o, a),
                r.displayState = s.div,
                a.push(Ci.getSimpleBoxPosition(s));
        else
            for (var c = 0; c < t.length; c++)
                n.appendChild(t[c].displayState)
    }
    ,
    (Pi.Parser = function(e, t, i) {
        i || (i = t,
        t = {}),
        t = t || {},
        this.window = e,
        this.vttjs = t,
        this.state = "INITIAL",
        this.buffer = "",
        this.decoder = i || new TextDecoder("utf8"),
        this.regionList = []
    }
    ).prototype = {
        reportOrThrowError: function(e) {
            if (!(e instanceof hi))
                throw e;
            this.onparsingerror && this.onparsingerror(e)
        },
        parse: function(e) {
            var t = this;
            function i() {
                for (var e = t.buffer, i = 0; i < e.length && "\r" !== e[i] && "\n" !== e[i]; )
                    ++i;
                var n = e.substr(0, i);
                return "\r" === e[i] && ++i,
                "\n" === e[i] && ++i,
                t.buffer = e.substr(i),
                n
            }
            function n(e) {
                e.match(/X-TIMESTAMP-MAP/) ? mi(e, (function(e, i) {
                    var n;
                    "X-TIMESTAMP-MAP" === e && (e = i,
                    n = new fi,
                    mi(e, (function(e, t) {
                        switch (e) {
                        case "MPEGT":
                            n.integer(e + "S", t);
                            break;
                        case "LOCA":
                            n.set(e + "L", pi(t))
                        }
                    }
                    ), /[^\d]:/, /,/),
                    t.ontimestampmap) && t.ontimestampmap({
                        MPEGTS: n.get("MPEGTS"),
                        LOCAL: n.get("LOCAL")
                    })
                }
                ), /=/) : mi(e, (function(e, i) {
                    var n;
                    "Region" === e && (e = i,
                    n = new fi,
                    mi(e, (function(e, t) {
                        switch (e) {
                        case "id":
                            n.set(e, t);
                            break;
                        case "width":
                            n.percent(e, t);
                            break;
                        case "lines":
                            n.integer(e, t);
                            break;
                        case "regionanchor":
                        case "viewportanchor":
                            var i, s = t.split(",");
                            2 === s.length && ((i = new fi).percent("x", s[0]),
                            i.percent("y", s[1]),
                            i.has("x") && i.has("y")) && (n.set(e + "X", i.get("x")),
                            n.set(e + "Y", i.get("y")));
                            break;
                        case "scroll":
                            n.alt(e, t, ["up"])
                        }
                    }
                    ), /=/, /\s/),
                    n.has("id")) && ((e = new (t.vttjs.VTTRegion || t.window.VTTRegion)).width = n.get("width", 100),
                    e.lines = n.get("lines", 3),
                    e.regionAnchorX = n.get("regionanchorX", 0),
                    e.regionAnchorY = n.get("regionanchorY", 100),
                    e.viewportAnchorX = n.get("viewportanchorX", 0),
                    e.viewportAnchorY = n.get("viewportanchorY", 100),
                    e.scroll = n.get("scroll", ""),
                    t.onregion && t.onregion(e),
                    t.regionList.push({
                        id: n.get("id"),
                        region: e
                    }))
                }
                ), /:/)
            }
            e && (t.buffer += t.decoder.decode(e, {
                stream: !0
            }));
            try {
                if ("INITIAL" === t.state) {
                    if (!/\r\n|\n/.test(t.buffer))
                        return this;
                    var s, r = (s = i()).match(/^WEBVTT([ \t].*)?$/);
                    if (!r || !r[0])
                        throw new hi(hi.Errors.BadSignature);
                    t.state = "HEADER"
                }
                for (var a = !1; t.buffer; ) {
                    if (!/\r\n|\n/.test(t.buffer))
                        return this;
                    switch (a ? a = !1 : s = i(),
                    t.state) {
                    case "HEADER":
                        /:/.test(s) ? n(s) : s || (t.state = "ID");
                        continue;
                    case "NOTE":
                        s || (t.state = "ID");
                        continue;
                    case "ID":
                        if (/^NOTE($|[ \t])/.test(s)) {
                            t.state = "NOTE";
                            break
                        }
                        if (!s)
                            continue;
                        t.cue = new (t.vttjs.VTTCue || t.window.VTTCue)(0,0,"");
                        try {
                            t.cue.align = "center"
                        } catch (e) {
                            t.cue.align = "middle"
                        }
                        if (t.state = "CUE",
                        -1 === s.indexOf("--\x3e")) {
                            t.cue.id = s;
                            continue
                        }
                    case "CUE":
                        try {
                            !function(e, t, i) {
                                var n = e;
                                function s() {
                                    var t = pi(e);
                                    if (null === t)
                                        throw new hi(hi.Errors.BadTimeStamp,"Malformed timestamp: " + n);
                                    return e = e.replace(/^[^\sa-zA-Z-]+/, ""),
                                    t
                                }
                                function r() {
                                    e = e.replace(/^\s+/, "")
                                }
                                if (r(),
                                t.startTime = s(),
                                r(),
                                "--\x3e" !== e.substr(0, 3))
                                    throw new hi(hi.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): " + n);
                                e = e.substr(3),
                                r(),
                                t.endTime = s(),
                                r();
                                var a = e
                                  , o = new fi;
                                mi(a, (function(e, t) {
                                    switch (e) {
                                    case "region":
                                        for (var n = i.length - 1; 0 <= n; n--)
                                            if (i[n].id === t) {
                                                o.set(e, i[n].region);
                                                break
                                            }
                                        break;
                                    case "vertical":
                                        o.alt(e, t, ["rl", "lr"]);
                                        break;
                                    case "line":
                                        var s = t.split(",")
                                          , r = s[0];
                                        o.integer(e, r),
                                        o.percent(e, r) && o.set("snapToLines", !1),
                                        o.alt(e, r, ["auto"]),
                                        2 === s.length && o.alt("lineAlign", s[1], ["start", "center", "end"]);
                                        break;
                                    case "position":
                                        s = t.split(","),
                                        o.percent(e, s[0]),
                                        2 === s.length && o.alt("positionAlign", s[1], ["start", "center", "end"]);
                                        break;
                                    case "size":
                                        o.percent(e, t);
                                        break;
                                    case "align":
                                        o.alt(e, t, ["start", "center", "end", "left", "right"])
                                    }
                                }
                                ), /:/, /\s/),
                                t.region = o.get("region", null),
                                t.vertical = o.get("vertical", "");
                                try {
                                    t.line = o.get("line", "auto")
                                } catch (s) {}
                                t.lineAlign = o.get("lineAlign", "start"),
                                t.snapToLines = o.get("snapToLines", !0),
                                t.size = o.get("size", 100);
                                try {
                                    t.align = o.get("align", "center")
                                } catch (s) {
                                    t.align = o.get("align", "middle")
                                }
                                try {
                                    t.position = o.get("position", "auto")
                                } catch (s) {
                                    t.position = o.get("position", {
                                        start: 0,
                                        left: 0,
                                        center: 50,
                                        middle: 50,
                                        end: 100,
                                        right: 100
                                    }, t.align)
                                }
                                t.positionAlign = o.get("positionAlign", {
                                    start: "start",
                                    left: "start",
                                    center: "center",
                                    middle: "center",
                                    end: "end",
                                    right: "end"
                                }, t.align)
                            }(s, t.cue, t.regionList)
                        } catch (e) {
                            t.reportOrThrowError(e),
                            t.cue = null,
                            t.state = "BADCUE";
                            continue
                        }
                        t.state = "CUETEXT";
                        continue;
                    case "CUETEXT":
                        var o = -1 !== s.indexOf("--\x3e");
                        if (!s || o && (a = !0)) {
                            t.oncue && t.oncue(t.cue),
                            t.cue = null,
                            t.state = "ID";
                            continue
                        }
                        t.cue.text && (t.cue.text += "\n"),
                        t.cue.text += s.replace(/\u2028/g, "\n").replace(/u2029/g, "\n");
                        continue;
                    case "BADCUE":
                        s || (t.state = "ID");
                        continue
                    }
                }
            } catch (e) {
                t.reportOrThrowError(e),
                "CUETEXT" === t.state && t.cue && t.oncue && t.oncue(t.cue),
                t.cue = null,
                t.state = "INITIAL" === t.state ? "BADWEBVTT" : "BADCUE"
            }
            return this
        },
        flush: function() {
            var e = this;
            try {
                if (e.buffer += e.decoder.decode(),
                !e.cue && "HEADER" !== e.state || (e.buffer += "\n\n",
                e.parse()),
                "INITIAL" === e.state)
                    throw new hi(hi.Errors.BadSignature)
            } catch (t) {
                e.reportOrThrowError(t)
            }
            return e.onflush && e.onflush(),
            this
        }
    };
    var Ai = Pi
      , Ii = {
        "": 1,
        lr: 1,
        rl: 1
    }
      , Oi = {
        start: 1,
        center: 1,
        end: 1,
        left: 1,
        right: 1,
        auto: 1,
        "line-left": 1,
        "line-right": 1
    };
    function Li(e) {
        return "string" == typeof e && !!Oi[e.toLowerCase()] && e.toLowerCase()
    }
    function Mi(e, t, i) {
        this.hasBeenReset = !1;
        var n = ""
          , s = !1
          , r = e
          , a = t
          , o = i
          , l = null
          , d = ""
          , c = !0
          , u = "auto"
          , h = "start"
          , p = "auto"
          , f = "auto"
          , m = 100
          , g = "center";
        Object.defineProperties(this, {
            id: {
                enumerable: !0,
                get: function() {
                    return n
                },
                set: function(e) {
                    n = "" + e
                }
            },
            pauseOnExit: {
                enumerable: !0,
                get: function() {
                    return s
                },
                set: function(e) {
                    s = !!e
                }
            },
            startTime: {
                enumerable: !0,
                get: function() {
                    return r
                },
                set: function(e) {
                    if ("number" != typeof e)
                        throw new TypeError("Start time must be set to a number.");
                    r = e,
                    this.hasBeenReset = !0
                }
            },
            endTime: {
                enumerable: !0,
                get: function() {
                    return a
                },
                set: function(e) {
                    if ("number" != typeof e)
                        throw new TypeError("End time must be set to a number.");
                    a = e,
                    this.hasBeenReset = !0
                }
            },
            text: {
                enumerable: !0,
                get: function() {
                    return o
                },
                set: function(e) {
                    o = "" + e,
                    this.hasBeenReset = !0
                }
            },
            region: {
                enumerable: !0,
                get: function() {
                    return l
                },
                set: function(e) {
                    l = e,
                    this.hasBeenReset = !0
                }
            },
            vertical: {
                enumerable: !0,
                get: function() {
                    return d
                },
                set: function(e) {
                    if (!1 === (e = "string" == typeof e && !!Ii[e.toLowerCase()] && e.toLowerCase()))
                        throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");
                    d = e,
                    this.hasBeenReset = !0
                }
            },
            snapToLines: {
                enumerable: !0,
                get: function() {
                    return c
                },
                set: function(e) {
                    c = !!e,
                    this.hasBeenReset = !0
                }
            },
            line: {
                enumerable: !0,
                get: function() {
                    return u
                },
                set: function(e) {
                    if ("number" != typeof e && "auto" !== e)
                        throw new SyntaxError("Line: an invalid number or illegal string was specified.");
                    u = e,
                    this.hasBeenReset = !0
                }
            },
            lineAlign: {
                enumerable: !0,
                get: function() {
                    return h
                },
                set: function(e) {
                    (e = Li(e)) && (h = e,
                    this.hasBeenReset = !0)
                }
            },
            position: {
                enumerable: !0,
                get: function() {
                    return p
                },
                set: function(e) {
                    if (e < 0 || 100 < e)
                        throw new Error("Position must be between 0 and 100.");
                    p = e,
                    this.hasBeenReset = !0
                }
            },
            positionAlign: {
                enumerable: !0,
                get: function() {
                    return f
                },
                set: function(e) {
                    (e = Li(e)) && (f = e,
                    this.hasBeenReset = !0)
                }
            },
            size: {
                enumerable: !0,
                get: function() {
                    return m
                },
                set: function(e) {
                    if (e < 0 || 100 < e)
                        throw new Error("Size must be between 0 and 100.");
                    m = e,
                    this.hasBeenReset = !0
                }
            },
            align: {
                enumerable: !0,
                get: function() {
                    return g
                },
                set: function(e) {
                    if (!(e = Li(e)))
                        throw new SyntaxError("align: an invalid or illegal alignment string was specified.");
                    g = e,
                    this.hasBeenReset = !0
                }
            }
        }),
        this.displayState = void 0
    }
    Mi.prototype.getCueAsHTML = function() {
        return WebVTT.convertCueToDOMTree(window, this.text)
    }
    ;
    var Di = Mi
      , Ri = {
        "": !0,
        up: !0
    };
    function Ni(e) {
        return "number" == typeof e && 0 <= e && e <= 100
    }
    function Bi() {
        var e = 100
          , t = 3
          , i = 0
          , n = 100
          , s = 0
          , r = 100
          , a = "";
        Object.defineProperties(this, {
            width: {
                enumerable: !0,
                get: function() {
                    return e
                },
                set: function(t) {
                    if (!Ni(t))
                        throw new Error("Width must be between 0 and 100.");
                    e = t
                }
            },
            lines: {
                enumerable: !0,
                get: function() {
                    return t
                },
                set: function(e) {
                    if ("number" != typeof e)
                        throw new TypeError("Lines must be set to a number.");
                    t = e
                }
            },
            regionAnchorY: {
                enumerable: !0,
                get: function() {
                    return n
                },
                set: function(e) {
                    if (!Ni(e))
                        throw new Error("RegionAnchorX must be between 0 and 100.");
                    n = e
                }
            },
            regionAnchorX: {
                enumerable: !0,
                get: function() {
                    return i
                },
                set: function(e) {
                    if (!Ni(e))
                        throw new Error("RegionAnchorY must be between 0 and 100.");
                    i = e
                }
            },
            viewportAnchorY: {
                enumerable: !0,
                get: function() {
                    return r
                },
                set: function(e) {
                    if (!Ni(e))
                        throw new Error("ViewportAnchorY must be between 0 and 100.");
                    r = e
                }
            },
            viewportAnchorX: {
                enumerable: !0,
                get: function() {
                    return s
                },
                set: function(e) {
                    if (!Ni(e))
                        throw new Error("ViewportAnchorX must be between 0 and 100.");
                    s = e
                }
            },
            scroll: {
                enumerable: !0,
                get: function() {
                    return a
                },
                set: function(e) {
                    !1 !== (e = "string" == typeof e && !!Ri[e.toLowerCase()] && e.toLowerCase()) && (a = e)
                }
            }
        })
    }
    var ji = ot((function(e) {
        e = e.exports = {
            WebVTT: Ai,
            VTTCue: Di,
            VTTRegion: Bi
        };
        var t = ($t.vttjs = e,
        $t.WebVTT = e.WebVTT,
        e.VTTCue)
          , i = e.VTTRegion
          , n = $t.VTTCue
          , s = $t.VTTRegion;
        e.shim = function() {
            $t.VTTCue = t,
            $t.VTTRegion = i
        }
        ,
        e.restore = function() {
            $t.VTTCue = n,
            $t.VTTRegion = s
        }
        ,
        $t.VTTCue || e.shim()
    }
    ));
    ji.WebVTT,
    ji.VTTCue,
    ji.VTTRegion;
    class Fi extends dt {
        constructor(e={}, t=function() {}
        ) {
            e.reportTouchActivity = !1,
            super(null, e, t),
            this.onDurationChange_ = e => this.onDurationChange(e),
            this.trackProgress_ = e => this.trackProgress(e),
            this.trackCurrentTime_ = e => this.trackCurrentTime(e),
            this.stopTrackingCurrentTime_ = e => this.stopTrackingCurrentTime(e),
            this.disposeSourceHandler_ = e => this.disposeSourceHandler(e),
            this.queuedHanders_ = new Set,
            this.hasStarted_ = !1,
            this.on("playing", (function() {
                this.hasStarted_ = !0
            }
            )),
            this.on("loadstart", (function() {
                this.hasStarted_ = !1
            }
            )),
            di.names.forEach((t => {
                t = di[t],
                e && e[t.getterName] && (this[t.privateName] = e[t.getterName])
            }
            )),
            this.featuresProgressEvents || this.manualProgressOn(),
            this.featuresTimeupdateEvents || this.manualTimeUpdatesOn(),
            ["Text", "Audio", "Video"].forEach((t => {
                !1 === e[`native${t}Tracks`] && (this[`featuresNative${t}Tracks`] = !1)
            }
            )),
            !1 === e.nativeCaptions || !1 === e.nativeTextTracks ? this.featuresNativeTextTracks = !1 : !0 !== e.nativeCaptions && !0 !== e.nativeTextTracks || (this.featuresNativeTextTracks = !0),
            this.featuresNativeTextTracks || this.emulateTextTracks(),
            this.preloadTextTracks = !1 !== e.preloadTextTracks,
            this.autoRemoteTextTracks_ = new di.text.ListClass,
            this.initTrackListeners(),
            e.nativeControlsForTouch || this.emitTapEvents(),
            this.constructor && (this.name_ = this.constructor.name || "Unknown Tech")
        }
        triggerSourceset(e) {
            this.isReady_ || this.one("ready", ( () => this.setTimeout(( () => this.triggerSourceset(e)), 1))),
            this.trigger({
                src: e,
                type: "sourceset"
            })
        }
        manualProgressOn() {
            this.on("durationchange", this.onDurationChange_),
            this.manualProgress = !0,
            this.one("ready", this.trackProgress_)
        }
        manualProgressOff() {
            this.manualProgress = !1,
            this.stopTrackingProgress(),
            this.off("durationchange", this.onDurationChange_)
        }
        trackProgress(e) {
            this.stopTrackingProgress(),
            this.progressInterval = this.setInterval(je(this, (function() {
                var e = this.bufferedPercent();
                this.bufferedPercent_ !== e && this.trigger("progress"),
                1 === (this.bufferedPercent_ = e) && this.stopTrackingProgress()
            }
            )), 500)
        }
        onDurationChange(e) {
            this.duration_ = this.duration()
        }
        buffered() {
            return ht(0, 0)
        }
        bufferedPercent() {
            return bt(this.buffered(), this.duration_)
        }
        stopTrackingProgress() {
            this.clearInterval(this.progressInterval)
        }
        manualTimeUpdatesOn() {
            this.manualTimeUpdates = !0,
            this.on("play", this.trackCurrentTime_),
            this.on("pause", this.stopTrackingCurrentTime_)
        }
        manualTimeUpdatesOff() {
            this.manualTimeUpdates = !1,
            this.stopTrackingCurrentTime(),
            this.off("play", this.trackCurrentTime_),
            this.off("pause", this.stopTrackingCurrentTime_)
        }
        trackCurrentTime() {
            this.currentTimeInterval && this.stopTrackingCurrentTime(),
            this.currentTimeInterval = this.setInterval((function() {
                this.trigger({
                    type: "timeupdate",
                    target: this,
                    manuallyTriggered: !0
                })
            }
            ), 250)
        }
        stopTrackingCurrentTime() {
            this.clearInterval(this.currentTimeInterval),
            this.trigger({
                type: "timeupdate",
                target: this,
                manuallyTriggered: !0
            })
        }
        dispose() {
            this.clearTracks(oi.names),
            this.manualProgress && this.manualProgressOff(),
            this.manualTimeUpdates && this.manualTimeUpdatesOff(),
            super.dispose()
        }
        clearTracks(e) {
            (e = [].concat(e)).forEach((e => {
                var t = this[e + "Tracks"]() || [];
                let i = t.length;
                for (; i--; ) {
                    var n = t[i];
                    "text" === e && this.removeRemoteTextTrack(n),
                    t.removeTrack(n)
                }
            }
            ))
        }
        cleanupAutoTextTracks() {
            var e = this.autoRemoteTextTracks_ || [];
            let t = e.length;
            for (; t--; ) {
                var i = e[t];
                this.removeRemoteTextTrack(i)
            }
        }
        reset() {}
        crossOrigin() {}
        setCrossOrigin() {}
        error(e) {
            return void 0 !== e && (this.error_ = new _t(e),
            this.trigger("error")),
            this.error_
        }
        played() {
            return this.hasStarted_ ? ht(0, 0) : ht()
        }
        play() {}
        setScrubbing() {}
        scrubbing() {}
        setCurrentTime() {
            this.manualTimeUpdates && this.trigger({
                type: "timeupdate",
                target: this,
                manuallyTriggered: !0
            })
        }
        initTrackListeners() {
            oi.names.forEach((e => {
                var t = oi[e];
                const i = () => {
                    this.trigger(e + "trackchange")
                }
                  , n = this[t.getterName]();
                n.addEventListener("removetrack", i),
                n.addEventListener("addtrack", i),
                this.on("dispose", ( () => {
                    n.removeEventListener("removetrack", i),
                    n.removeEventListener("addtrack", i)
                }
                ))
            }
            ))
        }
        addWebVttScript_() {
            if (!window.WebVTT)
                if (document.body.contains(this.el()))
                    if (!this.options_["vtt.js"] && g(ji) && 0 < Object.keys(ji).length)
                        this.trigger("vttjsloaded");
                    else {
                        const e = document.createElement("script");
                        e.src = this.options_["vtt.js"] || "https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",
                        e.onload = () => {
                            this.trigger("vttjsloaded")
                        }
                        ,
                        e.onerror = () => {
                            this.trigger("vttjserror")
                        }
                        ,
                        this.on("dispose", ( () => {
                            e.onload = null,
                            e.onerror = null
                        }
                        )),
                        window.WebVTT = !0,
                        this.el().parentNode.appendChild(e)
                    }
                else
                    this.ready(this.addWebVttScript_)
        }
        emulateTextTracks() {
            const e = this.textTracks()
              , t = this.remoteTextTracks()
              , i = t => e.addTrack(t.track)
              , n = t => e.removeTrack(t.track)
              , s = (t.on("addtrack", i),
            t.on("removetrack", n),
            this.addWebVttScript_(),
            () => this.trigger("texttrackchange"))
              , r = () => {
                s();
                for (let i = 0; i < e.length; i++) {
                    var t = e[i];
                    t.removeEventListener("cuechange", s),
                    "showing" === t.mode && t.addEventListener("cuechange", s)
                }
            }
            ;
            r(),
            e.addEventListener("change", r),
            e.addEventListener("addtrack", r),
            e.addEventListener("removetrack", r),
            this.on("dispose", (function() {
                t.off("addtrack", i),
                t.off("removetrack", n),
                e.removeEventListener("change", r),
                e.removeEventListener("addtrack", r),
                e.removeEventListener("removetrack", r);
                for (let t = 0; t < e.length; t++)
                    e[t].removeEventListener("cuechange", s)
            }
            ))
        }
        addTextTrack(e, t, i) {
            if (e)
                return s = {},
                r = (n = this).textTracks(),
                s.kind = e,
                t && (s.label = t),
                i && (s.language = i),
                s.tech = n,
                e = new di.text.TrackClass(s),
                r.addTrack(e),
                e;
            throw new Error("TextTrack kind is required but was not provided");
            var n, s, r
        }
        createRemoteTextTrack(e) {
            return e = v(e, {
                tech: this
            }),
            new li.remoteTextEl.TrackClass(e)
        }
        addRemoteTextTrack(e={}, t) {
            const i = this.createRemoteTextTrack(e);
            return "boolean" != typeof t && (t = !1),
            this.remoteTextTrackEls().addTrackElement_(i),
            this.remoteTextTracks().addTrack(i.track),
            !1 === t && this.ready(( () => this.autoRemoteTextTracks_.addTrack(i.track))),
            i
        }
        removeRemoteTextTrack(e) {
            var t = this.remoteTextTrackEls().getTrackElementByTrack_(e);
            this.remoteTextTrackEls().removeTrackElement_(t),
            this.remoteTextTracks().removeTrack(e),
            this.autoRemoteTextTracks_.removeTrack(e)
        }
        getVideoPlaybackQuality() {
            return {}
        }
        requestPictureInPicture() {
            return Promise.reject()
        }
        disablePictureInPicture() {
            return !0
        }
        setDisablePictureInPicture() {}
        requestVideoFrameCallback(e) {
            const t = Ee++;
            return !this.isReady_ || this.paused() ? (this.queuedHanders_.add(t),
            this.one("playing", ( () => {
                this.queuedHanders_.has(t) && (this.queuedHanders_.delete(t),
                e())
            }
            ))) : this.requestNamedAnimationFrame(t, e),
            t
        }
        cancelVideoFrameCallback(e) {
            this.queuedHanders_.has(e) ? this.queuedHanders_.delete(e) : this.cancelNamedAnimationFrame(e)
        }
        setPoster() {}
        playsinline() {}
        setPlaysinline() {}
        overrideNativeAudioTracks() {}
        overrideNativeVideoTracks() {}
        canPlayType() {
            return ""
        }
        static canPlayType() {
            return ""
        }
        static canPlaySource(e, t) {
            return Fi.canPlayType(e.type)
        }
        static isTech(e) {
            return e.prototype instanceof Fi || e instanceof Fi || e === Fi
        }
        static registerTech(e, t) {
            if (Fi.techs_ || (Fi.techs_ = {}),
            !Fi.isTech(t))
                throw new Error(`Tech ${e} must be a Tech`);
            if (!Fi.canPlayType)
                throw new Error("Techs must have a static canPlayType method on them");
            if (Fi.canPlaySource)
                return e = nt(e),
                Fi.techs_[e] = t,
                Fi.techs_[it(e)] = t,
                "Tech" !== e && Fi.defaultTechOrder_.push(e),
                t;
            throw new Error("Techs must have a static canPlaySource method on them")
        }
        static getTech(e) {
            if (e)
                return Fi.techs_ && Fi.techs_[e] ? Fi.techs_[e] : (e = nt(e),
                window && window.videojs && window.videojs[e] ? (c.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),
                window.videojs[e]) : void 0)
        }
    }
    di.names.forEach((function(e) {
        const t = di[e];
        Fi.prototype[t.getterName] = function() {
            return this[t.privateName] = this[t.privateName] || new t.ListClass,
            this[t.privateName]
        }
    }
    )),
    Fi.prototype.featuresVolumeControl = !0,
    Fi.prototype.featuresMuteControl = !0,
    Fi.prototype.featuresFullscreenResize = !1,
    Fi.prototype.featuresPlaybackRate = !1,
    Fi.prototype.featuresProgressEvents = !1,
    Fi.prototype.featuresSourceset = !1,
    Fi.prototype.featuresTimeupdateEvents = !1,
    Fi.prototype.featuresNativeTextTracks = !1,
    Fi.prototype.featuresVideoFrameCallback = !1,
    Fi.withSourceHandlers = function(e) {
        e.registerSourceHandler = function(t, i) {
            let n = e.sourceHandlers;
            n = n || (e.sourceHandlers = []),
            void 0 === i && (i = n.length),
            n.splice(i, 0, t)
        }
        ,
        e.canPlayType = function(t) {
            var i, n = e.sourceHandlers || [];
            for (let e = 0; e < n.length; e++)
                if (i = n[e].canPlayType(t))
                    return i;
            return ""
        }
        ,
        e.selectSourceHandler = function(t, i) {
            var n = e.sourceHandlers || [];
            for (let e = 0; e < n.length; e++)
                if (n[e].canHandleSource(t, i))
                    return n[e];
            return null
        }
        ,
        e.canPlaySource = function(t, i) {
            var n = e.selectSourceHandler(t, i);
            return n ? n.canHandleSource(t, i) : ""
        }
        ,
        ["seekable", "seeking", "duration"].forEach((function(e) {
            const t = this[e];
            "function" == typeof t && (this[e] = function() {
                return this.sourceHandler_ && this.sourceHandler_[e] ? this.sourceHandler_[e].apply(this.sourceHandler_, arguments) : t.apply(this, arguments)
            }
            )
        }
        ), e.prototype),
        e.prototype.setSource = function(t) {
            let i = e.selectSourceHandler(t, this.options_);
            i || (e.nativeSourceHandler ? i = e.nativeSourceHandler : c.error("No source handler found for the current source.")),
            this.disposeSourceHandler(),
            this.off("dispose", this.disposeSourceHandler_),
            i !== e.nativeSourceHandler && (this.currentSource_ = t),
            this.sourceHandler_ = i.handleSource(t, this, this.options_),
            this.one("dispose", this.disposeSourceHandler_)
        }
        ,
        e.prototype.disposeSourceHandler = function() {
            this.currentSource_ && (this.clearTracks(["audio", "video"]),
            this.currentSource_ = null),
            this.cleanupAutoTextTracks(),
            this.sourceHandler_ && (this.sourceHandler_.dispose && this.sourceHandler_.dispose(),
            this.sourceHandler_ = null)
        }
    }
    ,
    dt.registerComponent("Tech", Fi),
    Fi.registerTech("Tech", Fi),
    Fi.defaultTechOrder_ = [];
    const Ui = {}
      , $i = {}
      , Hi = {};
    function zi(e, t, i) {
        e.setTimeout(( () => function e(t={}, i=[], n, s, r=[], a=!1) {
            const [o,...l] = i;
            if ("string" == typeof o)
                e(t, Ui[o], n, s, r, a);
            else if (o) {
                const i = function(e, t) {
                    var i = $i[e.id()];
                    let n = null;
                    if (null == i)
                        n = t(e),
                        $i[e.id()] = [[t, n]];
                    else {
                        for (let e = 0; e < i.length; e++) {
                            var [s,r] = i[e];
                            s === t && (n = r)
                        }
                        null === n && (n = t(e),
                        i.push([t, n]))
                    }
                    return n
                }(s, o);
                if (!i.setSource)
                    return r.push(i),
                    e(t, l, n, s, r, a);
                i.setSource(Object.assign({}, t), (function(o, d) {
                    if (o)
                        return e(t, l, n, s, r, a);
                    r.push(i),
                    e(d, t.type === d.type ? l : Ui[d.type], n, s, r, a)
                }
                ))
            } else
                l.length ? e(t, l, n, s, r, a) : a ? n(t, r) : e(t, Ui["*"], n, s, r, !0)
        }(t, Ui[t.type], i, e)), 1)
    }
    function qi(e, t, i, n=null) {
        var s = "call" + nt(i)
          , r = (s = e.reduce(Xi(s), n),
        e)
          , a = i
          , o = t = (n = s === Hi) ? null : t[i](s)
          , l = n;
        for (let e = r.length - 1; 0 <= e; e--) {
            var d = r[e];
            d[a] && d[a](l, o)
        }
        return t
    }
    const Wi = {
        buffered: 1,
        currentTime: 1,
        duration: 1,
        muted: 1,
        played: 1,
        paused: 1,
        seekable: 1,
        volume: 1,
        ended: 1
    }
      , Vi = {
        setCurrentTime: 1,
        setMuted: 1,
        setVolume: 1
    }
      , Gi = {
        play: 1,
        pause: 1
    };
    function Xi(e) {
        return (t, i) => t === Hi ? Hi : i[e] ? i[e](t) : t
    }
    function Yi(e) {
        if (Array.isArray(e)) {
            let t = [];
            e.forEach((function(e) {
                e = Yi(e),
                Array.isArray(e) ? t = t.concat(e) : m(e) && t.push(e)
            }
            )),
            e = t
        } else
            e = "string" == typeof e && e.trim() ? [Zi({
                src: e
            })] : m(e) && "string" == typeof e.src && e.src && e.src.trim() ? [Zi(e)] : [];
        return e
    }
    const Ki = {
        opus: "video/ogg",
        ogv: "video/ogg",
        mp4: "video/mp4",
        mov: "video/mp4",
        m4v: "video/mp4",
        mkv: "video/x-matroska",
        m4a: "audio/mp4",
        mp3: "audio/mpeg",
        aac: "audio/aac",
        caf: "audio/x-caf",
        flac: "audio/flac",
        oga: "audio/ogg",
        wav: "audio/wav",
        m3u8: "application/x-mpegURL",
        mpd: "application/dash+xml",
        jpg: "image/jpeg",
        jpeg: "image/jpeg",
        gif: "image/gif",
        png: "image/png",
        svg: "image/svg+xml",
        webp: "image/webp"
    }
      , Qi = function(e="") {
        return e = Ft(e),
        Ki[e.toLowerCase()] || ""
    };
    function Zi(e) {
        var t;
        return e.type || (t = Qi(e.src)) && (e.type = t),
        e
    }
    dt.registerComponent("MediaLoader", class extends dt {
        constructor(e, t, i) {
            if (super(e, v({
                createEl: !1
            }, t), i),
            t.playerOptions.sources && 0 !== t.playerOptions.sources.length)
                e.src(t.playerOptions.sources);
            else
                for (let i = 0, s = t.playerOptions.techOrder; i < s.length; i++) {
                    var n = nt(s[i]);
                    let t = Fi.getTech(n);
                    if ((t = n ? t : dt.getComponent(n)) && t.isSupported()) {
                        e.loadTech_(n);
                        break
                    }
                }
        }
    }
    );
    class Ji extends dt {
        constructor(e, t) {
            super(e, t),
            this.options_.controlText && this.controlText(this.options_.controlText),
            this.handleMouseOver_ = e => this.handleMouseOver(e),
            this.handleMouseOut_ = e => this.handleMouseOut(e),
            this.handleClick_ = e => this.handleClick(e),
            this.handleKeyDown_ = e => this.handleKeyDown(e),
            this.emitTapEvents(),
            this.enable()
        }
        createEl(e="div", t={}, i={}) {
            return t = Object.assign({
                className: this.buildCSSClass(),
                tabIndex: 0
            }, t),
            "button" === e && c.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),
            i = Object.assign({
                role: "button"
            }, i),
            this.tabIndex_ = t.tabIndex,
            (e = W(e, t, i)).appendChild(W("span", {
                className: "vjs-icon-placeholder"
            }, {
                "aria-hidden": !0
            })),
            this.createControlTextEl(e),
            e
        }
        dispose() {
            this.controlTextEl_ = null,
            super.dispose()
        }
        createControlTextEl(e) {
            return this.controlTextEl_ = W("span", {
                className: "vjs-control-text"
            }, {
                "aria-live": "polite"
            }),
            e && e.appendChild(this.controlTextEl_),
            this.controlText(this.controlText_, e),
            this.controlTextEl_
        }
        controlText(e, t=this.el()) {
            if (void 0 === e)
                return this.controlText_ || "Need Text";
            var i = this.localize(e);
            this.controlText_ = e,
            V(this.controlTextEl_, i),
            this.nonIconControl || this.player_.options_.noUITitleAttributes || t.setAttribute("title", i)
        }
        buildCSSClass() {
            return "vjs-control vjs-button " + super.buildCSSClass()
        }
        enable() {
            this.enabled_ || (this.enabled_ = !0,
            this.removeClass("vjs-disabled"),
            this.el_.setAttribute("aria-disabled", "false"),
            void 0 !== this.tabIndex_ && this.el_.setAttribute("tabIndex", this.tabIndex_),
            this.on(["tap", "click"], this.handleClick_),
            this.on("keydown", this.handleKeyDown_))
        }
        disable() {
            this.enabled_ = !1,
            this.addClass("vjs-disabled"),
            this.el_.setAttribute("aria-disabled", "true"),
            void 0 !== this.tabIndex_ && this.el_.removeAttribute("tabIndex"),
            this.off("mouseover", this.handleMouseOver_),
            this.off("mouseout", this.handleMouseOut_),
            this.off(["tap", "click"], this.handleClick_),
            this.off("keydown", this.handleKeyDown_)
        }
        handleLanguagechange() {
            this.controlText(this.controlText_)
        }
        handleClick(e) {
            this.options_.clickHandler && this.options_.clickHandler.call(this, arguments)
        }
        handleKeyDown(e) {
            lt.isEventKey(e, "Space") || lt.isEventKey(e, "Enter") ? (e.preventDefault(),
            e.stopPropagation(),
            this.trigger("click")) : super.handleKeyDown(e)
        }
    }
    dt.registerComponent("ClickableComponent", Ji);
    class en extends Ji {
        constructor(e, t) {
            super(e, t),
            this.update(),
            this.update_ = e => this.update(e),
            e.on("posterchange", this.update_)
        }
        dispose() {
            this.player().off("posterchange", this.update_),
            super.dispose()
        }
        createEl() {
            return W("picture", {
                className: "vjs-poster",
                tabIndex: -1
            }, {}, W("img", {
                loading: "lazy",
                crossOrigin: this.crossOrigin()
            }, {
                alt: ""
            }))
        }
        crossOrigin(e) {
            if (void 0 === e)
                return this.el_ ? this.el_.querySelector("img").crossOrigin : this.player_.tech_ && this.player_.tech_.isReady_ ? this.player_.crossOrigin() : this.player_.options_.crossOrigin || this.player_.options_.crossorigin || null;
            null !== e && "anonymous" !== e && "use-credentials" !== e ? this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`) : this.el_.querySelector("img").crossOrigin = e
        }
        update(e) {
            var t = this.player().poster();
            this.setSrc(t),
            t ? this.show() : this.hide()
        }
        setSrc(e) {
            this.el_.querySelector("img").src = e
        }
        handleClick(e) {
            this.player_.controls() && (this.player_.tech(!0) && this.player_.tech(!0).focus(),
            this.player_.paused() ? wt(this.player_.play()) : this.player_.pause())
        }
    }
    en.prototype.crossorigin = en.prototype.crossOrigin,
    dt.registerComponent("PosterImage", en);
    const tn = {
        monospace: "monospace",
        sansSerif: "sans-serif",
        serif: "serif",
        monospaceSansSerif: '"Andale Mono", "Lucida Console", monospace',
        monospaceSerif: '"Courier New", monospace',
        proportionalSansSerif: "sans-serif",
        proportionalSerif: "serif",
        casual: '"Comic Sans MS", Impact, fantasy',
        script: '"Monotype Corsiva", cursive',
        smallcaps: '"Andale Mono", "Lucida Console", monospace, sans-serif'
    };
    function nn(e, t) {
        let i;
        if (4 === e.length)
            i = e[1] + e[1] + e[2] + e[2] + e[3] + e[3];
        else {
            if (7 !== e.length)
                throw new Error("Invalid color code provided, " + e + "; must be formatted as e.g. #f0e or #f604e2.");
            i = e.slice(1)
        }
        return "rgba(" + parseInt(i.slice(0, 2), 16) + "," + parseInt(i.slice(2, 4), 16) + "," + parseInt(i.slice(4, 6), 16) + "," + t + ")"
    }
    function sn(e, t, i) {
        try {
            e.style[t] = i
        } catch (e) {}
    }
    dt.registerComponent("TextTrackDisplay", class extends dt {
        constructor(e, t, i) {
            super(e, t, i);
            const n = e => this.updateDisplay(e);
            e.on("loadstart", (e => this.toggleDisplay(e))),
            e.on("texttrackchange", n),
            e.on("loadedmetadata", (e => this.preselectTrack(e))),
            e.ready(je(this, (function() {
                if (e.tech_ && e.tech_.featuresNativeTextTracks)
                    this.hide();
                else {
                    e.on("fullscreenchange", n),
                    e.on("playerresize", n);
                    const i = window.screen.orientation || window
                      , s = window.screen.orientation ? "change" : "orientationchange";
                    i.addEventListener(s, n),
                    e.on("dispose", ( () => i.removeEventListener(s, n)));
                    var t = this.options_.playerOptions.tracks || [];
                    for (let e = 0; e < t.length; e++)
                        this.player_.addRemoteTextTrack(t[e], !0);
                    this.preselectTrack()
                }
            }
            )))
        }
        preselectTrack() {
            var e = {
                captions: 1,
                subtitles: 1
            }
              , t = this.player_.textTracks()
              , i = this.player_.cache_.selectedLanguage;
            let n, s, r;
            for (let o = 0; o < t.length; o++) {
                var a = t[o];
                i && i.enabled && i.language && i.language === a.language && a.kind in e ? r = a.kind !== i.kind && r || a : i && !i.enabled ? (r = null,
                n = null,
                s = null) : a.default && ("descriptions" !== a.kind || n ? a.kind in e && !s && (s = a) : n = a)
            }
            r ? r.mode = "showing" : s ? s.mode = "showing" : n && (n.mode = "showing")
        }
        toggleDisplay() {
            this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks ? this.hide() : this.show()
        }
        createEl() {
            return super.createEl("div", {
                className: "vjs-text-track-display"
            }, {
                translate: "yes",
                "aria-live": "off",
                "aria-atomic": "true"
            })
        }
        clearDisplay() {
            "function" == typeof window.WebVTT && window.WebVTT.processCues(window, [], this.el_)
        }
        updateDisplay() {
            var e = this.player_.textTracks()
              , t = this.options_.allowMultipleShowingTracks;
            if (this.clearDisplay(),
            t) {
                var i = [];
                for (let t = 0; t < e.length; ++t) {
                    var n = e[t];
                    "showing" === n.mode && i.push(n)
                }
                this.updateForTrack(i)
            } else {
                let t = null
                  , i = null
                  , n = e.length;
                for (; n--; ) {
                    var s = e[n];
                    "showing" === s.mode && ("descriptions" === s.kind ? t = s : i = s)
                }
                i ? ("off" !== this.getAttribute("aria-live") && this.setAttribute("aria-live", "off"),
                this.updateForTrack(i)) : t && ("assertive" !== this.getAttribute("aria-live") && this.setAttribute("aria-live", "assertive"),
                this.updateForTrack(t))
            }
        }
        updateDisplayState(e) {
            var t = this.player_.textTrackSettings.getValues()
              , i = e.activeCues;
            let n = i.length;
            for (; n--; ) {
                var s, r = i[n];
                r && (r = r.displayState,
                t.color && (r.firstChild.style.color = t.color),
                t.textOpacity && sn(r.firstChild, "color", nn(t.color || "#fff", t.textOpacity)),
                t.backgroundColor && (r.firstChild.style.backgroundColor = t.backgroundColor),
                t.backgroundOpacity && sn(r.firstChild, "backgroundColor", nn(t.backgroundColor || "#000", t.backgroundOpacity)),
                t.windowColor && (t.windowOpacity ? sn(r, "backgroundColor", nn(t.windowColor, t.windowOpacity)) : r.style.backgroundColor = t.windowColor),
                t.edgeStyle && ("dropshadow" === t.edgeStyle ? r.firstChild.style.textShadow = "2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222" : "raised" === t.edgeStyle ? r.firstChild.style.textShadow = "1px 1px #222, 2px 2px #222, 3px 3px #222" : "depressed" === t.edgeStyle ? r.firstChild.style.textShadow = "1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222" : "uniform" === t.edgeStyle && (r.firstChild.style.textShadow = "0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),
                t.fontPercent && 1 !== t.fontPercent && (s = window.parseFloat(r.style.fontSize),
                r.style.fontSize = s * t.fontPercent + "px",
                r.style.height = "auto",
                r.style.top = "auto"),
                t.fontFamily) && "default" !== t.fontFamily && ("small-caps" === t.fontFamily ? r.firstChild.style.fontVariant = "small-caps" : r.firstChild.style.fontFamily = tn[t.fontFamily])
            }
        }
        updateForTrack(e) {
            if (Array.isArray(e) || (e = [e]),
            "function" == typeof window.WebVTT && !e.every((e => !e.activeCues))) {
                var t = [];
                for (let n = 0; n < e.length; ++n) {
                    var i = e[n];
                    for (let e = 0; e < i.activeCues.length; ++e)
                        t.push(i.activeCues[e])
                }
                window.WebVTT.processCues(window, t, this.el_);
                for (let t = 0; t < e.length; ++t) {
                    var n = e[t];
                    for (let e = 0; e < n.activeCues.length; ++e) {
                        var s = n.activeCues[e].displayState;
                        Y(s, "vjs-text-track-cue", "vjs-text-track-cue-" + (n.language || t)),
                        n.language && te(s, "lang", n.language)
                    }
                    this.player_.textTrackSettings && this.updateDisplayState(n)
                }
            }
        }
    }
    );
    dt.registerComponent("LoadingSpinner", class extends dt {
        createEl() {
            var e = this.player_.isAudio()
              , t = (e = this.localize(e ? "Audio Player" : "Video Player"),
            e = W("span", {
                className: "vjs-control-text",
                textContent: this.localize("{1} is loading.", [e])
            }),
            super.createEl("div", {
                className: "vjs-loading-spinner",
                dir: "ltr"
            }));
            return t.appendChild(e),
            t
        }
    }
    );
    class rn extends Ji {
        createEl(e, t={}, i={}) {
            return (t = W("button", t = Object.assign({
                className: this.buildCSSClass()
            }, t), i = Object.assign({
                type: "button"
            }, i))).appendChild(W("span", {
                className: "vjs-icon-placeholder"
            }, {
                "aria-hidden": !0
            })),
            this.createControlTextEl(t),
            t
        }
        addChild(e, t={}) {
            var i = this.constructor.name;
            return c.warn(`Adding an actionable (user controllable) child to a Button (${i}) is not supported; use a ClickableComponent instead.`),
            dt.prototype.addChild.call(this, e, t)
        }
        enable() {
            super.enable(),
            this.el_.removeAttribute("disabled")
        }
        disable() {
            super.disable(),
            this.el_.setAttribute("disabled", "disabled")
        }
        handleKeyDown(e) {
            lt.isEventKey(e, "Space") || lt.isEventKey(e, "Enter") ? e.stopPropagation() : super.handleKeyDown(e)
        }
    }
    dt.registerComponent("Button", rn);
    class an extends rn {
        constructor(e, t) {
            super(e, t),
            this.mouseused_ = !1,
            this.on("mousedown", (e => this.handleMouseDown(e)))
        }
        buildCSSClass() {
            return "vjs-big-play-button"
        }
        handleClick(e) {
            var t = this.player_.play();
            if (this.mouseused_ && e.clientX && e.clientY)
                wt(t),
                this.player_.tech(!0) && this.player_.tech(!0).focus();
            else {
                const i = (e = this.player_.getChild("controlBar")) && e.getChild("playToggle");
                i ? (e = () => i.focus(),
                Tt(t) ? t.then(e, ( () => {}
                )) : this.setTimeout(e, 1)) : this.player_.tech(!0).focus()
            }
        }
        handleKeyDown(e) {
            this.mouseused_ = !1,
            super.handleKeyDown(e)
        }
        handleMouseDown(e) {
            this.mouseused_ = !0
        }
    }
    an.prototype.controlText_ = "Play Video",
    dt.registerComponent("BigPlayButton", an),
    dt.registerComponent("CloseButton", class extends rn {
        constructor(e, t) {
            super(e, t),
            this.controlText(t && t.controlText || this.localize("Close"))
        }
        buildCSSClass() {
            return "vjs-close-button " + super.buildCSSClass()
        }
        handleClick(e) {
            this.trigger({
                type: "close",
                bubbles: !1
            })
        }
        handleKeyDown(e) {
            lt.isEventKey(e, "Esc") ? (e.preventDefault(),
            e.stopPropagation(),
            this.trigger("click")) : super.handleKeyDown(e)
        }
    }
    );
    class on extends rn {
        constructor(e, t={}) {
            super(e, t),
            t.replay = void 0 === t.replay || t.replay,
            this.on(e, "play", (e => this.handlePlay(e))),
            this.on(e, "pause", (e => this.handlePause(e))),
            t.replay && this.on(e, "ended", (e => this.handleEnded(e)))
        }
        buildCSSClass() {
            return "vjs-play-control " + super.buildCSSClass()
        }
        handleClick(e) {
            this.player_.paused() ? wt(this.player_.play()) : this.player_.pause()
        }
        handleSeeked(e) {
            this.removeClass("vjs-ended"),
            this.player_.paused() ? this.handlePause(e) : this.handlePlay(e)
        }
        handlePlay(e) {
            this.removeClass("vjs-ended", "vjs-paused"),
            this.addClass("vjs-playing"),
            this.controlText("Pause")
        }
        handlePause(e) {
            this.removeClass("vjs-playing"),
            this.addClass("vjs-paused"),
            this.controlText("Play")
        }
        handleEnded(e) {
            this.removeClass("vjs-playing"),
            this.addClass("vjs-ended"),
            this.controlText("Replay"),
            this.one(this.player_, "seeked", (e => this.handleSeeked(e)))
        }
    }
    on.prototype.controlText_ = "Play",
    dt.registerComponent("PlayToggle", on);
    class ln extends dt {
        constructor(e, t) {
            super(e, t),
            this.on(e, ["timeupdate", "ended"], (e => this.updateContent(e))),
            this.updateTextNode_()
        }
        createEl() {
            var e = this.buildCSSClass()
              , t = super.createEl("div", {
                className: e + " vjs-time-control vjs-control"
            })
              , i = W("span", {
                className: "vjs-control-text",
                textContent: this.localize(this.labelText_) + "Â "
            }, {
                role: "presentation"
            });
            return t.appendChild(i),
            this.contentEl_ = W("span", {
                className: e + "-display"
            }, {
                "aria-live": "off",
                role: "presentation"
            }),
            t.appendChild(this.contentEl_),
            t
        }
        dispose() {
            this.contentEl_ = null,
            this.textNode_ = null,
            super.dispose()
        }
        updateTextNode_(e=0) {
            e = vt(e),
            this.formattedTime_ !== e && (this.formattedTime_ = e,
            this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_", ( () => {
                if (this.contentEl_) {
                    let e = this.textNode_;
                    e && this.contentEl_.firstChild !== e && (e = null,
                    c.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),
                    this.textNode_ = document.createTextNode(this.formattedTime_),
                    this.textNode_ && (e ? this.contentEl_.replaceChild(this.textNode_, e) : this.contentEl_.appendChild(this.textNode_))
                }
            }
            )))
        }
        updateContent(e) {}
    }
    ln.prototype.labelText_ = "Time",
    ln.prototype.controlText_ = "Time",
    dt.registerComponent("TimeDisplay", ln);
    class dn extends ln {
        buildCSSClass() {
            return "vjs-current-time"
        }
        updateContent(e) {
            let t;
            t = this.player_.ended() ? this.player_.duration() : this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime(),
            this.updateTextNode_(t)
        }
    }
    dn.prototype.labelText_ = "Current Time",
    dn.prototype.controlText_ = "Current Time",
    dt.registerComponent("CurrentTimeDisplay", dn);
    class cn extends ln {
        constructor(e, t) {
            super(e, t),
            t = e => this.updateContent(e),
            this.on(e, "durationchange", t),
            this.on(e, "loadstart", t),
            this.on(e, "loadedmetadata", t)
        }
        buildCSSClass() {
            return "vjs-duration"
        }
        updateContent(e) {
            var t = this.player_.duration();
            this.updateTextNode_(t)
        }
    }
    cn.prototype.labelText_ = "Duration",
    cn.prototype.controlText_ = "Duration",
    dt.registerComponent("DurationDisplay", cn);
    dt.registerComponent("TimeDivider", class extends dt {
        createEl() {
            var e = super.createEl("div", {
                className: "vjs-time-control vjs-time-divider"
            }, {
                "aria-hidden": !0
            })
              , t = super.createEl("div")
              , i = super.createEl("span", {
                textContent: "/"
            });
            return t.appendChild(i),
            e.appendChild(t),
            e
        }
    }
    );
    class un extends ln {
        constructor(e, t) {
            super(e, t),
            this.on(e, "durationchange", (e => this.updateContent(e)))
        }
        buildCSSClass() {
            return "vjs-remaining-time"
        }
        createEl() {
            var e = super.createEl();
            return !1 !== this.options_.displayNegative && e.insertBefore(W("span", {}, {
                "aria-hidden": !0
            }, "-"), this.contentEl_),
            e
        }
        updateContent(e) {
            if ("number" == typeof this.player_.duration()) {
                let e;
                e = this.player_.ended() ? 0 : this.player_.remainingTimeDisplay ? this.player_.remainingTimeDisplay() : this.player_.remainingTime(),
                this.updateTextNode_(e)
            }
        }
    }
    un.prototype.labelText_ = "Remaining Time",
    un.prototype.controlText_ = "Remaining Time",
    dt.registerComponent("RemainingTimeDisplay", un);
    dt.registerComponent("LiveDisplay", class extends dt {
        constructor(e, t) {
            super(e, t),
            this.updateShowing(),
            this.on(this.player(), "durationchange", (e => this.updateShowing(e)))
        }
        createEl() {
            var e = super.createEl("div", {
                className: "vjs-live-control vjs-control"
            });
            return this.contentEl_ = W("div", {
                className: "vjs-live-display"
            }, {
                "aria-live": "off"
            }),
            this.contentEl_.appendChild(W("span", {
                className: "vjs-control-text",
                textContent: this.localize("Stream Type") + "Â "
            })),
            this.contentEl_.appendChild(document.createTextNode(this.localize("LIVE"))),
            e.appendChild(this.contentEl_),
            e
        }
        dispose() {
            this.contentEl_ = null,
            super.dispose()
        }
        updateShowing(e) {
            this.player().duration() === 1 / 0 ? this.show() : this.hide()
        }
    }
    );
    class hn extends rn {
        constructor(e, t) {
            super(e, t),
            this.updateLiveEdgeStatus(),
            this.player_.liveTracker && (this.updateLiveEdgeStatusHandler_ = e => this.updateLiveEdgeStatus(e),
            this.on(this.player_.liveTracker, "liveedgechange", this.updateLiveEdgeStatusHandler_))
        }
        createEl() {
            var e = super.createEl("button", {
                className: "vjs-seek-to-live-control vjs-control"
            });
            return this.textEl_ = W("span", {
                className: "vjs-seek-to-live-text",
                textContent: this.localize("LIVE")
            }, {
                "aria-hidden": "true"
            }),
            e.appendChild(this.textEl_),
            e
        }
        updateLiveEdgeStatus() {
            !this.player_.liveTracker || this.player_.liveTracker.atLiveEdge() ? (this.setAttribute("aria-disabled", !0),
            this.addClass("vjs-at-live-edge"),
            this.controlText("Seek to live, currently playing live")) : (this.setAttribute("aria-disabled", !1),
            this.removeClass("vjs-at-live-edge"),
            this.controlText("Seek to live, currently behind live"))
        }
        handleClick() {
            this.player_.liveTracker.seekToLiveEdge()
        }
        dispose() {
            this.player_.liveTracker && this.off(this.player_.liveTracker, "liveedgechange", this.updateLiveEdgeStatusHandler_),
            this.textEl_ = null,
            super.dispose()
        }
    }
    function pn(e, t, i) {
        return e = Number(e),
        Math.min(i, Math.max(t, isNaN(e) ? t : e))
    }
    hn.prototype.controlText_ = "Seek to live, currently playing live",
    dt.registerComponent("SeekToLive", hn),
    Xt = Object.freeze({
        __proto__: null,
        clamp: pn
    });
    class fn extends dt {
        constructor(e, t) {
            super(e, t),
            this.handleMouseDown_ = e => this.handleMouseDown(e),
            this.handleMouseUp_ = e => this.handleMouseUp(e),
            this.handleKeyDown_ = e => this.handleKeyDown(e),
            this.handleClick_ = e => this.handleClick(e),
            this.handleMouseMove_ = e => this.handleMouseMove(e),
            this.update_ = e => this.update(e),
            this.bar = this.getChild(this.options_.barName),
            this.vertical(!!this.options_.vertical),
            this.enable()
        }
        enabled() {
            return this.enabled_
        }
        enable() {
            this.enabled() || (this.on("mousedown", this.handleMouseDown_),
            this.on("touchstart", this.handleMouseDown_),
            this.on("keydown", this.handleKeyDown_),
            this.on("click", this.handleClick_),
            this.on(this.player_, "controlsvisible", this.update),
            this.playerEvent && this.on(this.player_, this.playerEvent, this.update),
            this.removeClass("disabled"),
            this.setAttribute("tabindex", 0),
            this.enabled_ = !0)
        }
        disable() {
            var e;
            this.enabled() && (e = this.bar.el_.ownerDocument,
            this.off("mousedown", this.handleMouseDown_),
            this.off("touchstart", this.handleMouseDown_),
            this.off("keydown", this.handleKeyDown_),
            this.off("click", this.handleClick_),
            this.off(this.player_, "controlsvisible", this.update_),
            this.off(e, "mousemove", this.handleMouseMove_),
            this.off(e, "mouseup", this.handleMouseUp_),
            this.off(e, "touchmove", this.handleMouseMove_),
            this.off(e, "touchend", this.handleMouseUp_),
            this.removeAttribute("tabindex"),
            this.addClass("disabled"),
            this.playerEvent && this.off(this.player_, this.playerEvent, this.update),
            this.enabled_ = !1)
        }
        createEl(e, t={}, i={}) {
            return t.className = t.className + " vjs-slider",
            t = Object.assign({
                tabIndex: 0
            }, t),
            i = Object.assign({
                role: "slider",
                "aria-valuenow": 0,
                "aria-valuemin": 0,
                "aria-valuemax": 100
            }, i),
            super.createEl(e, t, i)
        }
        handleMouseDown(e) {
            var t = this.bar.el_.ownerDocument;
            "mousedown" === e.type && e.preventDefault(),
            "touchstart" !== e.type || E || e.preventDefault(),
            ne(),
            this.addClass("vjs-sliding"),
            this.trigger("slideractive"),
            this.on(t, "mousemove", this.handleMouseMove_),
            this.on(t, "mouseup", this.handleMouseUp_),
            this.on(t, "touchmove", this.handleMouseMove_),
            this.on(t, "touchend", this.handleMouseUp_),
            this.handleMouseMove(e, !0)
        }
        handleMouseMove(e) {}
        handleMouseUp() {
            var e = this.bar.el_.ownerDocument;
            se(),
            this.removeClass("vjs-sliding"),
            this.trigger("sliderinactive"),
            this.off(e, "mousemove", this.handleMouseMove_),
            this.off(e, "mouseup", this.handleMouseUp_),
            this.off(e, "touchmove", this.handleMouseMove_),
            this.off(e, "touchend", this.handleMouseUp_),
            this.update()
        }
        update() {
            if (this.el_ && this.bar) {
                const e = this.getProgress();
                return e !== this.progress_ && (this.progress_ = e,
                this.requestNamedAnimationFrame("Slider#update", ( () => {
                    var t = this.vertical() ? "height" : "width";
                    this.bar.el().style[t] = (100 * e).toFixed(2) + "%"
                }
                ))),
                e
            }
        }
        getProgress() {
            return Number(pn(this.getPercent(), 0, 1).toFixed(4))
        }
        calculateDistance(e) {
            return e = oe(this.el_, e),
            this.vertical() ? e.y : e.x
        }
        handleKeyDown(e) {
            lt.isEventKey(e, "Left") || lt.isEventKey(e, "Down") ? (e.preventDefault(),
            e.stopPropagation(),
            this.stepBack()) : lt.isEventKey(e, "Right") || lt.isEventKey(e, "Up") ? (e.preventDefault(),
            e.stopPropagation(),
            this.stepForward()) : super.handleKeyDown(e)
        }
        handleClick(e) {
            e.stopPropagation(),
            e.preventDefault()
        }
        vertical(e) {
            if (void 0 === e)
                return this.vertical_ || !1;
            this.vertical_ = !!e,
            this.vertical_ ? this.addClass("vjs-slider-vertical") : this.addClass("vjs-slider-horizontal")
        }
    }
    dt.registerComponent("Slider", fn);
    const mn = (e, t) => pn(e / t * 100, 0, 100).toFixed(2) + "%";
    dt.registerComponent("LoadProgressBar", class extends dt {
        constructor(e, t) {
            super(e, t),
            this.partEls_ = [],
            this.on(e, "progress", (e => this.update(e)))
        }
        createEl() {
            var e = super.createEl("div", {
                className: "vjs-load-progress"
            })
              , t = W("span", {
                className: "vjs-control-text"
            })
              , i = W("span", {
                textContent: this.localize("Loaded")
            })
              , n = document.createTextNode(": ");
            return this.percentageEl_ = W("span", {
                className: "vjs-control-text-loaded-percentage",
                textContent: "0%"
            }),
            e.appendChild(t),
            t.appendChild(i),
            t.appendChild(n),
            t.appendChild(this.percentageEl_),
            e
        }
        dispose() {
            this.partEls_ = null,
            this.percentageEl_ = null,
            super.dispose()
        }
        update(e) {
            this.requestNamedAnimationFrame("LoadProgressBar#update", ( () => {
                var e = this.player_.liveTracker
                  , t = this.player_.buffered()
                  , i = (e = e && e.isLive() ? e.seekableEnd() : this.player_.duration(),
                this.player_.bufferedEnd())
                  , n = this.partEls_;
                e = mn(i, e);
                this.percent_ !== e && (this.el_.style.width = e,
                V(this.percentageEl_, e),
                this.percent_ = e);
                for (let e = 0; e < t.length; e++) {
                    var s = t.start(e)
                      , r = t.end(e);
                    let a = n[e];
                    a || (a = this.el_.appendChild(W()),
                    n[e] = a),
                    a.dataset.start === s && a.dataset.end === r || (a.dataset.start = s,
                    a.dataset.end = r,
                    a.style.left = mn(s, i),
                    a.style.width = mn(r - s, i))
                }
                for (let e = n.length; e > t.length; e--)
                    this.el_.removeChild(n[e - 1]);
                n.length = t.length
            }
            ))
        }
    }
    );
    dt.registerComponent("TimeTooltip", class extends dt {
        constructor(e, t) {
            super(e, t),
            this.update = Fe(je(this, this.update), 30)
        }
        createEl() {
            return super.createEl("div", {
                className: "vjs-time-tooltip"
            }, {
                "aria-hidden": "true"
            })
        }
        update(e, t, i) {
            var n = ae(this.el_)
              , s = re(this.player_.el());
            t = e.width * t;
            if (s && n) {
                var r = e.left - s.left + t;
                t = e.width - t + (s.right - e.right);
                let a = n.width / 2;
                r < a ? a += a - r : t < a && (a = t),
                a < 0 ? a = 0 : a > n.width && (a = n.width),
                a = Math.round(a),
                this.el_.style.right = `-${a}px`,
                this.write(i)
            }
        }
        write(e) {
            V(this.el_, e)
        }
        updateTime(e, t, i, n) {
            this.requestNamedAnimationFrame("TimeTooltip#updateTime", ( () => {
                let s;
                var r, a, o = this.player_.duration();
                s = this.player_.liveTracker && this.player_.liveTracker.isLive() ? ((a = (r = this.player_.liveTracker.liveWindow()) - t * r) < 1 ? "" : "-") + vt(a, r) : vt(i, o),
                this.update(e, t, s),
                n && n()
            }
            ))
        }
    }
    );
    class gn extends dt {
        constructor(e, t) {
            super(e, t),
            this.update = Fe(je(this, this.update), 30)
        }
        createEl() {
            return super.createEl("div", {
                className: "vjs-play-progress vjs-slider-bar"
            }, {
                "aria-hidden": "true"
            })
        }
        update(e, t) {
            var i, n = this.getChild("timeTooltip");
            n && (i = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime(),
            n.updateTime(e, t, i))
        }
    }
    gn.prototype.options_ = {
        children: []
    },
    j || S || gn.prototype.options_.children.push("timeTooltip"),
    dt.registerComponent("PlayProgressBar", gn);
    class vn extends dt {
        constructor(e, t) {
            super(e, t),
            this.update = Fe(je(this, this.update), 30)
        }
        createEl() {
            return super.createEl("div", {
                className: "vjs-mouse-display"
            })
        }
        update(e, t) {
            var i = t * this.player_.duration();
            this.getChild("timeTooltip").updateTime(e, t, i, ( () => {
                this.el_.style.left = e.width * t + "px"
            }
            ))
        }
    }
    vn.prototype.options_ = {
        children: ["timeTooltip"]
    },
    dt.registerComponent("MouseTimeDisplay", vn);
    class yn extends fn {
        constructor(e, t) {
            super(e, t),
            this.setEventHandlers_()
        }
        setEventHandlers_() {
            this.update_ = je(this, this.update),
            this.update = Fe(this.update_, 30),
            this.on(this.player_, ["ended", "durationchange", "timeupdate"], this.update),
            this.player_.liveTracker && this.on(this.player_.liveTracker, "liveedgechange", this.update),
            this.updateInterval = null,
            this.enableIntervalHandler_ = e => this.enableInterval_(e),
            this.disableIntervalHandler_ = e => this.disableInterval_(e),
            this.on(this.player_, ["playing"], this.enableIntervalHandler_),
            this.on(this.player_, ["ended", "pause", "waiting"], this.disableIntervalHandler_),
            "hidden"in document && "visibilityState"in document && this.on(document, "visibilitychange", this.toggleVisibility_)
        }
        toggleVisibility_(e) {
            "hidden" === document.visibilityState ? (this.cancelNamedAnimationFrame("SeekBar#update"),
            this.cancelNamedAnimationFrame("Slider#update"),
            this.disableInterval_(e)) : (this.player_.ended() || this.player_.paused() || this.enableInterval_(),
            this.update())
        }
        enableInterval_() {
            this.updateInterval || (this.updateInterval = this.setInterval(this.update, 30))
        }
        disableInterval_(e) {
            this.player_.liveTracker && this.player_.liveTracker.isLive() && e && "ended" !== e.type || this.updateInterval && (this.clearInterval(this.updateInterval),
            this.updateInterval = null)
        }
        createEl() {
            return super.createEl("div", {
                className: "vjs-progress-holder"
            }, {
                "aria-label": this.localize("Progress Bar")
            })
        }
        update(e) {
            if ("hidden" !== document.visibilityState) {
                const e = super.update();
                return this.requestNamedAnimationFrame("SeekBar#update", ( () => {
                    var t = this.player_.ended() ? this.player_.duration() : this.getCurrentTime_()
                      , i = this.player_.liveTracker;
                    let n = this.player_.duration();
                    i && i.isLive() && (n = this.player_.liveTracker.liveCurrentTime()),
                    this.percent_ !== e && (this.el_.setAttribute("aria-valuenow", (100 * e).toFixed(2)),
                    this.percent_ = e),
                    this.currentTime_ === t && this.duration_ === n || (this.el_.setAttribute("aria-valuetext", this.localize("progress bar timing: currentTime={1} duration={2}", [vt(t, n), vt(n, n)], "{1} of {2}")),
                    this.currentTime_ = t,
                    this.duration_ = n),
                    this.bar && this.bar.update(re(this.el()), this.getProgress())
                }
                )),
                e
            }
        }
        userSeek_(e) {
            this.player_.liveTracker && this.player_.liveTracker.isLive() && this.player_.liveTracker.nextSeekedFromUser(),
            this.player_.currentTime(e)
        }
        getCurrentTime_() {
            return this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime()
        }
        getPercent() {
            var e = this.getCurrentTime_();
            let t;
            var i = this.player_.liveTracker;
            return i && i.isLive() ? (t = (e - i.seekableStart()) / i.liveWindow(),
            i.atLiveEdge() && (t = 1)) : t = e / this.player_.duration(),
            t
        }
        handleMouseDown(e) {
            pe(e) && (e.stopPropagation(),
            this.videoWasPlaying = !this.player_.paused(),
            this.player_.pause(),
            super.handleMouseDown(e))
        }
        handleMouseMove(e, t=!1) {
            if (pe(e)) {
                let s;
                if (t || this.player_.scrubbing() || this.player_.scrubbing(!0),
                t = this.calculateDistance(e),
                (e = this.player_.liveTracker) && e.isLive()) {
                    if (.99 <= t)
                        return void e.seekToLiveEdge();
                    var i = e.seekableStart()
                      , n = e.liveCurrentTime();
                    if ((s = (s = (s = i + t * e.liveWindow()) >= n ? n : s) <= i ? i + .1 : s) === 1 / 0)
                        return
                } else
                    (s = t * this.player_.duration()) === this.player_.duration() && (s -= .1);
                this.userSeek_(s)
            }
        }
        enable() {
            super.enable();
            var e = this.getChild("mouseTimeDisplay");
            e && e.show()
        }
        disable() {
            super.disable();
            var e = this.getChild("mouseTimeDisplay");
            e && e.hide()
        }
        handleMouseUp(e) {
            super.handleMouseUp(e),
            e && e.stopPropagation(),
            this.player_.scrubbing(!1),
            this.player_.trigger({
                type: "timeupdate",
                target: this,
                manuallyTriggered: !0
            }),
            this.videoWasPlaying ? wt(this.player_.play()) : this.update_()
        }
        stepForward() {
            this.userSeek_(this.player_.currentTime() + 5)
        }
        stepBack() {
            this.userSeek_(this.player_.currentTime() - 5)
        }
        handleAction(e) {
            this.player_.paused() ? this.player_.play() : this.player_.pause()
        }
        handleKeyDown(e) {
            var t, i = this.player_.liveTracker;
            lt.isEventKey(e, "Space") || lt.isEventKey(e, "Enter") ? (e.preventDefault(),
            e.stopPropagation(),
            this.handleAction(e)) : lt.isEventKey(e, "Home") ? (e.preventDefault(),
            e.stopPropagation(),
            this.userSeek_(0)) : lt.isEventKey(e, "End") ? (e.preventDefault(),
            e.stopPropagation(),
            i && i.isLive() ? this.userSeek_(i.liveCurrentTime()) : this.userSeek_(this.player_.duration())) : /^[0-9]$/.test(lt(e)) ? (e.preventDefault(),
            e.stopPropagation(),
            t = 10 * (lt.codes[lt(e)] - lt.codes[0]) / 100,
            i && i.isLive() ? this.userSeek_(i.seekableStart() + i.liveWindow() * t) : this.userSeek_(this.player_.duration() * t)) : lt.isEventKey(e, "PgDn") ? (e.preventDefault(),
            e.stopPropagation(),
            this.userSeek_(this.player_.currentTime() - 60)) : lt.isEventKey(e, "PgUp") ? (e.preventDefault(),
            e.stopPropagation(),
            this.userSeek_(this.player_.currentTime() + 60)) : super.handleKeyDown(e)
        }
        dispose() {
            this.disableInterval_(),
            this.off(this.player_, ["ended", "durationchange", "timeupdate"], this.update),
            this.player_.liveTracker && this.off(this.player_.liveTracker, "liveedgechange", this.update),
            this.off(this.player_, ["playing"], this.enableIntervalHandler_),
            this.off(this.player_, ["ended", "pause", "waiting"], this.disableIntervalHandler_),
            "hidden"in document && "visibilityState"in document && this.off(document, "visibilitychange", this.toggleVisibility_),
            super.dispose()
        }
    }
    yn.prototype.options_ = {
        children: ["loadProgressBar", "playProgressBar"],
        barName: "playProgressBar"
    },
    j || S || yn.prototype.options_.children.splice(1, 0, "mouseTimeDisplay"),
    dt.registerComponent("SeekBar", yn);
    class bn extends dt {
        constructor(e, t) {
            super(e, t),
            this.handleMouseMove = Fe(je(this, this.handleMouseMove), 30),
            this.throttledHandleMouseSeek = Fe(je(this, this.handleMouseSeek), 30),
            this.handleMouseUpHandler_ = e => this.handleMouseUp(e),
            this.handleMouseDownHandler_ = e => this.handleMouseDown(e),
            this.enable()
        }
        createEl() {
            return super.createEl("div", {
                className: "vjs-progress-control vjs-control"
            })
        }
        handleMouseMove(e) {
            var t, i, n, s, r = this.getChild("seekBar");
            r && (t = r.getChild("playProgressBar"),
            i = r.getChild("mouseTimeDisplay"),
            t || i) && (n = ae(s = r.el()),
            s = pn(s = oe(s, e).x, 0, 1),
            i && i.update(n, s),
            t) && t.update(n, r.getProgress())
        }
        handleMouseSeek(e) {
            var t = this.getChild("seekBar");
            t && t.handleMouseMove(e)
        }
        enabled() {
            return this.enabled_
        }
        disable() {
            var e;
            this.children().forEach((e => e.disable && e.disable())),
            this.enabled() && (this.off(["mousedown", "touchstart"], this.handleMouseDownHandler_),
            this.off(this.el_, "mousemove", this.handleMouseMove),
            this.removeListenersAddedOnMousedownAndTouchstart(),
            this.addClass("disabled"),
            this.enabled_ = !1,
            this.player_.scrubbing()) && (e = this.getChild("seekBar"),
            this.player_.scrubbing(!1),
            e.videoWasPlaying) && wt(this.player_.play())
        }
        enable() {
            this.children().forEach((e => e.enable && e.enable())),
            this.enabled() || (this.on(["mousedown", "touchstart"], this.handleMouseDownHandler_),
            this.on(this.el_, "mousemove", this.handleMouseMove),
            this.removeClass("disabled"),
            this.enabled_ = !0)
        }
        removeListenersAddedOnMousedownAndTouchstart() {
            var e = this.el_.ownerDocument;
            this.off(e, "mousemove", this.throttledHandleMouseSeek),
            this.off(e, "touchmove", this.throttledHandleMouseSeek),
            this.off(e, "mouseup", this.handleMouseUpHandler_),
            this.off(e, "touchend", this.handleMouseUpHandler_)
        }
        handleMouseDown(e) {
            var t = this.el_.ownerDocument
              , i = this.getChild("seekBar");
            i && i.handleMouseDown(e),
            this.on(t, "mousemove", this.throttledHandleMouseSeek),
            this.on(t, "touchmove", this.throttledHandleMouseSeek),
            this.on(t, "mouseup", this.handleMouseUpHandler_),
            this.on(t, "touchend", this.handleMouseUpHandler_)
        }
        handleMouseUp(e) {
            var t = this.getChild("seekBar");
            t && t.handleMouseUp(e),
            this.removeListenersAddedOnMousedownAndTouchstart()
        }
    }
    bn.prototype.options_ = {
        children: ["seekBar"]
    },
    dt.registerComponent("ProgressControl", bn);
    class _n extends rn {
        constructor(e, t) {
            super(e, t),
            this.on(e, ["enterpictureinpicture", "leavepictureinpicture"], (e => this.handlePictureInPictureChange(e))),
            this.on(e, ["disablepictureinpicturechanged", "loadedmetadata"], (e => this.handlePictureInPictureEnabledChange(e))),
            this.on(e, ["loadedmetadata", "audioonlymodechange", "audiopostermodechange"], ( () => {
                "audio" === e.currentType().substring(0, 5) || e.audioPosterMode() || e.audioOnlyMode() ? (e.isInPictureInPicture() && e.exitPictureInPicture(),
                this.hide()) : this.show()
            }
            )),
            this.disable()
        }
        buildCSSClass() {
            return "vjs-picture-in-picture-control " + super.buildCSSClass()
        }
        handlePictureInPictureEnabledChange() {
            document.pictureInPictureEnabled && !1 === this.player_.disablePictureInPicture() ? this.enable() : this.disable()
        }
        handlePictureInPictureChange(e) {
            this.player_.isInPictureInPicture() ? this.controlText("Exit Picture-in-Picture") : this.controlText("Picture-in-Picture"),
            this.handlePictureInPictureEnabledChange()
        }
        handleClick(e) {
            this.player_.isInPictureInPicture() ? this.player_.exitPictureInPicture() : this.player_.requestPictureInPicture()
        }
    }
    _n.prototype.controlText_ = "Picture-in-Picture",
    dt.registerComponent("PictureInPictureToggle", _n);
    class Tn extends rn {
        constructor(e, t) {
            super(e, t),
            this.on(e, "fullscreenchange", (e => this.handleFullscreenChange(e))),
            !1 === document[e.fsApi_.fullscreenEnabled] && this.disable()
        }
        buildCSSClass() {
            return "vjs-fullscreen-control " + super.buildCSSClass()
        }
        handleFullscreenChange(e) {
            this.player_.isFullscreen() ? this.controlText("Exit Fullscreen") : this.controlText("Fullscreen")
        }
        handleClick(e) {
            this.player_.isFullscreen() ? this.player_.exitFullscreen() : this.player_.requestFullscreen()
        }
    }
    Tn.prototype.controlText_ = "Fullscreen",
    dt.registerComponent("FullscreenToggle", Tn);
    dt.registerComponent("VolumeLevel", class extends dt {
        createEl() {
            var e = super.createEl("div", {
                className: "vjs-volume-level"
            });
            return e.appendChild(super.createEl("span", {
                className: "vjs-control-text"
            })),
            e
        }
    }
    );
    dt.registerComponent("VolumeLevelTooltip", class extends dt {
        constructor(e, t) {
            super(e, t),
            this.update = Fe(je(this, this.update), 30)
        }
        createEl() {
            return super.createEl("div", {
                className: "vjs-volume-tooltip"
            }, {
                "aria-hidden": "true"
            })
        }
        update(e, t, i, n) {
            if (!i) {
                i = re(this.el_);
                var s = re(this.player_.el());
                t = e.width * t;
                if (!s || !i)
                    return;
                var r = e.left - s.left + t;
                t = e.width - t + (s.right - e.right);
                let n = i.width / 2;
                r < n ? n += n - r : t < n && (n = t),
                n < 0 ? n = 0 : n > i.width && (n = i.width),
                this.el_.style.right = `-${n}px`
            }
            this.write(n + "%")
        }
        write(e) {
            V(this.el_, e)
        }
        updateVolume(e, t, i, n, s) {
            this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume", ( () => {
                this.update(e, t, i, n.toFixed(0)),
                s && s()
            }
            ))
        }
    }
    );
    class wn extends dt {
        constructor(e, t) {
            super(e, t),
            this.update = Fe(je(this, this.update), 30)
        }
        createEl() {
            return super.createEl("div", {
                className: "vjs-mouse-display"
            })
        }
        update(e, t, i) {
            var n = 100 * t;
            this.getChild("volumeLevelTooltip").updateVolume(e, t, i, n, ( () => {
                i ? this.el_.style.bottom = e.height * t + "px" : this.el_.style.left = e.width * t + "px"
            }
            ))
        }
    }
    wn.prototype.options_ = {
        children: ["volumeLevelTooltip"]
    },
    dt.registerComponent("MouseVolumeLevelDisplay", wn);
    class Sn extends fn {
        constructor(e, t) {
            super(e, t),
            this.on("slideractive", (e => this.updateLastVolume_(e))),
            this.on(e, "volumechange", (e => this.updateARIAAttributes(e))),
            e.ready(( () => this.updateARIAAttributes()))
        }
        createEl() {
            return super.createEl("div", {
                className: "vjs-volume-bar vjs-slider-bar"
            }, {
                "aria-label": this.localize("Volume Level"),
                "aria-live": "polite"
            })
        }
        handleMouseDown(e) {
            pe(e) && super.handleMouseDown(e)
        }
        handleMouseMove(e) {
            var t, i, n, s = this.getChild("mouseVolumeLevelDisplay");
            s && (t = re(n = this.el()),
            i = this.vertical(),
            n = oe(n, e),
            n = pn(n = i ? n.y : n.x, 0, 1),
            s.update(t, n, i)),
            pe(e) && (this.checkMuted(),
            this.player_.volume(this.calculateDistance(e)))
        }
        checkMuted() {
            this.player_.muted() && this.player_.muted(!1)
        }
        getPercent() {
            return this.player_.muted() ? 0 : this.player_.volume()
        }
        stepForward() {
            this.checkMuted(),
            this.player_.volume(this.player_.volume() + .1)
        }
        stepBack() {
            this.checkMuted(),
            this.player_.volume(this.player_.volume() - .1)
        }
        updateARIAAttributes(e) {
            var t = this.player_.muted() ? 0 : this.volumeAsPercentage_();
            this.el_.setAttribute("aria-valuenow", t),
            this.el_.setAttribute("aria-valuetext", t + "%")
        }
        volumeAsPercentage_() {
            return Math.round(100 * this.player_.volume())
        }
        updateLastVolume_() {
            const e = this.player_.volume();
            this.one("sliderinactive", ( () => {
                0 === this.player_.volume() && this.player_.lastVolume_(e)
            }
            ))
        }
    }
    Sn.prototype.options_ = {
        children: ["volumeLevel"],
        barName: "volumeLevel"
    },
    j || S || Sn.prototype.options_.children.splice(0, 0, "mouseVolumeLevelDisplay"),
    Sn.prototype.playerEvent = "volumechange",
    dt.registerComponent("VolumeBar", Sn);
    class kn extends dt {
        constructor(e, t={}) {
            var i, n;
            t.vertical = t.vertical || !1,
            void 0 !== t.volumeBar && !g(t.volumeBar) || (t.volumeBar = t.volumeBar || {},
            t.volumeBar.vertical = t.vertical),
            super(e, t),
            i = this,
            (n = e).tech_ && !n.tech_.featuresVolumeControl && i.addClass("vjs-hidden"),
            i.on(n, "loadstart", (function() {
                n.tech_.featuresVolumeControl ? i.removeClass("vjs-hidden") : i.addClass("vjs-hidden")
            }
            )),
            this.throttledHandleMouseMove = Fe(je(this, this.handleMouseMove), 30),
            this.handleMouseUpHandler_ = e => this.handleMouseUp(e),
            this.on("mousedown", (e => this.handleMouseDown(e))),
            this.on("touchstart", (e => this.handleMouseDown(e))),
            this.on("mousemove", (e => this.handleMouseMove(e))),
            this.on(this.volumeBar, ["focus", "slideractive"], ( () => {
                this.volumeBar.addClass("vjs-slider-active"),
                this.addClass("vjs-slider-active"),
                this.trigger("slideractive")
            }
            )),
            this.on(this.volumeBar, ["blur", "sliderinactive"], ( () => {
                this.volumeBar.removeClass("vjs-slider-active"),
                this.removeClass("vjs-slider-active"),
                this.trigger("sliderinactive")
            }
            ))
        }
        createEl() {
            let e = "vjs-volume-horizontal";
            return this.options_.vertical && (e = "vjs-volume-vertical"),
            super.createEl("div", {
                className: "vjs-volume-control vjs-control " + e
            })
        }
        handleMouseDown(e) {
            var t = this.el_.ownerDocument;
            this.on(t, "mousemove", this.throttledHandleMouseMove),
            this.on(t, "touchmove", this.throttledHandleMouseMove),
            this.on(t, "mouseup", this.handleMouseUpHandler_),
            this.on(t, "touchend", this.handleMouseUpHandler_)
        }
        handleMouseUp(e) {
            var t = this.el_.ownerDocument;
            this.off(t, "mousemove", this.throttledHandleMouseMove),
            this.off(t, "touchmove", this.throttledHandleMouseMove),
            this.off(t, "mouseup", this.handleMouseUpHandler_),
            this.off(t, "touchend", this.handleMouseUpHandler_)
        }
        handleMouseMove(e) {
            this.volumeBar.handleMouseMove(e)
        }
    }
    kn.prototype.options_ = {
        children: ["volumeBar"]
    },
    dt.registerComponent("VolumeControl", kn);
    class xn extends rn {
        constructor(e, t) {
            var i, n;
            super(e, t),
            i = this,
            (n = e).tech_ && !n.tech_.featuresMuteControl && i.addClass("vjs-hidden"),
            i.on(n, "loadstart", (function() {
                n.tech_.featuresMuteControl ? i.removeClass("vjs-hidden") : i.addClass("vjs-hidden")
            }
            )),
            this.on(e, ["loadstart", "volumechange"], (e => this.update(e)))
        }
        buildCSSClass() {
            return "vjs-mute-control " + super.buildCSSClass()
        }
        handleClick(e) {
            var t = this.player_.volume()
              , i = this.player_.lastVolume_();
            0 === t ? (this.player_.volume(i < .1 ? .1 : i),
            this.player_.muted(!1)) : this.player_.muted(!this.player_.muted())
        }
        update(e) {
            this.updateIcon_(),
            this.updateControlText_()
        }
        updateIcon_() {
            var e = this.player_.volume();
            let t = 3;
            j && this.player_.tech_ && this.player_.tech_.el_ && this.player_.muted(this.player_.tech_.el_.muted),
            0 === e || this.player_.muted() ? t = 0 : e < .33 ? t = 1 : e < .67 && (t = 2),
            K(this.el_, [0, 1, 2, 3].reduce(( (e, t) => e + (t ? " " : "") + "vjs-vol-" + t), "")),
            Y(this.el_, "vjs-vol-" + t)
        }
        updateControlText_() {
            var e = this.player_.muted() || 0 === this.player_.volume() ? "Unmute" : "Mute";
            this.controlText() !== e && this.controlText(e)
        }
    }
    xn.prototype.controlText_ = "Mute",
    dt.registerComponent("MuteToggle", xn);
    class Cn extends dt {
        constructor(e, t={}) {
            void 0 !== t.inline ? t.inline = t.inline : t.inline = !0,
            void 0 !== t.volumeControl && !g(t.volumeControl) || (t.volumeControl = t.volumeControl || {},
            t.volumeControl.vertical = !t.inline),
            super(e, t),
            this.handleKeyPressHandler_ = e => this.handleKeyPress(e),
            this.on(e, ["loadstart"], (e => this.volumePanelState_(e))),
            this.on(this.muteToggle, "keyup", (e => this.handleKeyPress(e))),
            this.on(this.volumeControl, "keyup", (e => this.handleVolumeControlKeyUp(e))),
            this.on("keydown", (e => this.handleKeyPress(e))),
            this.on("mouseover", (e => this.handleMouseOver(e))),
            this.on("mouseout", (e => this.handleMouseOut(e))),
            this.on(this.volumeControl, ["slideractive"], this.sliderActive_),
            this.on(this.volumeControl, ["sliderinactive"], this.sliderInactive_)
        }
        sliderActive_() {
            this.addClass("vjs-slider-active")
        }
        sliderInactive_() {
            this.removeClass("vjs-slider-active")
        }
        volumePanelState_() {
            this.volumeControl.hasClass("vjs-hidden") && this.muteToggle.hasClass("vjs-hidden") && this.addClass("vjs-hidden"),
            this.volumeControl.hasClass("vjs-hidden") && !this.muteToggle.hasClass("vjs-hidden") && this.addClass("vjs-mute-toggle-only")
        }
        createEl() {
            let e = "vjs-volume-panel-horizontal";
            return this.options_.inline || (e = "vjs-volume-panel-vertical"),
            super.createEl("div", {
                className: "vjs-volume-panel vjs-control " + e
            })
        }
        dispose() {
            this.handleMouseOut(),
            super.dispose()
        }
        handleVolumeControlKeyUp(e) {
            lt.isEventKey(e, "Esc") && this.muteToggle.focus()
        }
        handleMouseOver(e) {
            this.addClass("vjs-hover"),
            Le(document, "keyup", this.handleKeyPressHandler_)
        }
        handleMouseOut(e) {
            this.removeClass("vjs-hover"),
            Me(document, "keyup", this.handleKeyPressHandler_)
        }
        handleKeyPress(e) {
            lt.isEventKey(e, "Esc") && this.handleMouseOut()
        }
    }
    Cn.prototype.options_ = {
        children: ["muteToggle", "volumeControl"]
    },
    dt.registerComponent("VolumePanel", Cn);
    class En extends dt {
        constructor(e, t) {
            super(e, t),
            t && (this.menuButton_ = t.menuButton),
            this.focusedChild_ = -1,
            this.on("keydown", (e => this.handleKeyDown(e))),
            this.boundHandleBlur_ = e => this.handleBlur(e),
            this.boundHandleTapClick_ = e => this.handleTapClick(e)
        }
        addEventListenerForItem(e) {
            e instanceof dt && (this.on(e, "blur", this.boundHandleBlur_),
            this.on(e, ["tap", "click"], this.boundHandleTapClick_))
        }
        removeEventListenerForItem(e) {
            e instanceof dt && (this.off(e, "blur", this.boundHandleBlur_),
            this.off(e, ["tap", "click"], this.boundHandleTapClick_))
        }
        removeChild(e) {
            "string" == typeof e && (e = this.getChild(e)),
            this.removeEventListenerForItem(e),
            super.removeChild(e)
        }
        addItem(e) {
            (e = this.addChild(e)) && this.addEventListenerForItem(e)
        }
        createEl() {
            var e = this.options_.contentElType || "ul";
            return (e = (this.contentEl_ = W(e, {
                className: "vjs-menu-content"
            }),
            this.contentEl_.setAttribute("role", "menu"),
            super.createEl("div", {
                append: this.contentEl_,
                className: "vjs-menu"
            }))).appendChild(this.contentEl_),
            Le(e, "click", (function(e) {
                e.preventDefault(),
                e.stopImmediatePropagation()
            }
            )),
            e
        }
        dispose() {
            this.contentEl_ = null,
            this.boundHandleBlur_ = null,
            this.boundHandleTapClick_ = null,
            super.dispose()
        }
        handleBlur(e) {
            const t = e.relatedTarget || document.activeElement;
            this.children().some((e => e.el() === t)) || (e = this.menuButton_) && e.buttonPressed_ && t !== e.el().firstChild && e.unpressButton()
        }
        handleTapClick(e) {
            var t;
            this.menuButton_ && (this.menuButton_.unpressButton(),
            t = this.children(),
            Array.isArray(t)) && (t = t.filter((t => t.el() === e.target))[0]) && "CaptionSettingsMenuItem" !== t.name() && this.menuButton_.focus()
        }
        handleKeyDown(e) {
            lt.isEventKey(e, "Left") || lt.isEventKey(e, "Down") ? (e.preventDefault(),
            e.stopPropagation(),
            this.stepForward()) : (lt.isEventKey(e, "Right") || lt.isEventKey(e, "Up")) && (e.preventDefault(),
            e.stopPropagation(),
            this.stepBack())
        }
        stepForward() {
            let e = 0;
            void 0 !== this.focusedChild_ && (e = this.focusedChild_ + 1),
            this.focus(e)
        }
        stepBack() {
            let e = 0;
            void 0 !== this.focusedChild_ && (e = this.focusedChild_ - 1),
            this.focus(e)
        }
        focus(e=0) {
            var t = this.children().slice();
            t.length && t[0].hasClass("vjs-menu-title") && t.shift(),
            0 < t.length && (e < 0 ? e = 0 : e >= t.length && (e = t.length - 1),
            t[this.focusedChild_ = e].el_.focus())
        }
    }
    dt.registerComponent("Menu", En);
    class Pn extends dt {
        constructor(e, t={}) {
            super(e, t),
            this.menuButton_ = new rn(e,t),
            this.menuButton_.controlText(this.controlText_),
            this.menuButton_.el_.setAttribute("aria-haspopup", "true"),
            e = rn.prototype.buildCSSClass(),
            this.menuButton_.el_.className = this.buildCSSClass() + " " + e,
            this.menuButton_.removeClass("vjs-control"),
            this.addChild(this.menuButton_),
            this.update(),
            this.enabled_ = !0,
            t = e => this.handleClick(e),
            this.handleMenuKeyUp_ = e => this.handleMenuKeyUp(e),
            this.on(this.menuButton_, "tap", t),
            this.on(this.menuButton_, "click", t),
            this.on(this.menuButton_, "keydown", (e => this.handleKeyDown(e))),
            this.on(this.menuButton_, "mouseenter", ( () => {
                this.addClass("vjs-hover"),
                this.menu.show(),
                Le(document, "keyup", this.handleMenuKeyUp_)
            }
            )),
            this.on("mouseleave", (e => this.handleMouseLeave(e))),
            this.on("keydown", (e => this.handleSubmenuKeyDown(e)))
        }
        update() {
            var e = this.createMenu();
            this.menu && (this.menu.dispose(),
            this.removeChild(this.menu)),
            this.menu = e,
            this.addChild(e),
            this.buttonPressed_ = !1,
            this.menuButton_.el_.setAttribute("aria-expanded", "false"),
            this.items && this.items.length <= this.hideThreshold_ ? (this.hide(),
            this.menu.contentEl_.removeAttribute("role")) : (this.show(),
            this.menu.contentEl_.setAttribute("role", "menu"))
        }
        createMenu() {
            var e, t = new En(this.player_,{
                menuButton: this
            });
            if (this.hideThreshold_ = 0,
            this.options_.title && (e = W("li", {
                className: "vjs-menu-title",
                textContent: nt(this.options_.title),
                tabIndex: -1
            }),
            e = new dt(this.player_,{
                el: e
            }),
            t.addItem(e)),
            this.items = this.createItems(),
            this.items)
                for (let e = 0; e < this.items.length; e++)
                    t.addItem(this.items[e]);
            return t
        }
        createItems() {}
        createEl() {
            return super.createEl("div", {
                className: this.buildWrapperCSSClass()
            }, {})
        }
        buildWrapperCSSClass() {
            let e = "vjs-menu-button";
            return !0 === this.options_.inline ? e += "-inline" : e += "-popup",
            `vjs-menu-button ${e} ${rn.prototype.buildCSSClass()} ` + super.buildCSSClass()
        }
        buildCSSClass() {
            let e = "vjs-menu-button";
            return !0 === this.options_.inline ? e += "-inline" : e += "-popup",
            `vjs-menu-button ${e} ` + super.buildCSSClass()
        }
        controlText(e, t=this.menuButton_.el()) {
            return this.menuButton_.controlText(e, t)
        }
        dispose() {
            this.handleMouseLeave(),
            super.dispose()
        }
        handleClick(e) {
            this.buttonPressed_ ? this.unpressButton() : this.pressButton()
        }
        handleMouseLeave(e) {
            this.removeClass("vjs-hover"),
            Me(document, "keyup", this.handleMenuKeyUp_)
        }
        focus() {
            this.menuButton_.focus()
        }
        blur() {
            this.menuButton_.blur()
        }
        handleKeyDown(e) {
            lt.isEventKey(e, "Esc") || lt.isEventKey(e, "Tab") ? (this.buttonPressed_ && this.unpressButton(),
            lt.isEventKey(e, "Tab") || (e.preventDefault(),
            this.menuButton_.focus())) : !lt.isEventKey(e, "Up") && !lt.isEventKey(e, "Down") || this.buttonPressed_ || (e.preventDefault(),
            this.pressButton())
        }
        handleMenuKeyUp(e) {
            (lt.isEventKey(e, "Esc") || lt.isEventKey(e, "Tab")) && this.removeClass("vjs-hover")
        }
        handleSubmenuKeyPress(e) {
            this.handleSubmenuKeyDown(e)
        }
        handleSubmenuKeyDown(e) {
            (lt.isEventKey(e, "Esc") || lt.isEventKey(e, "Tab")) && (this.buttonPressed_ && this.unpressButton(),
            lt.isEventKey(e, "Tab") || (e.preventDefault(),
            this.menuButton_.focus()))
        }
        pressButton() {
            this.enabled_ && (this.buttonPressed_ = !0,
            this.menu.show(),
            this.menu.lockShowing(),
            this.menuButton_.el_.setAttribute("aria-expanded", "true"),
            j && z() || this.menu.focus())
        }
        unpressButton() {
            this.enabled_ && (this.buttonPressed_ = !1,
            this.menu.unlockShowing(),
            this.menu.hide(),
            this.menuButton_.el_.setAttribute("aria-expanded", "false"))
        }
        disable() {
            this.unpressButton(),
            this.enabled_ = !1,
            this.addClass("vjs-disabled"),
            this.menuButton_.disable()
        }
        enable() {
            this.enabled_ = !0,
            this.removeClass("vjs-disabled"),
            this.menuButton_.enable()
        }
    }
    dt.registerComponent("MenuButton", Pn);
    class An extends Pn {
        constructor(e, t) {
            const i = t.tracks;
            if (super(e, t),
            this.items.length <= 1 && this.hide(),
            i) {
                const e = je(this, this.update);
                i.addEventListener("removetrack", e),
                i.addEventListener("addtrack", e),
                i.addEventListener("labelchange", e),
                this.player_.on("ready", e),
                this.player_.on("dispose", (function() {
                    i.removeEventListener("removetrack", e),
                    i.removeEventListener("addtrack", e),
                    i.removeEventListener("labelchange", e)
                }
                ))
            }
        }
    }
    dt.registerComponent("TrackButton", An);
    const In = ["Tab", "Esc", "Up", "Down", "Right", "Left"];
    class On extends Ji {
        constructor(e, t) {
            super(e, t),
            this.selectable = t.selectable,
            this.isSelected_ = t.selected || !1,
            this.multiSelectable = t.multiSelectable,
            this.selected(this.isSelected_),
            this.selectable ? this.multiSelectable ? this.el_.setAttribute("role", "menuitemcheckbox") : this.el_.setAttribute("role", "menuitemradio") : this.el_.setAttribute("role", "menuitem")
        }
        createEl(e, t, i) {
            return this.nonIconControl = !0,
            (t = super.createEl("li", Object.assign({
                className: "vjs-menu-item",
                tabIndex: -1
            }, t), i)).replaceChild(W("span", {
                className: "vjs-menu-item-text",
                textContent: this.localize(this.options_.label)
            }), t.querySelector(".vjs-icon-placeholder")),
            t
        }
        handleKeyDown(e) {
            In.some((t => lt.isEventKey(e, t))) || super.handleKeyDown(e)
        }
        handleClick(e) {
            this.selected(!0)
        }
        selected(e) {
            this.selectable && (e ? (this.addClass("vjs-selected"),
            this.el_.setAttribute("aria-checked", "true"),
            this.controlText(", selected"),
            this.isSelected_ = !0) : (this.removeClass("vjs-selected"),
            this.el_.setAttribute("aria-checked", "false"),
            this.controlText(""),
            this.isSelected_ = !1))
        }
    }
    dt.registerComponent("MenuItem", On);
    class Ln extends On {
        constructor(e, t) {
            var i = t.track;
            const n = e.textTracks()
              , s = (t.label = i.label || i.language || "Unknown",
            t.selected = "showing" === i.mode,
            super(e, t),
            this.track = i,
            this.kinds = (t.kinds || [t.kind || this.track.kind]).filter(Boolean),
            (...e) => {
                this.handleTracksChange.apply(this, e)
            }
            )
              , r = (...e) => {
                this.handleSelectedLanguageChange.apply(this, e)
            }
            ;
            if (e.on(["loadstart", "texttrackchange"], s),
            n.addEventListener("change", s),
            n.addEventListener("selectedlanguagechange", r),
            this.on("dispose", (function() {
                e.off(["loadstart", "texttrackchange"], s),
                n.removeEventListener("change", s),
                n.removeEventListener("selectedlanguagechange", r)
            }
            )),
            void 0 === n.onchange) {
                let e;
                this.on(["tap", "click"], (function() {
                    if ("object" != typeof window.Event)
                        try {
                            e = new window.Event("change")
                        } catch (e) {}
                    e || (e = document.createEvent("Event")).initEvent("change", !0, !0),
                    n.dispatchEvent(e)
                }
                ))
            }
            this.handleTracksChange()
        }
        handleClick(e) {
            var t = this.track
              , i = this.player_.textTracks();
            if (super.handleClick(e),
            i)
                for (let e = 0; e < i.length; e++) {
                    var n = i[e];
                    -1 !== this.kinds.indexOf(n.kind) && (n === t ? "showing" !== n.mode && (n.mode = "showing") : "disabled" !== n.mode && (n.mode = "disabled"))
                }
        }
        handleTracksChange(e) {
            var t = "showing" === this.track.mode;
            t !== this.isSelected_ && this.selected(t)
        }
        handleSelectedLanguageChange(e) {
            var t;
            "showing" !== this.track.mode || (t = this.player_.cache_.selectedLanguage) && t.enabled && t.language === this.track.language && t.kind !== this.track.kind || (this.player_.cache_.selectedLanguage = {
                enabled: !0,
                language: this.track.language,
                kind: this.track.kind
            })
        }
        dispose() {
            this.track = null,
            super.dispose()
        }
    }
    dt.registerComponent("TextTrackMenuItem", Ln);
    class Mn extends Ln {
        constructor(e, t) {
            t.track = {
                player: e,
                kind: t.kind,
                kinds: t.kinds,
                default: !1,
                mode: "disabled"
            },
            t.kinds || (t.kinds = [t.kind]),
            t.label ? t.track.label = t.label : t.track.label = t.kinds.join(" and ") + " off",
            t.selectable = !0,
            t.multiSelectable = !1,
            super(e, t)
        }
        handleTracksChange(e) {
            var t = this.player().textTracks();
            let i = !0;
            for (let e = 0, s = t.length; e < s; e++) {
                var n = t[e];
                if (-1 < this.options_.kinds.indexOf(n.kind) && "showing" === n.mode) {
                    i = !1;
                    break
                }
            }
            i !== this.isSelected_ && this.selected(i)
        }
        handleSelectedLanguageChange(e) {
            var t = this.player().textTracks();
            let i = !0;
            for (let e = 0, s = t.length; e < s; e++) {
                var n = t[e];
                if (-1 < ["captions", "descriptions", "subtitles"].indexOf(n.kind) && "showing" === n.mode) {
                    i = !1;
                    break
                }
            }
            i && (this.player_.cache_.selectedLanguage = {
                enabled: !1
            })
        }
    }
    dt.registerComponent("OffTextTrackMenuItem", Mn);
    class Dn extends An {
        constructor(e, t={}) {
            t.tracks = e.textTracks(),
            super(e, t)
        }
        createItems(e=[], t=Ln) {
            let i;
            this.label_ && (i = this.label_ + " off"),
            e.push(new Mn(this.player_,{
                kinds: this.kinds_,
                kind: this.kind_,
                label: i
            })),
            this.hideThreshold_ += 1;
            var n = this.player_.textTracks();
            Array.isArray(this.kinds_) || (this.kinds_ = [this.kind_]);
            for (let i = 0; i < n.length; i++) {
                var s, r = n[i];
                -1 < this.kinds_.indexOf(r.kind) && ((s = new t(this.player_,{
                    track: r,
                    kinds: this.kinds_,
                    kind: this.kind_,
                    selectable: !0,
                    multiSelectable: !1
                })).addClass(`vjs-${r.kind}-menu-item`),
                e.push(s))
            }
            return e
        }
    }
    dt.registerComponent("TextTrackButton", Dn);
    class Rn extends On {
        constructor(e, t) {
            var i = t.track
              , n = t.cue
              , s = e.currentTime();
            t.selectable = !0,
            t.multiSelectable = !1,
            t.label = n.text,
            t.selected = n.startTime <= s && s < n.endTime,
            super(e, t),
            this.track = i,
            this.cue = n
        }
        handleClick(e) {
            super.handleClick(),
            this.player_.currentTime(this.cue.startTime)
        }
    }
    dt.registerComponent("ChaptersTrackMenuItem", Rn);
    class Nn extends Dn {
        constructor(e, t, i) {
            super(e, t, i),
            this.selectCurrentItem_ = () => {
                this.items.forEach((e => {
                    e.selected(this.track_.activeCues[0] === e.cue)
                }
                ))
            }
        }
        buildCSSClass() {
            return "vjs-chapters-button " + super.buildCSSClass()
        }
        buildWrapperCSSClass() {
            return "vjs-chapters-button " + super.buildWrapperCSSClass()
        }
        update(e) {
            e && e.track && "chapters" !== e.track.kind || ((e = this.findChaptersTrack()) !== this.track_ ? (this.setTrack(e),
            super.update()) : (!this.items || e && e.cues && e.cues.length !== this.items.length) && super.update())
        }
        setTrack(e) {
            var t;
            this.track_ !== e && (this.updateHandler_ || (this.updateHandler_ = this.update.bind(this)),
            this.track_ && ((t = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_)) && t.removeEventListener("load", this.updateHandler_),
            this.track_.removeEventListener("cuechange", this.selectCurrentItem_),
            this.track_ = null),
            this.track_ = e,
            this.track_) && (this.track_.mode = "hidden",
            (t = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_)) && t.addEventListener("load", this.updateHandler_),
            this.track_.addEventListener("cuechange", this.selectCurrentItem_))
        }
        findChaptersTrack() {
            var e = this.player_.textTracks() || [];
            for (let i = e.length - 1; 0 <= i; i--) {
                var t = e[i];
                if (t.kind === this.kind_)
                    return t
            }
        }
        getMenuCaption() {
            return this.track_ && this.track_.label ? this.track_.label : this.localize(nt(this.kind_))
        }
        createMenu() {
            return this.options_.title = this.getMenuCaption(),
            super.createMenu()
        }
        createItems() {
            var e = [];
            if (this.track_) {
                var t = this.track_.cues;
                if (t)
                    for (let n = 0, s = t.length; n < s; n++) {
                        var i = t[n];
                        i = new Rn(this.player_,{
                            track: this.track_,
                            cue: i
                        });
                        e.push(i)
                    }
            }
            return e
        }
    }
    Nn.prototype.kind_ = "chapters",
    Nn.prototype.controlText_ = "Chapters",
    dt.registerComponent("ChaptersButton", Nn);
    class Bn extends Dn {
        constructor(e, t, i) {
            super(e, t, i);
            const n = e.textTracks()
              , s = je(this, this.handleTracksChange);
            n.addEventListener("change", s),
            this.on("dispose", (function() {
                n.removeEventListener("change", s)
            }
            ))
        }
        handleTracksChange(e) {
            var t = this.player().textTracks();
            let i = !1;
            for (let e = 0, s = t.length; e < s; e++) {
                var n = t[e];
                if (n.kind !== this.kind_ && "showing" === n.mode) {
                    i = !0;
                    break
                }
            }
            i ? this.disable() : this.enable()
        }
        buildCSSClass() {
            return "vjs-descriptions-button " + super.buildCSSClass()
        }
        buildWrapperCSSClass() {
            return "vjs-descriptions-button " + super.buildWrapperCSSClass()
        }
    }
    Bn.prototype.kind_ = "descriptions",
    Bn.prototype.controlText_ = "Descriptions",
    dt.registerComponent("DescriptionsButton", Bn);
    class jn extends Dn {
        constructor(e, t, i) {
            super(e, t, i)
        }
        buildCSSClass() {
            return "vjs-subtitles-button " + super.buildCSSClass()
        }
        buildWrapperCSSClass() {
            return "vjs-subtitles-button " + super.buildWrapperCSSClass()
        }
    }
    jn.prototype.kind_ = "subtitles",
    jn.prototype.controlText_ = "Subtitles",
    dt.registerComponent("SubtitlesButton", jn);
    class Fn extends Ln {
        constructor(e, t) {
            t.track = {
                player: e,
                kind: t.kind,
                label: t.kind + " settings",
                selectable: !1,
                default: !1,
                mode: "disabled"
            },
            t.selectable = !1,
            t.name = "CaptionSettingsMenuItem",
            super(e, t),
            this.addClass("vjs-texttrack-settings"),
            this.controlText(", opens " + t.kind + " settings dialog")
        }
        handleClick(e) {
            this.player().getChild("textTrackSettings").open()
        }
    }
    dt.registerComponent("CaptionSettingsMenuItem", Fn);
    class Un extends Dn {
        constructor(e, t, i) {
            super(e, t, i)
        }
        buildCSSClass() {
            return "vjs-captions-button " + super.buildCSSClass()
        }
        buildWrapperCSSClass() {
            return "vjs-captions-button " + super.buildWrapperCSSClass()
        }
        createItems() {
            var e = [];
            return this.player().tech_ && this.player().tech_.featuresNativeTextTracks || !this.player().getChild("textTrackSettings") || (e.push(new Fn(this.player_,{
                kind: this.kind_
            })),
            this.hideThreshold_ += 1),
            super.createItems(e)
        }
    }
    Un.prototype.kind_ = "captions",
    Un.prototype.controlText_ = "Captions",
    dt.registerComponent("CaptionsButton", Un);
    class $n extends Ln {
        createEl(e, t, i) {
            return t = (e = super.createEl(e, t, i)).querySelector(".vjs-menu-item-text"),
            "captions" === this.options_.track.kind && (t.appendChild(W("span", {
                className: "vjs-icon-placeholder"
            }, {
                "aria-hidden": !0
            })),
            t.appendChild(W("span", {
                className: "vjs-control-text",
                textContent: " " + this.localize("Captions")
            }))),
            e
        }
    }
    dt.registerComponent("SubsCapsMenuItem", $n);
    class Hn extends Dn {
        constructor(e, t={}) {
            super(e, t),
            this.label_ = "subtitles",
            -1 < ["en", "en-us", "en-ca", "fr-ca"].indexOf(this.player_.language_) && (this.label_ = "captions"),
            this.menuButton_.controlText(nt(this.label_))
        }
        buildCSSClass() {
            return "vjs-subs-caps-button " + super.buildCSSClass()
        }
        buildWrapperCSSClass() {
            return "vjs-subs-caps-button " + super.buildWrapperCSSClass()
        }
        createItems() {
            let e = [];
            return this.player().tech_ && this.player().tech_.featuresNativeTextTracks || !this.player().getChild("textTrackSettings") || (e.push(new Fn(this.player_,{
                kind: this.label_
            })),
            this.hideThreshold_ += 1),
            super.createItems(e, $n)
        }
    }
    Hn.prototype.kinds_ = ["captions", "subtitles"],
    Hn.prototype.controlText_ = "Subtitles",
    dt.registerComponent("SubsCapsButton", Hn);
    class zn extends On {
        constructor(e, t) {
            var i = t.track;
            const n = e.audioTracks()
              , s = (t.label = i.label || i.language || "Unknown",
            t.selected = i.enabled,
            super(e, t),
            this.track = i,
            this.addClass(`vjs-${i.kind}-menu-item`),
            (...e) => {
                this.handleTracksChange.apply(this, e)
            }
            );
            n.addEventListener("change", s),
            this.on("dispose", ( () => {
                n.removeEventListener("change", s)
            }
            ))
        }
        createEl(e, t, i) {
            return t = (e = super.createEl(e, t, i)).querySelector(".vjs-menu-item-text"),
            "main-desc" === this.options_.track.kind && (t.appendChild(W("span", {
                className: "vjs-icon-placeholder"
            }, {
                "aria-hidden": !0
            })),
            t.appendChild(W("span", {
                className: "vjs-control-text",
                textContent: " " + this.localize("Descriptions")
            }))),
            e
        }
        handleClick(e) {
            if (super.handleClick(e),
            this.track.enabled = !0,
            this.player_.tech_.featuresNativeAudioTracks) {
                var t = this.player_.audioTracks();
                for (let e = 0; e < t.length; e++) {
                    var i = t[e];
                    i !== this.track && (i.enabled = i === this.track)
                }
            }
        }
        handleTracksChange(e) {
            this.selected(this.track.enabled)
        }
    }
    dt.registerComponent("AudioTrackMenuItem", zn);
    class qn extends An {
        constructor(e, t={}) {
            t.tracks = e.audioTracks(),
            super(e, t)
        }
        buildCSSClass() {
            return "vjs-audio-button " + super.buildCSSClass()
        }
        buildWrapperCSSClass() {
            return "vjs-audio-button " + super.buildWrapperCSSClass()
        }
        createItems(e=[]) {
            this.hideThreshold_ = 1;
            var t = this.player_.audioTracks();
            for (let n = 0; n < t.length; n++) {
                var i = t[n];
                e.push(new zn(this.player_,{
                    track: i,
                    selectable: !0,
                    multiSelectable: !1
                }))
            }
            return e
        }
    }
    qn.prototype.controlText_ = "Audio Track",
    dt.registerComponent("AudioTrackButton", qn);
    class Wn extends On {
        constructor(e, t) {
            var i = t.rate
              , n = parseFloat(i, 10);
            t.label = i,
            t.selected = n === e.playbackRate(),
            t.selectable = !0,
            t.multiSelectable = !1,
            super(e, t),
            this.label = i,
            this.rate = n,
            this.on(e, "ratechange", (e => this.update(e)))
        }
        handleClick(e) {
            super.handleClick(),
            this.player().playbackRate(this.rate)
        }
        update(e) {
            this.selected(this.player().playbackRate() === this.rate)
        }
    }
    Wn.prototype.contentElType = "button",
    dt.registerComponent("PlaybackRateMenuItem", Wn);
    class Vn extends Pn {
        constructor(e, t) {
            super(e, t),
            this.menuButton_.el_.setAttribute("aria-describedby", this.labelElId_),
            this.updateVisibility(),
            this.updateLabel(),
            this.on(e, "loadstart", (e => this.updateVisibility(e))),
            this.on(e, "ratechange", (e => this.updateLabel(e))),
            this.on(e, "playbackrateschange", (e => this.handlePlaybackRateschange(e)))
        }
        createEl() {
            var e = super.createEl();
            return this.labelElId_ = "vjs-playback-rate-value-label-" + this.id_,
            this.labelEl_ = W("div", {
                className: "vjs-playback-rate-value",
                id: this.labelElId_,
                textContent: "1x"
            }),
            e.appendChild(this.labelEl_),
            e
        }
        dispose() {
            this.labelEl_ = null,
            super.dispose()
        }
        buildCSSClass() {
            return "vjs-playback-rate " + super.buildCSSClass()
        }
        buildWrapperCSSClass() {
            return "vjs-playback-rate " + super.buildWrapperCSSClass()
        }
        createItems() {
            var e = this.playbackRates()
              , t = [];
            for (let i = e.length - 1; 0 <= i; i--)
                t.push(new Wn(this.player(),{
                    rate: e[i] + "x"
                }));
            return t
        }
        handlePlaybackRateschange(e) {
            this.update()
        }
        playbackRates() {
            var e = this.player();
            return e.playbackRates && e.playbackRates() || []
        }
        playbackRateSupported() {
            return this.player().tech_ && this.player().tech_.featuresPlaybackRate && this.playbackRates() && 0 < this.playbackRates().length
        }
        updateVisibility(e) {
            this.playbackRateSupported() ? this.removeClass("vjs-hidden") : this.addClass("vjs-hidden")
        }
        updateLabel(e) {
            this.playbackRateSupported() && (this.labelEl_.textContent = this.player().playbackRate() + "x")
        }
    }
    Vn.prototype.controlText_ = "Playback Rate",
    dt.registerComponent("PlaybackRateMenuButton", Vn);
    class Gn extends dt {
        buildCSSClass() {
            return "vjs-spacer " + super.buildCSSClass()
        }
        createEl(e="div", t={}, i={}) {
            return t.className || (t.className = this.buildCSSClass()),
            super.createEl(e, t, i)
        }
    }
    dt.registerComponent("Spacer", Gn),
    dt.registerComponent("CustomControlSpacer", class extends Gn {
        buildCSSClass() {
            return "vjs-custom-control-spacer " + super.buildCSSClass()
        }
        createEl() {
            return super.createEl("div", {
                className: this.buildCSSClass(),
                textContent: "Â "
            })
        }
    }
    );
    class Xn extends dt {
        createEl() {
            return super.createEl("div", {
                className: "vjs-control-bar",
                dir: "ltr"
            })
        }
    }
    Xn.prototype.options_ = {
        children: ["playToggle", "volumePanel", "currentTimeDisplay", "timeDivider", "durationDisplay", "progressControl", "liveDisplay", "seekToLive", "remainingTimeDisplay", "customControlSpacer", "playbackRateMenuButton", "chaptersButton", "descriptionsButton", "subsCapsButton", "audioTrackButton", "fullscreenToggle"]
    },
    "exitPictureInPicture"in document && Xn.prototype.options_.children.splice(Xn.prototype.options_.children.length - 1, 0, "pictureInPictureToggle"),
    dt.registerComponent("ControlBar", Xn);
    class Yn extends xt {
        constructor(e, t) {
            super(e, t),
            this.on(e, "error", (e => this.open(e)))
        }
        buildCSSClass() {
            return "vjs-error-display " + super.buildCSSClass()
        }
        content() {
            var e = this.player().error();
            return e ? this.localize(e.message) : ""
        }
    }
    Yn.prototype.options_ = Object.assign({}, xt.prototype.options_, {
        pauseOnOpen: !1,
        fillAlways: !0,
        temporary: !1,
        uncloseable: !0
    }),
    dt.registerComponent("ErrorDisplay", Yn);
    const Kn = "vjs-text-track-settings";
    var Qn, Zn = ["#F00", "Red"], Jn = ["#FFF", "White"];
    const es = {
        backgroundColor: {
            selector: ".vjs-bg-color > select",
            id: "captions-background-color-%s",
            label: "Color",
            options: [Qn = ["#000", "Black"], Jn, Zn, Is = ["#0F0", "Green"], at = ["#00F", "Blue"], br = ["#FF0", "Yellow"], _r = ["#F0F", "Magenta"], ha = ["#0FF", "Cyan"]]
        },
        backgroundOpacity: {
            selector: ".vjs-bg-opacity > select",
            id: "captions-background-opacity-%s",
            label: "Transparency",
            options: [ka = ["1", "Opaque"], ga = ["0.5", "Semi-Transparent"], ma = ["0", "Transparent"]]
        },
        color: {
            selector: ".vjs-fg-color > select",
            id: "captions-foreground-color-%s",
            label: "Color",
            options: [Jn, Qn, Zn, Is, at, br, _r, ha]
        },
        edgeStyle: {
            selector: ".vjs-edge-style > select",
            id: "%s",
            label: "Text Edge Style",
            options: [["none", "None"], ["raised", "Raised"], ["depressed", "Depressed"], ["uniform", "Uniform"], ["dropshadow", "Dropshadow"]]
        },
        fontFamily: {
            selector: ".vjs-font-family > select",
            id: "captions-font-family-%s",
            label: "Font Family",
            options: [["proportionalSansSerif", "Proportional Sans-Serif"], ["monospaceSansSerif", "Monospace Sans-Serif"], ["proportionalSerif", "Proportional Serif"], ["monospaceSerif", "Monospace Serif"], ["casual", "Casual"], ["script", "Script"], ["small-caps", "Small Caps"]]
        },
        fontPercent: {
            selector: ".vjs-font-percent > select",
            id: "captions-font-size-%s",
            label: "Font Size",
            options: [["0.50", "50%"], ["0.75", "75%"], ["1.00", "100%"], ["1.25", "125%"], ["1.50", "150%"], ["1.75", "175%"], ["2.00", "200%"], ["3.00", "300%"], ["4.00", "400%"]],
            default: 2,
            parser: e => "1.00" === e ? null : Number(e)
        },
        textOpacity: {
            selector: ".vjs-text-opacity > select",
            id: "captions-foreground-opacity-%s",
            label: "Transparency",
            options: [ka, ga]
        },
        windowColor: {
            selector: ".vjs-window-color > select",
            id: "captions-window-color-%s",
            label: "Color"
        },
        windowOpacity: {
            selector: ".vjs-window-opacity > select",
            id: "captions-window-opacity-%s",
            label: "Transparency",
            options: [ma, ga, ka]
        }
    };
    function ts(e, t) {
        if ((e = t ? t(e) : e) && "none" !== e)
            return e
    }
    es.windowColor.options = es.backgroundColor.options;
    dt.registerComponent("TextTrackSettings", class extends xt {
        constructor(e, t) {
            t.temporary = !1,
            super(e, t),
            this.updateDisplay = this.updateDisplay.bind(this),
            this.fill(),
            this.hasBeenOpened_ = this.hasBeenFilled_ = !0,
            this.endDialog = W("p", {
                className: "vjs-control-text",
                textContent: this.localize("End of dialog window.")
            }),
            this.el().appendChild(this.endDialog),
            this.setDefaults(),
            void 0 === t.persistTextTrackSettings && (this.options_.persistTextTrackSettings = this.options_.playerOptions.persistTextTrackSettings),
            this.on(this.$(".vjs-done-button"), "click", ( () => {
                this.saveSettings(),
                this.close()
            }
            )),
            this.on(this.$(".vjs-default-button"), "click", ( () => {
                this.setDefaults(),
                this.updateDisplay()
            }
            )),
            p(es, (e => {
                this.on(this.$(e.selector), "change", this.updateDisplay)
            }
            )),
            this.options_.persistTextTrackSettings && this.restoreSettings()
        }
        dispose() {
            this.endDialog = null,
            super.dispose()
        }
        createElSelect_(e, t="", i="label") {
            const n = (e = es[e]).id.replace("%s", this.id_)
              , s = [t, n].join(" ").trim();
            return [`<${i} id="${n}" class="${"label" === i ? "vjs-label" : ""}">`, this.localize(e.label), `</${i}>`, `<select aria-labelledby="${s}">`].concat(e.options.map((e => {
                var t = n + "-" + e[1].replace(/\W+/g, "");
                return [`<option id="${t}" value="${e[0]}" `, `aria-labelledby="${s} ${t}">`, this.localize(e[1]), "</option>"].join("")
            }
            ))).concat("</select>").join("")
        }
        createElFgColor_() {
            var e = "captions-text-legend-" + this.id_;
            return ['<fieldset class="vjs-fg-color vjs-track-setting">', `<legend id="${e}">`, this.localize("Text"), "</legend>", this.createElSelect_("color", e), '<span class="vjs-text-opacity vjs-opacity">', this.createElSelect_("textOpacity", e), "</span>", "</fieldset>"].join("")
        }
        createElBgColor_() {
            var e = "captions-background-" + this.id_;
            return ['<fieldset class="vjs-bg-color vjs-track-setting">', `<legend id="${e}">`, this.localize("Background"), "</legend>", this.createElSelect_("backgroundColor", e), '<span class="vjs-bg-opacity vjs-opacity">', this.createElSelect_("backgroundOpacity", e), "</span>", "</fieldset>"].join("")
        }
        createElWinColor_() {
            var e = "captions-window-" + this.id_;
            return ['<fieldset class="vjs-window-color vjs-track-setting">', `<legend id="${e}">`, this.localize("Window"), "</legend>", this.createElSelect_("windowColor", e), '<span class="vjs-window-opacity vjs-opacity">', this.createElSelect_("windowOpacity", e), "</span>", "</fieldset>"].join("")
        }
        createElColors_() {
            return W("div", {
                className: "vjs-track-settings-colors",
                innerHTML: [this.createElFgColor_(), this.createElBgColor_(), this.createElWinColor_()].join("")
            })
        }
        createElFont_() {
            return W("div", {
                className: "vjs-track-settings-font",
                innerHTML: ['<fieldset class="vjs-font-percent vjs-track-setting">', this.createElSelect_("fontPercent", "", "legend"), "</fieldset>", '<fieldset class="vjs-edge-style vjs-track-setting">', this.createElSelect_("edgeStyle", "", "legend"), "</fieldset>", '<fieldset class="vjs-font-family vjs-track-setting">', this.createElSelect_("fontFamily", "", "legend"), "</fieldset>"].join("")
            })
        }
        createElControls_() {
            var e = this.localize("restore all settings to the default values");
            return W("div", {
                className: "vjs-track-settings-controls",
                innerHTML: [`<button type="button" class="vjs-default-button" title="${e}">`, this.localize("Reset"), `<span class="vjs-control-text"> ${e}</span>`, "</button>", `<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")
            })
        }
        content() {
            return [this.createElColors_(), this.createElFont_(), this.createElControls_()]
        }
        label() {
            return this.localize("Caption Settings Dialog")
        }
        description() {
            return this.localize("Beginning of dialog window. Escape will cancel and close the window.")
        }
        buildCSSClass() {
            return super.buildCSSClass() + " vjs-text-track-settings"
        }
        getValues() {
            return f(es, ( (e, t, i) => {
                n = this.$(t.selector),
                t = t.parser;
                var n = ts(n.options[n.options.selectedIndex].value, t);
                return void 0 !== n && (e[i] = n),
                e
            }
            ), {})
        }
        setValues(e) {
            p(es, ( (t, i) => {
                var n = this.$(t.selector)
                  , s = e[i]
                  , r = t.parser;
                if (s)
                    for (let e = 0; e < n.options.length; e++)
                        if (ts(n.options[e].value, r) === s) {
                            n.selectedIndex = e;
                            break
                        }
            }
            ))
        }
        setDefaults() {
            p(es, (e => {
                var t = e.hasOwnProperty("default") ? e.default : 0;
                this.$(e.selector).selectedIndex = t
            }
            ))
        }
        restoreSettings() {
            let e;
            try {
                e = JSON.parse(window.localStorage.getItem(Kn))
            } catch (e) {
                c.warn(e)
            }
            e && this.setValues(e)
        }
        saveSettings() {
            if (this.options_.persistTextTrackSettings) {
                var e = this.getValues();
                try {
                    Object.keys(e).length ? window.localStorage.setItem(Kn, JSON.stringify(e)) : window.localStorage.removeItem(Kn)
                } catch (e) {
                    c.warn(e)
                }
            }
        }
        updateDisplay() {
            var e = this.player_.getChild("textTrackDisplay");
            e && e.updateDisplay()
        }
        conditionalBlur_() {
            this.previouslyActiveEl_ = null;
            var e = (t = this.player_.controlBar) && t.subsCapsButton
              , t = t && t.captionsButton;
            e ? e.focus() : t && t.focus()
        }
    }
    );
    dt.registerComponent("ResizeManager", class extends dt {
        constructor(e, t) {
            let i = t.ResizeObserver || window.ResizeObserver;
            super(e, v({
                createEl: !(i = null !== t.ResizeObserver && i),
                reportTouchActivity: !1
            }, t)),
            this.ResizeObserver = t.ResizeObserver || window.ResizeObserver,
            this.loadListener_ = null,
            this.resizeObserver_ = null,
            this.debouncedHandler_ = Ue(( () => {
                this.resizeHandler()
            }
            ), 100, !1, this),
            i ? (this.resizeObserver_ = new this.ResizeObserver(this.debouncedHandler_),
            this.resizeObserver_.observe(e.el())) : (this.loadListener_ = () => {
                if (this.el_ && this.el_.contentWindow) {
                    const e = this.debouncedHandler_;
                    let t = this.unloadListener_ = function() {
                        Me(this, "resize", e),
                        Me(this, "unload", t),
                        t = null
                    }
                    ;
                    Le(this.el_.contentWindow, "unload", t),
                    Le(this.el_.contentWindow, "resize", e)
                }
            }
            ,
            this.one("load", this.loadListener_))
        }
        createEl() {
            return super.createEl("iframe", {
                className: "vjs-resize-manager",
                tabIndex: -1,
                title: this.localize("No content")
            }, {
                "aria-hidden": "true"
            })
        }
        resizeHandler() {
            this.player_ && this.player_.trigger && this.player_.trigger("playerresize")
        }
        dispose() {
            this.debouncedHandler_ && this.debouncedHandler_.cancel(),
            this.resizeObserver_ && (this.player_.el() && this.resizeObserver_.unobserve(this.player_.el()),
            this.resizeObserver_.disconnect()),
            this.loadListener_ && this.off("load", this.loadListener_),
            this.el_ && this.el_.contentWindow && this.unloadListener_ && this.unloadListener_.call(this.el_.contentWindow),
            this.ResizeObserver = null,
            this.resizeObserver = null,
            this.debouncedHandler_ = null,
            this.loadListener_ = null,
            super.dispose()
        }
    }
    );
    const is = {
        trackingThreshold: 20,
        liveTolerance: 15
    };
    dt.registerComponent("LiveTracker", class extends dt {
        constructor(e, t) {
            super(e, v(is, t, {
                createEl: !1
            })),
            this.trackLiveHandler_ = () => this.trackLive_(),
            this.handlePlay_ = e => this.handlePlay(e),
            this.handleFirstTimeupdate_ = e => this.handleFirstTimeupdate(e),
            this.handleSeeked_ = e => this.handleSeeked(e),
            this.seekToLiveEdge_ = e => this.seekToLiveEdge(e),
            this.reset_(),
            this.on(this.player_, "durationchange", (e => this.handleDurationchange(e))),
            this.on(this.player_, "canplay", ( () => this.toggleTracking()))
        }
        trackLive_() {
            if ((e = this.player_.seekable()) && e.length) {
                var e = Number(window.performance.now().toFixed(4))
                  , t = -1 === this.lastTime_ ? 0 : (e - this.lastTime_) / 1e3;
                e = (this.lastTime_ = e,
                this.pastSeekEnd_ = this.pastSeekEnd() + t,
                this.liveCurrentTime()),
                t = this.player_.currentTime();
                let i = this.player_.paused() || this.seekedBehindLive_ || Math.abs(e - t) > this.options_.liveTolerance;
                (i = !(!this.timeupdateSeen_ || e === 1 / 0) && i) !== this.behindLiveEdge_ && (this.behindLiveEdge_ = i,
                this.trigger("liveedgechange"))
            }
        }
        handleDurationchange() {
            this.toggleTracking()
        }
        toggleTracking() {
            this.player_.duration() === 1 / 0 && this.liveWindow() >= this.options_.trackingThreshold ? (this.player_.options_.liveui && this.player_.addClass("vjs-liveui"),
            this.startTracking()) : (this.player_.removeClass("vjs-liveui"),
            this.stopTracking())
        }
        startTracking() {
            this.isTracking() || (this.timeupdateSeen_ || (this.timeupdateSeen_ = this.player_.hasStarted()),
            this.trackingInterval_ = this.setInterval(this.trackLiveHandler_, 30),
            this.trackLive_(),
            this.on(this.player_, ["play", "pause"], this.trackLiveHandler_),
            this.timeupdateSeen_ ? this.on(this.player_, "seeked", this.handleSeeked_) : (this.one(this.player_, "play", this.handlePlay_),
            this.one(this.player_, "timeupdate", this.handleFirstTimeupdate_)))
        }
        handleFirstTimeupdate() {
            this.timeupdateSeen_ = !0,
            this.on(this.player_, "seeked", this.handleSeeked_)
        }
        handleSeeked() {
            var e = Math.abs(this.liveCurrentTime() - this.player_.currentTime());
            this.seekedBehindLive_ = this.nextSeekedFromUser_ && 2 < e,
            this.nextSeekedFromUser_ = !1,
            this.trackLive_()
        }
        handlePlay() {
            this.one(this.player_, "timeupdate", this.seekToLiveEdge_)
        }
        reset_() {
            this.lastTime_ = -1,
            this.pastSeekEnd_ = 0,
            this.lastSeekEnd_ = -1,
            this.behindLiveEdge_ = !0,
            this.timeupdateSeen_ = !1,
            this.seekedBehindLive_ = !1,
            this.nextSeekedFromUser_ = !1,
            this.clearInterval(this.trackingInterval_),
            this.trackingInterval_ = null,
            this.off(this.player_, ["play", "pause"], this.trackLiveHandler_),
            this.off(this.player_, "seeked", this.handleSeeked_),
            this.off(this.player_, "play", this.handlePlay_),
            this.off(this.player_, "timeupdate", this.handleFirstTimeupdate_),
            this.off(this.player_, "timeupdate", this.seekToLiveEdge_)
        }
        nextSeekedFromUser() {
            this.nextSeekedFromUser_ = !0
        }
        stopTracking() {
            this.isTracking() && (this.reset_(),
            this.trigger("liveedgechange"))
        }
        seekableEnd() {
            var e = this.player_.seekable()
              , t = [];
            let i = e ? e.length : 0;
            for (; i--; )
                t.push(e.end(i));
            return t.length ? t.sort()[t.length - 1] : 1 / 0
        }
        seekableStart() {
            var e = this.player_.seekable()
              , t = [];
            let i = e ? e.length : 0;
            for (; i--; )
                t.push(e.start(i));
            return t.length ? t.sort()[0] : 0
        }
        liveWindow() {
            var e = this.liveCurrentTime();
            return e === 1 / 0 ? 0 : e - this.seekableStart()
        }
        isLive() {
            return this.isTracking()
        }
        atLiveEdge() {
            return !this.behindLiveEdge()
        }
        liveCurrentTime() {
            return this.pastSeekEnd() + this.seekableEnd()
        }
        pastSeekEnd() {
            var e = this.seekableEnd();
            return -1 !== this.lastSeekEnd_ && e !== this.lastSeekEnd_ && (this.pastSeekEnd_ = 0),
            this.lastSeekEnd_ = e,
            this.pastSeekEnd_
        }
        behindLiveEdge() {
            return this.behindLiveEdge_
        }
        isTracking() {
            return "number" == typeof this.trackingInterval_
        }
        seekToLiveEdge() {
            this.seekedBehindLive_ = !1,
            this.atLiveEdge() || (this.nextSeekedFromUser_ = !1,
            this.player_.currentTime(this.liveCurrentTime()))
        }
        dispose() {
            this.stopTracking(),
            super.dispose()
        }
    }
    );
    function ns(e) {
        const t = e.el();
        if (!t.resetSourceWatch_) {
            const i = {}
              , n = os(e)
              , s = i => (...n) => (n = i.apply(t, n),
            ss(e),
            n);
            ["append", "appendChild", "insertAdjacentHTML"].forEach((e => {
                t[e] && (i[e] = t[e],
                t[e] = s(i[e]))
            }
            )),
            Object.defineProperty(t, "innerHTML", v(n, {
                set: s(n.set)
            })),
            t.resetSourceWatch_ = () => {
                t.resetSourceWatch_ = null,
                Object.keys(i).forEach((e => {
                    t[e] = i[e]
                }
                )),
                Object.defineProperty(t, "innerHTML", n)
            }
            ,
            e.one("sourceset", t.resetSourceWatch_)
        }
    }
    dt.registerComponent("TitleBar", class extends dt {
        constructor(e, t) {
            super(e, t),
            this.on("statechanged", (e => this.updateDom_())),
            this.updateDom_()
        }
        createEl() {
            return this.els = {
                title: W("div", {
                    className: "vjs-title-bar-title",
                    id: "vjs-title-bar-title-" + Ee++
                }),
                description: W("div", {
                    className: "vjs-title-bar-description",
                    id: "vjs-title-bar-description-" + Ee++
                })
            },
            W("div", {
                className: "vjs-title-bar"
            }, {}, Object.values(this.els))
        }
        updateDom_() {
            var e = this.player_.tech_;
            const t = e && e.el_
              , i = {
                title: "aria-labelledby",
                description: "aria-describedby"
            };
            ["title", "description"].forEach((e => {
                var n = this.state[e]
                  , s = this.els[e];
                e = i[e];
                de(s),
                n && V(s, n),
                t && (t.removeAttribute(e),
                n) && t.setAttribute(e, s.id)
            }
            )),
            this.state.title || this.state.description ? this.show() : this.hide()
        }
        update(e) {
            this.setState(e)
        }
        dispose() {
            var e;
            (e = (e = this.player_.tech_) && e.el_) && (e.removeAttribute("aria-labelledby"),
            e.removeAttribute("aria-describedby")),
            super.dispose(),
            this.els = null
        }
    }
    );
    const ss = e => {
        var t = e.el();
        if (t.hasAttribute("src"))
            e.triggerSourceset(t.src);
        else {
            var i = e.$$("source")
              , n = [];
            let t = "";
            if (!i.length)
                return !1;
            for (let e = 0; e < i.length; e++) {
                var s = i[e].src;
                s && -1 === n.indexOf(s) && n.push(s)
            }
            if (!n.length)
                return !1;
            1 === n.length && (t = n[0]),
            e.triggerSourceset(t)
        }
        return !0
    }
      , rs = Object.defineProperty({}, "innerHTML", {
        get() {
            return this.cloneNode(!0).innerHTML
        },
        set(e) {
            for (var t = document.createElement(this.nodeName.toLowerCase()), i = (t.innerHTML = e,
            document.createDocumentFragment()); t.childNodes.length; )
                i.appendChild(t.childNodes[0]);
            return this.innerText = "",
            window.Element.prototype.appendChild.call(this, i),
            this.innerHTML
        }
    })
      , as = (e, t) => {
        let i = {};
        for (let n = 0; n < e.length && !((i = Object.getOwnPropertyDescriptor(e[n], t)) && i.set && i.get); n++)
            ;
        return i.enumerable = !0,
        i.configurable = !0,
        i
    }
      , os = e => as([e.el(), window.HTMLMediaElement.prototype, window.Element.prototype, rs], "innerHTML")
      , ls = Object.defineProperty({}, "src", {
        get() {
            return this.hasAttribute("src") ? Bt(window.Element.prototype.getAttribute.call(this, "src")) : ""
        },
        set(e) {
            return window.Element.prototype.setAttribute.call(this, "src", e),
            e
        }
    });
    class ds extends Fi {
        constructor(e, t) {
            super(e, t),
            t = e.source;
            let i = !1;
            if (this.featuresVideoFrameCallback = this.featuresVideoFrameCallback && "VIDEO" === this.el_.tagName,
            t && (this.el_.currentSrc !== t.src || e.tag && 3 === e.tag.initNetworkState_) ? this.setSource(t) : this.handleLateInit_(this.el_),
            e.enableSourceset && this.setupSourcesetHandling_(),
            this.isScrubbing_ = !1,
            this.el_.hasChildNodes()) {
                var n = this.el_.childNodes;
                let e = n.length;
                for (var s = []; e--; ) {
                    var r = n[e];
                    "track" === r.nodeName.toLowerCase() && (this.featuresNativeTextTracks ? (this.remoteTextTrackEls().addTrackElement_(r),
                    this.remoteTextTracks().addTrack(r.track),
                    this.textTracks().addTrack(r.track),
                    i || this.el_.hasAttribute("crossorigin") || !jt(r.src) || (i = !0)) : s.push(r))
                }
                for (let e = 0; e < s.length; e++)
                    this.el_.removeChild(s[e])
            }
            this.proxyNativeTracks_(),
            this.featuresNativeTextTracks && i && c.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),
            this.restoreMetadataTracksInIOSNativePlayer_(),
            (R || D) && !0 === e.nativeControlsForTouch && this.setControls(!0),
            this.proxyWebkitFullscreen_(),
            this.triggerReady()
        }
        dispose() {
            this.el_ && this.el_.resetSourceset_ && this.el_.resetSourceset_(),
            ds.disposeMediaElement(this.el_),
            this.options_ = null,
            super.dispose()
        }
        setupSourcesetHandling_() {
            !function(e) {
                if (e.featuresSourceset) {
                    const t = e.el();
                    if (!t.resetSourceset_) {
                        const i = as([e.el(), window.HTMLMediaElement.prototype, ls], "src")
                          , n = t.setAttribute
                          , s = t.load;
                        Object.defineProperty(t, "src", v(i, {
                            set: n => (n = i.set.call(t, n),
                            e.triggerSourceset(t.src),
                            n)
                        })),
                        t.setAttribute = (i, s) => (s = n.call(t, i, s),
                        /src/i.test(i) && e.triggerSourceset(t.src),
                        s),
                        t.load = () => {
                            var i = s.call(t);
                            return ss(e) || (e.triggerSourceset(""),
                            ns(e)),
                            i
                        }
                        ,
                        t.currentSrc ? e.triggerSourceset(t.currentSrc) : ss(e) || ns(e),
                        t.resetSourceset_ = () => {
                            t.resetSourceset_ = null,
                            t.load = s,
                            t.setAttribute = n,
                            Object.defineProperty(t, "src", i),
                            t.resetSourceWatch_ && t.resetSourceWatch_()
                        }
                    }
                }
            }(this)
        }
        restoreMetadataTracksInIOSNativePlayer_() {
            const e = this.textTracks();
            let t;
            const i = () => {
                t = [];
                for (let n = 0; n < e.length; n++) {
                    var i = e[n];
                    "metadata" === i.kind && t.push({
                        track: i,
                        storedMode: i.mode
                    })
                }
            }
              , n = (i(),
            e.addEventListener("change", i),
            this.on("dispose", ( () => e.removeEventListener("change", i))),
            () => {
                for (let e = 0; e < t.length; e++) {
                    var i = t[e];
                    "disabled" === i.track.mode && i.track.mode !== i.storedMode && (i.track.mode = i.storedMode)
                }
                e.removeEventListener("change", n)
            }
            );
            this.on("webkitbeginfullscreen", ( () => {
                e.removeEventListener("change", i),
                e.removeEventListener("change", n),
                e.addEventListener("change", n)
            }
            )),
            this.on("webkitendfullscreen", ( () => {
                e.removeEventListener("change", i),
                e.addEventListener("change", i),
                e.removeEventListener("change", n)
            }
            ))
        }
        overrideNative_(e, t) {
            if (t === this[`featuresNative${e}Tracks`]) {
                const i = e.toLowerCase();
                this[i + "TracksListeners_"] && Object.keys(this[i + "TracksListeners_"]).forEach((e => {
                    this.el()[i + "Tracks"].removeEventListener(e, this[i + "TracksListeners_"][e])
                }
                )),
                this[`featuresNative${e}Tracks`] = !t,
                this[i + "TracksListeners_"] = null,
                this.proxyNativeTracksForType_(i)
            }
        }
        overrideNativeAudioTracks(e) {
            this.overrideNative_("Audio", e)
        }
        overrideNativeVideoTracks(e) {
            this.overrideNative_("Video", e)
        }
        proxyNativeTracksForType_(e) {
            var t = oi[e];
            const i = this.el()[t.getterName]
              , n = this[t.getterName]();
            if (this[`featuresNative${t.capitalName}Tracks`] && i && i.addEventListener) {
                const s = {
                    change: t => {
                        var i = {
                            type: "change",
                            target: n,
                            currentTarget: n,
                            srcElement: n
                        };
                        n.trigger(i),
                        "text" === e && this[li.remoteText.getterName]().trigger(i)
                    }
                    ,
                    addtrack(e) {
                        n.addTrack(e.track)
                    },
                    removetrack(e) {
                        n.removeTrack(e.track)
                    }
                }
                  , r = function() {
                    var e = [];
                    for (let t = 0; t < n.length; t++) {
                        let s = !1;
                        for (let e = 0; e < i.length; e++)
                            if (i[e] === n[t]) {
                                s = !0;
                                break
                            }
                        s || e.push(n[t])
                    }
                    for (; e.length; )
                        n.removeTrack(e.shift())
                };
                this[t.getterName + "Listeners_"] = s,
                Object.keys(s).forEach((e => {
                    const t = s[e];
                    i.addEventListener(e, t),
                    this.on("dispose", (n => i.removeEventListener(e, t)))
                }
                )),
                this.on("loadstart", r),
                this.on("dispose", (e => this.off("loadstart", r)))
            }
        }
        proxyNativeTracks_() {
            oi.names.forEach((e => {
                this.proxyNativeTracksForType_(e)
            }
            ))
        }
        createEl() {
            let e = this.options_.tag;
            e && (this.options_.playerElIngest || this.movingMediaElementInDOM) || (e ? (t = e.cloneNode(!0),
            e.parentNode && e.parentNode.insertBefore(t, e),
            ds.disposeMediaElement(e),
            e = t) : (e = document.createElement("video"),
            t = v({}, this.options_.tag && J(this.options_.tag)),
            R && !0 === this.options_.nativeControlsForTouch || delete t.controls,
            Z(e, Object.assign(t, {
                id: this.options_.techId,
                class: "vjs-tech"
            }))),
            e.playerId = this.options_.playerId),
            void 0 !== this.options_.preload && te(e, "preload", this.options_.preload),
            void 0 !== this.options_.disablePictureInPicture && (e.disablePictureInPicture = this.options_.disablePictureInPicture);
            var t, i = ["loop", "muted", "playsinline", "autoplay"];
            for (let t = 0; t < i.length; t++) {
                var n = i[t]
                  , s = this.options_[n];
                void 0 !== s && (s ? te(e, n, n) : ie(e, n),
                e[n] = s)
            }
            return e
        }
        handleLateInit_(e) {
            if (0 !== e.networkState && 3 !== e.networkState)
                if (0 === e.readyState) {
                    let e = !1;
                    const t = function() {
                        e = !0
                    }
                      , i = (this.on("loadstart", t),
                    function() {
                        e || this.trigger("loadstart")
                    }
                    );
                    this.on("loadedmetadata", i),
                    this.ready((function() {
                        this.off("loadstart", t),
                        this.off("loadedmetadata", i),
                        e || this.trigger("loadstart")
                    }
                    ))
                } else {
                    const t = ["loadstart"];
                    t.push("loadedmetadata"),
                    2 <= e.readyState && t.push("loadeddata"),
                    3 <= e.readyState && t.push("canplay"),
                    4 <= e.readyState && t.push("canplaythrough"),
                    this.ready((function() {
                        t.forEach((function(e) {
                            this.trigger(e)
                        }
                        ), this)
                    }
                    ))
                }
        }
        setScrubbing(e) {
            this.isScrubbing_ = e
        }
        scrubbing() {
            return this.isScrubbing_
        }
        setCurrentTime(e) {
            try {
                this.isScrubbing_ && this.el_.fastSeek && F ? this.el_.fastSeek(e) : this.el_.currentTime = e
            } catch (e) {
                c(e, "Video is not ready. (Video.js)")
            }
        }
        duration() {
            if (this.el_.duration === 1 / 0 && S && E && 0 === this.el_.currentTime) {
                const e = () => {
                    0 < this.el_.currentTime && (this.el_.duration === 1 / 0 && this.trigger("durationchange"),
                    this.off("timeupdate", e))
                }
                ;
                return this.on("timeupdate", e),
                NaN
            }
            return this.el_.duration || NaN
        }
        width() {
            return this.el_.offsetWidth
        }
        height() {
            return this.el_.offsetHeight
        }
        proxyWebkitFullscreen_() {
            if ("webkitDisplayingFullscreen"in this.el_) {
                const e = function() {
                    this.trigger("fullscreenchange", {
                        isFullscreen: !1
                    }),
                    this.el_.controls && !this.options_.nativeControlsForTouch && this.controls() && (this.el_.controls = !1)
                }
                  , t = function() {
                    "webkitPresentationMode"in this.el_ && "picture-in-picture" !== this.el_.webkitPresentationMode && (this.one("webkitendfullscreen", e),
                    this.trigger("fullscreenchange", {
                        isFullscreen: !0,
                        nativeIOSFullscreen: !0
                    }))
                };
                this.on("webkitbeginfullscreen", t),
                this.on("dispose", ( () => {
                    this.off("webkitbeginfullscreen", t),
                    this.off("webkitendfullscreen", e)
                }
                ))
            }
        }
        supportsFullScreen() {
            return "function" == typeof this.el_.webkitEnterFullScreen
        }
        enterFullScreen() {
            const e = this.el_;
            if (e.paused && e.networkState <= e.HAVE_METADATA)
                wt(this.el_.play()),
                this.setTimeout((function() {
                    e.pause();
                    try {
                        e.webkitEnterFullScreen()
                    } catch (e) {
                        this.trigger("fullscreenerror", e)
                    }
                }
                ), 0);
            else
                try {
                    e.webkitEnterFullScreen()
                } catch (e) {
                    this.trigger("fullscreenerror", e)
                }
        }
        exitFullScreen() {
            this.el_.webkitDisplayingFullscreen ? this.el_.webkitExitFullScreen() : this.trigger("fullscreenerror", new Error("The video is not fullscreen"))
        }
        requestPictureInPicture() {
            return this.el_.requestPictureInPicture()
        }
        requestVideoFrameCallback(e) {
            return this.featuresVideoFrameCallback && !this.el_.webkitKeys ? this.el_.requestVideoFrameCallback(e) : super.requestVideoFrameCallback(e)
        }
        cancelVideoFrameCallback(e) {
            this.featuresVideoFrameCallback && !this.el_.webkitKeys ? this.el_.cancelVideoFrameCallback(e) : super.cancelVideoFrameCallback(e)
        }
        src(e) {
            if (void 0 === e)
                return this.el_.src;
            this.setSrc(e)
        }
        reset() {
            ds.resetMediaElement(this.el_)
        }
        currentSrc() {
            return this.currentSource_ ? this.currentSource_.src : this.el_.currentSrc
        }
        setControls(e) {
            this.el_.controls = !!e
        }
        addTextTrack(e, t, i) {
            return this.featuresNativeTextTracks ? this.el_.addTextTrack(e, t, i) : super.addTextTrack(e, t, i)
        }
        createRemoteTextTrack(e) {
            var t;
            return this.featuresNativeTextTracks ? (t = document.createElement("track"),
            e.kind && (t.kind = e.kind),
            e.label && (t.label = e.label),
            (e.language || e.srclang) && (t.srclang = e.language || e.srclang),
            e.default && (t.default = e.default),
            e.id && (t.id = e.id),
            e.src && (t.src = e.src),
            t) : super.createRemoteTextTrack(e)
        }
        addRemoteTextTrack(e, t) {
            return e = super.addRemoteTextTrack(e, t),
            this.featuresNativeTextTracks && this.el().appendChild(e),
            e
        }
        removeRemoteTextTrack(e) {
            if (super.removeRemoteTextTrack(e),
            this.featuresNativeTextTracks) {
                var t = this.$$("track");
                let i = t.length;
                for (; i--; )
                    e !== t[i] && e !== t[i].track || this.el().removeChild(t[i])
            }
        }
        getVideoPlaybackQuality() {
            var e;
            return "function" == typeof this.el().getVideoPlaybackQuality ? this.el().getVideoPlaybackQuality() : (e = {},
            void 0 !== this.el().webkitDroppedFrameCount && void 0 !== this.el().webkitDecodedFrameCount && (e.droppedVideoFrames = this.el().webkitDroppedFrameCount,
            e.totalVideoFrames = this.el().webkitDecodedFrameCount),
            window.performance && (e.creationTime = window.performance.now()),
            e)
        }
    }
    y(ds, "TEST_VID", (function() {
        var e, t;
        if ($())
            return e = document.createElement("video"),
            (t = document.createElement("track")).kind = "captions",
            t.srclang = "en",
            t.label = "English",
            e.appendChild(t),
            e
    }
    )),
    ds.isSupported = function() {
        try {
            ds.TEST_VID.volume = .5
        } catch (e) {
            return !1
        }
        return !(!ds.TEST_VID || !ds.TEST_VID.canPlayType)
    }
    ,
    ds.canPlayType = function(e) {
        return ds.TEST_VID.canPlayType(e)
    }
    ,
    ds.canPlaySource = function(e, t) {
        return ds.canPlayType(e.type)
    }
    ,
    ds.canControlVolume = function() {
        try {
            const t = ds.TEST_VID.volume;
            ds.TEST_VID.volume = t / 2 + .1;
            var e = t !== ds.TEST_VID.volume;
            return e && j ? (window.setTimeout(( () => {
                ds && ds.prototype && (ds.prototype.featuresVolumeControl = t !== ds.TEST_VID.volume)
            }
            )),
            !1) : e
        } catch (e) {
            return !1
        }
    }
    ,
    ds.canMuteVolume = function() {
        try {
            var e = ds.TEST_VID.muted;
            return ds.TEST_VID.muted = !e,
            ds.TEST_VID.muted ? te(ds.TEST_VID, "muted", "muted") : ie(ds.TEST_VID, "muted"),
            e !== ds.TEST_VID.muted
        } catch (e) {
            return !1
        }
    }
    ,
    ds.canControlPlaybackRate = function() {
        if (S && E && A < 58)
            return !1;
        try {
            var e = ds.TEST_VID.playbackRate;
            return ds.TEST_VID.playbackRate = e / 2 + .1,
            e !== ds.TEST_VID.playbackRate
        } catch (e) {
            return !1
        }
    }
    ,
    ds.canOverrideAttributes = function() {
        try {
            var e = () => {}
            ;
            Object.defineProperty(document.createElement("video"), "src", {
                get: e,
                set: e
            }),
            Object.defineProperty(document.createElement("audio"), "src", {
                get: e,
                set: e
            }),
            Object.defineProperty(document.createElement("video"), "innerHTML", {
                get: e,
                set: e
            }),
            Object.defineProperty(document.createElement("audio"), "innerHTML", {
                get: e,
                set: e
            })
        } catch (e) {
            return !1
        }
        return !0
    }
    ,
    ds.supportsNativeTextTracks = function() {
        return F || j && E
    }
    ,
    ds.supportsNativeVideoTracks = function() {
        return !(!ds.TEST_VID || !ds.TEST_VID.videoTracks)
    }
    ,
    ds.supportsNativeAudioTracks = function() {
        return !(!ds.TEST_VID || !ds.TEST_VID.audioTracks)
    }
    ,
    ds.Events = ["loadstart", "suspend", "abort", "error", "emptied", "stalled", "loadedmetadata", "loadeddata", "canplay", "canplaythrough", "playing", "waiting", "seeking", "seeked", "ended", "durationchange", "timeupdate", "progress", "play", "pause", "ratechange", "resize", "volumechange"],
    [["featuresMuteControl", "canMuteVolume"], ["featuresPlaybackRate", "canControlPlaybackRate"], ["featuresSourceset", "canOverrideAttributes"], ["featuresNativeTextTracks", "supportsNativeTextTracks"], ["featuresNativeVideoTracks", "supportsNativeVideoTracks"], ["featuresNativeAudioTracks", "supportsNativeAudioTracks"]].forEach((function([e,t]) {
        y(ds.prototype, e, ( () => ds[t]()), !0)
    }
    )),
    ds.prototype.featuresVolumeControl = ds.canControlVolume(),
    ds.prototype.movingMediaElementInDOM = !j,
    ds.prototype.featuresFullscreenResize = !0,
    ds.prototype.featuresProgressEvents = !0,
    ds.prototype.featuresTimeupdateEvents = !0,
    ds.prototype.featuresVideoFrameCallback = !(!ds.TEST_VID || !ds.TEST_VID.requestVideoFrameCallback),
    ds.disposeMediaElement = function(e) {
        if (e) {
            for (e.parentNode && e.parentNode.removeChild(e); e.hasChildNodes(); )
                e.removeChild(e.firstChild);
            if (e.removeAttribute("src"),
            "function" == typeof e.load)
                try {
                    e.load()
                } catch (e) {}
        }
    }
    ,
    ds.resetMediaElement = function(e) {
        if (e) {
            var t = e.querySelectorAll("source");
            let i = t.length;
            for (; i--; )
                e.removeChild(t[i]);
            if (e.removeAttribute("src"),
            "function" == typeof e.load)
                try {
                    e.load()
                } catch (e) {}
        }
    }
    ,
    ["muted", "defaultMuted", "autoplay", "controls", "loop", "playsinline"].forEach((function(e) {
        ds.prototype[e] = function() {
            return this.el_[e] || this.el_.hasAttribute(e)
        }
    }
    )),
    ["muted", "defaultMuted", "autoplay", "loop", "playsinline"].forEach((function(e) {
        ds.prototype["set" + nt(e)] = function(t) {
            (this.el_[e] = t) ? this.el_.setAttribute(e, e) : this.el_.removeAttribute(e)
        }
    }
    )),
    ["paused", "currentTime", "buffered", "volume", "poster", "preload", "error", "seeking", "seekable", "ended", "playbackRate", "defaultPlaybackRate", "disablePictureInPicture", "played", "networkState", "readyState", "videoWidth", "videoHeight", "crossOrigin"].forEach((function(e) {
        ds.prototype[e] = function() {
            return this.el_[e]
        }
    }
    )),
    ["volume", "src", "poster", "preload", "playbackRate", "defaultPlaybackRate", "disablePictureInPicture", "crossOrigin"].forEach((function(e) {
        ds.prototype["set" + nt(e)] = function(t) {
            this.el_[e] = t
        }
    }
    )),
    ["pause", "load", "play"].forEach((function(e) {
        ds.prototype[e] = function() {
            return this.el_[e]()
        }
    }
    )),
    Fi.withSourceHandlers(ds),
    ds.nativeSourceHandler = {},
    ds.nativeSourceHandler.canPlayType = function(e) {
        try {
            return ds.TEST_VID.canPlayType(e)
        } catch (e) {
            return ""
        }
    }
    ,
    ds.nativeSourceHandler.canHandleSource = function(e, t) {
        return e.type ? ds.nativeSourceHandler.canPlayType(e.type) : e.src ? (e = Ft(e.src),
        ds.nativeSourceHandler.canPlayType("video/" + e)) : ""
    }
    ,
    ds.nativeSourceHandler.handleSource = function(e, t, i) {
        t.setSrc(e.src)
    }
    ,
    ds.nativeSourceHandler.dispose = function() {}
    ,
    ds.registerSourceHandler(ds.nativeSourceHandler),
    Fi.registerTech("Html5", ds);
    const cs = ["progress", "abort", "suspend", "emptied", "stalled", "loadedmetadata", "loadeddata", "timeupdate", "resize", "volumechange", "texttrackchange"]
      , us = {
        canplay: "CanPlay",
        canplaythrough: "CanPlayThrough",
        playing: "Playing",
        seeked: "Seeked"
    }
      , hs = ["tiny", "xsmall", "small", "medium", "large", "xlarge", "huge"]
      , ps = {}
      , fs = (hs.forEach((e => {
        var t = "x" === e.charAt(0) ? "x-" + e.substring(1) : e;
        ps[e] = "vjs-layout-" + t
    }
    )),
    {
        tiny: 210,
        xsmall: 320,
        small: 425,
        medium: 768,
        large: 1440,
        xlarge: 2560,
        huge: 1 / 0
    });
    class ms extends dt {
        constructor(t, i, n) {
            if (t.id = t.id || i.id || "vjs_video_" + Ee++,
            (i = Object.assign(ms.getTagSettings(t), i)).initChildren = !1,
            i.createEl = !1,
            i.evented = !1,
            i.reportTouchActivity = !1,
            i.language || (r = t.closest("[lang]")) && (i.language = r.getAttribute("lang")),
            super(null, i, n),
            this.boundDocumentFullscreenChange_ = e => this.documentFullscreenChange_(e),
            this.boundFullWindowOnEscKey_ = e => this.fullWindowOnEscKey(e),
            this.boundUpdateStyleEl_ = e => this.updateStyleEl_(e),
            this.boundApplyInitTime_ = e => this.applyInitTime_(e),
            this.boundUpdateCurrentBreakpoint_ = e => this.updateCurrentBreakpoint_(e),
            this.boundHandleTechClick_ = e => this.handleTechClick_(e),
            this.boundHandleTechDoubleClick_ = e => this.handleTechDoubleClick_(e),
            this.boundHandleTechTouchStart_ = e => this.handleTechTouchStart_(e),
            this.boundHandleTechTouchMove_ = e => this.handleTechTouchMove_(e),
            this.boundHandleTechTouchEnd_ = e => this.handleTechTouchEnd_(e),
            this.boundHandleTechTap_ = e => this.handleTechTap_(e),
            this.isFullscreen_ = !1,
            this.log = u(this.id_),
            this.fsApi_ = s,
            this.isPosterFromTech_ = !1,
            this.queuedCallbacks_ = [],
            this.isReady_ = !1,
            this.hasStarted_ = !1,
            this.userActive_ = !1,
            this.debugEnabled_ = !1,
            this.audioOnlyMode_ = !1,
            this.audioPosterMode_ = !1,
            this.audioOnlyCache_ = {
                playerHeight: null,
                hiddenChildren: []
            },
            !this.options_ || !this.options_.techOrder || !this.options_.techOrder.length)
                throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");
            if (this.tag = t,
            this.tagAttributes = t && J(t),
            this.language(this.options_.language),
            i.languages) {
                const e = {};
                Object.getOwnPropertyNames(i.languages).forEach((function(t) {
                    e[t.toLowerCase()] = i.languages[t]
                }
                )),
                this.languages_ = e
            } else
                this.languages_ = ms.prototype.options_.languages;
            this.resetCache_(),
            this.poster_ = i.poster || "",
            this.controls_ = !!i.controls,
            t.controls = !1,
            t.removeAttribute("controls"),
            this.changingSrc_ = !1,
            this.playCallbacks_ = [],
            this.playTerminatedQueue_ = [],
            t.hasAttribute("autoplay") ? this.autoplay(!0) : this.autoplay(this.options_.autoplay),
            i.plugins && Object.keys(i.plugins).forEach((e => {
                if ("function" != typeof this[e])
                    throw new Error(`plugin "${e}" does not exist`)
            }
            )),
            this.scrubbing_ = !1,
            this.el_ = this.createEl(),
            Je(this, {
                eventBusKey: "el_"
            }),
            this.fsApi_.requestFullscreen && (Le(document, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_),
            this.on(this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_)),
            this.fluid_ && this.on(["playerreset", "resize"], this.boundUpdateStyleEl_);
            var r = v(this.options_);
            i.plugins && Object.keys(i.plugins).forEach((e => {
                this[e](i.plugins[e])
            }
            )),
            i.debug && this.debug(!0),
            this.options_.playerOptions = r,
            this.middleware_ = [],
            this.playbackRates(i.playbackRates),
            this.initChildren(),
            this.isAudio("audio" === t.nodeName.toLowerCase()),
            this.controls() ? this.addClass("vjs-controls-enabled") : this.addClass("vjs-controls-disabled"),
            this.el_.setAttribute("role", "region"),
            this.isAudio() ? this.el_.setAttribute("aria-label", this.localize("Audio Player")) : this.el_.setAttribute("aria-label", this.localize("Video Player")),
            this.isAudio() && this.addClass("vjs-audio"),
            R && this.addClass("vjs-touch-enabled"),
            j || this.addClass("vjs-workinghover"),
            ms.players[this.id_] = this,
            n = e.split(".")[0];
            this.addClass("vjs-v" + n),
            this.userActive(!0),
            this.reportUserActivity(),
            this.one("play", (e => this.listenForUserActivity_(e))),
            this.on("keydown", (e => this.handleKeyDown(e))),
            this.on("languagechange", (e => this.handleLanguagechange(e))),
            this.breakpoints(this.options_.breakpoints),
            this.responsive(this.options_.responsive),
            this.on("ready", ( () => {
                this.audioPosterMode(this.options_.audioPosterMode),
                this.audioOnlyMode(this.options_.audioOnlyMode)
            }
            ))
        }
        dispose() {
            this.trigger("dispose"),
            this.off("dispose"),
            Me(document, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_),
            Me(document, "keydown", this.boundFullWindowOnEscKey_),
            this.styleEl_ && this.styleEl_.parentNode && (this.styleEl_.parentNode.removeChild(this.styleEl_),
            this.styleEl_ = null),
            ms.players[this.id_] = null,
            this.tag && this.tag.player && (this.tag.player = null),
            this.el_ && this.el_.player && (this.el_.player = null),
            this.tech_ && (this.tech_.dispose(),
            this.isPosterFromTech_ = !1,
            this.poster_ = ""),
            this.playerElIngest_ && (this.playerElIngest_ = null),
            this.tag && (this.tag = null),
            $i[this.id()] = null,
            di.names.forEach((e => {
                (e = this[di[e].getterName]()) && e.off && e.off()
            }
            )),
            super.dispose({
                restoreEl: this.options_.restoreEl
            })
        }
        createEl() {
            let e, t = this.tag, i = this.playerElIngest_ = t.parentNode && t.parentNode.hasAttribute && t.parentNode.hasAttribute("data-vjs-player");
            const n = "video-js" === this.tag.tagName.toLowerCase()
              , s = (i ? e = this.el_ = t.parentNode : n || (e = this.el_ = super.createEl("div")),
            J(t));
            if (n) {
                for (e = this.el_ = t,
                t = this.tag = document.createElement("video"); e.children.length; )
                    t.appendChild(e.firstChild);
                X(e, "video-js") || Y(e, "video-js"),
                e.appendChild(t),
                i = this.playerElIngest_ = e,
                Object.keys(e).forEach((i => {
                    try {
                        t[i] = e[i]
                    } catch (i) {}
                }
                ))
            }
            t.setAttribute("tabindex", "-1"),
            s.tabindex = "-1",
            E && L && (t.setAttribute("role", "application"),
            s.role = "application"),
            t.removeAttribute("width"),
            t.removeAttribute("height"),
            "width"in s && delete s.width,
            "height"in s && delete s.height,
            Object.getOwnPropertyNames(s).forEach((function(i) {
                n && "class" === i || e.setAttribute(i, s[i]),
                n && t.setAttribute(i, s[i])
            }
            )),
            t.playerId = t.id,
            t.id += "_html5_api",
            t.className = "vjs-tech",
            (t.player = e.player = this).addClass("vjs-paused"),
            !0 !== window.VIDEOJS_NO_DYNAMIC_STYLE && (this.styleEl_ = Se("vjs-styles-dimensions"),
            r = fe(".vjs-styles-defaults"),
            (a = fe("head")).insertBefore(this.styleEl_, r ? r.nextSibling : a.firstChild)),
            this.fill_ = !1,
            this.fluid_ = !1,
            this.width(this.options_.width),
            this.height(this.options_.height),
            this.fill(this.options_.fill),
            this.fluid(this.options_.fluid),
            this.aspectRatio(this.options_.aspectRatio),
            this.crossOrigin(this.options_.crossOrigin || this.options_.crossorigin);
            var r, a, o = t.getElementsByTagName("a");
            for (let e = 0; e < o.length; e++) {
                var l = o.item(e);
                Y(l, "vjs-hidden"),
                l.setAttribute("hidden", "hidden")
            }
            return t.initNetworkState_ = t.networkState,
            t.parentNode && !i && t.parentNode.insertBefore(e, t),
            G(t, e),
            this.children_.unshift(t),
            this.el_.setAttribute("lang", this.language_),
            this.el_.setAttribute("translate", "no"),
            this.el_ = e
        }
        crossOrigin(e) {
            if (void 0 === e)
                return this.techGet_("crossOrigin");
            null !== e && "anonymous" !== e && "use-credentials" !== e ? c.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`) : (this.techCall_("setCrossOrigin", e),
            this.posterImage && this.posterImage.crossOrigin(e))
        }
        width(e) {
            return this.dimension("width", e)
        }
        height(e) {
            return this.dimension("height", e)
        }
        dimension(e, t) {
            var i, n = e + "_";
            if (void 0 === t)
                return this[n] || 0;
            "" === t || "auto" === t ? (this[n] = void 0,
            this.updateStyleEl_()) : (i = parseFloat(t),
            isNaN(i) ? c.error(`Improper value "${t}" supplied for for ` + e) : (this[n] = i,
            this.updateStyleEl_()))
        }
        fluid(e) {
            if (void 0 === e)
                return !!this.fluid_;
            var t;
            this.fluid_ = !!e,
            We(this) && this.off(["playerreset", "resize"], this.boundUpdateStyleEl_),
            e ? (this.addClass("vjs-fluid"),
            this.fill(!1),
            t = () => {
                this.on(["playerreset", "resize"], this.boundUpdateStyleEl_)
            }
            ,
            We(e = this) ? t() : (e.eventedCallbacks || (e.eventedCallbacks = []),
            e.eventedCallbacks.push(t))) : this.removeClass("vjs-fluid"),
            this.updateStyleEl_()
        }
        fill(e) {
            if (void 0 === e)
                return !!this.fill_;
            this.fill_ = !!e,
            e ? (this.addClass("vjs-fill"),
            this.fluid(!1)) : this.removeClass("vjs-fill")
        }
        aspectRatio(e) {
            if (void 0 === e)
                return this.aspectRatio_;
            if (!/^\d+\:\d+$/.test(e))
                throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");
            this.aspectRatio_ = e,
            this.fluid(!0),
            this.updateStyleEl_()
        }
        updateStyleEl_() {
            if (!0 === window.VIDEOJS_NO_DYNAMIC_STYLE) {
                const t = "number" == typeof this.width_ ? this.width_ : this.options_.width
                  , i = "number" == typeof this.height_ ? this.height_ : this.options_.height;
                var e = this.tech_ && this.tech_.el();
                e && (0 <= t && (e.width = t),
                0 <= i) && (e.height = i)
            } else {
                let t, i, n, s;
                e = (e = (n = void 0 !== this.aspectRatio_ && "auto" !== this.aspectRatio_ ? this.aspectRatio_ : 0 < this.videoWidth() ? this.videoWidth() + ":" + this.videoHeight() : "16:9").split(":"))[1] / e[0],
                t = void 0 !== this.width_ ? this.width_ : void 0 !== this.height_ ? this.height_ / e : this.videoWidth() || 300,
                i = void 0 !== this.height_ ? this.height_ : t * e,
                s = /^[^a-zA-Z]/.test(this.id()) ? "dimensions-" + this.id() : this.id() + "-dimensions",
                this.addClass(s),
                ke(this.styleEl_, `\n      .${s} {\n        width: ${t}px;\n        height: ${i}px;\n      }\n\n      .${s}.vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ${100 * e}%;\n      }\n    `)
            }
        }
        loadTech_(e, t) {
            this.tech_ && this.unloadTech_();
            var i = nt(e)
              , n = e.charAt(0).toLowerCase() + e.slice(1);
            "Html5" !== i && this.tag && (Fi.getTech("Html5").disposeMediaElement(this.tag),
            this.tag.player = null,
            this.tag = null),
            this.techName_ = i,
            this.isReady_ = !1;
            let s = this.autoplay();
            const r = {
                source: t,
                autoplay: s = !("string" == typeof this.autoplay() || !0 === this.autoplay() && this.options_.normalizeAutoplay) && s,
                nativeControlsForTouch: this.options_.nativeControlsForTouch,
                playerId: this.id(),
                techId: this.id() + `_${n}_api`,
                playsinline: this.options_.playsinline,
                preload: this.options_.preload,
                loop: this.options_.loop,
                disablePictureInPicture: this.options_.disablePictureInPicture,
                muted: this.options_.muted,
                poster: this.poster(),
                language: this.language(),
                playerElIngest: this.playerElIngest_ || !1,
                "vtt.js": this.options_["vtt.js"],
                canOverridePoster: !!this.options_.techCanOverridePoster,
                enableSourceset: this.options_.enableSourceset
            };
            if (di.names.forEach((e => {
                e = di[e],
                r[e.getterName] = this[e.privateName]
            }
            )),
            Object.assign(r, this.options_[i]),
            Object.assign(r, this.options_[n]),
            Object.assign(r, this.options_[e.toLowerCase()]),
            this.tag && (r.tag = this.tag),
            t && t.src === this.cache_.src && 0 < this.cache_.currentTime && (r.startTime = this.cache_.currentTime),
            !(n = Fi.getTech(e)))
                throw new Error(`No Tech named '${i}' exists! '${i}' should be registered using videojs.registerTech()'`);
            this.tech_ = new n(r),
            this.tech_.ready(je(this, this.handleTechReady_), !0),
            function(e, t) {
                e.forEach((function(e) {
                    const i = t.addRemoteTextTrack(e).track;
                    !e.src && e.cues && e.cues.forEach((e => i.addCue(e)))
                }
                )),
                t.textTracks()
            }(this.textTracksJson_ || [], this.tech_),
            cs.forEach((e => {
                this.on(this.tech_, e, (t => this[`handleTech${nt(e)}_`](t)))
            }
            )),
            Object.keys(us).forEach((e => {
                this.on(this.tech_, e, (t => {
                    0 === this.tech_.playbackRate() && this.tech_.seeking() ? this.queuedCallbacks_.push({
                        callback: this[`handleTech${us[e]}_`].bind(this),
                        event: t
                    }) : this[`handleTech${us[e]}_`](t)
                }
                ))
            }
            )),
            this.on(this.tech_, "loadstart", (e => this.handleTechLoadStart_(e))),
            this.on(this.tech_, "sourceset", (e => this.handleTechSourceset_(e))),
            this.on(this.tech_, "waiting", (e => this.handleTechWaiting_(e))),
            this.on(this.tech_, "ended", (e => this.handleTechEnded_(e))),
            this.on(this.tech_, "seeking", (e => this.handleTechSeeking_(e))),
            this.on(this.tech_, "play", (e => this.handleTechPlay_(e))),
            this.on(this.tech_, "pause", (e => this.handleTechPause_(e))),
            this.on(this.tech_, "durationchange", (e => this.handleTechDurationChange_(e))),
            this.on(this.tech_, "fullscreenchange", ( (e, t) => this.handleTechFullscreenChange_(e, t))),
            this.on(this.tech_, "fullscreenerror", ( (e, t) => this.handleTechFullscreenError_(e, t))),
            this.on(this.tech_, "enterpictureinpicture", (e => this.handleTechEnterPictureInPicture_(e))),
            this.on(this.tech_, "leavepictureinpicture", (e => this.handleTechLeavePictureInPicture_(e))),
            this.on(this.tech_, "error", (e => this.handleTechError_(e))),
            this.on(this.tech_, "posterchange", (e => this.handleTechPosterChange_(e))),
            this.on(this.tech_, "textdata", (e => this.handleTechTextData_(e))),
            this.on(this.tech_, "ratechange", (e => this.handleTechRateChange_(e))),
            this.on(this.tech_, "loadedmetadata", this.boundUpdateStyleEl_),
            this.usingNativeControls(this.techGet_("controls")),
            this.controls() && !this.usingNativeControls() && this.addTechControlsListeners_(),
            this.tech_.el().parentNode === this.el() || "Html5" === i && this.tag || G(this.tech_.el(), this.el()),
            this.tag && (this.tag.player = null,
            this.tag = null)
        }
        unloadTech_() {
            di.names.forEach((e => {
                this[(e = di[e]).privateName] = this[e.getterName]()
            }
            )),
            this.textTracksJson_ = function(e) {
                var t = e.$$("track");
                const i = Array.prototype.map.call(t, (e => e.track));
                return Array.prototype.map.call(t, (function(e) {
                    var t = St(e.track);
                    return e.src && (t.src = e.src),
                    t
                }
                )).concat(Array.prototype.filter.call(e.textTracks(), (function(e) {
                    return -1 === i.indexOf(e)
                }
                )).map(St))
            }(this.tech_),
            this.isReady_ = !1,
            this.tech_.dispose(),
            this.tech_ = !1,
            this.isPosterFromTech_ && (this.poster_ = "",
            this.trigger("posterchange")),
            this.isPosterFromTech_ = !1
        }
        tech(e) {
            return void 0 === e && c.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),
            this.tech_
        }
        addTechControlsListeners_() {
            this.removeTechControlsListeners_(),
            this.on(this.tech_, "click", this.boundHandleTechClick_),
            this.on(this.tech_, "dblclick", this.boundHandleTechDoubleClick_),
            this.on(this.tech_, "touchstart", this.boundHandleTechTouchStart_),
            this.on(this.tech_, "touchmove", this.boundHandleTechTouchMove_),
            this.on(this.tech_, "touchend", this.boundHandleTechTouchEnd_),
            this.on(this.tech_, "tap", this.boundHandleTechTap_)
        }
        removeTechControlsListeners_() {
            this.off(this.tech_, "tap", this.boundHandleTechTap_),
            this.off(this.tech_, "touchstart", this.boundHandleTechTouchStart_),
            this.off(this.tech_, "touchmove", this.boundHandleTechTouchMove_),
            this.off(this.tech_, "touchend", this.boundHandleTechTouchEnd_),
            this.off(this.tech_, "click", this.boundHandleTechClick_),
            this.off(this.tech_, "dblclick", this.boundHandleTechDoubleClick_)
        }
        handleTechReady_() {
            this.triggerReady(),
            this.cache_.volume && this.techCall_("setVolume", this.cache_.volume),
            this.handleTechPosterChange_(),
            this.handleTechDurationChange_()
        }
        handleTechLoadStart_() {
            this.removeClass("vjs-ended", "vjs-seeking"),
            this.error(null),
            this.handleTechDurationChange_(),
            this.paused() && this.hasStarted(!1),
            this.trigger("loadstart"),
            this.manualAutoplay_(!0 === this.autoplay() && this.options_.normalizeAutoplay ? "play" : this.autoplay())
        }
        manualAutoplay_(e) {
            if (this.tech_ && "string" == typeof e) {
                var t = () => {
                    const e = this.muted()
                      , t = (this.muted(!0),
                    () => {
                        this.muted(e)
                    }
                    );
                    this.playTerminatedQueue_.push(t);
                    var i = this.play();
                    if (Tt(i))
                        return i.catch((e => {
                            throw t(),
                            new Error("Rejection at manualAutoplay. Restoring muted value. " + (e || ""))
                        }
                        ))
                }
                ;
                let i;
                if ("any" !== e || this.muted() ? i = "muted" !== e || this.muted() ? this.play() : t() : Tt(i = this.play()) && (i = i.catch(t)),
                Tt(i))
                    return i.then(( () => {
                        this.trigger({
                            type: "autoplay-success",
                            autoplay: e
                        })
                    }
                    )).catch(( () => {
                        this.trigger({
                            type: "autoplay-failure",
                            autoplay: e
                        })
                    }
                    ))
            }
        }
        updateSourceCaches_(e="") {
            let t = e
              , i = "";
            "string" != typeof t && (t = e.src,
            i = e.type),
            this.cache_.source = this.cache_.source || {},
            this.cache_.sources = this.cache_.sources || [],
            t && !i && (i = ( (e, t) => {
                if (!t)
                    return "";
                if (e.cache_.source.src === t && e.cache_.source.type)
                    return e.cache_.source.type;
                var i = e.cache_.sources.filter((e => e.src === t));
                if (i.length)
                    return i[0].type;
                var n = e.$$("source");
                for (let e = 0; e < n.length; e++) {
                    var s = n[e];
                    if (s.type && s.src && s.src === t)
                        return s.type
                }
                return Qi(t)
            }
            )(this, t)),
            this.cache_.source = v({}, e, {
                src: t,
                type: i
            });
            e = this.cache_.sources.filter((e => e.src && e.src === t));
            var n = []
              , s = this.$$("source")
              , r = [];
            for (let e = 0; e < s.length; e++) {
                var a = J(s[e]);
                n.push(a),
                a.src && a.src === t && r.push(a.src)
            }
            r.length && !e.length ? this.cache_.sources = n : e.length || (this.cache_.sources = [this.cache_.source]),
            this.cache_.src = t
        }
        handleTechSourceset_(e) {
            if (!this.changingSrc_) {
                let n = e => this.updateSourceCaches_(e);
                var t = this.currentSource().src
                  , i = e.src;
                (n = !t || /^blob:/.test(t) || !/^blob:/.test(i) || this.lastSource_ && (this.lastSource_.tech === i || this.lastSource_.player === t) ? n : () => {}
                )(i),
                e.src || this.tech_.any(["sourceset", "loadstart"], (e => {
                    "sourceset" !== e.type && (e = this.techGet("currentSrc"),
                    this.lastSource_.tech = e,
                    this.updateSourceCaches_(e))
                }
                ))
            }
            this.lastSource_ = {
                player: this.currentSource().src,
                tech: e.src
            },
            this.trigger({
                src: e.src,
                type: "sourceset"
            })
        }
        hasStarted(e) {
            if (void 0 === e)
                return this.hasStarted_;
            e !== this.hasStarted_ && (this.hasStarted_ = e,
            this.hasStarted_ ? this.addClass("vjs-has-started") : this.removeClass("vjs-has-started"))
        }
        handleTechPlay_() {
            this.removeClass("vjs-ended", "vjs-paused"),
            this.addClass("vjs-playing"),
            this.hasStarted(!0),
            this.trigger("play")
        }
        handleTechRateChange_() {
            0 < this.tech_.playbackRate() && 0 === this.cache_.lastPlaybackRate && (this.queuedCallbacks_.forEach((e => e.callback(e.event))),
            this.queuedCallbacks_ = []),
            this.cache_.lastPlaybackRate = this.tech_.playbackRate(),
            this.trigger("ratechange")
        }
        handleTechWaiting_() {
            this.addClass("vjs-waiting"),
            this.trigger("waiting");
            const e = this.currentTime()
              , t = () => {
                e !== this.currentTime() && (this.removeClass("vjs-waiting"),
                this.off("timeupdate", t))
            }
            ;
            this.on("timeupdate", t)
        }
        handleTechCanPlay_() {
            this.removeClass("vjs-waiting"),
            this.trigger("canplay")
        }
        handleTechCanPlayThrough_() {
            this.removeClass("vjs-waiting"),
            this.trigger("canplaythrough")
        }
        handleTechPlaying_() {
            this.removeClass("vjs-waiting"),
            this.trigger("playing")
        }
        handleTechSeeking_() {
            this.addClass("vjs-seeking"),
            this.trigger("seeking")
        }
        handleTechSeeked_() {
            this.removeClass("vjs-seeking", "vjs-ended"),
            this.trigger("seeked")
        }
        handleTechPause_() {
            this.removeClass("vjs-playing"),
            this.addClass("vjs-paused"),
            this.trigger("pause")
        }
        handleTechEnded_() {
            this.addClass("vjs-ended"),
            this.removeClass("vjs-waiting"),
            this.options_.loop ? (this.currentTime(0),
            this.play()) : this.paused() || this.pause(),
            this.trigger("ended")
        }
        handleTechDurationChange_() {
            this.duration(this.techGet_("duration"))
        }
        handleTechClick_(e) {
            !this.controls_ || void 0 !== this.options_ && void 0 !== this.options_.userActions && void 0 !== this.options_.userActions.click && !1 === this.options_.userActions.click || (void 0 !== this.options_ && void 0 !== this.options_.userActions && "function" == typeof this.options_.userActions.click ? this.options_.userActions.click.call(this, e) : this.paused() ? wt(this.play()) : this.pause())
        }
        handleTechDoubleClick_(e) {
            !this.controls_ || Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"), (t => t.contains(e.target))) || void 0 !== this.options_ && void 0 !== this.options_.userActions && void 0 !== this.options_.userActions.doubleClick && !1 === this.options_.userActions.doubleClick || (void 0 !== this.options_ && void 0 !== this.options_.userActions && "function" == typeof this.options_.userActions.doubleClick ? this.options_.userActions.doubleClick.call(this, e) : this.isFullscreen() ? this.exitFullscreen() : this.requestFullscreen())
        }
        handleTechTap_() {
            this.userActive(!this.userActive())
        }
        handleTechTouchStart_() {
            this.userWasActive = this.userActive()
        }
        handleTechTouchMove_() {
            this.userWasActive && this.reportUserActivity()
        }
        handleTechTouchEnd_(e) {
            e.cancelable && e.preventDefault()
        }
        toggleFullscreenClass_() {
            this.isFullscreen() ? this.addClass("vjs-fullscreen") : this.removeClass("vjs-fullscreen")
        }
        documentFullscreenChange_(e) {
            if (!(e = e.target.player) || e === this) {
                e = this.el();
                let t = document[this.fsApi_.fullscreenElement] === e;
                !t && e.matches ? t = e.matches(":" + this.fsApi_.fullscreen) : !t && e.msMatchesSelector && (t = e.msMatchesSelector(":" + this.fsApi_.fullscreen)),
                this.isFullscreen(t)
            }
        }
        handleTechFullscreenChange_(e, t) {
            t && (t.nativeIOSFullscreen && (this.addClass("vjs-ios-native-fs"),
            this.tech_.one("webkitendfullscreen", ( () => {
                this.removeClass("vjs-ios-native-fs")
            }
            ))),
            this.isFullscreen(t.isFullscreen))
        }
        handleTechFullscreenError_(e, t) {
            this.trigger("fullscreenerror", t)
        }
        togglePictureInPictureClass_() {
            this.isInPictureInPicture() ? this.addClass("vjs-picture-in-picture") : this.removeClass("vjs-picture-in-picture")
        }
        handleTechEnterPictureInPicture_(e) {
            this.isInPictureInPicture(!0)
        }
        handleTechLeavePictureInPicture_(e) {
            this.isInPictureInPicture(!1)
        }
        handleTechError_() {
            var e = this.tech_.error();
            this.error(e)
        }
        handleTechTextData_() {
            let e = 1 < arguments.length ? arguments[1] : null;
            this.trigger("textdata", e)
        }
        getCache() {
            return this.cache_
        }
        resetCache_() {
            this.cache_ = {
                currentTime: 0,
                initTime: 0,
                inactivityTimeout: this.options_.inactivityTimeout,
                duration: NaN,
                lastVolume: 1,
                lastPlaybackRate: this.defaultPlaybackRate(),
                media: null,
                src: "",
                source: {},
                sources: [],
                playbackRates: [],
                volume: 1
            }
        }
        techCall_(e, t) {
            this.ready((function() {
                if (e in Vi)
                    return i = this.middleware_,
                    this.tech_[e](i.reduce(Xi(e), t));
                if (e in Gi)
                    return qi(this.middleware_, this.tech_, e, t);
                var i;
                try {
                    this.tech_ && this.tech_[e](t)
                } catch (i) {
                    throw c(i),
                    i
                }
            }
            ), !0)
        }
        techGet_(e) {
            if (this.tech_ && this.tech_.isReady_) {
                if (e in Wi)
                    return t = this.middleware_,
                    i = this.tech_,
                    t.reduceRight(Xi(e), i[e]());
                if (e in Gi)
                    return qi(this.middleware_, this.tech_, e);
                var t, i;
                try {
                    return this.tech_[e]()
                } catch (t) {
                    throw void 0 === this.tech_[e] ? c(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`, t) : "TypeError" === t.name ? (c(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`, t),
                    this.tech_.isReady_ = !1) : c(t),
                    t
                }
            }
        }
        play() {
            return new Promise((e => {
                this.play_(e)
            }
            ))
        }
        play_(e=wt) {
            this.playCallbacks_.push(e);
            var t;
            e = Boolean(!this.changingSrc_ && (this.src() || this.currentSrc()));
            this.waitToPlay_ && (this.off(["ready", "loadstart"], this.waitToPlay_),
            this.waitToPlay_ = null),
            this.isReady_ && e ? null === (t = this.techGet_("play")) ? this.runPlayTerminatedQueue_() : this.runPlayCallbacks_(t) : (this.waitToPlay_ = e => {
                this.play_()
            }
            ,
            this.one(["ready", "loadstart"], this.waitToPlay_),
            e || !F && !j || this.load())
        }
        runPlayTerminatedQueue_() {
            var e = this.playTerminatedQueue_.slice(0);
            this.playTerminatedQueue_ = [],
            e.forEach((function(e) {
                e()
            }
            ))
        }
        runPlayCallbacks_(e) {
            var t = this.playCallbacks_.slice(0);
            this.playCallbacks_ = [],
            this.playTerminatedQueue_ = [],
            t.forEach((function(t) {
                t(e)
            }
            ))
        }
        pause() {
            this.techCall_("pause")
        }
        paused() {
            return !1 !== this.techGet_("paused")
        }
        played() {
            return this.techGet_("played") || ht(0, 0)
        }
        scrubbing(e) {
            if (void 0 === e)
                return this.scrubbing_;
            this.scrubbing_ = !!e,
            this.techCall_("setScrubbing", this.scrubbing_),
            e ? this.addClass("vjs-scrubbing") : this.removeClass("vjs-scrubbing")
        }
        currentTime(e) {
            return void 0 !== e ? (e < 0 && (e = 0),
            this.isReady_ && !this.changingSrc_ && this.tech_ && this.tech_.isReady_ ? (this.techCall_("setCurrentTime", e),
            void (this.cache_.initTime = 0)) : (this.cache_.initTime = e,
            this.off("canplay", this.boundApplyInitTime_),
            void this.one("canplay", this.boundApplyInitTime_))) : (this.cache_.currentTime = this.techGet_("currentTime") || 0,
            this.cache_.currentTime)
        }
        applyInitTime_() {
            this.currentTime(this.cache_.initTime)
        }
        duration(e) {
            if (void 0 === e)
                return void 0 !== this.cache_.duration ? this.cache_.duration : NaN;
            (e = (e = parseFloat(e)) < 0 ? 1 / 0 : e) !== this.cache_.duration && ((this.cache_.duration = e) === 1 / 0 ? this.addClass("vjs-live") : this.removeClass("vjs-live"),
            isNaN(e) || this.trigger("durationchange"))
        }
        remainingTime() {
            return this.duration() - this.currentTime()
        }
        remainingTimeDisplay() {
            return Math.floor(this.duration()) - Math.floor(this.currentTime())
        }
        buffered() {
            let e = this.techGet_("buffered");
            return e && e.length ? e : ht(0, 0)
        }
        bufferedPercent() {
            return bt(this.buffered(), this.duration())
        }
        bufferedEnd() {
            var e = this.buffered()
              , t = this.duration();
            let i = e.end(e.length - 1);
            return i > t ? t : i
        }
        volume(e) {
            let t;
            if (void 0 === e)
                return t = parseFloat(this.techGet_("volume")),
                isNaN(t) ? 1 : t;
            t = Math.max(0, Math.min(1, parseFloat(e))),
            this.cache_.volume = t,
            this.techCall_("setVolume", t),
            0 < t && this.lastVolume_(t)
        }
        muted(e) {
            if (void 0 === e)
                return this.techGet_("muted") || !1;
            this.techCall_("setMuted", e)
        }
        defaultMuted(e) {
            return void 0 !== e ? this.techCall_("setDefaultMuted", e) : this.techGet_("defaultMuted") || !1
        }
        lastVolume_(e) {
            if (void 0 === e || 0 === e)
                return this.cache_.lastVolume;
            this.cache_.lastVolume = e
        }
        supportsFullScreen() {
            return this.techGet_("supportsFullScreen") || !1
        }
        isFullscreen(e) {
            var t;
            if (void 0 === e)
                return this.isFullscreen_;
            t = this.isFullscreen_,
            this.isFullscreen_ = Boolean(e),
            this.isFullscreen_ !== t && this.fsApi_.prefixed && this.trigger("fullscreenchange"),
            this.toggleFullscreenClass_()
        }
        requestFullscreen(e) {
            this.isInPictureInPicture() && this.exitPictureInPicture();
            const t = this;
            return new Promise(( (i, n) => {
                function s() {
                    t.off("fullscreenerror", a),
                    t.off("fullscreenchange", r)
                }
                function r() {
                    s(),
                    i()
                }
                function a(e, t) {
                    s(),
                    n(t)
                }
                t.one("fullscreenchange", r),
                t.one("fullscreenerror", a);
                var o = t.requestFullscreenHelper_(e);
                o && (o.then(s, s),
                o.then(i, n))
            }
            ))
        }
        requestFullscreenHelper_(e) {
            let t;
            if (this.fsApi_.prefixed || (t = this.options_.fullscreen && this.options_.fullscreen.options || {},
            void 0 !== e && (t = e)),
            this.fsApi_.requestFullscreen)
                return (e = this.el_[this.fsApi_.requestFullscreen](t)) && e.then(( () => this.isFullscreen(!0)), ( () => this.isFullscreen(!1))),
                e;
            this.tech_.supportsFullScreen() && 1 == !this.options_.preferFullWindow ? this.techCall_("enterFullScreen") : this.enterFullWindow()
        }
        exitFullscreen() {
            const e = this;
            return new Promise(( (t, i) => {
                function n() {
                    e.off("fullscreenerror", r),
                    e.off("fullscreenchange", s)
                }
                function s() {
                    n(),
                    t()
                }
                function r(e, t) {
                    n(),
                    i(t)
                }
                e.one("fullscreenchange", s),
                e.one("fullscreenerror", r);
                var a = e.exitFullscreenHelper_();
                a && (a.then(n, n),
                a.then(t, i))
            }
            ))
        }
        exitFullscreenHelper_() {
            var e;
            if (this.fsApi_.requestFullscreen)
                return (e = document[this.fsApi_.exitFullscreen]()) && wt(e.then(( () => this.isFullscreen(!1)))),
                e;
            this.tech_.supportsFullScreen() && 1 == !this.options_.preferFullWindow ? this.techCall_("exitFullScreen") : this.exitFullWindow()
        }
        enterFullWindow() {
            this.isFullscreen(!0),
            this.isFullWindow = !0,
            this.docOrigOverflow = document.documentElement.style.overflow,
            Le(document, "keydown", this.boundFullWindowOnEscKey_),
            document.documentElement.style.overflow = "hidden",
            Y(document.body, "vjs-full-window"),
            this.trigger("enterFullWindow")
        }
        fullWindowOnEscKey(e) {
            lt.isEventKey(e, "Esc") && !0 === this.isFullscreen() && (this.isFullWindow ? this.exitFullWindow() : this.exitFullscreen())
        }
        exitFullWindow() {
            this.isFullscreen(!1),
            this.isFullWindow = !1,
            Me(document, "keydown", this.boundFullWindowOnEscKey_),
            document.documentElement.style.overflow = this.docOrigOverflow,
            K(document.body, "vjs-full-window"),
            this.trigger("exitFullWindow")
        }
        disablePictureInPicture(e) {
            if (void 0 === e)
                return this.techGet_("disablePictureInPicture");
            this.techCall_("setDisablePictureInPicture", e),
            this.options_.disablePictureInPicture = e,
            this.trigger("disablepictureinpicturechanged")
        }
        isInPictureInPicture(e) {
            if (void 0 === e)
                return !!this.isInPictureInPicture_;
            this.isInPictureInPicture_ = !!e,
            this.togglePictureInPictureClass_()
        }
        requestPictureInPicture() {
            if ("pictureInPictureEnabled"in document && !1 === this.disablePictureInPicture())
                return this.techGet_("requestPictureInPicture")
        }
        exitPictureInPicture() {
            if ("pictureInPictureEnabled"in document)
                return document.exitPictureInPicture()
        }
        handleKeyDown(e) {
            var t, i, n = this.options_.userActions;
            n && n.hotkeys && (i = (t = this.el_.ownerDocument.activeElement).tagName.toLowerCase(),
            t.isContentEditable || ("input" === i ? -1 === ["button", "checkbox", "hidden", "radio", "reset", "submit"].indexOf(t.type) : -1 !== ["textarea"].indexOf(i)) || ("function" == typeof n.hotkeys ? n.hotkeys.call(this, e) : this.handleHotkeys(e)))
        }
        handleHotkeys(e) {
            var {fullscreenKey: t=(e => lt.isEventKey(e, "f")), muteKey: i=(e => lt.isEventKey(e, "m")), playPauseKey: n=(e => lt.isEventKey(e, "k") || lt.isEventKey(e, "Space"))} = this.options_.userActions ? this.options_.userActions.hotkeys : {};
            t.call(this, e) ? (e.preventDefault(),
            e.stopPropagation(),
            t = dt.getComponent("FullscreenToggle"),
            !1 !== document[this.fsApi_.fullscreenEnabled] && t.prototype.handleClick.call(this, e)) : i.call(this, e) ? (e.preventDefault(),
            e.stopPropagation(),
            dt.getComponent("MuteToggle").prototype.handleClick.call(this, e)) : n.call(this, e) && (e.preventDefault(),
            e.stopPropagation(),
            dt.getComponent("PlayToggle").prototype.handleClick.call(this, e))
        }
        canPlayType(e) {
            var t;
            for (let n = 0, s = this.options_.techOrder; n < s.length; n++) {
                var i = s[n];
                let r = Fi.getTech(i);
                if (r = r || dt.getComponent(i)) {
                    if (r.isSupported() && (t = r.canPlayType(e)))
                        return t
                } else
                    c.error(`The "${i}" tech is undefined. Skipped browser support check for that tech.`)
            }
            return ""
        }
        selectSource(e) {
            function t(e, t, i) {
                let n;
                return e.some((e => t.some((t => {
                    if (n = i(e, t))
                        return !0
                }
                )))),
                n
            }
            var i = this.options_.techOrder.map((e => [e, Fi.getTech(e)])).filter(( ([e,t]) => t ? t.isSupported() : (c.error(`The "${e}" tech is undefined. Skipped browser support check for that tech.`),
            !1)));
            let n;
            var s, r = ([e,t], i) => {
                if (t.canPlaySource(i, this.options_[e.toLowerCase()]))
                    return {
                        source: i,
                        tech: e
                    }
            }
            ;
            return (n = this.options_.sourceOrder ? t(e, i, (s = r,
            (e, t) => s(t, e))) : t(i, e, r)) || !1
        }
        handleSrc_(e, t) {
            if (void 0 === e)
                return this.cache_.src || "";
            this.resetRetryOnError_ && this.resetRetryOnError_();
            const i = Yi(e);
            if (i.length) {
                if (this.changingSrc_ = !0,
                t || (this.cache_.sources = i),
                this.updateSourceCaches_(i[0]),
                zi(this, i[0], ( (e, n) => {
                    var s;
                    if (this.middleware_ = n,
                    t || (this.cache_.sources = i),
                    this.updateSourceCaches_(e),
                    this.src_(e))
                        return 1 < i.length ? this.handleSrc_(i.slice(1)) : (this.changingSrc_ = !1,
                        this.setTimeout((function() {
                            this.error({
                                code: 4,
                                message: this.options_.notSupportedMessage
                            })
                        }
                        ), 0),
                        void this.triggerReady());
                    s = this.tech_,
                    n.forEach((e => e.setTech && e.setTech(s)))
                }
                )),
                1 < i.length) {
                    const e = () => {
                        this.error(null),
                        this.handleSrc_(i.slice(1), !0)
                    }
                      , t = () => {
                        this.off("error", e)
                    }
                    ;
                    this.one("error", e),
                    this.one("playing", t),
                    this.resetRetryOnError_ = () => {
                        this.off("error", e),
                        this.off("playing", t)
                    }
                }
            } else
                this.setTimeout((function() {
                    this.error({
                        code: 4,
                        message: this.options_.notSupportedMessage
                    })
                }
                ), 0)
        }
        src(e) {
            return this.handleSrc_(e, !1)
        }
        src_(e) {
            var t = this.selectSource([e]);
            return !t || (st(t.tech, this.techName_) ? this.ready((function() {
                this.tech_.constructor.prototype.hasOwnProperty("setSource") ? this.techCall_("setSource", e) : this.techCall_("src", e.src),
                this.changingSrc_ = !1
            }
            ), !0) : (this.changingSrc_ = !0,
            this.loadTech_(t.tech, t.source),
            this.tech_.ready(( () => {
                this.changingSrc_ = !1
            }
            ))),
            !1)
        }
        load() {
            this.techCall_("load")
        }
        reset() {
            this.paused() ? this.doReset_() : wt(this.play().then(( () => this.doReset_())))
        }
        doReset_() {
            this.tech_ && this.tech_.clearTracks("text"),
            this.resetCache_(),
            this.poster(""),
            this.loadTech_(this.options_.techOrder[0], null),
            this.techCall_("reset"),
            this.resetControlBarUI_(),
            We(this) && this.trigger("playerreset")
        }
        resetControlBarUI_() {
            this.resetProgressBar_(),
            this.resetPlaybackRate_(),
            this.resetVolumeBar_()
        }
        resetProgressBar_() {
            this.currentTime(0);
            var {durationDisplay: e, remainingTimeDisplay: t} = this.controlBar || {};
            e && e.updateContent(),
            t && t.updateContent()
        }
        resetPlaybackRate_() {
            this.playbackRate(this.defaultPlaybackRate()),
            this.handleTechRateChange_()
        }
        resetVolumeBar_() {
            this.volume(1),
            this.trigger("volumechange")
        }
        currentSources() {
            var e = this.currentSource()
              , t = [];
            return 0 !== Object.keys(e).length && t.push(e),
            this.cache_.sources || t
        }
        currentSource() {
            return this.cache_.source || {}
        }
        currentSrc() {
            return this.currentSource() && this.currentSource().src || ""
        }
        currentType() {
            return this.currentSource() && this.currentSource().type || ""
        }
        preload(e) {
            if (void 0 === e)
                return this.techGet_("preload");
            this.techCall_("setPreload", e),
            this.options_.preload = e
        }
        autoplay(e) {
            if (void 0 === e)
                return this.options_.autoplay || !1;
            let t;
            "string" == typeof e && /(any|play|muted)/.test(e) || !0 === e && this.options_.normalizeAutoplay ? (this.options_.autoplay = e,
            this.manualAutoplay_("string" == typeof e ? e : "play"),
            t = !1) : this.options_.autoplay = !!e,
            t = void 0 === t ? this.options_.autoplay : t,
            this.tech_ && this.techCall_("setAutoplay", t)
        }
        playsinline(e) {
            return void 0 !== e ? (this.techCall_("setPlaysinline", e),
            this.options_.playsinline = e,
            this) : this.techGet_("playsinline")
        }
        loop(e) {
            if (void 0 === e)
                return this.techGet_("loop");
            this.techCall_("setLoop", e),
            this.options_.loop = e
        }
        poster(e) {
            if (void 0 === e)
                return this.poster_;
            (e = e || "") !== this.poster_ && (this.poster_ = e,
            this.techCall_("setPoster", e),
            this.isPosterFromTech_ = !1,
            this.trigger("posterchange"))
        }
        handleTechPosterChange_() {
            var e;
            (!this.poster_ || this.options_.techCanOverridePoster) && this.tech_ && this.tech_.poster && (e = this.tech_.poster() || "") !== this.poster_ && (this.poster_ = e,
            this.isPosterFromTech_ = !0,
            this.trigger("posterchange"))
        }
        controls(e) {
            if (void 0 === e)
                return !!this.controls_;
            this.controls_ !== (e = !!e) && (this.controls_ = e,
            this.usingNativeControls() && this.techCall_("setControls", e),
            this.controls_ ? (this.removeClass("vjs-controls-disabled"),
            this.addClass("vjs-controls-enabled"),
            this.trigger("controlsenabled"),
            this.usingNativeControls() || this.addTechControlsListeners_()) : (this.removeClass("vjs-controls-enabled"),
            this.addClass("vjs-controls-disabled"),
            this.trigger("controlsdisabled"),
            this.usingNativeControls() || this.removeTechControlsListeners_()))
        }
        usingNativeControls(e) {
            if (void 0 === e)
                return !!this.usingNativeControls_;
            this.usingNativeControls_ !== (e = !!e) && (this.usingNativeControls_ = e,
            this.usingNativeControls_ ? (this.addClass("vjs-using-native-controls"),
            this.trigger("usingnativecontrols")) : (this.removeClass("vjs-using-native-controls"),
            this.trigger("usingcustomcontrols")))
        }
        error(e) {
            if (void 0 === e)
                return this.error_ || null;
            if (i("beforeerror").forEach((t => {
                m(t = t(this, e)) && !Array.isArray(t) || "string" == typeof t || "number" == typeof t || null === t ? e = t : this.log.error("please return a value that MediaError expects in beforeerror hooks")
            }
            )),
            this.options_.suppressNotSupportedError && e && 4 === e.code) {
                const t = function() {
                    this.error(e)
                };
                this.options_.suppressNotSupportedError = !1,
                this.any(["click", "touchstart"], t),
                this.one("loadstart", (function() {
                    this.off(["click", "touchstart"], t)
                }
                ))
            } else
                null === e ? (this.error_ = e,
                this.removeClass("vjs-error"),
                this.errorDisplay && this.errorDisplay.close()) : (this.error_ = new _t(e),
                this.addClass("vjs-error"),
                c.error(`(CODE:${this.error_.code} ${_t.errorTypes[this.error_.code]})`, this.error_.message, this.error_),
                this.trigger("error"),
                i("error").forEach((e => e(this, this.error_))))
        }
        reportUserActivity(e) {
            this.userActivity_ = !0
        }
        userActive(e) {
            if (void 0 === e)
                return this.userActive_;
            (e = !!e) !== this.userActive_ && (this.userActive_ = e,
            this.userActive_ ? (this.userActivity_ = !0,
            this.removeClass("vjs-user-inactive"),
            this.addClass("vjs-user-active"),
            this.trigger("useractive")) : (this.tech_ && this.tech_.one("mousemove", (function(e) {
                e.stopPropagation(),
                e.preventDefault()
            }
            )),
            this.userActivity_ = !1,
            this.removeClass("vjs-user-active"),
            this.addClass("vjs-user-inactive"),
            this.trigger("userinactive")))
        }
        listenForUserActivity_() {
            let e, t, i;
            const n = je(this, this.reportUserActivity);
            function s(t) {
                n(),
                this.clearInterval(e)
            }
            this.on("mousedown", (function() {
                n(),
                this.clearInterval(e),
                e = this.setInterval(n, 250)
            }
            )),
            this.on("mousemove", (function(e) {
                e.screenX === t && e.screenY === i || (t = e.screenX,
                i = e.screenY,
                n())
            }
            )),
            this.on("mouseup", s),
            this.on("mouseleave", s);
            var r = this.getChild("controlBar");
            let a;
            !r || j || S || (r.on("mouseenter", (function(e) {
                0 !== this.player().options_.inactivityTimeout && (this.player().cache_.inactivityTimeout = this.player().options_.inactivityTimeout),
                this.player().options_.inactivityTimeout = 0
            }
            )),
            r.on("mouseleave", (function(e) {
                this.player().options_.inactivityTimeout = this.player().cache_.inactivityTimeout
            }
            ))),
            this.on("keydown", n),
            this.on("keyup", n),
            this.setInterval((function() {
                var e;
                this.userActivity_ && (this.userActivity_ = !1,
                this.userActive(!0),
                this.clearTimeout(a),
                (e = this.options_.inactivityTimeout) <= 0 || (a = this.setTimeout((function() {
                    this.userActivity_ || this.userActive(!1)
                }
                ), e)))
            }
            ), 250)
        }
        playbackRate(e) {
            if (void 0 === e)
                return this.tech_ && this.tech_.featuresPlaybackRate ? this.cache_.lastPlaybackRate || this.techGet_("playbackRate") : 1;
            this.techCall_("setPlaybackRate", e)
        }
        defaultPlaybackRate(e) {
            return void 0 !== e ? this.techCall_("setDefaultPlaybackRate", e) : this.tech_ && this.tech_.featuresPlaybackRate ? this.techGet_("defaultPlaybackRate") : 1
        }
        isAudio(e) {
            if (void 0 === e)
                return !!this.isAudio_;
            this.isAudio_ = !!e
        }
        enableAudioOnlyUI_() {
            this.addClass("vjs-audio-only-mode");
            var e = this.children();
            const t = this.getChild("ControlBar");
            var i = t && t.currentHeight();
            e.forEach((e => {
                e !== t && e.el_ && !e.hasClass("vjs-hidden") && (e.hide(),
                this.audioOnlyCache_.hiddenChildren.push(e))
            }
            )),
            this.audioOnlyCache_.playerHeight = this.currentHeight(),
            this.height(i),
            this.trigger("audioonlymodechange")
        }
        disableAudioOnlyUI_() {
            this.removeClass("vjs-audio-only-mode"),
            this.audioOnlyCache_.hiddenChildren.forEach((e => e.show())),
            this.height(this.audioOnlyCache_.playerHeight),
            this.trigger("audioonlymodechange")
        }
        audioOnlyMode(e) {
            return "boolean" != typeof e || e === this.audioOnlyMode_ ? this.audioOnlyMode_ : (this.audioOnlyMode_ = e) ? (e = [],
            this.isInPictureInPicture() && e.push(this.exitPictureInPicture()),
            this.isFullscreen() && e.push(this.exitFullscreen()),
            this.audioPosterMode() && e.push(this.audioPosterMode(!1)),
            Promise.all(e).then(( () => this.enableAudioOnlyUI_()))) : Promise.resolve().then(( () => this.disableAudioOnlyUI_()))
        }
        enablePosterModeUI_() {
            (this.tech_ && this.tech_).hide(),
            this.addClass("vjs-audio-poster-mode"),
            this.trigger("audiopostermodechange")
        }
        disablePosterModeUI_() {
            (this.tech_ && this.tech_).show(),
            this.removeClass("vjs-audio-poster-mode"),
            this.trigger("audiopostermodechange")
        }
        audioPosterMode(e) {
            return "boolean" != typeof e || e === this.audioPosterMode_ ? this.audioPosterMode_ : (this.audioPosterMode_ = e) ? (this.audioOnlyMode() ? this.audioOnlyMode(!1) : Promise.resolve()).then(( () => {
                this.enablePosterModeUI_()
            }
            )) : Promise.resolve().then(( () => {
                this.disablePosterModeUI_()
            }
            ))
        }
        addTextTrack(e, t, i) {
            if (this.tech_)
                return this.tech_.addTextTrack(e, t, i)
        }
        addRemoteTextTrack(e, t) {
            if (this.tech_)
                return this.tech_.addRemoteTextTrack(e, t)
        }
        removeRemoteTextTrack(e={}) {
            let t = e.track;
            if (t = t || e,
            this.tech_)
                return this.tech_.removeRemoteTextTrack(t)
        }
        getVideoPlaybackQuality() {
            return this.techGet_("getVideoPlaybackQuality")
        }
        videoWidth() {
            return this.tech_ && this.tech_.videoWidth && this.tech_.videoWidth() || 0
        }
        videoHeight() {
            return this.tech_ && this.tech_.videoHeight && this.tech_.videoHeight() || 0
        }
        language(e) {
            if (void 0 === e)
                return this.language_;
            this.language_ !== String(e).toLowerCase() && (this.language_ = String(e).toLowerCase(),
            We(this)) && this.trigger("languagechange")
        }
        languages() {
            return v(ms.prototype.options_.languages, this.languages_)
        }
        toJSON() {
            var e = v(this.options_)
              , t = e.tracks;
            e.tracks = [];
            for (let n = 0; n < t.length; n++) {
                var i = t[n];
                (i = v(i)).player = void 0,
                e.tracks[n] = i
            }
            return e
        }
        createModal(e, t) {
            (t = t || {}).content = e || "";
            const i = new xt(this,t);
            return this.addChild(i),
            i.on("dispose", ( () => {
                this.removeChild(i)
            }
            )),
            i.open(),
            i
        }
        updateCurrentBreakpoint_() {
            if (this.responsive()) {
                var e = this.currentBreakpoint()
                  , t = this.currentWidth();
                for (let n = 0; n < hs.length; n++) {
                    var i = hs[n];
                    if (t <= this.breakpoints_[i]) {
                        if (e === i)
                            return;
                        e && this.removeClass(ps[e]),
                        this.addClass(ps[i]),
                        this.breakpoint_ = i;
                        break
                    }
                }
            }
        }
        removeCurrentBreakpoint_() {
            var e = this.currentBreakpointClass();
            this.breakpoint_ = "",
            e && this.removeClass(e)
        }
        breakpoints(e) {
            return void 0 !== e && (this.breakpoint_ = "",
            this.breakpoints_ = Object.assign({}, fs, e),
            this.updateCurrentBreakpoint_()),
            Object.assign(this.breakpoints_)
        }
        responsive(e) {
            return void 0 === e ? this.responsive_ : (e = Boolean(e)) !== this.responsive_ ? ((this.responsive_ = e) ? (this.on("playerresize", this.boundUpdateCurrentBreakpoint_),
            this.updateCurrentBreakpoint_()) : (this.off("playerresize", this.boundUpdateCurrentBreakpoint_),
            this.removeCurrentBreakpoint_()),
            e) : void 0
        }
        currentBreakpoint() {
            return this.breakpoint_
        }
        currentBreakpointClass() {
            return ps[this.breakpoint_] || ""
        }
        loadMedia(e, t) {
            var i, n, s, r, a, o;
            e && "object" == typeof e && (this.reset(),
            this.cache_.media = v(e),
            ({artist: e, artwork: i, description: n, poster: s, src: r, textTracks: a, title: o} = this.cache_.media),
            !i && s && (this.cache_.media.artwork = [{
                src: s,
                type: Qi(s)
            }]),
            r && this.src(r),
            s && this.poster(s),
            Array.isArray(a) && a.forEach((e => this.addRemoteTextTrack(e, !1))),
            this.titleBar && this.titleBar.update({
                title: o,
                description: n || e || ""
            }),
            this.ready(t))
        }
        getMedia() {
            var e, t;
            return this.cache_.media ? v(this.cache_.media) : (e = this.poster(),
            t = {
                src: this.currentSources(),
                textTracks: Array.prototype.map.call(this.remoteTextTracks(), (e => ({
                    kind: e.kind,
                    label: e.label,
                    language: e.language,
                    src: e.src
                })))
            },
            e && (t.poster = e,
            t.artwork = [{
                src: t.poster,
                type: Qi(t.poster)
            }]),
            t)
        }
        static getTagSettings(e) {
            var t, i = {
                sources: [],
                tracks: []
            }, n = J(e), s = n["data-setup"];
            if (X(e, "vjs-fill") && (n.fill = !0),
            X(e, "vjs-fluid") && (n.fluid = !0),
            null !== s && ([s,t] = function(e, t) {
                var i, n = null;
                try {
                    i = JSON.parse(e, t)
                } catch (e) {
                    n = e
                }
                return [n, i]
            }(s || "{}"),
            s && c.error(s),
            Object.assign(n, t)),
            Object.assign(i, n),
            e.hasChildNodes()) {
                var r = e.childNodes;
                for (let e = 0, t = r.length; e < t; e++) {
                    var a = r[e]
                      , o = a.nodeName.toLowerCase();
                    "source" === o ? i.sources.push(J(a)) : "track" === o && i.tracks.push(J(a))
                }
            }
            return i
        }
        debug(e) {
            if (void 0 === e)
                return this.debugEnabled_;
            e ? (this.trigger("debugon"),
            this.previousLogLevel_ = this.log.level,
            this.log.level("debug"),
            this.debugEnabled_ = !0) : (this.trigger("debugoff"),
            this.log.level(this.previousLogLevel_),
            this.previousLogLevel_ = void 0,
            this.debugEnabled_ = !1)
        }
        playbackRates(e) {
            if (void 0 === e)
                return this.cache_.playbackRates;
            Array.isArray(e) && e.every((e => "number" == typeof e)) && (this.cache_.playbackRates = e,
            this.trigger("playbackrateschange"))
        }
    }
    di.names.forEach((function(e) {
        const t = di[e];
        ms.prototype[t.getterName] = function() {
            return this.tech_ ? this.tech_[t.getterName]() : (this[t.privateName] = this[t.privateName] || new t.ListClass,
            this[t.privateName])
        }
    }
    )),
    ms.prototype.crossorigin = ms.prototype.crossOrigin,
    ms.players = {},
    Jn = window.navigator,
    ms.prototype.options_ = {
        techOrder: Fi.defaultTechOrder_,
        html5: {},
        enableSourceset: !0,
        inactivityTimeout: 2e3,
        playbackRates: [],
        liveui: !1,
        children: ["mediaLoader", "posterImage", "titleBar", "textTrackDisplay", "loadingSpinner", "bigPlayButton", "liveTracker", "controlBar", "errorDisplay", "textTrackSettings", "resizeManager"],
        language: Jn && (Jn.languages && Jn.languages[0] || Jn.userLanguage || Jn.language) || "en",
        languages: {},
        notSupportedMessage: "No compatible source was found for this media.",
        normalizeAutoplay: !1,
        fullscreen: {
            options: {
                navigationUI: "hide"
            }
        },
        breakpoints: {},
        responsive: !1,
        audioOnlyMode: !1,
        audioPosterMode: !1
    },
    ["ended", "seeking", "seekable", "networkState", "readyState"].forEach((function(e) {
        ms.prototype[e] = function() {
            return this.techGet_(e)
        }
    }
    )),
    cs.forEach((function(e) {
        ms.prototype[`handleTech${nt(e)}_`] = function() {
            return this.trigger(e)
        }
    }
    )),
    dt.registerComponent("Player", ms);
    const gs = "plugin"
      , vs = "activePlugins_"
      , ys = {}
      , bs = e => ys.hasOwnProperty(e)
      , _s = e => bs(e) ? ys[e] : void 0
      , Ts = (e, t) => {
        e[vs] = e[vs] || {},
        e[vs][t] = !0
    }
      , ws = (e, t, i) => {
        i = (i ? "before" : "") + "pluginsetup",
        e.trigger(i, t),
        e.trigger(i + ":" + t.name, t)
    }
      , Ss = (e, t) => (t.prototype.name = e,
    function(...i) {
        ws(this, {
            name: e,
            plugin: t,
            instance: null
        }, !0);
        const n = new t(this,...i);
        return this[e] = () => n,
        ws(this, n.getEventHash()),
        n
    }
    );
    class ks {
        constructor(e) {
            if (this.constructor === ks)
                throw new Error("Plugin must be sub-classed; not directly instantiated.");
            this.player = e,
            this.log || (this.log = this.player.log.createLogger(this.name)),
            Je(this),
            delete this.trigger,
            tt(this, this.constructor.defaultState),
            Ts(e, this.name),
            this.dispose = this.dispose.bind(this),
            e.on("dispose", this.dispose)
        }
        version() {
            return this.constructor.VERSION
        }
        getEventHash(e={}) {
            return e.name = this.name,
            e.plugin = this.constructor,
            e.instance = this,
            e
        }
        trigger(e, t={}) {
            return De(this.eventBusEl_, e, this.getEventHash(t))
        }
        handleStateChanged(e) {}
        dispose() {
            var {name: e, player: t} = this;
            this.trigger("dispose"),
            this.off(),
            t.off("dispose", this.dispose),
            t[vs][e] = !1,
            this.player = this.state = null,
            t[e] = Ss(e, ys[e])
        }
        static isBasic(e) {
            return "function" == typeof (e = "string" == typeof e ? _s(e) : e) && !ks.prototype.isPrototypeOf(e.prototype)
        }
        static registerPlugin(e, t) {
            if ("string" != typeof e)
                throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);
            if (bs(e))
                c.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);
            else if (ms.prototype.hasOwnProperty(e))
                throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);
            if ("function" != typeof t)
                throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof t}.`);
            return ys[e] = t,
            e !== gs && (ks.isBasic(t) ? ms.prototype[e] = function(e, t) {
                function i() {
                    ws(this, {
                        name: e,
                        plugin: t,
                        instance: null
                    }, !0);
                    var i = t.apply(this, arguments);
                    return Ts(this, e),
                    ws(this, {
                        name: e,
                        plugin: t,
                        instance: i
                    }),
                    i
                }
                return Object.keys(t).forEach((function(e) {
                    i[e] = t[e]
                }
                )),
                i
            }(e, t) : ms.prototype[e] = Ss(e, t)),
            t
        }
        static deregisterPlugin(e) {
            if (e === gs)
                throw new Error("Cannot de-register base plugin.");
            bs(e) && (delete ys[e],
            delete ms.prototype[e])
        }
        static getPlugins(e=Object.keys(ys)) {
            let t;
            return e.forEach((e => {
                var i = _s(e);
                i && ((t = t || {})[e] = i)
            }
            )),
            t
        }
        static getPluginVersion(e) {
            return (e = _s(e)) && e.VERSION || ""
        }
    }
    function xs(e, t, i, n) {
        {
            var s = t + ` is deprecated and will be removed in ${e}.0; please use ${i} instead.`
              , r = n;
            let a = !1;
            return function(...e) {
                return a || c.warn(s),
                a = !0,
                r.apply(this, e)
            }
        }
    }
    ks.getPlugin = _s,
    ks.BASE_PLUGIN_NAME = gs,
    ks.registerPlugin(gs, ks),
    ms.prototype.usingPlugin = function(e) {
        return !!this[vs] && !0 === this[vs][e]
    }
    ,
    ms.prototype.hasPlugin = function(e) {
        return !!bs(e)
    }
    ;
    const Cs = e => 0 === e.indexOf("#") ? e.slice(1) : e;
    function Es(e, t, n) {
        let s = Es.getPlayer(e);
        if (s)
            t && c.warn(`Player "${e}" is already initialised. Options will not be applied.`),
            n && s.ready(n);
        else {
            const r = "string" == typeof e ? fe("#" + Cs(e)) : e;
            if (!H(r))
                throw new TypeError("The element or ID supplied is not valid. (videojs)");
            r.ownerDocument.defaultView && r.ownerDocument.body.contains(r) || c.warn("The element supplied is not included in the DOM"),
            !0 === (t = t || {}).restoreEl && (t.restoreEl = (r.parentNode && r.parentNode.hasAttribute("data-vjs-player") ? r.parentNode : r).cloneNode(!0)),
            i("beforesetup").forEach((e => {
                !m(e = e(r, v(t))) || Array.isArray(e) ? c.error("please return an object in beforesetup hooks") : t = v(t, e)
            }
            )),
            e = dt.getComponent("Player"),
            s = new e(r,t,n),
            i("setup").forEach((e => e(s)))
        }
        return s
    }
    Es.hooks_ = t,
    Es.hooks = i,
    Es.hook = function(e, t) {
        i(e, t)
    }
    ,
    Es.hookOnce = function(e, t) {
        i(e, [].concat(t).map((t => {
            const i = (...s) => (n(e, i),
            t(...s));
            return i
        }
        )))
    }
    ,
    Es.removeHook = n,
    !0 !== window.VIDEOJS_NO_DYNAMIC_STYLE && $() && !(Qn = fe(".vjs-styles-defaults")) && (Qn = Se("vjs-styles-defaults"),
    (Zn = fe("head")) && Zn.insertBefore(Qn, Zn.firstChild),
    ke(Qn, "\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")),
    Te(1, Es),
    Es.VERSION = e,
    Es.options = ms.prototype.options_,
    Es.getPlayers = () => ms.players,
    Es.getPlayer = e => {
        var t = ms.players;
        let i;
        if ("string" == typeof e) {
            var n, s;
            if (s = t[n = Cs(e)])
                return s;
            i = fe("#" + n)
        } else
            i = e;
        if (H(i)) {
            var {player: s, playerId: n} = i;
            if (s || t[n])
                return s || t[n]
        }
    }
    ,
    Es.getAllPlayers = () => Object.keys(ms.players).map((e => ms.players[e])).filter(Boolean),
    Es.players = ms.players,
    Es.getComponent = dt.getComponent,
    Es.registerComponent = (e, t) => {
        Fi.isTech(t) && c.warn(`The ${e} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),
        dt.registerComponent.call(dt, e, t)
    }
    ,
    Es.getTech = Fi.getTech,
    Es.registerTech = Fi.registerTech,
    Es.use = function(e, t) {
        Ui[e] = Ui[e] || [],
        Ui[e].push(t)
    }
    ,
    Object.defineProperty(Es, "middleware", {
        value: {},
        writeable: !1,
        enumerable: !0
    }),
    Object.defineProperty(Es.middleware, "TERMINATOR", {
        value: Hi,
        writeable: !1,
        enumerable: !0
    }),
    Es.browser = B,
    Es.obj = b,
    Es.mergeOptions = xs(9, "videojs.mergeOptions", "videojs.obj.merge", v),
    Es.defineLazyProperty = xs(9, "videojs.defineLazyProperty", "videojs.obj.defineLazyProperty", y),
    Es.bind = xs(9, "videojs.bind", "native Function.prototype.bind", je),
    Es.registerPlugin = ks.registerPlugin,
    Es.deregisterPlugin = ks.deregisterPlugin,
    Es.plugin = (e, t) => (c.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),
    ks.registerPlugin(e, t)),
    Es.getPlugins = ks.getPlugins,
    Es.getPlugin = ks.getPlugin,
    Es.getPluginVersion = ks.getPluginVersion,
    Es.addLanguage = function(e, t) {
        return e = ("" + e).toLowerCase(),
        Es.options.languages = v(Es.options.languages, {
            [e]: t
        }),
        Es.options.languages[e]
    }
    ,
    Es.log = c,
    Es.createLogger = u,
    Es.time = yt,
    Es.createTimeRange = xs(9, "videojs.createTimeRange", "videojs.time.createTimeRanges", ht),
    Es.createTimeRanges = xs(9, "videojs.createTimeRanges", "videojs.time.createTimeRanges", ht),
    Es.formatTime = xs(9, "videojs.formatTime", "videojs.time.formatTime", vt),
    Es.setFormatTime = xs(9, "videojs.setFormatTime", "videojs.time.setFormatTime", mt),
    Es.resetFormatTime = xs(9, "videojs.resetFormatTime", "videojs.time.resetFormatTime", gt),
    Es.parseUrl = xs(9, "videojs.parseUrl", "videojs.url.parseUrl", Nt),
    Es.isCrossOrigin = xs(9, "videojs.isCrossOrigin", "videojs.url.isCrossOrigin", jt),
    Es.EventTarget = ze,
    Es.any = Ne,
    Es.on = Le,
    Es.one = Re,
    Es.off = Me,
    Es.trigger = De,
    Es.xhr = Gt,
    Es.TextTrack = ni,
    Es.AudioTrack = si,
    Es.VideoTrack = ri,
    ["isEl", "isTextNode", "createEl", "hasClass", "addClass", "removeClass", "toggleClass", "setAttributes", "getAttributes", "emptyEl", "appendContent", "insertContent"].forEach((e => {
        Es[e] = function() {
            return c.warn(`videojs.${e}() is deprecated; use videojs.dom.${e}() instead`),
            ve[e].apply(null, arguments)
        }
    }
    )),
    Es.computedStyle = xs(9, "videojs.computedStyle", "videojs.dom.computedStyle", ge),
    Es.dom = ve,
    Es.fn = $e,
    Es.num = Xt,
    Es.str = rt,
    Es.url = Ut,
    ot((function(e, t) {
        e.exports = function(e) {
            var t = function(e) {
                return e && "object" == typeof e && "default"in e ? e : {
                    default: e
                }
            }(e);
            class i {
                constructor(e) {
                    let t = this;
                    return t.id = e.id,
                    t.label = t.id,
                    t.width = e.width,
                    t.height = e.height,
                    t.bitrate = e.bandwidth,
                    t.frameRate = e.frameRate,
                    t.enabled_ = e.enabled,
                    Object.defineProperty(t, "enabled", {
                        get: () => t.enabled_(),
                        set(e) {
                            t.enabled_(e)
                        }
                    }),
                    t
                }
            }
            class n extends t.default.EventTarget {
                constructor() {
                    super();
                    let e = this;
                    return e.levels_ = [],
                    e.selectedIndex_ = -1,
                    Object.defineProperty(e, "selectedIndex", {
                        get: () => e.selectedIndex_
                    }),
                    Object.defineProperty(e, "length", {
                        get: () => e.levels_.length
                    }),
                    e
                }
                addQualityLevel(e) {
                    let t = this.getQualityLevelById(e.id);
                    if (t)
                        return t;
                    const n = this.levels_.length;
                    return t = new i(e),
                    "" + n in this || Object.defineProperty(this, n, {
                        get() {
                            return this.levels_[n]
                        }
                    }),
                    this.levels_.push(t),
                    this.trigger({
                        qualityLevel: t,
                        type: "addqualitylevel"
                    }),
                    t
                }
                removeQualityLevel(e) {
                    let t = null;
                    for (let i = 0, n = this.length; i < n; i++)
                        if (this[i] === e) {
                            t = this.levels_.splice(i, 1)[0],
                            this.selectedIndex_ === i ? this.selectedIndex_ = -1 : this.selectedIndex_ > i && this.selectedIndex_--;
                            break
                        }
                    return t && this.trigger({
                        qualityLevel: e,
                        type: "removequalitylevel"
                    }),
                    t
                }
                getQualityLevelById(e) {
                    for (let t = 0, i = this.length; t < i; t++) {
                        const i = this[t];
                        if (i.id === e)
                            return i
                    }
                    return null
                }
                dispose() {
                    this.selectedIndex_ = -1,
                    this.levels_.length = 0
                }
            }
            n.prototype.allowedEvents_ = {
                change: "change",
                addqualitylevel: "addqualitylevel",
                removequalitylevel: "removequalitylevel"
            };
            for (const e in n.prototype.allowedEvents_)
                n.prototype["on" + e] = null;
            var s = "3.0.0";
            const r = t.default.registerPlugin || t.default.plugin
              , a = function(e) {
                return function(e, t) {
                    const i = e.qualityLevels
                      , r = new n
                      , a = function() {
                        r.dispose(),
                        e.qualityLevels = i,
                        e.off("dispose", a)
                    };
                    return e.on("dispose", a),
                    e.qualityLevels = () => r,
                    e.qualityLevels.VERSION = s,
                    r
                }(this, t.default.mergeOptions({}, e))
            };
            return r("qualityLevels", a),
            a.VERSION = s,
            a
        }(Es)
    }
    ));
    var Ps = ot((function(e, t) {
        var i, n, s, r, a;
        i = /^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,
        n = /^(?=([^\/?#]*))\1([^]*)$/,
        s = /(?:\/|^)\.(?=\/)/g,
        r = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,
        a = {
            buildAbsoluteURL: function(e, t, i) {
                if (i = i || {},
                e = e.trim(),
                !(t = t.trim())) {
                    if (!i.alwaysNormalize)
                        return e;
                    var s = a.parseURL(e);
                    if (s)
                        return s.path = a.normalizePath(s.path),
                        a.buildURLFromParts(s);
                    throw new Error("Error trying to parse base URL.")
                }
                if (!(s = a.parseURL(t)))
                    throw new Error("Error trying to parse relative URL.");
                if (s.scheme)
                    return i.alwaysNormalize ? (s.path = a.normalizePath(s.path),
                    a.buildURLFromParts(s)) : t;
                if (!(t = a.parseURL(e)))
                    throw new Error("Error trying to parse base URL.");
                !t.netLoc && t.path && "/" !== t.path[0] && (e = n.exec(t.path),
                t.netLoc = e[1],
                t.path = e[2]),
                t.netLoc && !t.path && (t.path = "/");
                var r;
                e = {
                    scheme: t.scheme,
                    netLoc: s.netLoc,
                    path: null,
                    params: s.params,
                    query: s.query,
                    fragment: s.fragment
                };
                return s.netLoc || (e.netLoc = t.netLoc,
                "/" !== s.path[0] && (s.path ? (r = (r = t.path).substring(0, r.lastIndexOf("/") + 1) + s.path,
                e.path = a.normalizePath(r)) : (e.path = t.path,
                s.params || (e.params = t.params,
                s.query) || (e.query = t.query)))),
                null === e.path && (e.path = i.alwaysNormalize ? a.normalizePath(s.path) : s.path),
                a.buildURLFromParts(e)
            },
            parseURL: function(e) {
                return (e = i.exec(e)) ? {
                    scheme: e[1] || "",
                    netLoc: e[2] || "",
                    path: e[3] || "",
                    params: e[4] || "",
                    query: e[5] || "",
                    fragment: e[6] || ""
                } : null
            },
            normalizePath: function(e) {
                for (e = e.split("").reverse().join("").replace(s, ""); e.length !== (e = e.replace(r, "")).length; )
                    ;
                return e.split("").reverse().join("")
            },
            buildURLFromParts: function(e) {
                return e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment
            }
        },
        e.exports = a
    }
    ))
      , As = "http://example.com"
      , Is = function() {
        function e() {
            this.listeners = {}
        }
        var t = e.prototype;
        return t.on = function(e, t) {
            this.listeners[e] || (this.listeners[e] = []),
            this.listeners[e].push(t)
        }
        ,
        t.off = function(e, t) {
            return !!this.listeners[e] && (t = this.listeners[e].indexOf(t),
            this.listeners[e] = this.listeners[e].slice(0),
            this.listeners[e].splice(t, 1),
            -1 < t)
        }
        ,
        t.trigger = function(e) {
            var t = this.listeners[e];
            if (t)
                if (2 === arguments.length)
                    for (var i = t.length, n = 0; n < i; ++n)
                        t[n].call(this, arguments[1]);
                else
                    for (var s = Array.prototype.slice.call(arguments, 1), r = t.length, a = 0; a < r; ++a)
                        t[a].apply(this, s)
        }
        ,
        t.dispose = function() {
            this.listeners = {}
        }
        ,
        t.pipe = function(e) {
            this.on("data", (function(t) {
                e.push(t)
            }
            ))
        }
        ,
        e
    }();
    function Os(e) {
        for (var t = window.atob ? window.atob(e) : Buffer.from(e, "base64").toString("binary"), i = new Uint8Array(t.length), n = 0; n < t.length; n++)
            i[n] = t.charCodeAt(n);
        return i
    }
    class Ls extends Is {
        constructor() {
            super(),
            this.buffer = ""
        }
        push(e) {
            let t;
            for (this.buffer += e,
            t = this.buffer.indexOf("\n"); -1 < t; t = this.buffer.indexOf("\n"))
                this.trigger("data", this.buffer.substring(0, t)),
                this.buffer = this.buffer.substring(t + 1)
        }
    }
    function Ms(e) {
        var t = {};
        return (e = /([0-9.]*)?@?([0-9.]*)?/.exec(e || ""))[1] && (t.length = parseInt(e[1], 10)),
        e[2] && (t.offset = parseInt(e[2], 10)),
        t
    }
    function Ds(e) {
        var t = {};
        if (e) {
            var i, n = e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))'));
            let s = n.length;
            for (; s--; )
                "" !== n[s] && ((i = /([^=]*)=(.*)/.exec(n[s]).slice(1))[0] = i[0].replace(/^\s+|\s+$/g, ""),
                i[1] = i[1].replace(/^\s+|\s+$/g, ""),
                i[1] = i[1].replace(/^['"](.*)['"]$/g, "$1"),
                t[i[0]] = i[1])
        }
        return t
    }
    const Rs = String.fromCharCode(9);
    class Ns extends Is {
        constructor() {
            super(),
            this.customParsers = [],
            this.tagMappers = []
        }
        push(e) {
            let t, i;
            0 !== (e = e.trim()).length && ("#" !== e[0] ? this.trigger("data", {
                type: "uri",
                uri: e
            }) : this.tagMappers.reduce(( (t, i) => (i = i(e)) === e ? t : t.concat([i])), [e]).forEach((e => {
                for (let t = 0; t < this.customParsers.length; t++)
                    if (this.customParsers[t].call(this, e))
                        return;
                var n, s;
                0 !== e.indexOf("#EXT") ? this.trigger("data", {
                    type: "comment",
                    text: e.slice(1)
                }) : (e = e.replace("\r", ""),
                (t = /^#EXTM3U/.exec(e)) ? this.trigger("data", {
                    type: "tag",
                    tagType: "m3u"
                }) : (t = /^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "inf"
                },
                t[1] && (i.duration = parseFloat(t[1])),
                t[2] && (i.title = t[2]),
                this.trigger("data", i)) : (t = /^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "targetduration"
                },
                t[1] && (i.duration = parseInt(t[1], 10)),
                this.trigger("data", i)) : (t = /^#EXT-X-VERSION:([0-9.]*)?/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "version"
                },
                t[1] && (i.version = parseInt(t[1], 10)),
                this.trigger("data", i)) : (t = /^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "media-sequence"
                },
                t[1] && (i.number = parseInt(t[1], 10)),
                this.trigger("data", i)) : (t = /^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "discontinuity-sequence"
                },
                t[1] && (i.number = parseInt(t[1], 10)),
                this.trigger("data", i)) : (t = /^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "playlist-type"
                },
                t[1] && (i.playlistType = t[1]),
                this.trigger("data", i)) : (t = /^#EXT-X-BYTERANGE:(.*)?$/.exec(e)) ? (i = zt(Ms(t[1]), {
                    type: "tag",
                    tagType: "byterange"
                }),
                this.trigger("data", i)) : (t = /^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "allow-cache"
                },
                t[1] && (i.allowed = !/NO/.test(t[1])),
                this.trigger("data", i)) : (t = /^#EXT-X-MAP:(.*)$/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "map"
                },
                t[1] && ((s = Ds(t[1])).URI && (i.uri = s.URI),
                s.BYTERANGE) && (i.byterange = Ms(s.BYTERANGE)),
                this.trigger("data", i)) : (t = /^#EXT-X-STREAM-INF:(.*)$/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "stream-inf"
                },
                t[1] && (i.attributes = Ds(t[1]),
                i.attributes.RESOLUTION && (s = {},
                (n = i.attributes.RESOLUTION.split("x"))[0] && (s.width = parseInt(n[0], 10)),
                n[1] && (s.height = parseInt(n[1], 10)),
                i.attributes.RESOLUTION = s),
                i.attributes.BANDWIDTH && (i.attributes.BANDWIDTH = parseInt(i.attributes.BANDWIDTH, 10)),
                i.attributes["FRAME-RATE"] && (i.attributes["FRAME-RATE"] = parseFloat(i.attributes["FRAME-RATE"])),
                i.attributes["PROGRAM-ID"]) && (i.attributes["PROGRAM-ID"] = parseInt(i.attributes["PROGRAM-ID"], 10)),
                this.trigger("data", i)) : (t = /^#EXT-X-MEDIA:(.*)$/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "media"
                },
                t[1] && (i.attributes = Ds(t[1])),
                this.trigger("data", i)) : (t = /^#EXT-X-ENDLIST/.exec(e)) ? this.trigger("data", {
                    type: "tag",
                    tagType: "endlist"
                }) : (t = /^#EXT-X-DISCONTINUITY/.exec(e)) ? this.trigger("data", {
                    type: "tag",
                    tagType: "discontinuity"
                }) : (t = /^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "program-date-time"
                },
                t[1] && (i.dateTimeString = t[1],
                i.dateTimeObject = new Date(t[1])),
                this.trigger("data", i)) : (t = /^#EXT-X-KEY:(.*)$/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "key"
                },
                t[1] && (i.attributes = Ds(t[1]),
                i.attributes.IV) && ("0x" === i.attributes.IV.substring(0, 2).toLowerCase() && (i.attributes.IV = i.attributes.IV.substring(2)),
                i.attributes.IV = i.attributes.IV.match(/.{8}/g),
                i.attributes.IV[0] = parseInt(i.attributes.IV[0], 16),
                i.attributes.IV[1] = parseInt(i.attributes.IV[1], 16),
                i.attributes.IV[2] = parseInt(i.attributes.IV[2], 16),
                i.attributes.IV[3] = parseInt(i.attributes.IV[3], 16),
                i.attributes.IV = new Uint32Array(i.attributes.IV)),
                this.trigger("data", i)) : (t = /^#EXT-X-START:(.*)$/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "start"
                },
                t[1] && (i.attributes = Ds(t[1]),
                i.attributes["TIME-OFFSET"] = parseFloat(i.attributes["TIME-OFFSET"]),
                i.attributes.PRECISE = /YES/.test(i.attributes.PRECISE)),
                this.trigger("data", i)) : (t = /^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "cue-out-cont"
                },
                t[1] ? i.data = t[1] : i.data = "",
                this.trigger("data", i)) : (t = /^#EXT-X-CUE-OUT:(.*)?$/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "cue-out"
                },
                t[1] ? i.data = t[1] : i.data = "",
                this.trigger("data", i)) : (t = /^#EXT-X-CUE-IN:(.*)?$/.exec(e)) ? (i = {
                    type: "tag",
                    tagType: "cue-in"
                },
                t[1] ? i.data = t[1] : i.data = "",
                this.trigger("data", i)) : (t = /^#EXT-X-SKIP:(.*)$/.exec(e)) && t[1] ? ((i = {
                    type: "tag",
                    tagType: "skip"
                }).attributes = Ds(t[1]),
                i.attributes.hasOwnProperty("SKIPPED-SEGMENTS") && (i.attributes["SKIPPED-SEGMENTS"] = parseInt(i.attributes["SKIPPED-SEGMENTS"], 10)),
                i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES") && (i.attributes["RECENTLY-REMOVED-DATERANGES"] = i.attributes["RECENTLY-REMOVED-DATERANGES"].split(Rs)),
                this.trigger("data", i)) : (t = /^#EXT-X-PART:(.*)$/.exec(e)) && t[1] ? ((i = {
                    type: "tag",
                    tagType: "part"
                }).attributes = Ds(t[1]),
                ["DURATION"].forEach((function(e) {
                    i.attributes.hasOwnProperty(e) && (i.attributes[e] = parseFloat(i.attributes[e]))
                }
                )),
                ["INDEPENDENT", "GAP"].forEach((function(e) {
                    i.attributes.hasOwnProperty(e) && (i.attributes[e] = /YES/.test(i.attributes[e]))
                }
                )),
                i.attributes.hasOwnProperty("BYTERANGE") && (i.attributes.byterange = Ms(i.attributes.BYTERANGE)),
                this.trigger("data", i)) : (t = /^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e)) && t[1] ? ((i = {
                    type: "tag",
                    tagType: "server-control"
                }).attributes = Ds(t[1]),
                ["CAN-SKIP-UNTIL", "PART-HOLD-BACK", "HOLD-BACK"].forEach((function(e) {
                    i.attributes.hasOwnProperty(e) && (i.attributes[e] = parseFloat(i.attributes[e]))
                }
                )),
                ["CAN-SKIP-DATERANGES", "CAN-BLOCK-RELOAD"].forEach((function(e) {
                    i.attributes.hasOwnProperty(e) && (i.attributes[e] = /YES/.test(i.attributes[e]))
                }
                )),
                this.trigger("data", i)) : (t = /^#EXT-X-PART-INF:(.*)$/.exec(e)) && t[1] ? ((i = {
                    type: "tag",
                    tagType: "part-inf"
                }).attributes = Ds(t[1]),
                ["PART-TARGET"].forEach((function(e) {
                    i.attributes.hasOwnProperty(e) && (i.attributes[e] = parseFloat(i.attributes[e]))
                }
                )),
                this.trigger("data", i)) : (t = /^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e)) && t[1] ? ((i = {
                    type: "tag",
                    tagType: "preload-hint"
                }).attributes = Ds(t[1]),
                ["BYTERANGE-START", "BYTERANGE-LENGTH"].forEach((function(e) {
                    var t;
                    i.attributes.hasOwnProperty(e) && (i.attributes[e] = parseInt(i.attributes[e], 10),
                    t = "BYTERANGE-LENGTH" === e ? "length" : "offset",
                    i.attributes.byterange = i.attributes.byterange || {},
                    i.attributes.byterange[t] = i.attributes[e],
                    delete i.attributes[e])
                }
                )),
                this.trigger("data", i)) : (t = /^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e)) && t[1] ? ((i = {
                    type: "tag",
                    tagType: "rendition-report"
                }).attributes = Ds(t[1]),
                ["LAST-MSN", "LAST-PART"].forEach((function(e) {
                    i.attributes.hasOwnProperty(e) && (i.attributes[e] = parseInt(i.attributes[e], 10))
                }
                )),
                this.trigger("data", i)) : this.trigger("data", {
                    type: "tag",
                    data: e.slice(4)
                }))
            }
            )))
        }
        addParser({expression: e, customType: t, dataParser: i, segment: n}) {
            "function" != typeof i && (i = e => e),
            this.customParsers.push((s => {
                if (e.exec(s))
                    return this.trigger("data", {
                        type: "custom",
                        data: i(s),
                        customType: t,
                        segment: n
                    }),
                    !0
            }
            ))
        }
        addTagMapper({expression: e, map: t}) {
            this.tagMappers.push((i => e.test(i) ? t(i) : i))
        }
    }
    function Bs(e) {
        const t = {};
        return Object.keys(e).forEach((function(i) {
            t[i.toLowerCase().replace(/-(\w)/g, (e => e[1].toUpperCase()))] = e[i]
        }
        )),
        t
    }
    function js(e) {
        var t, i, n, s, r, {serverControl: e, targetDuration: a, partTargetDuration: o} = e;
        e && (t = "#EXT-X-SERVER-CONTROL",
        i = "holdBack",
        n = "partHoldBack",
        s = a && 3 * a,
        r = o && 2 * o,
        a && !e.hasOwnProperty(i) && (e[i] = s,
        this.trigger("info", {
            message: t + ` defaulting HOLD-BACK to targetDuration * 3 (${s}).`
        })),
        s && e[i] < s && (this.trigger("warn", {
            message: t + ` clamping HOLD-BACK (${e[i]}) to targetDuration * 3 (${s})`
        }),
        e[i] = s),
        o && !e.hasOwnProperty(n) && (e[n] = 3 * o,
        this.trigger("info", {
            message: t + ` defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[n]}).`
        })),
        o) && e[n] < r && (this.trigger("warn", {
            message: t + ` clamping PART-HOLD-BACK (${e[n]}) to partTargetDuration * 2 (${r}).`
        }),
        e[n] = r)
    }
    class Fs extends Is {
        constructor() {
            super(),
            this.lineStream = new Ls,
            this.parseStream = new Ns,
            this.lineStream.pipe(this.parseStream);
            const e = this
              , t = [];
            let i, n, s = {}, r = !1;
            const a = {
                AUDIO: {},
                VIDEO: {},
                "CLOSED-CAPTIONS": {},
                SUBTITLES: {}
            };
            let o = 0
              , l = (this.manifest = {
                allowCache: !0,
                discontinuityStarts: [],
                segments: []
            },
            0)
              , d = 0;
            this.on("end", ( () => {
                s.uri || !s.parts && !s.preloadHints || (!s.map && i && (s.map = i),
                !s.key && n && (s.key = n),
                s.timeline || "number" != typeof o || (s.timeline = o),
                this.manifest.preloadSegment = s)
            }
            )),
            this.parseStream.on("data", (function(c) {
                let u, h;
                ({
                    tag() {
                        ({
                            version() {
                                c.version && (this.manifest.version = c.version)
                            },
                            "allow-cache"() {
                                this.manifest.allowCache = c.allowed,
                                "allowed"in c || (this.trigger("info", {
                                    message: "defaulting allowCache to YES"
                                }),
                                this.manifest.allowCache = !0)
                            },
                            byterange() {
                                var e = {};
                                "length"in c && ((s.byterange = e).length = c.length,
                                "offset"in c || (c.offset = l)),
                                "offset"in c && ((s.byterange = e).offset = c.offset),
                                l = e.offset + e.length
                            },
                            endlist() {
                                this.manifest.endList = !0
                            },
                            inf() {
                                "mediaSequence"in this.manifest || (this.manifest.mediaSequence = 0,
                                this.trigger("info", {
                                    message: "defaulting media sequence to zero"
                                })),
                                "discontinuitySequence"in this.manifest || (this.manifest.discontinuitySequence = 0,
                                this.trigger("info", {
                                    message: "defaulting discontinuity sequence to zero"
                                })),
                                0 < c.duration && (s.duration = c.duration),
                                0 === c.duration && (s.duration = .01,
                                this.trigger("info", {
                                    message: "updating zero segment duration to a small value"
                                })),
                                this.manifest.segments = t
                            },
                            key() {
                                if (c.attributes)
                                    if ("NONE" === c.attributes.METHOD)
                                        n = null;
                                    else if (c.attributes.URI)
                                        if ("com.apple.streamingkeydelivery" === c.attributes.KEYFORMAT)
                                            this.manifest.contentProtection = this.manifest.contentProtection || {},
                                            this.manifest.contentProtection["com.apple.fps.1_0"] = {
                                                attributes: c.attributes
                                            };
                                        else if ("com.microsoft.playready" === c.attributes.KEYFORMAT)
                                            this.manifest.contentProtection = this.manifest.contentProtection || {},
                                            this.manifest.contentProtection["com.microsoft.playready"] = {
                                                uri: c.attributes.URI
                                            };
                                        else {
                                            if ("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed" === c.attributes.KEYFORMAT)
                                                return -1 === ["SAMPLE-AES", "SAMPLE-AES-CTR", "SAMPLE-AES-CENC"].indexOf(c.attributes.METHOD) ? void this.trigger("warn", {
                                                    message: "invalid key method provided for Widevine"
                                                }) : ("SAMPLE-AES-CENC" === c.attributes.METHOD && this.trigger("warn", {
                                                    message: "SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"
                                                }),
                                                "data:text/plain;base64," !== c.attributes.URI.substring(0, 23) ? void this.trigger("warn", {
                                                    message: "invalid key URI provided for Widevine"
                                                }) : c.attributes.KEYID && "0x" === c.attributes.KEYID.substring(0, 2) ? (this.manifest.contentProtection = this.manifest.contentProtection || {},
                                                void (this.manifest.contentProtection["com.widevine.alpha"] = {
                                                    attributes: {
                                                        schemeIdUri: c.attributes.KEYFORMAT,
                                                        keyId: c.attributes.KEYID.substring(2)
                                                    },
                                                    pssh: Os(c.attributes.URI.split(",")[1])
                                                })) : void this.trigger("warn", {
                                                    message: "invalid key ID provided for Widevine"
                                                }));
                                            c.attributes.METHOD || this.trigger("warn", {
                                                message: "defaulting key method to AES-128"
                                            }),
                                            n = {
                                                method: c.attributes.METHOD || "AES-128",
                                                uri: c.attributes.URI
                                            },
                                            void 0 !== c.attributes.IV && (n.iv = c.attributes.IV)
                                        }
                                    else
                                        this.trigger("warn", {
                                            message: "ignoring key declaration without URI"
                                        });
                                else
                                    this.trigger("warn", {
                                        message: "ignoring key declaration without attribute list"
                                    })
                            },
                            "media-sequence"() {
                                isFinite(c.number) ? this.manifest.mediaSequence = c.number : this.trigger("warn", {
                                    message: "ignoring invalid media sequence: " + c.number
                                })
                            },
                            "discontinuity-sequence"() {
                                isFinite(c.number) ? (this.manifest.discontinuitySequence = c.number,
                                o = c.number) : this.trigger("warn", {
                                    message: "ignoring invalid discontinuity sequence: " + c.number
                                })
                            },
                            "playlist-type"() {
                                /VOD|EVENT/.test(c.playlistType) ? this.manifest.playlistType = c.playlistType : this.trigger("warn", {
                                    message: "ignoring unknown playlist type: " + c.playlist
                                })
                            },
                            map() {
                                i = {},
                                c.uri && (i.uri = c.uri),
                                c.byterange && (i.byterange = c.byterange),
                                n && (i.key = n)
                            },
                            "stream-inf"() {
                                this.manifest.playlists = t,
                                this.manifest.mediaGroups = this.manifest.mediaGroups || a,
                                c.attributes ? (s.attributes || (s.attributes = {}),
                                zt(s.attributes, c.attributes)) : this.trigger("warn", {
                                    message: "ignoring empty stream-inf attributes"
                                })
                            },
                            media() {
                                var e;
                                this.manifest.mediaGroups = this.manifest.mediaGroups || a,
                                c.attributes && c.attributes.TYPE && c.attributes["GROUP-ID"] && c.attributes.NAME ? ((e = this.manifest.mediaGroups[c.attributes.TYPE])[c.attributes["GROUP-ID"]] = e[c.attributes["GROUP-ID"]] || {},
                                u = e[c.attributes["GROUP-ID"]],
                                (h = {
                                    default: /yes/i.test(c.attributes.DEFAULT)
                                }).default ? h.autoselect = !0 : h.autoselect = /yes/i.test(c.attributes.AUTOSELECT),
                                c.attributes.LANGUAGE && (h.language = c.attributes.LANGUAGE),
                                c.attributes.URI && (h.uri = c.attributes.URI),
                                c.attributes["INSTREAM-ID"] && (h.instreamId = c.attributes["INSTREAM-ID"]),
                                c.attributes.CHARACTERISTICS && (h.characteristics = c.attributes.CHARACTERISTICS),
                                c.attributes.FORCED && (h.forced = /yes/i.test(c.attributes.FORCED)),
                                u[c.attributes.NAME] = h) : this.trigger("warn", {
                                    message: "ignoring incomplete or missing media group"
                                })
                            },
                            discontinuity() {
                                o += 1,
                                s.discontinuity = !0,
                                this.manifest.discontinuityStarts.push(t.length)
                            },
                            "program-date-time"() {
                                void 0 === this.manifest.dateTimeString && (this.manifest.dateTimeString = c.dateTimeString,
                                this.manifest.dateTimeObject = c.dateTimeObject),
                                s.dateTimeString = c.dateTimeString,
                                s.dateTimeObject = c.dateTimeObject
                            },
                            targetduration() {
                                !isFinite(c.duration) || c.duration < 0 ? this.trigger("warn", {
                                    message: "ignoring invalid target duration: " + c.duration
                                }) : (this.manifest.targetDuration = c.duration,
                                js.call(this, this.manifest))
                            },
                            start() {
                                !c.attributes || isNaN(c.attributes["TIME-OFFSET"]) ? this.trigger("warn", {
                                    message: "ignoring start declaration without appropriate attribute list"
                                }) : this.manifest.start = {
                                    timeOffset: c.attributes["TIME-OFFSET"],
                                    precise: c.attributes.PRECISE
                                }
                            },
                            "cue-out"() {
                                s.cueOut = c.data
                            },
                            "cue-out-cont"() {
                                s.cueOutCont = c.data
                            },
                            "cue-in"() {
                                s.cueIn = c.data
                            },
                            skip() {
                                this.manifest.skip = Bs(c.attributes),
                                this.warnOnMissingAttributes_("#EXT-X-SKIP", c.attributes, ["SKIPPED-SEGMENTS"])
                            },
                            part() {
                                r = !0;
                                var e = this.manifest.segments.length
                                  , t = Bs(c.attributes);
                                s.parts = s.parts || [],
                                s.parts.push(t),
                                t.byterange && (t.byterange.hasOwnProperty("offset") || (t.byterange.offset = d),
                                d = t.byterange.offset + t.byterange.length),
                                t = s.parts.length - 1;
                                this.warnOnMissingAttributes_(`#EXT-X-PART #${t} for segment #` + e, c.attributes, ["URI", "DURATION"]),
                                this.manifest.renditionReports && this.manifest.renditionReports.forEach(( (e, t) => {
                                    e.hasOwnProperty("lastPart") || this.trigger("warn", {
                                        message: `#EXT-X-RENDITION-REPORT #${t} lacks required attribute(s): LAST-PART`
                                    })
                                }
                                ))
                            },
                            "server-control"() {
                                var e = this.manifest.serverControl = Bs(c.attributes);
                                e.hasOwnProperty("canBlockReload") || (e.canBlockReload = !1,
                                this.trigger("info", {
                                    message: "#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"
                                })),
                                js.call(this, this.manifest),
                                e.canSkipDateranges && !e.hasOwnProperty("canSkipUntil") && this.trigger("warn", {
                                    message: "#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"
                                })
                            },
                            "preload-hint"() {
                                var e = this.manifest.segments.length
                                  , t = Bs(c.attributes)
                                  , i = t.type && "PART" === t.type
                                  , n = (s.preloadHints = s.preloadHints || [],
                                s.preloadHints.push(t),
                                !t.byterange || t.byterange.hasOwnProperty("offset") || (t.byterange.offset = i ? d : 0,
                                i && (d = t.byterange.offset + t.byterange.length)),
                                s.preloadHints.length - 1);
                                if (this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${n} for segment #` + e, c.attributes, ["TYPE", "URI"]),
                                t.type)
                                    for (let i = 0; i < s.preloadHints.length - 1; i++) {
                                        var r = s.preloadHints[i];
                                        r.type && r.type === t.type && this.trigger("warn", {
                                            message: `#EXT-X-PRELOAD-HINT #${n} for segment #${e} has the same TYPE ${t.type} as preload hint #` + i
                                        })
                                    }
                            },
                            "rendition-report"() {
                                var e = Bs(c.attributes)
                                  , t = (e = (this.manifest.renditionReports = this.manifest.renditionReports || [],
                                this.manifest.renditionReports.push(e),
                                this.manifest.renditionReports.length - 1),
                                ["LAST-MSN", "URI"]);
                                r && t.push("LAST-PART"),
                                this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #" + e, c.attributes, t)
                            },
                            "part-inf"() {
                                this.manifest.partInf = Bs(c.attributes),
                                this.warnOnMissingAttributes_("#EXT-X-PART-INF", c.attributes, ["PART-TARGET"]),
                                this.manifest.partInf.partTarget && (this.manifest.partTargetDuration = this.manifest.partInf.partTarget),
                                js.call(this, this.manifest)
                            }
                        }[c.tagType] || function() {}
                        ).call(e)
                    },
                    uri() {
                        s.uri = c.uri,
                        t.push(s),
                        !this.manifest.targetDuration || "duration"in s || (this.trigger("warn", {
                            message: "defaulting segment duration to the target duration"
                        }),
                        s.duration = this.manifest.targetDuration),
                        n && (s.key = n),
                        s.timeline = o,
                        i && (s.map = i),
                        d = 0,
                        s = {}
                    },
                    comment() {},
                    custom() {
                        c.segment ? (s.custom = s.custom || {},
                        s.custom[c.customType] = c.data) : (this.manifest.custom = this.manifest.custom || {},
                        this.manifest.custom[c.customType] = c.data)
                    }
                })[c.type].call(e)
            }
            ))
        }
        warnOnMissingAttributes_(e, t, i) {
            const n = [];
            i.forEach((function(e) {
                t.hasOwnProperty(e) || n.push(e)
            }
            )),
            n.length && this.trigger("warn", {
                message: e + " lacks required attribute(s): " + n.join(", ")
            })
        }
        push(e) {
            this.lineStream.push(e)
        }
        end() {
            this.lineStream.push("\n"),
            this.trigger("end")
        }
        addParser(e) {
            this.parseStream.addParser(e)
        }
        addTagMapper(e) {
            this.parseStream.addTagMapper(e)
        }
    }
    function Us(e) {
        return Vs.audio.test((e = void 0 === e ? "" : e).trim().toLowerCase())
    }
    function $s(e) {
        return void 0 === e && (e = ""),
        window.MediaSource && window.MediaSource.isTypeSupported && window.MediaSource.isTypeSupported(Qs(e)) || !1
    }
    function Hs(e) {
        return (e = void 0 === e ? "" : e).toLowerCase().split(",").every((function(e) {
            e = e.trim();
            for (var t = 0; t < Xs.length; t++) {
                var i = Xs[t];
                if (Vs["muxer" + i].test(e))
                    return !0
            }
            return !1
        }
        ))
    }
    function zs(e) {
        return Js.test(e) ? "hls" : er.test(e) ? "dash" : "application/vnd.videojs.vhs+json" === e ? "vhs-json" : null
    }
    function qs(e, t) {
        if ("string" != typeof (e = "string" != typeof e && e && "function" == typeof e.toString ? e.toString() : e))
            return new Uint8Array;
        t || (e = unescape(encodeURIComponent(e)));
        for (var i = new Uint8Array(e.length), n = 0; n < e.length; n++)
            i[n] = e.charCodeAt(n);
        return i
    }
    function Ws(e, t) {
        if (/^[a-z]+:/i.test(t))
            return t;
        /^data:/.test(e) && (e = window.location && window.location.href || "");
        var i = "function" == typeof window.URL
          , n = /^\/\//.test(e)
          , s = !window.location && !/\/\//i.test(e);
        return i ? e = new window.URL(e,window.location || or) : /\/\//i.test(e) || (e = Ps.buildAbsoluteURL(window.location && window.location.href || "", e)),
        i ? (i = new URL(t,e),
        s ? i.href.slice(or.length) : n ? i.href.slice(i.protocol.length) : i.href) : Ps.buildAbsoluteURL(e, t)
    }
    var Vs = {
        mp4: /^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,
        webm: /^(vp0?[89]|av0?1|opus|vorbis)/,
        ogg: /^(vp0?[89]|theora|flac|opus|vorbis)/,
        video: /^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,
        audio: /^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,
        text: /^(stpp.ttml.im1t)/,
        muxerVideo: /^(avc0?1)/,
        muxerAudio: /^(mp4a)/,
        muxerText: /a^/
    }
      , Gs = ["video", "audio", "text"]
      , Xs = ["Video", "Audio", "Text"]
      , Ys = function(e) {
        return e && e.replace(/avc1\.(\d+)\.(\d+)/i, (function(e, t, i) {
            return "avc1." + ("00" + Number(t).toString(16)).slice(-2) + "00" + ("00" + Number(i).toString(16)).slice(-2)
        }
        ))
    }
      , Ks = function(e) {
        e = (e = void 0 === e ? "" : e).split(",");
        var t = [];
        return e.forEach((function(e) {
            var i;
            e = e.trim(),
            Gs.forEach((function(n) {
                var s, r = Vs[n].exec(e.toLowerCase());
                !r || r.length <= 1 || (i = n,
                r = e.substring(0, r[1].length),
                s = e.replace(r, ""),
                t.push({
                    type: r,
                    details: s,
                    mediaType: n
                }))
            }
            )),
            i || t.push({
                type: e,
                details: "",
                mediaType: "unknown"
            })
        }
        )),
        t
    }
      , Qs = function(e) {
        var t, i, n;
        if (e && "string" == typeof e)
            return i = "video",
            1 === (t = e.toLowerCase().split(",").map((function(e) {
                return Ys(e.trim())
            }
            ))).length && Us(t[0]) ? i = "audio" : 1 === t.length && (n = t[0],
            Vs.text.test((n = void 0 === n ? "" : n).trim().toLowerCase())) && (i = "application"),
            n = "mp4",
            t.every((function(e) {
                return Vs.mp4.test(e)
            }
            )) ? n = "mp4" : t.every((function(e) {
                return Vs.webm.test(e)
            }
            )) ? n = "webm" : t.every((function(e) {
                return Vs.ogg.test(e)
            }
            )) && (n = "ogg"),
            i + "/" + n + ';codecs="' + e + '"'
    }
      , Zs = "mp4a.40.2"
      , Js = /^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i
      , er = /^application\/dash\+xml/i
      , tr = function(e) {
        return "function" === ArrayBuffer.isView ? ArrayBuffer.isView(e) : e && e.buffer instanceof ArrayBuffer
    }
      , ir = function(e) {
        return e instanceof Uint8Array ? e : (Array.isArray(e) || tr(e) || e instanceof ArrayBuffer || (e = "number" != typeof e || "number" == typeof e && e != e ? 0 : [e]),
        new Uint8Array(e && e.buffer || e,e && e.byteOffset || 0,e && e.byteLength || 0))
    }
      , nr = window.BigInt || Number
      , sr = [nr("0x1"), nr("0x100"), nr("0x10000"), nr("0x1000000"), nr("0x100000000"), nr("0x10000000000"), nr("0x1000000000000"), nr("0x100000000000000"), nr("0x10000000000000000")]
      , rr = (at = new Uint16Array([65484]),
    255 !== (at = new Uint8Array(at.buffer,at.byteOffset,at.byteLength))[0] && at[0],
    function(e, t) {
        var i = void 0 !== (i = (t = void 0 === t ? {} : t).signed) && i
          , n = void 0 !== (t = t.le) && t;
        e = ir(e),
        t = n ? "reduce" : "reduceRight",
        t = (e[t] || Array.prototype[t]).call(e, (function(t, i, s) {
            return s = n ? s : Math.abs(s + 1 - e.length),
            t + nr(i) * sr[s]
        }
        ), nr(0));
        return i && (i = sr[e.length] / nr(2) - nr(1)) < (t = nr(t)) && (t = (t = t - i - i) - nr(2)),
        Number(t)
    }
    )
      , ar = function(e, t, i) {
        var n, s = void 0 === (n = (i = void 0 === i ? {} : i).offset) ? 0 : n, r = void 0 === (n = i.mask) ? [] : n;
        e = ir(e),
        i = (t = ir(t)).every || Array.prototype.every;
        return t.length && e.length - s >= t.length && i.call(t, (function(t, i) {
            return t === (r[i] ? r[i] & e[s + i] : e[s + i])
        }
        ))
    }
      , or = "http://example.com";
    function lr(e, t) {
        return (t = void 0 === t ? Object : t) && "function" == typeof t.freeze ? t.freeze(e) : e
    }
    var dr = lr({
        HTML: "text/html",
        isHTML: function(e) {
            return e === dr.HTML
        },
        XML_APPLICATION: "application/xml",
        XML_TEXT: "text/xml",
        XML_XHTML_APPLICATION: "application/xhtml+xml",
        XML_SVG_IMAGE: "image/svg+xml"
    })
      , cr = lr({
        HTML: "http://www.w3.org/1999/xhtml",
        isHTML: function(e) {
            return e === cr.HTML
        },
        SVG: "http://www.w3.org/2000/svg",
        XML: "http://www.w3.org/XML/1998/namespace",
        XMLNS: "http://www.w3.org/2000/xmlns/"
    })
      , ur = {
        assign: function(e, t) {
            if (null === e || "object" != typeof e)
                throw new TypeError("target is not an object");
            for (var i in t)
                Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
            return e
        },
        find: function(e, t, i) {
            if (void 0 === i && (i = Array.prototype),
            e && "function" == typeof i.find)
                return i.find.call(e, t);
            for (var n = 0; n < e.length; n++)
                if (Object.prototype.hasOwnProperty.call(e, n)) {
                    var s = e[n];
                    if (t.call(void 0, s, n, e))
                        return s
                }
        },
        freeze: lr,
        MIME_TYPE: dr,
        NAMESPACE: cr
    }
      , hr = ur.find
      , pr = ur.NAMESPACE;
    function fr(e) {
        return "" !== e
    }
    function mr(e, t) {
        return e.hasOwnProperty(t) || (e[t] = !0),
        e
    }
    function gr(e) {
        return e ? (e = e ? e.split(/[\t\n\f\r ]+/).filter(fr) : [],
        Object.keys(e.reduce(mr, {}))) : []
    }
    function vr(e, t) {
        for (var i in e)
            Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
    }
    function yr(e, t) {
        var i = e.prototype;
        function n() {}
        i instanceof t || (n.prototype = t.prototype,
        vr(i, n = new n),
        e.prototype = i = n),
        i.constructor != e && (i.constructor = e)
    }
    var br, _r = ((br = {}).ELEMENT_NODE = 1,
    br.ATTRIBUTE_NODE = 2,
    br.TEXT_NODE = 3,
    br.CDATA_SECTION_NODE = 4,
    br.ENTITY_REFERENCE_NODE = 5,
    br.ENTITY_NODE = 6,
    br.PROCESSING_INSTRUCTION_NODE = 7,
    br.COMMENT_NODE = 8,
    br.DOCUMENT_NODE = 9,
    br.DOCUMENT_TYPE_NODE = 10,
    br.DOCUMENT_FRAGMENT_NODE = 11,
    br.NOTATION_NODE = 12,
    {}), Tr = {}, wr = (_r.INDEX_SIZE_ERR = (Tr[1] = "Index size error",
    1),
    _r.DOMSTRING_SIZE_ERR = (Tr[2] = "DOMString size error",
    2),
    _r.HIERARCHY_REQUEST_ERR = (Tr[3] = "Hierarchy request error",
    3)), Sr = (_r.WRONG_DOCUMENT_ERR = (Tr[4] = "Wrong document",
    4),
    _r.INVALID_CHARACTER_ERR = (Tr[5] = "Invalid character",
    5),
    _r.NO_DATA_ALLOWED_ERR = (Tr[6] = "No data allowed",
    6),
    _r.NO_MODIFICATION_ALLOWED_ERR = (Tr[7] = "No modification allowed",
    7),
    _r.NOT_FOUND_ERR = (Tr[8] = "Not found",
    8));
    function kr(e, t) {
        var i;
        return t instanceof Error ? i = t : (i = this,
        Error.call(this, Tr[e]),
        this.message = Tr[e],
        Error.captureStackTrace && Error.captureStackTrace(this, kr)),
        i.code = e,
        t && (this.message = this.message + ": " + t),
        i
    }
    function xr() {}
    function Cr(e, t) {
        this._node = e,
        this._refresh = t,
        Er(this)
    }
    function Er(e) {
        var t, i = e._node._inc || e._node.ownerDocument._inc;
        e._inc != i && (t = e._refresh(e._node),
        ua(e, "length", t.length),
        vr(t, e),
        e._inc = i)
    }
    function Pr() {}
    function Ar(e, t) {
        for (var i = e.length; i--; )
            if (e[i] === t)
                return i
    }
    function Ir(e, t, i, n) {
        n ? t[Ar(t, n)] = i : t[t.length++] = i,
        e && (t = (i.ownerElement = e).ownerDocument) && (n && Br(t, e, n),
        n = e,
        e = i,
        (i = t) && i._inc++,
        e.namespaceURI === pr.XMLNS) && (n._nsMap[e.prefix ? e.localName : ""] = e.value)
    }
    function Or(e, t, i) {
        var n = Ar(t, i);
        if (!(0 <= n))
            throw new kr(Sr,new Error(e.tagName + "@" + i));
        for (var s, r = t.length - 1; n < r; )
            t[n] = t[++n];
        t.length = r,
        e && (s = e.ownerDocument) && (Br(s, e, i),
        i.ownerElement = null)
    }
    function Lr() {}
    function Mr() {}
    function Dr(e) {
        return ("<" == e ? "&lt;" : ">" == e && "&gt;") || ("&" == e ? "&amp;" : '"' == e && "&quot;") || "&#" + e.charCodeAt() + ";"
    }
    function Rr(e, t) {
        if (t(e))
            return 1;
        if (e = e.firstChild)
            do {
                if (Rr(e, t))
                    return 1
            } while (e = e.nextSibling)
    }
    function Nr() {
        this.ownerDocument = this
    }
    function Br(e, t, i) {
        e && e._inc++,
        i.namespaceURI === pr.XMLNS && delete t._nsMap[i.prefix ? i.localName : ""]
    }
    function jr(e, t, i) {
        if (e && e._inc) {
            e._inc++;
            var n = t.childNodes;
            if (i)
                n[n.length++] = i;
            else {
                for (var s = t.firstChild, r = 0; s; )
                    s = (n[r++] = s).nextSibling;
                n.length = r,
                delete n[n.length]
            }
        }
    }
    function Fr(e, t) {
        var i = t.previousSibling
          , n = t.nextSibling;
        return i ? i.nextSibling = n : e.firstChild = n,
        n ? n.previousSibling = i : e.lastChild = i,
        t.parentNode = null,
        t.previousSibling = null,
        t.nextSibling = null,
        jr(e.ownerDocument, e),
        t
    }
    function Ur(e) {
        return e && e.nodeType === Mr.DOCUMENT_TYPE_NODE
    }
    function $r(e) {
        return e && e.nodeType === Mr.ELEMENT_NODE
    }
    function Hr(e) {
        return e && e.nodeType === Mr.TEXT_NODE
    }
    function zr(e, t) {
        var i;
        e = e.childNodes || [];
        if (!hr(e, $r) && !Ur(t))
            return i = hr(e, Ur),
            !(t && i && e.indexOf(i) > e.indexOf(t))
    }
    function qr(e, t) {
        var i;
        e = e.childNodes || [];
        if (!hr(e, (function(e) {
            return $r(e) && e !== t
        }
        )))
            return i = hr(e, Ur),
            !(t && i && e.indexOf(i) > e.indexOf(t))
    }
    function Wr(e, t, i) {
        var n = e.childNodes || []
          , s = t.childNodes || [];
        if (t.nodeType === Mr.DOCUMENT_FRAGMENT_NODE) {
            var r = s.filter($r);
            if (1 < r.length || hr(s, Hr))
                throw new kr(wr,"More than one element or text in fragment");
            if (1 === r.length && !zr(e, i))
                throw new kr(wr,"Element in fragment can not be inserted before doctype")
        }
        if ($r(t) && !zr(e, i))
            throw new kr(wr,"Only one element can be added and only after doctype");
        if (Ur(t)) {
            if (hr(n, Ur))
                throw new kr(wr,"Only one doctype is allowed");
            if (s = hr(n, $r),
            i && n.indexOf(s) < n.indexOf(i))
                throw new kr(wr,"Doctype can only be inserted before an element");
            if (!i && s)
                throw new kr(wr,"Doctype can not be appended since element is present")
        }
    }
    function Vr(e, t, i) {
        var n = e.childNodes || []
          , s = t.childNodes || [];
        if (t.nodeType === Mr.DOCUMENT_FRAGMENT_NODE) {
            var r = s.filter($r);
            if (1 < r.length || hr(s, Hr))
                throw new kr(wr,"More than one element or text in fragment");
            if (1 === r.length && !qr(e, i))
                throw new kr(wr,"Element in fragment can not be inserted before doctype")
        }
        if ($r(t) && !qr(e, i))
            throw new kr(wr,"Only one element can be added and only after doctype");
        if (Ur(t)) {
            if (hr(n, (function(e) {
                return Ur(e) && e !== i
            }
            )))
                throw new kr(wr,"Only one doctype is allowed");
            if (s = hr(n, $r),
            i && n.indexOf(s) < n.indexOf(i))
                throw new kr(wr,"Doctype can only be inserted before an element")
        }
    }
    function Gr(e, t, i, n) {
        if (function(e, t, i) {
            if (!(n = e) || n.nodeType !== Mr.DOCUMENT_NODE && n.nodeType !== Mr.DOCUMENT_FRAGMENT_NODE && n.nodeType !== Mr.ELEMENT_NODE)
                throw new kr(wr,"Unexpected parent node type " + e.nodeType);
            var n;
            if (i && i.parentNode !== e)
                throw new kr(Sr,"child not in parent");
            if (!(n = t) || !($r(n) || Hr(n) || Ur(n) || n.nodeType === Mr.DOCUMENT_FRAGMENT_NODE || n.nodeType === Mr.COMMENT_NODE || n.nodeType === Mr.PROCESSING_INSTRUCTION_NODE) || Ur(t) && e.nodeType !== Mr.DOCUMENT_NODE)
                throw new kr(wr,"Unexpected node type " + t.nodeType + " for parent node type " + e.nodeType)
        }(e, t, i),
        e.nodeType === Mr.DOCUMENT_NODE && (n || Wr)(e, t, i),
        (n = t.parentNode) && n.removeChild(t),
        11 === t.nodeType) {
            var s = t.firstChild;
            if (null == s)
                return t;
            var r = t.lastChild
        } else
            s = r = t;
        for (n = i ? i.previousSibling : e.lastChild,
        s.previousSibling = n,
        r.nextSibling = i,
        n ? n.nextSibling = s : e.firstChild = s,
        null == i ? e.lastChild = r : i.previousSibling = r; s.parentNode = e,
        s !== r && (s = s.nextSibling); )
            ;
        return jr(e.ownerDocument || e, e),
        11 == t.nodeType && (t.firstChild = t.lastChild = null),
        t
    }
    function Xr() {
        this._nsMap = {}
    }
    function Yr() {}
    function Kr() {}
    function Qr() {}
    function Zr() {}
    function Jr() {}
    function ea() {}
    function ta() {}
    function ia() {}
    function na() {}
    function sa() {}
    function ra() {}
    function aa() {}
    function oa(e, t) {
        var i, n = [], s = 9 == this.nodeType && this.documentElement || this, r = s.prefix, a = s.namespaceURI;
        return ca(this, n, e, t, i = a && null == r && null == s.lookupPrefix(a) ? [{
            namespace: a,
            prefix: null
        }] : i),
        n.join("")
    }
    function la(e, t, i) {
        var n = e.prefix || ""
          , s = e.namespaceURI;
        if (s && ("xml" !== n || s !== pr.XML) && s !== pr.XMLNS) {
            for (var r = i.length; r--; ) {
                var a = i[r];
                if (a.prefix === n)
                    return a.namespace !== s
            }
            return 1
        }
    }
    function da(e, t, i) {
        e.push(" ", t, '="', i.replace(/[<>&"\t\n\r]/g, Dr), '"')
    }
    function ca(e, t, i, n, s) {
        if (s = s || [],
        n) {
            if (!(e = n(e)))
                return;
            if ("string" == typeof e)
                return void t.push(e)
        }
        switch (e.nodeType) {
        case 1:
            var r = e.attributes
              , a = r.length
              , o = e.firstChild
              , l = e.tagName
              , d = l;
            if (!(i = pr.isHTML(e.namespaceURI) || i) && !e.prefix && e.namespaceURI) {
                for (var c, u = 0; u < r.length; u++)
                    if ("xmlns" === r.item(u).name) {
                        c = r.item(u).value;
                        break
                    }
                if (!c)
                    for (var h = s.length - 1; 0 <= h; h--)
                        if ("" === (p = s[h]).prefix && p.namespace === e.namespaceURI) {
                            c = p.namespace;
                            break
                        }
                if (c !== e.namespaceURI) {
                    var p;
                    for (h = s.length - 1; 0 <= h; h--)
                        if ((p = s[h]).namespace === e.namespaceURI) {
                            p.prefix && (d = p.prefix + ":" + l);
                            break
                        }
                }
            }
            t.push("<", d);
            for (var f = 0; f < a; f++)
                "xmlns" == (m = r.item(f)).prefix ? s.push({
                    prefix: m.localName,
                    namespace: m.value
                }) : "xmlns" == m.nodeName && s.push({
                    prefix: "",
                    namespace: m.value
                });
            var m, g, v;
            for (f = 0; f < a; f++)
                la(m = r.item(f), 0, s) && (da(t, (g = m.prefix || "") ? "xmlns:" + g : "xmlns", v = m.namespaceURI),
                s.push({
                    prefix: g,
                    namespace: v
                })),
                ca(m, t, i, n, s);
            if (l === d && la(e, 0, s) && (da(t, (g = e.prefix || "") ? "xmlns:" + g : "xmlns", v = e.namespaceURI),
            s.push({
                prefix: g,
                namespace: v
            })),
            o || i && !/^(?:meta|link|img|br|hr|input)$/i.test(l)) {
                if (t.push(">"),
                i && /^script$/i.test(l))
                    for (; o; )
                        o.data ? t.push(o.data) : ca(o, t, i, n, s.slice()),
                        o = o.nextSibling;
                else
                    for (; o; )
                        ca(o, t, i, n, s.slice()),
                        o = o.nextSibling;
                t.push("</", d, ">")
            } else
                t.push("/>");
            return;
        case 9:
        case 11:
            for (o = e.firstChild; o; )
                ca(o, t, i, n, s.slice()),
                o = o.nextSibling;
            return;
        case 2:
            return da(t, e.name, e.value);
        case 3:
            return t.push(e.data.replace(/[<&>]/g, Dr));
        case 4:
            return t.push("<![CDATA[", e.data, "]]>");
        case 8:
            return t.push("\x3c!--", e.data, "--\x3e");
        case 10:
            var y = e.publicId
              , b = e.systemId;
            return t.push("<!DOCTYPE ", e.name),
            void (y ? (t.push(" PUBLIC ", y),
            b && "." != b && t.push(" ", b),
            t.push(">")) : b && "." != b ? t.push(" SYSTEM ", b, ">") : ((y = e.internalSubset) && t.push(" [", y, "]"),
            t.push(">")));
        case 7:
            return t.push("<?", e.target, " ", e.data, "?>");
        case 5:
            return t.push("&", e.nodeName, ";");
        default:
            t.push("??", e.nodeName)
        }
    }
    function ua(e, t, i) {
        e[t] = i
    }
    _r.NOT_SUPPORTED_ERR = (Tr[9] = "Not supported",
    9),
    _r.INUSE_ATTRIBUTE_ERR = (Tr[10] = "Attribute in use",
    10),
    _r.INVALID_STATE_ERR = (Tr[11] = "Invalid state",
    11),
    _r.SYNTAX_ERR = (Tr[12] = "Syntax error",
    12),
    _r.INVALID_MODIFICATION_ERR = (Tr[13] = "Invalid modification",
    13),
    _r.NAMESPACE_ERR = (Tr[14] = "Invalid namespace",
    14),
    _r.INVALID_ACCESS_ERR = (Tr[15] = "Invalid access",
    15),
    kr.prototype = Error.prototype,
    vr(_r, kr),
    xr.prototype = {
        length: 0,
        item: function(e) {
            return this[e] || null
        },
        toString: function(e, t) {
            for (var i = [], n = 0; n < this.length; n++)
                ca(this[n], i, e, t);
            return i.join("")
        },
        filter: function(e) {
            return Array.prototype.filter.call(this, e)
        },
        indexOf: function(e) {
            return Array.prototype.indexOf.call(this, e)
        }
    },
    Cr.prototype.item = function(e) {
        return Er(this),
        this[e]
    }
    ,
    yr(Cr, xr),
    Pr.prototype = {
        length: 0,
        item: xr.prototype.item,
        getNamedItem: function(e) {
            for (var t = this.length; t--; ) {
                var i = this[t];
                if (i.nodeName == e)
                    return i
            }
        },
        setNamedItem: function(e) {
            var t = e.ownerElement;
            if (t && t != this._ownerElement)
                throw new kr(10);
            return t = this.getNamedItem(e.nodeName),
            Ir(this._ownerElement, this, e, t),
            t
        },
        setNamedItemNS: function(e) {
            var t = e.ownerElement;
            if (t && t != this._ownerElement)
                throw new kr(10);
            return t = this.getNamedItemNS(e.namespaceURI, e.localName),
            Ir(this._ownerElement, this, e, t),
            t
        },
        removeNamedItem: function(e) {
            return e = this.getNamedItem(e),
            Or(this._ownerElement, this, e),
            e
        },
        removeNamedItemNS: function(e, t) {
            return e = this.getNamedItemNS(e, t),
            Or(this._ownerElement, this, e),
            e
        },
        getNamedItemNS: function(e, t) {
            for (var i = this.length; i--; ) {
                var n = this[i];
                if (n.localName == t && n.namespaceURI == e)
                    return n
            }
            return null
        }
    },
    Lr.prototype = {
        hasFeature: function(e, t) {
            return !0
        },
        createDocument: function(e, t, i) {
            var n = new Nr;
            return n.implementation = this,
            n.childNodes = new xr,
            n.doctype = i || null,
            i && n.appendChild(i),
            t && (i = n.createElementNS(e, t),
            n.appendChild(i)),
            n
        },
        createDocumentType: function(e, t, i) {
            var n = new ea;
            return n.name = e,
            n.nodeName = e,
            n.publicId = t || "",
            n.systemId = i || "",
            n
        }
    },
    Mr.prototype = {
        firstChild: null,
        lastChild: null,
        previousSibling: null,
        nextSibling: null,
        attributes: null,
        parentNode: null,
        childNodes: null,
        ownerDocument: null,
        nodeValue: null,
        namespaceURI: null,
        prefix: null,
        localName: null,
        insertBefore: function(e, t) {
            return Gr(this, e, t)
        },
        replaceChild: function(e, t) {
            Gr(this, e, t, Vr),
            t && this.removeChild(t)
        },
        removeChild: function(e) {
            return Fr(this, e)
        },
        appendChild: function(e) {
            return this.insertBefore(e, null)
        },
        hasChildNodes: function() {
            return null != this.firstChild
        },
        cloneNode: function(e) {
            return function e(t, i, n) {
                var s = new i.constructor;
                for (var r in i) {
                    var a;
                    Object.prototype.hasOwnProperty.call(i, r) && "object" != typeof (a = i[r]) && a != s[r] && (s[r] = a)
                }
                switch (i.childNodes && (s.childNodes = new xr),
                s.ownerDocument = t,
                s.nodeType) {
                case 1:
                    var o = i.attributes
                      , l = s.attributes = new Pr
                      , d = o.length;
                    l._ownerElement = s;
                    for (var c = 0; c < d; c++)
                        s.setAttributeNode(e(t, o.item(c), !0));
                    break;
                case 2:
                    n = !0
                }
                if (n)
                    for (var u = i.firstChild; u; )
                        s.appendChild(e(t, u, n)),
                        u = u.nextSibling;
                return s
            }(this.ownerDocument || this, this, e)
        },
        normalize: function() {
            for (var e = this.firstChild; e; ) {
                var t = e.nextSibling;
                t && 3 == t.nodeType && 3 == e.nodeType ? (this.removeChild(t),
                e.appendData(t.data)) : (e.normalize(),
                e = t)
            }
        },
        isSupported: function(e, t) {
            return this.ownerDocument.implementation.hasFeature(e, t)
        },
        hasAttributes: function() {
            return 0 < this.attributes.length
        },
        lookupPrefix: function(e) {
            for (var t = this; t; ) {
                var i = t._nsMap;
                if (i)
                    for (var n in i)
                        if (Object.prototype.hasOwnProperty.call(i, n) && i[n] === e)
                            return n;
                t = 2 == t.nodeType ? t.ownerDocument : t.parentNode
            }
            return null
        },
        lookupNamespaceURI: function(e) {
            for (var t = this; t; ) {
                var i = t._nsMap;
                if (i && Object.prototype.hasOwnProperty.call(i, e))
                    return i[e];
                t = 2 == t.nodeType ? t.ownerDocument : t.parentNode
            }
            return null
        },
        isDefaultNamespace: function(e) {
            return null == this.lookupPrefix(e)
        }
    },
    vr(br, Mr),
    vr(br, Mr.prototype),
    Nr.prototype = {
        nodeName: "#document",
        nodeType: 9,
        doctype: null,
        documentElement: null,
        _inc: 1,
        insertBefore: function(e, t) {
            if (11 == e.nodeType)
                for (var i = e.firstChild; i; ) {
                    var n = i.nextSibling;
                    this.insertBefore(i, t),
                    i = n
                }
            else
                Gr(this, e, t),
                null === (e.ownerDocument = this).documentElement && 1 === e.nodeType && (this.documentElement = e);
            return e
        },
        removeChild: function(e) {
            return this.documentElement == e && (this.documentElement = null),
            Fr(this, e)
        },
        replaceChild: function(e, t) {
            Gr(this, e, t, Vr),
            e.ownerDocument = this,
            t && this.removeChild(t),
            $r(e) && (this.documentElement = e)
        },
        importNode: function(e, t) {
            return function e(t, i, n) {
                var s;
                switch (i.nodeType) {
                case 1:
                    (s = i.cloneNode(!1)).ownerDocument = t;
                case 11:
                    break;
                case 2:
                    n = !0
                }
                if ((s = s || i.cloneNode(!1)).ownerDocument = t,
                s.parentNode = null,
                n)
                    for (var r = i.firstChild; r; )
                        s.appendChild(e(t, r, n)),
                        r = r.nextSibling;
                return s
            }(this, e, t)
        },
        getElementById: function(e) {
            var t = null;
            return Rr(this.documentElement, (function(i) {
                if (1 == i.nodeType && i.getAttribute("id") == e)
                    return t = i,
                    !0
            }
            )),
            t
        },
        getElementsByClassName: function(e) {
            var t = gr(e);
            return new Cr(this,(function(i) {
                var n = [];
                return 0 < t.length && Rr(i.documentElement, (function(s) {
                    var r, a, o;
                    s !== i && 1 === s.nodeType && (r = s.getAttribute("class")) && ((a = e === r) || (r = gr(r),
                    a = t.every((o = r,
                    function(e) {
                        return o && -1 !== o.indexOf(e)
                    }
                    ))),
                    a) && n.push(s)
                }
                )),
                n
            }
            ))
        },
        createElement: function(e) {
            var t = new Xr;
            return t.ownerDocument = this,
            t.nodeName = e,
            t.tagName = e,
            t.localName = e,
            t.childNodes = new xr,
            (t.attributes = new Pr)._ownerElement = t
        },
        createDocumentFragment: function() {
            var e = new sa;
            return e.ownerDocument = this,
            e.childNodes = new xr,
            e
        },
        createTextNode: function(e) {
            var t = new Qr;
            return t.ownerDocument = this,
            t.appendData(e),
            t
        },
        createComment: function(e) {
            var t = new Zr;
            return t.ownerDocument = this,
            t.appendData(e),
            t
        },
        createCDATASection: function(e) {
            var t = new Jr;
            return t.ownerDocument = this,
            t.appendData(e),
            t
        },
        createProcessingInstruction: function(e, t) {
            var i = new ra;
            return i.ownerDocument = this,
            i.tagName = i.target = e,
            i.nodeValue = i.data = t,
            i
        },
        createAttribute: function(e) {
            var t = new Yr;
            return t.ownerDocument = this,
            t.name = e,
            t.nodeName = e,
            t.localName = e,
            t.specified = !0,
            t
        },
        createEntityReference: function(e) {
            var t = new na;
            return t.ownerDocument = this,
            t.nodeName = e,
            t
        },
        createElementNS: function(e, t) {
            var i = new Xr
              , n = t.split(":")
              , s = i.attributes = new Pr;
            return i.childNodes = new xr,
            i.ownerDocument = this,
            i.nodeName = t,
            i.tagName = t,
            i.namespaceURI = e,
            2 == n.length ? (i.prefix = n[0],
            i.localName = n[1]) : i.localName = t,
            s._ownerElement = i
        },
        createAttributeNS: function(e, t) {
            var i = new Yr
              , n = t.split(":");
            return i.ownerDocument = this,
            i.nodeName = t,
            i.name = t,
            i.namespaceURI = e,
            i.specified = !0,
            2 == n.length ? (i.prefix = n[0],
            i.localName = n[1]) : i.localName = t,
            i
        }
    },
    yr(Nr, Mr),
    Nr.prototype.getElementsByTagName = (Xr.prototype = {
        nodeType: 1,
        hasAttribute: function(e) {
            return null != this.getAttributeNode(e)
        },
        getAttribute: function(e) {
            return (e = this.getAttributeNode(e)) && e.value || ""
        },
        getAttributeNode: function(e) {
            return this.attributes.getNamedItem(e)
        },
        setAttribute: function(e, t) {
            (e = this.ownerDocument.createAttribute(e)).value = e.nodeValue = "" + t,
            this.setAttributeNode(e)
        },
        removeAttribute: function(e) {
            (e = this.getAttributeNode(e)) && this.removeAttributeNode(e)
        },
        appendChild: function(e) {
            return 11 === e.nodeType ? this.insertBefore(e, null) : (t = this,
            e.parentNode && e.parentNode.removeChild(e),
            e.parentNode = t,
            e.previousSibling = t.lastChild,
            e.nextSibling = null,
            e.previousSibling ? e.previousSibling.nextSibling = e : t.firstChild = e,
            t.lastChild = e,
            jr(t.ownerDocument, t, e),
            e);
            var t
        },
        setAttributeNode: function(e) {
            return this.attributes.setNamedItem(e)
        },
        setAttributeNodeNS: function(e) {
            return this.attributes.setNamedItemNS(e)
        },
        removeAttributeNode: function(e) {
            return this.attributes.removeNamedItem(e.nodeName)
        },
        removeAttributeNS: function(e, t) {
            (e = this.getAttributeNodeNS(e, t)) && this.removeAttributeNode(e)
        },
        hasAttributeNS: function(e, t) {
            return null != this.getAttributeNodeNS(e, t)
        },
        getAttributeNS: function(e, t) {
            return (e = this.getAttributeNodeNS(e, t)) && e.value || ""
        },
        setAttributeNS: function(e, t, i) {
            (e = this.ownerDocument.createAttributeNS(e, t)).value = e.nodeValue = "" + i,
            this.setAttributeNode(e)
        },
        getAttributeNodeNS: function(e, t) {
            return this.attributes.getNamedItemNS(e, t)
        },
        getElementsByTagName: function(e) {
            return new Cr(this,(function(t) {
                var i = [];
                return Rr(t, (function(n) {
                    n === t || 1 != n.nodeType || "*" !== e && n.tagName != e || i.push(n)
                }
                )),
                i
            }
            ))
        },
        getElementsByTagNameNS: function(e, t) {
            return new Cr(this,(function(i) {
                var n = [];
                return Rr(i, (function(s) {
                    s === i || 1 !== s.nodeType || "*" !== e && s.namespaceURI !== e || "*" !== t && s.localName != t || n.push(s)
                }
                )),
                n
            }
            ))
        }
    }).getElementsByTagName,
    Nr.prototype.getElementsByTagNameNS = Xr.prototype.getElementsByTagNameNS,
    yr(Xr, Mr),
    Yr.prototype.nodeType = 2,
    yr(Yr, Mr),
    Kr.prototype = {
        data: "",
        substringData: function(e, t) {
            return this.data.substring(e, e + t)
        },
        appendData: function(e) {
            e = this.data + e,
            this.nodeValue = this.data = e,
            this.length = e.length
        },
        insertData: function(e, t) {
            this.replaceData(e, 0, t)
        },
        appendChild: function(e) {
            throw new Error(Tr[wr])
        },
        deleteData: function(e, t) {
            this.replaceData(e, t, "")
        },
        replaceData: function(e, t, i) {
            var n = this.data.substring(0, e);
            e = this.data.substring(e + t);
            this.nodeValue = this.data = i = n + i + e,
            this.length = i.length
        }
    },
    yr(Kr, Mr),
    Qr.prototype = {
        nodeName: "#text",
        nodeType: 3,
        splitText: function(e) {
            var t = (i = this.data).substring(e)
              , i = i.substring(0, e);
            this.data = this.nodeValue = i,
            this.length = i.length,
            e = this.ownerDocument.createTextNode(t);
            return this.parentNode && this.parentNode.insertBefore(e, this.nextSibling),
            e
        }
    },
    yr(Qr, Kr),
    Zr.prototype = {
        nodeName: "#comment",
        nodeType: 8
    },
    yr(Zr, Kr),
    Jr.prototype = {
        nodeName: "#cdata-section",
        nodeType: 4
    },
    yr(Jr, Kr),
    ea.prototype.nodeType = 10,
    yr(ea, Mr),
    ta.prototype.nodeType = 12,
    yr(ta, Mr),
    ia.prototype.nodeType = 6,
    yr(ia, Mr),
    na.prototype.nodeType = 5,
    yr(na, Mr),
    sa.prototype.nodeName = "#document-fragment",
    sa.prototype.nodeType = 11,
    yr(sa, Mr),
    ra.prototype.nodeType = 7,
    yr(ra, Mr),
    aa.prototype.serializeToString = function(e, t, i) {
        return oa.call(e, t, i)
    }
    ,
    Mr.prototype.toString = oa;
    try {
        Object.defineProperty && (Object.defineProperty(Cr.prototype, "length", {
            get: function() {
                return Er(this),
                this.$$length
            }
        }),
        Object.defineProperty(Mr.prototype, "textContent", {
            get: function() {
                return function e(t) {
                    switch (t.nodeType) {
                    case 1:
                    case 11:
                        var i = [];
                        for (t = t.firstChild; t; )
                            7 !== t.nodeType && 8 !== t.nodeType && i.push(e(t)),
                            t = t.nextSibling;
                        return i.join("");
                    default:
                        return t.nodeValue
                    }
                }(this)
            },
            set: function(e) {
                switch (this.nodeType) {
                case 1:
                case 11:
                    for (; this.firstChild; )
                        this.removeChild(this.firstChild);
                    (e || String(e)) && this.appendChild(this.ownerDocument.createTextNode(e));
                    break;
                default:
                    this.data = e,
                    this.value = e,
                    this.nodeValue = e
                }
            }
        }),
        ua = function(e, t, i) {
            e["$$" + t] = i
        }
        )
    } catch (B) {}
    var ha = {
        DocumentType: ea,
        DOMException: kr,
        DOMImplementation: Lr,
        Element: Xr,
        Node: Mr,
        NodeList: xr,
        XMLSerializer: aa
    }
      , pa = ot((function(e, t) {
        var i = ur.freeze;
        t.XML_ENTITIES = i({
            amp: "&",
            apos: "'",
            gt: ">",
            lt: "<",
            quot: '"'
        }),
        t.HTML_ENTITIES = i({
            lt: "<",
            gt: ">",
            amp: "&",
            quot: '"',
            apos: "'",
            Agrave: "Ã",
            Aacute: "Ã",
            Acirc: "Ã",
            Atilde: "Ã",
            Auml: "Ã",
            Aring: "Ã",
            AElig: "Ã",
            Ccedil: "Ã",
            Egrave: "Ã",
            Eacute: "Ã",
            Ecirc: "Ã",
            Euml: "Ã",
            Igrave: "Ã",
            Iacute: "Ã",
            Icirc: "Ã",
            Iuml: "Ã",
            ETH: "Ã",
            Ntilde: "Ã",
            Ograve: "Ã",
            Oacute: "Ã",
            Ocirc: "Ã",
            Otilde: "Ã",
            Ouml: "Ã",
            Oslash: "Ã",
            Ugrave: "Ã",
            Uacute: "Ã",
            Ucirc: "Ã",
            Uuml: "Ã",
            Yacute: "Ã",
            THORN: "Ã",
            szlig: "Ã",
            agrave: "Ã ",
            aacute: "Ã¡",
            acirc: "Ã¢",
            atilde: "Ã£",
            auml: "Ã¤",
            aring: "Ã¥",
            aelig: "Ã¦",
            ccedil: "Ã§",
            egrave: "Ã¨",
            eacute: "Ã©",
            ecirc: "Ãª",
            euml: "Ã«",
            igrave: "Ã¬",
            iacute: "Ã­",
            icirc: "Ã®",
            iuml: "Ã¯",
            eth: "Ã°",
            ntilde: "Ã±",
            ograve: "Ã²",
            oacute: "Ã³",
            ocirc: "Ã´",
            otilde: "Ãµ",
            ouml: "Ã¶",
            oslash: "Ã¸",
            ugrave: "Ã¹",
            uacute: "Ãº",
            ucirc: "Ã»",
            uuml: "Ã¼",
            yacute: "Ã½",
            thorn: "Ã¾",
            yuml: "Ã¿",
            nbsp: "Â ",
            iexcl: "Â¡",
            cent: "Â¢",
            pound: "Â£",
            curren: "Â¤",
            yen: "Â¥",
            brvbar: "Â¦",
            sect: "Â§",
            uml: "Â¨",
            copy: "Â©",
            ordf: "Âª",
            laquo: "Â«",
            not: "Â¬",
            shy: "Â­Â­",
            reg: "Â®",
            macr: "Â¯",
            deg: "Â°",
            plusmn: "Â±",
            sup2: "Â²",
            sup3: "Â³",
            acute: "Â´",
            micro: "Âµ",
            para: "Â¶",
            middot: "Â·",
            cedil: "Â¸",
            sup1: "Â¹",
            ordm: "Âº",
            raquo: "Â»",
            frac14: "Â¼",
            frac12: "Â½",
            frac34: "Â¾",
            iquest: "Â¿",
            times: "Ã",
            divide: "Ã·",
            forall: "â",
            part: "â",
            exist: "â",
            empty: "â",
            nabla: "â",
            isin: "â",
            notin: "â",
            ni: "â",
            prod: "â",
            sum: "â",
            minus: "â",
            lowast: "â",
            radic: "â",
            prop: "â",
            infin: "â",
            ang: "â ",
            and: "â§",
            or: "â¨",
            cap: "â©",
            cup: "âª",
            int: "â«",
            there4: "â´",
            sim: "â¼",
            cong: "â",
            asymp: "â",
            ne: "â ",
            equiv: "â¡",
            le: "â¤",
            ge: "â¥",
            sub: "â",
            sup: "â",
            nsub: "â",
            sube: "â",
            supe: "â",
            oplus: "â",
            otimes: "â",
            perp: "â¥",
            sdot: "â",
            Alpha: "Î",
            Beta: "Î",
            Gamma: "Î",
            Delta: "Î",
            Epsilon: "Î",
            Zeta: "Î",
            Eta: "Î",
            Theta: "Î",
            Iota: "Î",
            Kappa: "Î",
            Lambda: "Î",
            Mu: "Î",
            Nu: "Î",
            Xi: "Î",
            Omicron: "Î",
            Pi: "Î ",
            Rho: "Î¡",
            Sigma: "Î£",
            Tau: "Î¤",
            Upsilon: "Î¥",
            Phi: "Î¦",
            Chi: "Î§",
            Psi: "Î¨",
            Omega: "Î©",
            alpha: "Î±",
            beta: "Î²",
            gamma: "Î³",
            delta: "Î´",
            epsilon: "Îµ",
            zeta: "Î¶",
            eta: "Î·",
            theta: "Î¸",
            iota: "Î¹",
            kappa: "Îº",
            lambda: "Î»",
            mu: "Î¼",
            nu: "Î½",
            xi: "Î¾",
            omicron: "Î¿",
            pi: "Ï",
            rho: "Ï",
            sigmaf: "Ï",
            sigma: "Ï",
            tau: "Ï",
            upsilon: "Ï",
            phi: "Ï",
            chi: "Ï",
            psi: "Ï",
            omega: "Ï",
            thetasym: "Ï",
            upsih: "Ï",
            piv: "Ï",
            OElig: "Å",
            oelig: "Å",
            Scaron: "Å ",
            scaron: "Å¡",
            Yuml: "Å¸",
            fnof: "Æ",
            circ: "Ë",
            tilde: "Ë",
            ensp: "â",
            emsp: "â",
            thinsp: "â",
            zwnj: "â",
            zwj: "â",
            lrm: "â",
            rlm: "â",
            ndash: "â",
            mdash: "â",
            lsquo: "â",
            rsquo: "â",
            sbquo: "â",
            ldquo: "â",
            rdquo: "â",
            bdquo: "â",
            dagger: "â ",
            Dagger: "â¡",
            bull: "â¢",
            hellip: "â¦",
            permil: "â°",
            prime: "â²",
            Prime: "â³",
            lsaquo: "â¹",
            rsaquo: "âº",
            oline: "â¾",
            euro: "â¬",
            trade: "â¢",
            larr: "â",
            uarr: "â",
            rarr: "â",
            darr: "â",
            harr: "â",
            crarr: "âµ",
            lceil: "â",
            rceil: "â",
            lfloor: "â",
            rfloor: "â",
            loz: "â",
            spades: "â ",
            clubs: "â£",
            hearts: "â¥",
            diams: "â¦"
        }),
        t.entityMap = t.HTML_ENTITIES
    }
    ))
      , fa = (pa.XML_ENTITIES,
    pa.HTML_ENTITIES,
    pa.entityMap,
    ur.NAMESPACE)
      , ma = /[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/
      , ga = new RegExp("[\\-\\.0-9" + ma.source.slice(1, -1) + "\\u00B7\\u0300-\\u036F\\u203F-\\u2040]")
      , va = new RegExp("^" + ma.source + ga.source + "*(?::" + ma.source + ga.source + "*)?$");
    function ya(e, t) {
        this.message = e,
        this.locator = t,
        Error.captureStackTrace && Error.captureStackTrace(this, ya)
    }
    function ba() {}
    function _a(e, t) {
        return t.lineNumber = e.lineNumber,
        t.columnNumber = e.columnNumber,
        t
    }
    function Ta(e, t, i) {
        for (var n = e.tagName, s = null, r = e.length; r--; ) {
            var a = e[r]
              , o = a.qName
              , l = a.value;
            o = 0 < (c = o.indexOf(":")) ? (d = a.prefix = o.slice(0, c),
            u = o.slice(c + 1),
            "xmlns" === d && u) : (d = null,
            "xmlns" === (u = o) && "");
            a.localName = u,
            !1 !== o && (null == s && (s = {},
            wa(i, i = {})),
            i[o] = s[o] = l,
            a.uri = fa.XMLNS,
            t.startPrefixMapping(o, l))
        }
        var d;
        for (r = e.length; r--; )
            (d = (a = e[r]).prefix) && ("xml" === d && (a.uri = fa.XML),
            "xmlns" !== d) && (a.uri = i[d || ""]);
        var c, u = 0 < (c = n.indexOf(":")) ? (d = e.prefix = n.slice(0, c),
        e.localName = n.slice(c + 1)) : (d = null,
        e.localName = n), h = e.uri = i[d || ""];
        if (t.startElement(h, u, n, e),
        !e.closed)
            return e.currentNSMap = i,
            e.localNSMap = s,
            1;
        if (t.endElement(h, u, n),
        s)
            for (d in s)
                Object.prototype.hasOwnProperty.call(s, d) && t.endPrefixMapping(d)
    }
    function wa(e, t) {
        for (var i in e)
            Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
    }
    function Sa() {
        this.attributeNames = {}
    }
    (ya.prototype = new Error).name = ya.name,
    ba.prototype = {
        parse: function(e, t, i) {
            var n = this.domBuilder;
            n.startDocument(),
            wa(t, t = {}),
            function(e, t, i, n, s) {
                function r(e) {
                    var t = e.slice(1, -1);
                    return Object.hasOwnProperty.call(i, t) ? i[t] : "#" === t.charAt(0) ? 65535 < (t = parseInt(t.substr(1).replace("x", "0x"))) ? (t -= 65536,
                    String.fromCharCode(55296 + (t >> 10), 56320 + (1023 & t))) : String.fromCharCode(t) : (s.error("entity not found:" + e),
                    e)
                }
                function a(t) {
                    var i;
                    f < t && (i = e.substring(f, t).replace(/&#?\w+;/g, r),
                    u && o(f),
                    n.characters(i, 0, t - f),
                    f = t)
                }
                function o(t, i) {
                    for (; d <= t && (i = c.exec(e)); )
                        l = i.index,
                        d = l + i[0].length,
                        u.lineNumber++;
                    u.columnNumber = t - l + 1
                }
                for (var l = 0, d = 0, c = /.*(?:\r\n?|\n)|.*$/g, u = n.locator, h = [{
                    currentNSMap: t
                }], p = {}, f = 0; ; ) {
                    try {
                        var m, g, v = e.indexOf("<", f);
                        if (v < 0)
                            return e.substr(f).match(/^\s*$/) || (g = (m = n.doc).createTextNode(e.substr(f)),
                            m.appendChild(g),
                            n.currentElement = g);
                        switch (f < v && a(v),
                        e.charAt(v + 1)) {
                        case "/":
                            var y = e.indexOf(">", v + 3)
                              , b = e.substring(v + 2, y).replace(/[ \t\n\r]+$/g, "")
                              , _ = h.pop()
                              , T = (y < 0 ? (b = e.substring(v + 2).replace(/[\s<].*/, ""),
                            s.error("end tag name: " + b + " is not complete:" + _.tagName),
                            y = v + 1 + b.length) : b.match(/\s</) && (b = b.replace(/[\s<].*/, ""),
                            s.error("end tag name: " + b + " maybe not complete"),
                            y = v + 1 + b.length),
                            _.localNSMap)
                              , w = _.tagName == b;
                            if (w || _.tagName && _.tagName.toLowerCase() == b.toLowerCase()) {
                                if (n.endElement(_.uri, _.localName, b),
                                T)
                                    for (var S in T)
                                        Object.prototype.hasOwnProperty.call(T, S) && n.endPrefixMapping(S);
                                w || s.fatalError("end tag name: " + b + " is not match the current start tagName:" + _.tagName)
                            } else
                                h.push(_);
                            y++;
                            break;
                        case "?":
                            u && o(v),
                            y = function(e, t, i) {
                                var n = e.indexOf("?>", t);
                                return n && (e = e.substring(t, n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/)) ? (e[0].length,
                                i.processingInstruction(e[1], e[2]),
                                n + 2) : -1
                            }(e, v, n);
                            break;
                        case "!":
                            u && o(v),
                            y = function(e, t, i, n) {
                                if ("-" === e.charAt(t + 2))
                                    return "-" === e.charAt(t + 3) ? t < (r = e.indexOf("--\x3e", t + 4)) ? (i.comment(e, t + 4, r - t - 4),
                                    r + 3) : (n.error("Unclosed comment"),
                                    -1) : -1;
                                if ("CDATA[" == e.substr(t + 3, 6))
                                    return r = e.indexOf("]]>", t + 9),
                                    i.startCDATA(),
                                    i.characters(e, t + 9, r - t - 9),
                                    i.endCDATA(),
                                    r + 3;
                                n = function(e, t) {
                                    var i, n = [], s = /'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;
                                    for (s.lastIndex = t,
                                    s.exec(e); i = s.exec(e); )
                                        if (n.push(i),
                                        i[1])
                                            return n
                                }(e, t);
                                var s, r = n.length;
                                return 1 < r && /!doctype/i.test(n[0][0]) ? (e = n[1][0],
                                s = t = !1,
                                3 < r && (/^public$/i.test(n[2][0]) ? (t = n[3][0],
                                s = 4 < r && n[4][0]) : /^system$/i.test(n[2][0]) && (s = n[3][0])),
                                n = n[r - 1],
                                i.startDTD(e, t, s),
                                i.endDTD(),
                                n.index + n[0].length) : -1
                            }(e, v, n, s);
                            break;
                        default:
                            u && o(v);
                            var k = new Sa
                              , x = h[h.length - 1].currentNSMap
                              , C = (y = function(e, t, i, n, s, r) {
                                function a(e, t, n) {
                                    i.attributeNames.hasOwnProperty(e) && r.fatalError("Attribute " + e + " redefined"),
                                    i.addValue(e, t.replace(/[\t\n\r]/g, " ").replace(/&#?\w+;/g, s), n)
                                }
                                for (var o, l = ++t, d = 0; ; ) {
                                    var c = e.charAt(l);
                                    switch (c) {
                                    case "=":
                                        if (1 === d)
                                            o = e.slice(t, l);
                                        else if (2 !== d)
                                            throw new Error("attribute equal must after attrName");
                                        d = 3;
                                        break;
                                    case "'":
                                    case '"':
                                        if (3 === d || 1 === d) {
                                            if (1 === d && (r.warning('attribute value must after "="'),
                                            o = e.slice(t, l)),
                                            t = l + 1,
                                            !(0 < (l = e.indexOf(c, t))))
                                                throw new Error("attribute value no end '" + c + "' match");
                                            a(o, u = e.slice(t, l), t - 1)
                                        } else {
                                            if (4 != d)
                                                throw new Error('attribute value must after "="');
                                            a(o, u = e.slice(t, l), t),
                                            r.warning('attribute "' + o + '" missed start quot(' + c + ")!!"),
                                            t = l + 1
                                        }
                                        d = 5;
                                        break;
                                    case "/":
                                        switch (d) {
                                        case 0:
                                            i.setTagName(e.slice(t, l));
                                        case 5:
                                        case 6:
                                        case 7:
                                            d = 7,
                                            i.closed = !0;
                                        case 4:
                                        case 1:
                                        case 2:
                                            break;
                                        default:
                                            throw new Error("attribute invalid close char('/')")
                                        }
                                        break;
                                    case "":
                                        return r.error("unexpected end of input"),
                                        0 == d && i.setTagName(e.slice(t, l)),
                                        l;
                                    case ">":
                                        switch (d) {
                                        case 0:
                                            i.setTagName(e.slice(t, l));
                                        case 5:
                                        case 6:
                                        case 7:
                                            break;
                                        case 4:
                                        case 1:
                                            "/" === (u = e.slice(t, l)).slice(-1) && (i.closed = !0,
                                            u = u.slice(0, -1));
                                        case 2:
                                            2 === d && (u = o),
                                            4 == d ? (r.warning('attribute "' + u + '" missed quot(")!'),
                                            a(o, u, t)) : (fa.isHTML(n[""]) && u.match(/^(?:disabled|checked|selected)$/i) || r.warning('attribute "' + u + '" missed value!! "' + u + '" instead!!'),
                                            a(u, u, t));
                                            break;
                                        case 3:
                                            throw new Error("attribute value missed!!")
                                        }
                                        return l;
                                    case "Â":
                                        c = " ";
                                    default:
                                        if (c <= " ")
                                            switch (d) {
                                            case 0:
                                                i.setTagName(e.slice(t, l)),
                                                d = 6;
                                                break;
                                            case 1:
                                                o = e.slice(t, l),
                                                d = 2;
                                                break;
                                            case 4:
                                                var u = e.slice(t, l);
                                                r.warning('attribute "' + u + '" missed quot(")!!'),
                                                a(o, u, t);
                                            case 5:
                                                d = 6
                                            }
                                        else
                                            switch (d) {
                                            case 2:
                                                i.tagName,
                                                fa.isHTML(n[""]) && o.match(/^(?:disabled|checked|selected)$/i) || r.warning('attribute "' + o + '" missed value!! "' + o + '" instead2!!'),
                                                a(o, o, t),
                                                t = l,
                                                d = 1;
                                                break;
                                            case 5:
                                                r.warning('attribute space is required"' + o + '"!!');
                                            case 6:
                                                d = 1,
                                                t = l;
                                                break;
                                            case 3:
                                                d = 4,
                                                t = l;
                                                break;
                                            case 7:
                                                throw new Error("elements closed character '/' and '>' must be connected to")
                                            }
                                    }
                                    l++
                                }
                            }(e, v, k, x, r, s),
                            k.length);
                            if (!k.closed && function(e, t, i, n) {
                                var s = n[i];
                                return null == s && ((s = e.lastIndexOf("</" + i + ">")) < t && (s = e.lastIndexOf("</" + i)),
                                n[i] = s),
                                s < t
                            }(e, y, k.tagName, p) && (k.closed = !0,
                            i.nbsp || s.warning("unclosed xml attribute")),
                            u && C) {
                                for (var E = _a(u, {}), P = 0; P < C; P++) {
                                    var A = k[P];
                                    o(A.offset),
                                    A.locator = _a(u, {})
                                }
                                n.locator = E,
                                Ta(k, n, x) && h.push(k),
                                n.locator = u
                            } else
                                Ta(k, n, x) && h.push(k);
                            fa.isHTML(k.uri) && !k.closed ? y = function(e, t, i, n, s) {
                                if (/^(?:script|textarea)$/i.test(i)) {
                                    var r = e.indexOf("</" + i + ">", t);
                                    e = e.substring(t + 1, r);
                                    if (/[&<]/.test(e))
                                        return /^script$/i.test(i) || (e = e.replace(/&#?\w+;/g, n)),
                                        s.characters(e, 0, e.length),
                                        r
                                }
                                return t + 1
                            }(e, y, k.tagName, r, n) : y++
                        }
                    } catch (t) {
                        if (t instanceof ya)
                            throw t;
                        s.error("element parse error: " + t),
                        y = -1
                    }
                    f < y ? f = y : a(Math.max(v, f) + 1)
                }
            }(e, t, i, n, this.errorHandler),
            n.endDocument()
        }
    },
    Sa.prototype = {
        setTagName: function(e) {
            if (!va.test(e))
                throw new Error("invalid tagName:" + e);
            this.tagName = e
        },
        addValue: function(e, t, i) {
            if (!va.test(e))
                throw new Error("invalid attribute:" + e);
            this.attributeNames[e] = this.length,
            this[this.length++] = {
                qName: e,
                value: t,
                offset: i
            }
        },
        length: 0,
        getLocalName: function(e) {
            return this[e].localName
        },
        getLocator: function(e) {
            return this[e].locator
        },
        getQName: function(e) {
            return this[e].qName
        },
        getURI: function(e) {
            return this[e].uri
        },
        getValue: function(e) {
            return this[e].value
        }
    };
    var ka = {
        XMLReader: ba,
        ParseError: ya
    }
      , xa = ha.DOMImplementation
      , Ca = ur.NAMESPACE
      , Ea = ka.ParseError
      , Pa = ka.XMLReader;
    function Aa(e) {
        return e.replace(/\r[\n\u0085]/g, "\n").replace(/[\r\u0085\u2028]/g, "\n")
    }
    function Ia(e) {
        this.options = e || {
            locator: {}
        }
    }
    function Oa() {
        this.cdata = !1
    }
    function La(e, t) {
        t.lineNumber = e.lineNumber,
        t.columnNumber = e.columnNumber
    }
    function Ma(e, t, i) {
        return "string" == typeof e ? e.substr(t, i) : e.length >= t + i || t ? new java.lang.String(e,t,i) + "" : e
    }
    function Da(e, t) {
        (e.currentElement || e.doc).appendChild(t)
    }
    Ia.prototype.parseFromString = function(e, t) {
        var i = this.options
          , n = new Pa
          , s = i.domBuilder || new Oa
          , r = i.errorHandler
          , a = i.locator
          , o = i.xmlns || {}
          , l = (t = /\/x?html?$/.test(t)) ? pa.HTML_ENTITIES : pa.XML_ENTITIES;
        a && s.setDocumentLocator(a),
        n.errorHandler = function(e, t, i) {
            if (!e) {
                if (t instanceof Oa)
                    return t;
                e = t
            }
            var n = {}
              , s = e instanceof Function;
            function r(t) {
                var r = e[t];
                !r && s && (r = 2 == e.length ? function(i) {
                    e(t, i)
                }
                : e),
                n[t] = r ? function(e) {
                    r("[xmldom " + t + "]\t" + e + function(e) {
                        if (e)
                            return "\n@" + (e.systemId || "") + "#[line:" + e.lineNumber + ",col:" + e.columnNumber + "]"
                    }(i))
                }
                : function() {}
            }
            return i = i || {},
            r("warning"),
            r("error"),
            r("fatalError"),
            n
        }(r, s, a),
        n.domBuilder = i.domBuilder || s,
        t && (o[""] = Ca.HTML),
        o.xml = o.xml || Ca.XML,
        r = i.normalizeLineEndings || Aa;
        return e && "string" == typeof e ? n.parse(r(e), o, l) : n.errorHandler.error("invalid doc source"),
        s.doc
    }
    ,
    Oa.prototype = {
        startDocument: function() {
            this.doc = (new xa).createDocument(null, null, null),
            this.locator && (this.doc.documentURI = this.locator.systemId)
        },
        startElement: function(e, t, i, n) {
            var s = this.doc
              , r = s.createElementNS(e, i || t)
              , a = n.length;
            Da(this, r),
            this.currentElement = r,
            this.locator && La(this.locator, r);
            for (var o = 0; o < a; o++) {
                e = n.getURI(o);
                var l = n.getValue(o)
                  , d = (i = n.getQName(o),
                s.createAttributeNS(e, i));
                this.locator && La(n.getLocator(o), d),
                d.value = d.nodeValue = l,
                r.setAttributeNode(d)
            }
        },
        endElement: function(e, t, i) {
            var n = this.currentElement;
            n.tagName,
            this.currentElement = n.parentNode
        },
        startPrefixMapping: function(e, t) {},
        endPrefixMapping: function(e) {},
        processingInstruction: function(e, t) {
            e = this.doc.createProcessingInstruction(e, t),
            this.locator && La(this.locator, e),
            Da(this, e)
        },
        ignorableWhitespace: function(e, t, i) {},
        characters: function(e, t, i) {
            var n;
            (e = Ma.apply(this, arguments)) && (n = this.cdata ? this.doc.createCDATASection(e) : this.doc.createTextNode(e),
            this.currentElement ? this.currentElement.appendChild(n) : /^\s*$/.test(e) && this.doc.appendChild(n),
            this.locator) && La(this.locator, n)
        },
        skippedEntity: function(e) {},
        endDocument: function() {
            this.doc.normalize()
        },
        setDocumentLocator: function(e) {
            (this.locator = e) && (e.lineNumber = 0)
        },
        comment: function(e, t, i) {
            e = Ma.apply(this, arguments),
            e = this.doc.createComment(e),
            this.locator && La(this.locator, e),
            Da(this, e)
        },
        startCDATA: function() {
            this.cdata = !0
        },
        endCDATA: function() {
            this.cdata = !1
        },
        startDTD: function(e, t, i) {
            var n = this.doc.implementation;
            n && n.createDocumentType && (n = n.createDocumentType(e, t, i),
            this.locator && La(this.locator, n),
            Da(this, n),
            this.doc.doctype = n)
        },
        warning: function(e) {},
        error: function(e) {},
        fatalError: function(e) {
            throw new Ea(e,this.locator)
        }
    },
    "endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g, (function(e) {
        Oa.prototype[e] = function() {
            return null
        }
    }
    ));
    var Ra = {
        __DOMHandler: Oa,
        normalizeLineEndings: Aa,
        DOMParser: Ia
    }.DOMParser;
    const Na = e => !!e && "object" == typeof e
      , Ba = (...e) => e.reduce(( (e, t) => ("object" == typeof t && Object.keys(t).forEach((i => {
        Array.isArray(e[i]) && Array.isArray(t[i]) ? e[i] = e[i].concat(t[i]) : Na(e[i]) && Na(t[i]) ? e[i] = Ba(e[i], t[i]) : e[i] = t[i]
    }
    )),
    e)), {})
      , ja = e => Object.keys(e).map((t => e[t]))
      , Fa = e => e.reduce(( (e, t) => e.concat(t)), [])
      , Ua = e => {
        if (!e.length)
            return [];
        var t = [];
        for (let i = 0; i < e.length; i++)
            t.push(e[i]);
        return t
    }
    ;
    var $a = "INVALID_NUMBER_OF_PERIOD"
      , Ha = "DASH_EMPTY_MANIFEST"
      , za = "DASH_INVALID_XML"
      , qa = "NO_BASE_URL"
      , Wa = "SEGMENT_TIME_UNSPECIFIED"
      , Va = "UNSUPPORTED_UTC_TIMING_SCHEME";
    const Ga = ({baseUrl: e="", source: t="", range: i="", indexRange: n=""}) => {
        if (e = {
            uri: t,
            resolvedUri: Ws(e || "", t)
        },
        i || n) {
            t = (i || n).split("-");
            let s, r = window.BigInt ? window.BigInt(t[0]) : parseInt(t[0], 10), a = window.BigInt ? window.BigInt(t[1]) : parseInt(t[1], 10);
            r < Number.MAX_SAFE_INTEGER && "bigint" == typeof r && (r = Number(r)),
            a < Number.MAX_SAFE_INTEGER && "bigint" == typeof a && (a = Number(a)),
            "bigint" == typeof (s = "bigint" == typeof a || "bigint" == typeof r ? window.BigInt(a) - window.BigInt(r) + window.BigInt(1) : a - r + 1) && s < Number.MAX_SAFE_INTEGER && (s = Number(s)),
            e.byterange = {
                length: s,
                offset: r
            }
        }
        return e
    }
      , Xa = e => (e && "number" != typeof e && (e = parseInt(e, 10)),
    isNaN(e) ? null : e)
      , Ya = {
        static(e) {
            var {duration: t, timescale: i=1, sourceDuration: n, periodDuration: s} = e
              , t = t / i;
            return "number" == typeof (e = Xa(e.endNumber)) ? {
                start: 0,
                end: e
            } : "number" == typeof s ? {
                start: 0,
                end: s / t
            } : {
                start: 0,
                end: n / t
            }
        },
        dynamic(e) {
            var {NOW: t, clientOffset: i, availabilityStartTime: n, timescale: s=1, duration: r, periodStart: a=0, minimumUpdatePeriod: o=0, timeShiftBufferDepth: l=1 / 0} = e
              , t = (e = Xa(e.endNumber),
            (t + i) / 1e3)
              , i = n + a
              , n = Math.ceil((t + o - i) * s / r)
              , a = Math.floor((t - i - l) * s / r)
              , o = Math.floor((t - i) * s / r);
            return {
                start: Math.max(0, a),
                end: "number" == typeof e ? e : Math.min(n, o)
            }
        }
    }
      , Ka = e => {
        var t, {type: i, duration: n, timescale: s=1, periodDuration: r, sourceDuration: a} = e, {start: o, end: l} = Ya[i](e), o = ( (e, t) => {
            var i = [];
            for (let n = e; n < t; n++)
                i.push(n);
            return i
        }
        )(o, l).map((t = e,
        e => {
            var {duration: i, timescale: n=1, periodStart: s, startNumber: r=1} = t;
            return {
                number: r + e,
                duration: i / n,
                timeline: s,
                time: e * i
            }
        }
        ));
        return "static" === i && (o[l = o.length - 1].duration = ("number" == typeof r ? r : a) - n / s * l),
        o
    }
      , Qa = e => {
        var {baseUrl: t, initialization: i={}, sourceDuration: n, indexRange: s="", periodStart: r, presentationTime: a, number: o=0, duration: l} = e;
        if (t)
            return i = Ga({
                baseUrl: t,
                source: i.sourceURL,
                range: i.range
            }),
            (t = Ga({
                baseUrl: t,
                source: t,
                indexRange: s
            })).map = i,
            l ? (s = Ka(e)).length && (t.duration = s[0].duration,
            t.timeline = s[0].timeline) : n && (t.duration = n,
            t.timeline = r),
            t.presentationTime = a || r,
            t.number = o,
            [t];
        throw new Error(qa)
    }
      , Za = (e, t, i) => {
        var n = e.sidx.map || null
          , s = e.sidx.duration
          , r = e.timeline || 0
          , a = (a = e.sidx.byterange).offset + a.length
          , o = t.timescale
          , l = t.references.filter((e => 1 !== e.referenceType))
          , d = []
          , c = e.endList ? "static" : "dynamic"
          , u = e.sidx.timeline;
        let h, p = u, f = e.mediaSequence || 0;
        h = "bigint" == typeof t.firstOffset ? window.BigInt(a) + t.firstOffset : a + t.firstOffset;
        for (let e = 0; e < l.length; e++) {
            var m = (g = t.references[e]).referencedSize
              , g = g.subsegmentDuration;
            let a;
            a = "bigint" == typeof h ? h + window.BigInt(m) - window.BigInt(1) : h + m - 1;
            var v = Qa(v = {
                baseUrl: i,
                timescale: o,
                timeline: r,
                periodStart: u,
                presentationTime: p,
                number: f,
                duration: g,
                sourceDuration: s,
                indexRange: v = h + "-" + a,
                type: c
            })[0];
            n && (v.map = n),
            d.push(v),
            h += "bigint" == typeof h ? window.BigInt(m) : m,
            p += g / o,
            f++
        }
        return e.segments = d,
        e
    }
      , Ja = ["AUDIO", "SUBTITLES"]
      , eo = e => {
        return t = ({timeline: e}) => e,
        ja(e.reduce(( (e, i) => (i.forEach((i => {
            e[t(i)] = i
        }
        )),
        e)), {})).sort(( (e, t) => e.timeline > t.timeline ? 1 : -1));
        var t
    }
      , to = e => {
        let t = [];
        var i, n;
        return i = e,
        n = (e, i, n, s) => {
            t = t.concat(e.playlists || [])
        }
        ,
        (e = Ja).forEach((function(e) {
            for (var t in i.mediaGroups[e])
                for (var s in i.mediaGroups[e][t]) {
                    var r = i.mediaGroups[e][t][s];
                    n(r)
                }
        }
        )),
        t
    }
      , io = ({playlist: e, mediaSequence: t}) => {
        e.mediaSequence = t,
        e.segments.forEach(( (t, i) => {
            t.number = e.mediaSequence + i
        }
        ))
    }
      , no = e => e && e.uri + "-" + (e => {
        let t;
        return t = "bigint" == typeof e.offset || "bigint" == typeof e.length ? window.BigInt(e.offset) + window.BigInt(e.length) - window.BigInt(1) : e.offset + e.length - 1,
        e.offset + "-" + t
    }
    )(e.byterange)
      , so = e => ja(e.reduce(( (e, t) => {
        var i = t.attributes.id + (t.attributes.lang || "");
        return e[i] ? (t.segments && (t.segments[0] && (t.segments[0].discontinuity = !0),
        e[i].segments.push(...t.segments)),
        t.attributes.contentProtection && (e[i].attributes.contentProtection = t.attributes.contentProtection)) : (e[i] = t,
        e[i].attributes.timelineStarts = []),
        e[i].attributes.timelineStarts.push({
            start: t.attributes.periodStart,
            timeline: t.attributes.periodStart
        }),
        e
    }
    ), {})).map((e => {
        var t;
        return e.discontinuityStarts = (t = e.segments || [],
        "discontinuity",
        t.reduce(( (e, t, i) => (t.discontinuity && e.push(i),
        e)), [])),
        e
    }
    ))
      , ro = (e, t) => {
        var i = no(e.sidx);
        return (t = i && t[i] && t[i].sidx) && Za(e, t, e.sidx.resolvedUri),
        e
    }
      , ao = ({attributes: e, segments: t, sidx: i, discontinuityStarts: n}) => (n = {
        attributes: {
            NAME: e.id,
            AUDIO: "audio",
            SUBTITLES: "subs",
            RESOLUTION: {
                width: e.width,
                height: e.height
            },
            CODECS: e.codecs,
            BANDWIDTH: e.bandwidth,
            "PROGRAM-ID": 1
        },
        uri: "",
        endList: "static" === e.type,
        timeline: e.periodStart,
        resolvedUri: "",
        targetDuration: e.duration,
        discontinuityStarts: n,
        timelineStarts: e.timelineStarts,
        segments: t
    },
    e.frameRate && (n.attributes["FRAME-RATE"] = e.frameRate),
    e.contentProtection && (n.contentProtection = e.contentProtection),
    i && (n.sidx = i),
    n)
      , oo = ({attributes: e}) => "video/mp4" === e.mimeType || "video/webm" === e.mimeType || "video" === e.contentType
      , lo = ({attributes: e}) => "audio/mp4" === e.mimeType || "audio/webm" === e.mimeType || "audio" === e.contentType
      , co = ({attributes: e}) => "text/vtt" === e.mimeType || "text" === e.contentType
      , uo = e => e ? Object.keys(e).reduce(( (t, i) => (i = e[i],
    t.concat(i.playlists))), []) : []
      , ho = ({dashPlaylists: e, locations: t, sidxMapping: i={}, previousManifest: n}) => {
        var s, r, a, o, l, d, c, u;
        return e.length ? (({sourceDuration: a, type: l, suggestedPresentationDelay: d, minimumUpdatePeriod: o} = e[0].attributes),
        s = so(e.filter(oo)).map(ao),
        c = so(e.filter(lo)),
        r = so(e.filter(co)),
        e = e.map((e => e.attributes.captionServices)).filter(Boolean),
        a = {
            allowCache: !0,
            discontinuityStarts: [],
            segments: [],
            endList: !0,
            mediaGroups: {
                AUDIO: {},
                VIDEO: {},
                "CLOSED-CAPTIONS": {},
                SUBTITLES: {}
            },
            uri: "",
            duration: a,
            playlists: ( (e, t={}) => {
                if (Object.keys(t).length)
                    for (const i in e)
                        e[i] = ro(e[i], t);
                return e
            }
            )(s, i)
        },
        0 <= o && (a.minimumUpdatePeriod = 1e3 * o),
        t && (a.locations = t),
        "dynamic" === l && (a.suggestedPresentationDelay = d),
        o = 0 === a.playlists.length,
        t = c.length ? ( (e, t={}, i) => {
            let n;
            return e = e.reduce(( (e, s) => {
                var r = s.attributes.role && s.attributes.role.value || ""
                  , a = s.attributes.lang || "";
                let o = s.attributes.label || "main";
                return e[o = a && !s.attributes.label ? s.attributes.lang + (r ? ` (${r})` : "") : o] || (e[o] = {
                    language: a,
                    autoselect: !0,
                    default: "main" === r,
                    playlists: [],
                    uri: ""
                }),
                a = ro(( ({attributes: e, segments: t, sidx: i, mediaSequence: n, discontinuitySequence: s, discontinuityStarts: r}, a) => (s = {
                    attributes: {
                        NAME: e.id,
                        BANDWIDTH: e.bandwidth,
                        CODECS: e.codecs,
                        "PROGRAM-ID": 1
                    },
                    uri: "",
                    endList: "static" === e.type,
                    timeline: e.periodStart,
                    resolvedUri: "",
                    targetDuration: e.duration,
                    discontinuitySequence: s,
                    discontinuityStarts: r,
                    timelineStarts: e.timelineStarts,
                    mediaSequence: n,
                    segments: t
                },
                e.contentProtection && (s.contentProtection = e.contentProtection),
                i && (s.sidx = i),
                a && (s.attributes.AUDIO = "audio",
                s.attributes.SUBTITLES = "subs"),
                s))(s, i), t),
                e[o].playlists.push(a),
                void 0 === n && "main" === r && ((n = s).default = !0),
                e
            }
            ), {}),
            n || (e[Object.keys(e)[0]].default = !0),
            e
        }
        )(c, i, o) : null,
        l = r.length ? ( (e, t={}) => e.reduce(( (e, i) => {
            var n, s, r, a, o = i.attributes.lang || "text";
            return e[o] || (e[o] = {
                language: o,
                default: !1,
                autoselect: !1,
                playlists: [],
                uri: ""
            }),
            e[o].playlists.push(ro((({attributes: o, segments: i, mediaSequence: n, discontinuityStarts: s, discontinuitySequence: r} = [i][0]),
            void 0 === i && (i = [{
                uri: o.baseUrl,
                timeline: o.periodStart,
                resolvedUri: o.baseUrl || "",
                duration: o.sourceDuration,
                number: 0
            }],
            o.duration = o.sourceDuration),
            a = {
                NAME: o.id,
                BANDWIDTH: o.bandwidth,
                "PROGRAM-ID": 1
            },
            o.codecs && (a.CODECS = o.codecs),
            {
                attributes: a,
                uri: "",
                endList: "static" === o.type,
                timeline: o.periodStart,
                resolvedUri: o.baseUrl || "",
                targetDuration: o.duration,
                timelineStarts: o.timelineStarts,
                discontinuityStarts: s,
                discontinuitySequence: r,
                mediaSequence: n,
                segments: i
            }), t)),
            e
        }
        ), {}))(r, i) : null,
        c = (d = s.concat(uo(t), uo(l))).map(( ({timelineStarts: e}) => e)),
        a.timelineStarts = eo(c),
        u = a.timelineStarts,
        d.forEach((e => {
            e.mediaSequence = 0,
            e.discontinuitySequence = u.findIndex((function({timeline: t}) {
                return t === e.timeline
            }
            )),
            e.segments && e.segments.forEach(( (e, t) => {
                e.number = t
            }
            ))
        }
        )),
        t && (a.mediaGroups.AUDIO.audio = t),
        l && (a.mediaGroups.SUBTITLES.subs = l),
        e.length && (a.mediaGroups["CLOSED-CAPTIONS"].cc = e.reduce(( (e, t) => (t && t.forEach((t => {
            var {channel: i, language: n} = t;
            e[n] = {
                autoselect: !1,
                default: !1,
                instreamId: i,
                language: n
            },
            t.hasOwnProperty("aspectRatio") && (e[n].aspectRatio = t.aspectRatio),
            t.hasOwnProperty("easyReader") && (e[n].easyReader = t.easyReader),
            t.hasOwnProperty("3D") && (e[n]["3D"] = t["3D"])
        }
        )),
        e)), {})),
        n ? ( ({oldManifest: e, newManifest: t}) => {
            var i, n, s = e.playlists.concat(to(e)), r = t.playlists.concat(to(t));
            return t.timelineStarts = eo([e.timelineStarts, t.timelineStarts]),
            ({oldPlaylists: i, newPlaylists: e, timelineStarts: n} = {
                oldPlaylists: s,
                newPlaylists: r,
                timelineStarts: t.timelineStarts
            }),
            e.forEach((e => {
                e.discontinuitySequence = n.findIndex((function({timeline: t}) {
                    return t === e.timeline
                }
                ));
                var t = ( (e, t) => {
                    for (let i = 0; i < e.length; i++)
                        if (e[i].attributes.NAME === t)
                            return e[i];
                    return null
                }
                )(i, e.attributes.NAME);
                if (t && !e.sidx) {
                    const i = e.segments[0];
                    var s = t.segments.findIndex((function(e) {
                        return Math.abs(e.presentationTime - i.presentationTime) < 1 / 60
                    }
                    ));
                    -1 === s ? (io({
                        playlist: e,
                        mediaSequence: t.mediaSequence + t.segments.length
                    }),
                    e.segments[0].discontinuity = !0,
                    e.discontinuityStarts.unshift(0),
                    (!t.segments.length && e.timeline > t.timeline || t.segments.length && e.timeline > t.segments[t.segments.length - 1].timeline) && e.discontinuitySequence--) : (t.segments[s].discontinuity && !i.discontinuity && (i.discontinuity = !0,
                    e.discontinuityStarts.unshift(0),
                    e.discontinuitySequence--),
                    io({
                        playlist: e,
                        mediaSequence: t.segments[s].number
                    }))
                }
            }
            )),
            t
        }
        )({
            oldManifest: n,
            newManifest: a
        }) : a) : {}
    }
      , po = (e, t) => {
        var {type: i, minimumUpdatePeriod: n=0, media: s="", sourceDuration: r, timescale: a=1, startNumber: o=1, periodStart: l} = e
          , d = [];
        let c = -1;
        for (let m = 0; m < t.length; m++) {
            var u = (p = t[m]).d
              , h = p.r || 0
              , p = p.t || 0;
            let g;
            c < 0 && (c = p),
            p && p > c && (c = p),
            g = h < 0 ? (p = m + 1) === t.length ? "dynamic" === i && 0 < n && 0 < s.indexOf("$Number$") ? ( (e, t, i) => {
                var {NOW: e, clientOffset: n, availabilityStartTime: s, timescale: r=1, periodStart: a=0, minimumUpdatePeriod: o=0} = e;
                return Math.ceil((((e + n) / 1e3 + o - (s + a)) * r - t) / i)
            }
            )(e, c, u) : (r * a - c) / u : (t[p].t - c) / u : h + 1;
            var f = o + d.length + g;
            let v = o + d.length;
            for (; v < f; )
                d.push({
                    number: v,
                    duration: u / a,
                    time: c,
                    timeline: l
                }),
                c += u,
                v++
        }
        return d
    }
      , fo = /\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g
      , mo = (e, t) => {
        return e.replace(fo, (i = t,
        (e, t, n, s) => "$$" === e ? "$" : void 0 === i[t] ? e : (e = "" + i[t],
        "RepresentationID" === t || (s = n ? parseInt(s, 10) : 1) <= e.length ? e : new Array(s - e.length + 1).join("0") + e)));
        var i
    }
      , go = (e, t) => {
        const i = {
            RepresentationID: e.id,
            Bandwidth: e.bandwidth || 0
        };
        var {initialization: n={
            sourceURL: "",
            range: ""
        }} = e;
        const s = Ga({
            baseUrl: e.baseUrl,
            source: mo(n.sourceURL, i),
            range: n.range
        });
        return n = t,
        ((t = e).duration || n ? t.duration ? Ka(t) : po(t, n) : [{
            number: t.startNumber || 1,
            duration: t.sourceDuration,
            time: 0,
            timeline: t.periodStart
        }]).map((t => {
            i.Number = t.number,
            i.Time = t.time;
            var n = mo(e.media || "", i)
              , r = e.timescale || 1
              , a = e.presentationTimeOffset || 0;
            a = e.periodStart + (t.time - a) / r;
            return {
                uri: n,
                timeline: t.timeline,
                duration: t.duration,
                resolvedUri: Ws(e.baseUrl || "", n),
                map: s,
                number: t.number,
                presentationTime: a
            }
        }
        ))
    }
      , vo = (e, t) => {
        const {duration: i, segmentUrls: n=[], periodStart: s} = e;
        if (!i && !t || i && t)
            throw new Error(Wa);
        const r = n.map((t => {
            var {baseUrl: i, initialization: n={}} = i = e
              , n = Ga({
                baseUrl: i,
                source: n.sourceURL,
                range: n.range
            });
            return (i = Ga({
                baseUrl: i,
                source: t.media,
                range: t.mediaRange
            })).map = n,
            i
        }
        ));
        let a;
        return i && (a = Ka(e)),
        (a = t ? po(e, t) : a).map(( (t, i) => {
            var n, a;
            if (r[i])
                return i = r[i],
                n = e.timescale || 1,
                a = e.presentationTimeOffset || 0,
                i.timeline = t.timeline,
                i.duration = t.duration,
                i.number = t.number,
                i.presentationTime = s + (t.time - a) / n,
                i
        }
        )).filter((e => e))
    }
      , yo = ({attributes: e, segmentInfo: t}) => {
        let i, n;
        t.template ? (n = go,
        i = Ba(e, t.template)) : t.base ? (n = Qa,
        i = Ba(e, t.base)) : t.list && (n = vo,
        i = Ba(e, t.list));
        var s, r, a;
        e = {
            attributes: e
        };
        return n && (s = n(i, t.segmentTimeline),
        i.duration ? (({duration: r, timescale: a=1} = i),
        i.duration = r / a) : s.length ? i.duration = s.reduce(( (e, t) => Math.max(e, Math.ceil(t.duration))), 0) : i.duration = 0,
        e.attributes = i,
        e.segments = s,
        t.base) && i.indexRange && (e.sidx = s[0],
        e.segments = []),
        e
    }
      , bo = (e, t) => Ua(e.childNodes).filter(( ({tagName: e}) => e === t))
      , _o = e => e.textContent.trim()
      , To = e => {
        var t, i, n, s, r;
        return (e = /P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e)) ? ([e,t,i,n,s,r] = e.slice(1),
        31536e3 * parseFloat(e || 0) + 2592e3 * parseFloat(t || 0) + 86400 * parseFloat(i || 0) + 3600 * parseFloat(n || 0) + 60 * parseFloat(s || 0) + parseFloat(r || 0)) : 0
    }
      , wo = {
        mediaPresentationDuration: e => To(e),
        availabilityStartTime: e => (/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e) && (e += "Z"),
        Date.parse(e) / 1e3),
        minimumUpdatePeriod: e => To(e),
        suggestedPresentationDelay: e => To(e),
        type: e => e,
        timeShiftBufferDepth: e => To(e),
        start: e => To(e),
        width: e => parseInt(e, 10),
        height: e => parseInt(e, 10),
        bandwidth: e => parseInt(e, 10),
        frameRate: e => parseFloat(e.split("/").reduce(( (e, t) => e / t))),
        startNumber: e => parseInt(e, 10),
        timescale: e => parseInt(e, 10),
        presentationTimeOffset: e => parseInt(e, 10),
        duration(e) {
            var t = parseInt(e, 10);
            return isNaN(t) ? To(e) : t
        },
        d: e => parseInt(e, 10),
        t: e => parseInt(e, 10),
        r: e => parseInt(e, 10),
        DEFAULT: e => e
    }
      , So = e => e && e.attributes ? Ua(e.attributes).reduce(( (e, t) => {
        var i = wo[t.name] || wo.DEFAULT;
        return e[t.name] = i(t.value),
        e
    }
    ), {}) : {}
      , ko = {
        "urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b": "org.w3.clearkey",
        "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed": "com.widevine.alpha",
        "urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95": "com.microsoft.playready",
        "urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb": "com.adobe.primetime"
    }
      , xo = (e, t) => t.length ? Fa(e.map((function(e) {
        return t.map((function(t) {
            return Ws(e, _o(t))
        }
        ))
    }
    ))) : e
      , Co = e => {
        var t = bo(e, "SegmentTemplate")[0]
          , i = bo(e, "SegmentList")[0]
          , n = i && bo(i, "SegmentURL").map((e => Ba({
            tag: "SegmentURL"
        }, So(e))))
          , s = (e = bo(e, "SegmentBase")[0],
        (s = i || t) && bo(s, "SegmentTimeline")[0])
          , r = (r = i || e || t) && bo(r, "Initialization")[0];
        (t = t && So(t)) && r ? t.initialization = r && So(r) : t && t.initialization && (t.initialization = {
            sourceURL: t.initialization
        });
        const a = {
            template: t,
            segmentTimeline: s && bo(s, "S").map((e => So(e))),
            list: i && Ba(So(i), {
                segmentUrls: n,
                initialization: So(r)
            }),
            base: e && Ba(So(e), {
                initialization: So(r)
            })
        };
        return Object.keys(a).forEach((e => {
            a[e] || delete a[e]
        }
        )),
        a
    }
      , Eo = (e, t, i) => n => {
        var s = So(n)
          , r = xo(t, bo(n, "BaseURL"))
          , a = bo(n, "Role")[0];
        a = {
            role: So(a)
        };
        let o = Ba(e, s, a);
        var l, d, c;
        s = bo(n, "Accessibility")[0],
        s = "urn:scte:dash:cc:cea-608:2015" === (a = So(s)).schemeIdUri ? ("string" != typeof a.value ? [] : a.value.split(";")).map((e => {
            let t, i;
            return i = e,
            /^CC\d=/.test(e) ? [t,i] = e.split("=") : /^CC\d$/.test(e) && (t = e),
            {
                channel: t,
                language: i
            }
        }
        )) : "urn:scte:dash:cc:cea-708:2015" === a.schemeIdUri ? ("string" != typeof a.value ? [] : a.value.split(";")).map((e => {
            const t = {
                channel: void 0,
                language: void 0,
                aspectRatio: 1,
                easyReader: 0,
                "3D": 0
            };
            var i, n;
            return /=/.test(e) ? ([i,n=""] = e.split("="),
            t.channel = i,
            t.language = e,
            n.split(",").forEach((e => {
                var [e,i] = e.split(":");
                "lang" === e ? t.language = i : "er" === e ? t.easyReader = Number(i) : "war" === e ? t.aspectRatio = Number(i) : "3D" === e && (t["3D"] = Number(i))
            }
            ))) : t.language = e,
            t.channel && (t.channel = "SERVICE" + t.channel),
            t
        }
        )) : void 0,
        (a = (s && (o = Ba(o, {
            captionServices: s
        })),
        bo(n, "Label")[0])) && a.childNodes.length && (s = a.childNodes[0].nodeValue.trim(),
        o = Ba(o, {
            label: s
        })),
        a = bo(n, "ContentProtection").reduce(( (e, t) => {
            var i = So(t)
              , n = (i.schemeIdUri && (i.schemeIdUri = i.schemeIdUri.toLowerCase()),
            ko[i.schemeIdUri]);
            return n && (e[n] = {
                attributes: i
            },
            i = bo(t, "cenc:pssh")[0]) && (t = _o(i),
            e[n].pssh = t && function(e) {
                for (var t = window.atob ? window.atob(e) : Buffer.from(e, "base64").toString("binary"), i = new Uint8Array(t.length), n = 0; n < t.length; n++)
                    i[n] = t.charCodeAt(n);
                return i
            }(t)),
            e
        }
        ), {}),
        Object.keys(a).length && (o = Ba(o, {
            contentProtection: a
        })),
        s = Co(n),
        a = bo(n, "Representation"),
        n = Ba(i, s);
        return Fa(a.map((l = o,
        d = r,
        c = n,
        e => {
            var t = bo(e, "BaseURL");
            t = xo(d, t);
            const i = Ba(l, So(e))
              , n = Co(e);
            return t.map((e => ({
                segmentInfo: Ba(c, n),
                attributes: Ba(i, {
                    baseUrl: e
                })
            })))
        }
        )))
    }
      , Po = e => {
        if ("" === e)
            throw new Error(Ha);
        var t, i = new Ra;
        let n;
        try {
            n = (t = i.parseFromString(e, "application/xml")) && "MPD" === t.documentElement.tagName ? t.documentElement : null
        } catch (e) {}
        if (!n || n && 0 < n.getElementsByTagName("parsererror").length)
            throw new Error(za);
        return n
    }
    ;
    function Ao(e, t) {
        var i, n, s;
        return void 0 === t && (t = 0),
        (e = ir(e)).length - t < 10 || !ar(e, jo, {
            offset: t
        }) ? t : Ao(e, t += (void 0 === (n = t) && (n = 0),
        s = (i = ir(i = e))[n + 5],
        i = i[n + 6] << 21 | i[n + 7] << 14 | i[n + 8] << 7 | i[n + 9],
        (16 & s) >> 4 ? 20 + i : 10 + i))
    }
    function Io(e) {
        return "string" == typeof e ? qs(e) : e
    }
    function Oo(e, t, i) {
        void 0 === i && (i = !1),
        n = t,
        t = Array.isArray(n) ? n.map(Io) : [Io(n)],
        e = ir(e);
        var n, s = [];
        if (t.length)
            for (var r = 0; r < e.length; ) {
                var a = (e[r] << 24 | e[r + 1] << 16 | e[r + 2] << 8 | e[r + 3]) >>> 0
                  , o = e.subarray(r + 4, r + 8);
                if (0 == a)
                    break;
                if ((a = r + a) > e.length) {
                    if (i)
                        break;
                    a = e.length
                }
                var l = e.subarray(r + 8, a);
                ar(o, t[0]) && (1 === t.length ? s.push(l) : s.push.apply(s, Oo(l, t.slice(1), i))),
                r = a
            }
        return s
    }
    function Lo(e, t, i) {
        var n;
        return i >= t.length ? t.length : (n = $o(t, i, !1),
        ar(e.bytes, n.bytes) ? i : Lo(e, t, i + (e = $o(t, i + n.length)).length + e.value + n.length))
    }
    function Mo(e, t) {
        i = t,
        t = Array.isArray(i) ? i.map((function(e) {
            return Ho(e)
        }
        )) : [Ho(i)],
        e = ir(e);
        var i, n = [];
        if (t.length)
            for (var s = 0; s < e.length; ) {
                var r = $o(e, s, !1)
                  , a = $o(e, s + r.length)
                  , o = s + r.length + a.length
                  , l = (127 === a.value && (a.value = Lo(r, e, o),
                a.value !== e.length) && (a.value -= o),
                o + a.value > e.length ? e.length : o + a.value);
                o = e.subarray(o, l);
                ar(t[0], r.bytes) && (1 === t.length ? n.push(o) : n = n.concat(Mo(o, t.slice(1)))),
                s += r.length + a.length + o.length
            }
        return n
    }
    function Do(e, t, i, n) {
        void 0 === n && (n = 1 / 0),
        e = ir(e),
        i = [].concat(i);
        for (var s, r = 0, a = 0; r < e.length && (a < n || s); ) {
            var o = void 0;
            if (ar(e.subarray(r), zo) ? o = 4 : ar(e.subarray(r), qo) && (o = 3),
            o) {
                if (a++,
                s)
                    return Vo(e.subarray(s, r));
                var l = void 0;
                "h264" === t ? l = 31 & e[r + o] : "h265" === t && (l = e[r + o] >> 1 & 63),
                -1 !== i.indexOf(l) && (s = r + o),
                r += o + ("h264" === t ? 1 : 2)
            } else
                r++
        }
        return e.subarray(0, 0)
    }
    function Ro(e) {
        e = ir(e);
        for (var t = 0; t < Yo.length; t++) {
            var i = Yo[t];
            if (Ko[i](e))
                return i
        }
        return ""
    }
    var No = Math.pow(2, 32)
      , Bo = function(e) {
        var t;
        return (e = new DataView(e.buffer,e.byteOffset,e.byteLength)).getBigUint64 ? (t = e.getBigUint64(0)) < Number.MAX_SAFE_INTEGER ? Number(t) : t : e.getUint32(0) * No + e.getUint32(4)
    }
      , jo = ir([73, 68, 51])
      , Fo = {
        EBML: ir([26, 69, 223, 163]),
        DocType: ir([66, 130]),
        Segment: ir([24, 83, 128, 103]),
        SegmentInfo: ir([21, 73, 169, 102]),
        Tracks: ir([22, 84, 174, 107]),
        Track: ir([174]),
        TrackNumber: ir([215]),
        DefaultDuration: ir([35, 227, 131]),
        TrackEntry: ir([174]),
        TrackType: ir([131]),
        FlagDefault: ir([136]),
        CodecID: ir([134]),
        CodecPrivate: ir([99, 162]),
        VideoTrack: ir([224]),
        AudioTrack: ir([225]),
        Cluster: ir([31, 67, 182, 117]),
        Timestamp: ir([231]),
        TimestampScale: ir([42, 215, 177]),
        BlockGroup: ir([160]),
        BlockDuration: ir([155]),
        Block: ir([161]),
        SimpleBlock: ir([163])
    }
      , Uo = [128, 64, 32, 16, 8, 4, 2, 1]
      , $o = function(e, t, i, n) {
        void 0 === i && (i = !0),
        void 0 === n && (n = !1);
        var s = function(e) {
            for (var t = 1, i = 0; i < Uo.length && !(e & Uo[i]); i++)
                t++;
            return t
        }(e[t])
          , r = e.subarray(t, t + s);
        return i && ((r = Array.prototype.slice.call(e, t, t + s))[0] ^= Uo[s - 1]),
        {
            length: s,
            value: rr(r, {
                signed: n
            }),
            bytes: r
        }
    }
      , Ho = function e(t) {
        return "string" == typeof t ? t.match(/.{1,2}/g).map(e) : "number" == typeof t ? function(e, t) {
            for (var i = void 0 !== (t = (void 0 === t ? {} : t).le) && t, n = (t = e = nr(e = "bigint" != typeof e && "number" != typeof e || "number" == typeof e && e != e ? 0 : e),
            Math.ceil(t.toString(2).length / 8)), s = new Uint8Array(new ArrayBuffer(n)), r = 0; r < n; r++) {
                var a = i ? r : Math.abs(r + 1 - s.length);
                s[a] = Number(e / sr[r] & nr(255)),
                e < 0 && (s[a] = Math.abs(~s[a]),
                s[a] -= 0 === r ? 1 : 2)
            }
            return s
        }(t) : t
    }
      , zo = ir([0, 0, 0, 1])
      , qo = ir([0, 0, 1])
      , Wo = ir([0, 0, 3])
      , Vo = function(e) {
        for (var t = [], i = 1; i < e.length - 2; )
            ar(e.subarray(i, i + 3), Wo) && (t.push(i + 2),
            i++),
            i++;
        if (0 === t.length)
            return e;
        var n = e.length - t.length
          , s = new Uint8Array(n)
          , r = 0;
        for (i = 0; i < n; r++,
        i++)
            r === t[0] && (r++,
            t.shift()),
            s[i] = e[r];
        return s
    }
      , Go = {
        webm: ir([119, 101, 98, 109]),
        matroska: ir([109, 97, 116, 114, 111, 115, 107, 97]),
        flac: ir([102, 76, 97, 67]),
        ogg: ir([79, 103, 103, 83]),
        ac3: ir([11, 119]),
        riff: ir([82, 73, 70, 70]),
        avi: ir([65, 86, 73]),
        wav: ir([87, 65, 86, 69]),
        "3gp": ir([102, 116, 121, 112, 51, 103]),
        mp4: ir([102, 116, 121, 112]),
        fmp4: ir([115, 116, 121, 112]),
        mov: ir([102, 116, 121, 112, 113, 116]),
        moov: ir([109, 111, 111, 118]),
        moof: ir([109, 111, 111, 102])
    }
      , Xo = {
        aac: function(e) {
            var t = Ao(e);
            return ar(e, [255, 16], {
                offset: t,
                mask: [255, 22]
            })
        },
        mp3: function(e) {
            var t = Ao(e);
            return ar(e, [255, 2], {
                offset: t,
                mask: [255, 6]
            })
        },
        webm: function(e) {
            return e = Mo(e, [Fo.EBML, Fo.DocType])[0],
            ar(e, Go.webm)
        },
        mkv: function(e) {
            return e = Mo(e, [Fo.EBML, Fo.DocType])[0],
            ar(e, Go.matroska)
        },
        mp4: function(e) {
            return !Xo["3gp"](e) && !Xo.mov(e) && (!!(ar(e, Go.mp4, {
                offset: 4
            }) || ar(e, Go.fmp4, {
                offset: 4
            }) || ar(e, Go.moof, {
                offset: 4
            }) || ar(e, Go.moov, {
                offset: 4
            })) || void 0)
        },
        mov: function(e) {
            return ar(e, Go.mov, {
                offset: 4
            })
        },
        "3gp": function(e) {
            return ar(e, Go["3gp"], {
                offset: 4
            })
        },
        ac3: function(e) {
            var t = Ao(e);
            return ar(e, Go.ac3, {
                offset: t
            })
        },
        ts: function(e) {
            if (e.length < 189 && 1 <= e.length)
                return 71 === e[0];
            for (var t = 0; t + 188 < e.length && t < 188; ) {
                if (71 === e[t] && 71 === e[t + 188])
                    return !0;
                t += 1
            }
            return !1
        },
        flac: function(e) {
            var t = Ao(e);
            return ar(e, Go.flac, {
                offset: t
            })
        },
        ogg: function(e) {
            return ar(e, Go.ogg)
        },
        avi: function(e) {
            return ar(e, Go.riff) && ar(e, Go.avi, {
                offset: 8
            })
        },
        wav: function(e) {
            return ar(e, Go.riff) && ar(e, Go.wav, {
                offset: 8
            })
        },
        h264: function(e) {
            return Do(e, "h264", 7, 3).length
        },
        h265: function(e) {
            return Do(e, "h265", [32, 33], 3).length
        }
    }
      , Yo = Object.keys(Xo).filter((function(e) {
        return "ts" !== e && "h264" !== e && "h265" !== e
    }
    )).concat(["ts", "h264", "h265"])
      , Ko = (Yo.forEach((function(e) {
        var t = Xo[e];
        Xo[e] = function(e) {
            return t(ir(e))
        }
    }
    )),
    Xo)
      , Qo = 9e4;
    const Zo = function(e, t) {
        if (/^[a-z]+:/i.test(t))
            return t;
        /^data:/.test(e) && (e = window.location && window.location.href || "");
        var i = "function" == typeof window.URL
          , n = /^\/\//.test(e)
          , s = !window.location && !/\/\//i.test(e);
        return i ? e = new window.URL(e,window.location || As) : /\/\//i.test(e) || (e = Ps.buildAbsoluteURL(window.location && window.location.href || "", e)),
        i ? (i = new URL(t,e),
        s ? i.href.slice(As.length) : n ? i.href.slice(i.protocol.length) : i.href) : Ps.buildAbsoluteURL(e, t)
    }
      , Jo = (e, t) => t && t.responseURL && e !== t.responseURL ? t.responseURL : e
      , el = e => Es.log.debug ? Es.log.debug.bind(Es, "VHS:", e + " >") : function() {}
    ;
    function tl(...e) {
        var t = Es.obj || Es;
        return (t.merge || t.mergeOptions).apply(t, e)
    }
    function il(...e) {
        var t = Es.time || Es;
        return (t.createTimeRanges || t.createTimeRanges).apply(t, e)
    }
    function nl(e, t) {
        return ul(e, (function(e, i) {
            return e - cl <= t && i + cl >= t
        }
        ))
    }
    function sl(e, t) {
        return ul(e, (function(e) {
            return e - dl >= t
        }
        ))
    }
    function rl(e) {
        if (e && e.length && e.end)
            return e.end(e.length - 1)
    }
    function al(e, t) {
        let i = 0;
        if (e && e.length)
            for (let r = 0; r < e.length; r++) {
                var n = e.start(r)
                  , s = e.end(r);
                s < t || (i += n < t && t <= s ? s - t : s - n)
            }
        return i
    }
    function ol({defaultDuration: e, durationList: t, startIndex: i, endIndex: n}) {
        let s = 0;
        if (n < i && ([i,n] = [n, i]),
        i < 0) {
            for (let t = i; t < Math.min(0, n); t++)
                s += e;
            i = 0
        }
        for (let e = i; e < n; e++)
            s += t[e].duration;
        return s
    }
    function ll(e, t, i, n) {
        if (!e || !e.segments)
            return null;
        if (e.endList)
            return _l(e);
        if (null === t)
            return null;
        t = t || 0;
        let s = bl(e, e.mediaSequence + e.segments.length, t);
        return i && (s -= n = "number" == typeof n ? n : yl(null, e)),
        Math.max(0, s)
    }
    const dl = 1 / 30
      , cl = 3 * dl
      , ul = function(e, t) {
        var i = [];
        let n;
        if (e && e.length)
            for (n = 0; n < e.length; n++)
                t(e.start(n), e.end(n)) && i.push([e.start(n), e.end(n)]);
        return il(i)
    }
      , hl = e => {
        var t = [];
        if (!e || !e.length)
            return "";
        for (let i = 0; i < e.length; i++)
            t.push(e.start(i) + " => " + e.end(i));
        return t.join(", ")
    }
      , pl = e => {
        var t = [];
        for (let i = 0; i < e.length; i++)
            t.push({
                start: e.start(i),
                end: e.end(i)
            });
        return t
    }
      , fl = (e, t) => {
        if (!t.preload)
            return t.duration;
        let i = 0;
        return (t.parts || []).forEach((function(e) {
            i += e.duration
        }
        )),
        (t.preloadHints || []).forEach((function(t) {
            "PART" === t.type && (i += e.partTargetDuration)
        }
        )),
        i
    }
      , ml = e => (e.segments || []).reduce(( (e, t, i) => (t.parts ? t.parts.forEach((function(n, s) {
        e.push({
            duration: n.duration,
            segmentIndex: i,
            partIndex: s,
            part: n,
            segment: t
        })
    }
    )) : e.push({
        duration: t.duration,
        segmentIndex: i,
        partIndex: null,
        segment: t,
        part: null
    }),
    e)), [])
      , gl = e => (e = e.segments && e.segments.length && e.segments[e.segments.length - 1]) && e.parts || []
      , vl = ({preloadSegment: e}) => {
        var t;
        if (e)
            return ({parts: e, preloadHints: t} = e),
            (t || []).reduce(( (e, t) => e + ("PART" === t.type ? 1 : 0)), 0) + (e && e.length ? e.length : 0)
    }
      , yl = (e, t) => t.endList ? 0 : e && e.suggestedPresentationDelay ? e.suggestedPresentationDelay : (e = 0 < gl(t).length) && t.serverControl && t.serverControl.partHoldBack ? t.serverControl.partHoldBack : e && t.partTargetDuration ? 3 * t.partTargetDuration : t.serverControl && t.serverControl.holdBack ? t.serverControl.holdBack : t.targetDuration ? 3 * t.targetDuration : 0
      , bl = function(e, t, i) {
        var n;
        return (t = void 0 === t ? e.mediaSequence + e.segments.length : t) < e.mediaSequence ? 0 : (n = function(e, t) {
            let i = 0
              , n = t - e.mediaSequence
              , s = e.segments[n];
            if (s) {
                if (void 0 !== s.start)
                    return {
                        result: s.start,
                        precise: !0
                    };
                if (void 0 !== s.end)
                    return {
                        result: s.end - s.duration,
                        precise: !0
                    }
            }
            for (; n--; ) {
                if (void 0 !== (s = e.segments[n]).end)
                    return {
                        result: i + s.end,
                        precise: !0
                    };
                if (i += fl(e, s),
                void 0 !== s.start)
                    return {
                        result: i + s.start,
                        precise: !0
                    }
            }
            return {
                result: i,
                precise: !1
            }
        }(e, t)).precise ? n.result : (e = function(e, t) {
            let i = 0;
            var n;
            let s = t - e.mediaSequence;
            for (; s < e.segments.length; s++) {
                if (void 0 !== (n = e.segments[s]).start)
                    return {
                        result: n.start - i,
                        precise: !0
                    };
                if (i += fl(e, n),
                void 0 !== n.end)
                    return {
                        result: n.end - i,
                        precise: !0
                    }
            }
            return {
                result: -1,
                precise: !1
            }
        }(e, t)).precise ? e.result : n.result + i
    }
      , _l = function(e, t, i) {
        if (!e)
            return 0;
        if ("number" != typeof i && (i = 0),
        void 0 === t) {
            if (e.totalDuration)
                return e.totalDuration;
            if (!e.endList)
                return window.Infinity
        }
        return bl(e, t, i)
    };
    function Tl(e) {
        return e.excludeUntil && e.excludeUntil > Date.now()
    }
    function wl(e) {
        return e.excludeUntil && e.excludeUntil === 1 / 0
    }
    function Sl(e) {
        var t = Tl(e);
        return !e.disabled && !t
    }
    function kl(e, t) {
        return t.attributes && t.attributes[e]
    }
    function xl(e, t) {
        var i = e && e.mediaGroups && e.mediaGroups.AUDIO || {};
        let n = !1;
        for (const e in i) {
            for (const s in i[e])
                if (n = t(i[e][s]))
                    break;
            if (n)
                break
        }
        return !!n
    }
    const Cl = (e, t) => {
        if (1 === e.playlists.length)
            return !0;
        const i = t.attributes.BANDWIDTH || Number.MAX_VALUE;
        return 0 === e.playlists.filter((e => !!Sl(e) && (e.attributes.BANDWIDTH || 0) < i)).length
    }
      , El = (e, t) => !(!e && !t || !e && t || e && !t || e !== t && (!e.id || !t.id || e.id !== t.id) && (!e.resolvedUri || !t.resolvedUri || e.resolvedUri !== t.resolvedUri) && (!e.uri || !t.uri || e.uri !== t.uri))
      , Pl = e => {
        if (!e || !e.playlists || !e.playlists.length)
            return xl(e, (e => e.playlists && e.playlists.length || e.uri));
        for (let i = 0; i < e.playlists.length; i++) {
            const n = e.playlists[i];
            var t = n.attributes && n.attributes.CODECS;
            if (!(t && t.split(",").every((e => Us(e))) || (t = xl(e, (e => El(n, e))),
            t)))
                return !1
        }
        return !0
    }
    ;
    var Al = {
        liveEdgeDelay: yl,
        duration: _l,
        seekable: function(e, t, i) {
            var n = t || 0;
            return null === (e = ll(e, t, !0, i)) ? il() : il(n, e)
        },
        getMediaInfoForTime: function({playlist: e, currentTime: t, startingSegmentIndex: i, startingPartIndex: n, startTime: s, exactManifestTimings: r}) {
            let a = t - s;
            var o = ml(e);
            let l = 0;
            for (let e = 0; e < o.length; e++) {
                var d = o[e];
                if (i === d.segmentIndex && ("number" != typeof n || "number" != typeof d.partIndex || n === d.partIndex)) {
                    l = e;
                    break
                }
            }
            if (a < 0) {
                if (0 < l)
                    for (let t = l - 1; 0 <= t; t--) {
                        var c = o[t];
                        if (a += c.duration,
                        r) {
                            if (a < 0)
                                continue
                        } else if (a + dl <= 0)
                            continue;
                        return {
                            partIndex: c.partIndex,
                            segmentIndex: c.segmentIndex,
                            startTime: s - ol({
                                defaultDuration: e.targetDuration,
                                durationList: o,
                                startIndex: l,
                                endIndex: t
                            })
                        }
                    }
                return {
                    partIndex: o[0] && o[0].partIndex || null,
                    segmentIndex: o[0] && o[0].segmentIndex || 0,
                    startTime: t
                }
            }
            if (l < 0) {
                for (let i = l; i < 0; i++)
                    if ((a -= e.targetDuration) < 0)
                        return {
                            partIndex: o[0] && o[0].partIndex || null,
                            segmentIndex: o[0] && o[0].segmentIndex || 0,
                            startTime: t
                        };
                l = 0
            }
            for (let t = l; t < o.length; t++) {
                var u = o[t];
                if (a -= u.duration,
                r) {
                    if (0 < a)
                        continue
                } else if (0 <= a - dl)
                    continue;
                return {
                    partIndex: u.partIndex,
                    segmentIndex: u.segmentIndex,
                    startTime: s + ol({
                        defaultDuration: e.targetDuration,
                        durationList: o,
                        startIndex: l,
                        endIndex: t
                    })
                }
            }
            return {
                segmentIndex: o[o.length - 1].segmentIndex,
                partIndex: o[o.length - 1].partIndex,
                startTime: t
            }
        },
        isEnabled: Sl,
        isDisabled: function(e) {
            return e.disabled
        },
        isExcluded: Tl,
        isIncompatible: wl,
        playlistEnd: ll,
        isAes: function(e) {
            for (let t = 0; t < e.segments.length; t++)
                if (e.segments[t].key)
                    return !0;
            return !1
        },
        hasAttribute: kl,
        estimateSegmentRequestTime: function(e, t, i, n=0) {
            return kl("BANDWIDTH", i) ? (e * i.attributes.BANDWIDTH - 8 * n) / t : NaN
        },
        isLowestEnabledRendition: Cl,
        isAudioOnly: Pl,
        playlistMatch: El,
        segmentDurationWithParts: fl
    };
    const Il = Es.log
      , Ol = (e, t) => e + "-" + t
      , Ll = (e, t) => {
        e.mediaGroups && ["AUDIO", "SUBTITLES"].forEach((i => {
            if (e.mediaGroups[i])
                for (const s in e.mediaGroups[i])
                    for (const r in e.mediaGroups[i][s]) {
                        var n = e.mediaGroups[i][s][r];
                        t(n, i, s, r)
                    }
        }
        ))
    }
      , Ml = ({playlist: e, uri: t, id: i}) => {
        e.id = i,
        e.playlistErrors_ = 0,
        t && (e.uri = t),
        e.attributes = e.attributes || {}
    }
      , Dl = (e, t) => {
        e.uri = t;
        for (let t = 0; t < e.playlists.length; t++) {
            var i;
            e.playlists[t].uri || (i = "placeholder-uri-" + t,
            e.playlists[t].uri = i)
        }
        const n = Pl(e);
        Ll(e, ( (t, i, s, r) => {
            const a = `placeholder-uri-${i}-${s}-` + r;
            if (!t.playlists || !t.playlists.length) {
                if (n && "AUDIO" === i && !t.uri)
                    for (let t = 0; t < e.playlists.length; t++) {
                        var o = e.playlists[t];
                        if (o.attributes && o.attributes.AUDIO && o.attributes.AUDIO === s)
                            return
                    }
                t.playlists = [zt({}, t)]
            }
            t.playlists.forEach((function(t, i) {
                var n = Ol(i, a);
                t.uri ? t.resolvedUri = t.resolvedUri || Zo(e.uri, t.uri) : (t.uri = 0 === i ? a : n,
                t.resolvedUri = t.uri),
                t.id = t.id || n,
                t.attributes = t.attributes || {},
                e.playlists[t.id] = t,
                e.playlists[t.uri] = t
            }
            ))
        }
        ));
        {
            var s = e;
            let t = s.playlists.length;
            for (; t--; ) {
                var r = s.playlists[t];
                Ml({
                    playlist: r,
                    id: Ol(t, r.uri)
                }),
                r.resolvedUri = Zo(s.uri, r.uri),
                s.playlists[r.id] = r,
                (s.playlists[r.uri] = r).attributes.BANDWIDTH || Il.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")
            }
        }
        var a;
        Ll(a = e, (e => {
            e.uri && (e.resolvedUri = Zo(a.uri, e.uri))
        }
        ))
    }
    ;
    function Rl(e) {
        var t = e.segments || []
          , i = e.preloadSegment;
        if (i && i.parts && i.parts.length) {
            if (i.preloadHints)
                for (let e = 0; e < i.preloadHints.length; e++)
                    if ("MAP" === i.preloadHints[e].type)
                        return t;
            i.duration = e.targetDuration,
            i.preload = !0,
            t.push(i)
        }
        return t
    }
    Jn = Es.EventTarget;
    const Nl = (e, t) => {
        if (!e)
            return t;
        var i = tl(e, t);
        if (e.preloadHints && !t.preloadHints && delete i.preloadHints,
        e.parts && !t.parts)
            delete i.parts;
        else if (e.parts && t.parts)
            for (let n = 0; n < t.parts.length; n++)
                e.parts && e.parts[n] && (i.parts[n] = tl(e.parts[n], t.parts[n]));
        return !e.skipped && t.skipped && (i.skipped = !1),
        e.preload && !t.preload && (i.preload = !1),
        i
    }
      , Bl = (e, t) => {
        !e.resolvedUri && e.uri && (e.resolvedUri = Zo(t, e.uri)),
        e.key && !e.key.resolvedUri && (e.key.resolvedUri = Zo(t, e.key.uri)),
        e.map && !e.map.resolvedUri && (e.map.resolvedUri = Zo(t, e.map.uri)),
        e.map && e.map.key && !e.map.key.resolvedUri && (e.map.key.resolvedUri = Zo(t, e.map.key.uri)),
        e.parts && e.parts.length && e.parts.forEach((e => {
            e.resolvedUri || (e.resolvedUri = Zo(t, e.uri))
        }
        )),
        e.preloadHints && e.preloadHints.length && e.preloadHints.forEach((e => {
            e.resolvedUri || (e.resolvedUri = Zo(t, e.uri))
        }
        ))
    }
      , jl = (e, t) => e === t || e.segments && t.segments && e.segments.length === t.segments.length && e.endList === t.endList && e.mediaSequence === t.mediaSequence && e.preloadSegment === t.preloadSegment
      , Fl = (e, t, i=jl) => {
        var n = tl(e, {})
          , s = n.playlists[t.id];
        if (!s)
            return null;
        if (i(s, t))
            return null;
        t.segments = Rl(t);
        const r = tl(s, t);
        if (r.preloadSegment && !t.preloadSegment && delete r.preloadSegment,
        s.segments) {
            if (t.skip) {
                t.segments = t.segments || [];
                for (let e = 0; e < t.skip.skippedSegments; e++)
                    t.segments.unshift({
                        skipped: !0
                    })
            }
            r.segments = ( (e, t, i) => {
                var n = e.slice()
                  , s = t.slice()
                  , r = (i = i || 0,
                []);
                let a;
                for (let e = 0; e < s.length; e++) {
                    var o = n[e + i]
                      , l = s[e];
                    o ? (a = o.map || a,
                    r.push(Nl(o, l))) : (a && !l.map && (l.map = a),
                    r.push(l))
                }
                return r
            }
            )(s.segments, t.segments, t.mediaSequence - s.mediaSequence)
        }
        r.segments.forEach((e => {
            Bl(e, r.resolvedUri)
        }
        ));
        for (let e = 0; e < n.playlists.length; e++)
            n.playlists[e].id === t.id && (n.playlists[e] = r);
        return n.playlists[t.id] = r,
        n.playlists[t.uri] = r,
        Ll(e, ( (e, i, n, s) => {
            if (e.playlists)
                for (let i = 0; i < e.playlists.length; i++)
                    t.id === e.playlists[i].id && (e.playlists[i] = r)
        }
        )),
        n
    }
      , Ul = (e, t) => {
        var i, n = (n = (i = (i = e.segments || [])[i.length - 1]) && i.parts && i.parts[i.parts.length - 1]) && n.duration || i && i.duration;
        return t && n ? 1e3 * n : 500 * (e.partTargetDuration || e.targetDuration || 10)
    }
    ;
    class $l extends Jn {
        constructor(e, t, i={}) {
            if (super(),
            !e)
                throw new Error("A non-empty playlist URL or object is required");
            this.logger_ = el("PlaylistLoader");
            var {withCredentials: i=!1} = i;
            this.src = e,
            this.vhs_ = t,
            this.withCredentials = i,
            e = t.options_;
            this.customTagParsers = e && e.customTagParsers || [],
            this.customTagMappers = e && e.customTagMappers || [],
            this.llhls = e && e.llhls,
            this.state = "HAVE_NOTHING",
            this.handleMediaupdatetimeout_ = this.handleMediaupdatetimeout_.bind(this),
            this.on("mediaupdatetimeout", this.handleMediaupdatetimeout_)
        }
        handleMediaupdatetimeout_() {
            if ("HAVE_METADATA" === this.state) {
                var e = this.media();
                let t = Zo(this.main.uri, e.uri);
                this.llhls && (t = ( (e, t) => {
                    if (!t.endList && t.serverControl) {
                        const s = {};
                        if (t.serverControl.canBlockReload) {
                            var i, n = t.preloadSegment;
                            let e = t.mediaSequence + t.segments.length;
                            n && (n = n.parts || [],
                            -1 < (i = vl(t) - 1) && i != n.length - 1 && (s._HLS_part = i),
                            -1 < i || n.length) && e--,
                            s._HLS_msn = e
                        }
                        if (t.serverControl && t.serverControl.canSkipUntil && (s._HLS_skip = t.serverControl.canSkipDateranges ? "v2" : "YES"),
                        Object.keys(s).length) {
                            const t = new window.URL(e);
                            ["_HLS_skip", "_HLS_msn", "_HLS_part"].forEach((function(e) {
                                s.hasOwnProperty(e) && t.searchParams.set(e, s[e])
                            }
                            )),
                            e = t.toString()
                        }
                    }
                    return e
                }
                )(t, e)),
                this.state = "HAVE_CURRENT_METADATA",
                this.request = this.vhs_.xhr({
                    uri: t,
                    withCredentials: this.withCredentials
                }, ( (e, t) => {
                    if (this.request)
                        return e ? this.playlistRequestError(this.request, this.media(), "HAVE_METADATA") : void this.haveMetadata({
                            playlistString: this.request.responseText,
                            url: this.media().uri,
                            id: this.media().id
                        })
                }
                ))
            }
        }
        playlistRequestError(e, t, i) {
            var {uri: t, id: n} = t;
            this.request = null,
            i && (this.state = i),
            this.error = {
                playlist: this.main.playlists[n],
                status: e.status,
                message: `HLS playlist request error at URL: ${t}.`,
                responseText: e.responseText,
                code: 500 <= e.status ? 4 : 2
            },
            this.trigger("error")
        }
        parseManifest_({url: e, manifestString: t}) {
            {
                var [{onwarn: t, oninfo: i, manifestString: n, customTagParsers: s=[], customTagMappers: r=[], llhls: a}] = [{
                    onwarn: ({message: t}) => this.logger_(`m3u8-parser warn for ${e}: ` + t),
                    oninfo: ({message: t}) => this.logger_(`m3u8-parser info for ${e}: ` + t),
                    manifestString: t,
                    customTagParsers: this.customTagParsers,
                    customTagMappers: this.customTagMappers,
                    llhls: this.llhls
                }];
                const o = new Fs
                  , l = (t && o.on("warn", t),
                i && o.on("info", i),
                s.forEach((e => o.addParser(e))),
                r.forEach((e => o.addTagMapper(e))),
                o.push(n),
                o.end(),
                o.manifest);
                if (a || (["preloadSegment", "skip", "serverControl", "renditionReports", "partInf", "partTargetDuration"].forEach((function(e) {
                    l.hasOwnProperty(e) && delete l[e]
                }
                )),
                l.segments && l.segments.forEach((function(e) {
                    ["parts", "preloadHints"].forEach((function(t) {
                        e.hasOwnProperty(t) && delete e[t]
                    }
                    ))
                }
                ))),
                !l.targetDuration) {
                    let e = 10;
                    l.segments && l.segments.length && (e = l.segments.reduce(( (e, t) => Math.max(e, t.duration)), 0)),
                    t && t("manifest has no targetDuration defaulting to " + e),
                    l.targetDuration = e
                }
                return (i = gl(l)).length && !l.partTargetDuration && (s = i.reduce(( (e, t) => Math.max(e, t.duration)), 0),
                t && (t("manifest has no partTargetDuration defaulting to " + s),
                Il.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),
                l.partTargetDuration = s),
                l
            }
        }
        haveMetadata({playlistString: e, playlistObject: t, url: i, id: n}) {
            this.request = null,
            this.state = "HAVE_METADATA",
            (t = t || this.parseManifest_({
                url: i,
                manifestString: e
            })).lastRequest = Date.now(),
            Ml({
                playlist: t,
                uri: i,
                id: n
            }),
            e = Fl(this.main, t),
            this.targetDuration = t.partTargetDuration || t.targetDuration,
            this.pendingMedia_ = null,
            e ? (this.main = e,
            this.media_ = this.main.playlists[n]) : this.trigger("playlistunchanged"),
            this.updateMediaUpdateTimeout_(Ul(this.media(), !!e)),
            this.trigger("loadedplaylist")
        }
        dispose() {
            this.trigger("dispose"),
            this.stopRequest(),
            window.clearTimeout(this.mediaUpdateTimeout),
            window.clearTimeout(this.finalRenditionTimeout),
            this.off()
        }
        stopRequest() {
            var e;
            this.request && (e = this.request,
            this.request = null,
            e.onreadystatechange = null,
            e.abort())
        }
        media(e, t) {
            if (!e)
                return this.media_;
            if ("HAVE_NOTHING" === this.state)
                throw new Error("Cannot switch media playlist from " + this.state);
            if ("string" == typeof e) {
                if (!this.main.playlists[e])
                    throw new Error("Unknown playlist URI: " + e);
                e = this.main.playlists[e]
            }
            if (window.clearTimeout(this.finalRenditionTimeout),
            t)
                t = (e.partTargetDuration || e.targetDuration) / 2 * 1e3 || 5e3,
                this.finalRenditionTimeout = window.setTimeout(this.media.bind(this, e, !1), t);
            else {
                const n = this.state;
                t = !this.media_ || e.id !== this.media_.id;
                var i = this.main.playlists[e.id];
                if (i && i.endList || e.endList && e.segments.length)
                    this.request && (this.request.onreadystatechange = null,
                    this.request.abort(),
                    this.request = null),
                    this.state = "HAVE_METADATA",
                    this.media_ = e,
                    t && (this.trigger("mediachanging"),
                    "HAVE_MAIN_MANIFEST" === n ? this.trigger("loadedmetadata") : this.trigger("mediachange"));
                else if (this.updateMediaUpdateTimeout_(Ul(e, !0)),
                t) {
                    if (this.state = "SWITCHING_MEDIA",
                    this.request) {
                        if (e.resolvedUri === this.request.url)
                            return;
                        this.request.onreadystatechange = null,
                        this.request.abort(),
                        this.request = null
                    }
                    this.media_ && this.trigger("mediachanging"),
                    this.pendingMedia_ = e,
                    this.request = this.vhs_.xhr({
                        uri: e.resolvedUri,
                        withCredentials: this.withCredentials
                    }, ( (t, i) => {
                        if (this.request) {
                            if (e.lastRequest = Date.now(),
                            e.resolvedUri = Jo(e.resolvedUri, i),
                            t)
                                return this.playlistRequestError(this.request, e, n);
                            this.haveMetadata({
                                playlistString: i.responseText,
                                url: e.uri,
                                id: e.id
                            }),
                            "HAVE_MAIN_MANIFEST" === n ? this.trigger("loadedmetadata") : this.trigger("mediachange")
                        }
                    }
                    ))
                }
            }
        }
        pause() {
            this.mediaUpdateTimeout && (window.clearTimeout(this.mediaUpdateTimeout),
            this.mediaUpdateTimeout = null),
            this.stopRequest(),
            "HAVE_NOTHING" === this.state && (this.started = !1),
            "SWITCHING_MEDIA" === this.state ? this.media_ ? this.state = "HAVE_METADATA" : this.state = "HAVE_MAIN_MANIFEST" : "HAVE_CURRENT_METADATA" === this.state && (this.state = "HAVE_METADATA")
        }
        load(e) {
            this.mediaUpdateTimeout && (window.clearTimeout(this.mediaUpdateTimeout),
            this.mediaUpdateTimeout = null);
            var t = this.media();
            e ? (e = t ? (t.partTargetDuration || t.targetDuration) / 2 * 1e3 : 5e3,
            this.mediaUpdateTimeout = window.setTimeout(( () => {
                this.mediaUpdateTimeout = null,
                this.load()
            }
            ), e)) : this.started ? t && !t.endList ? this.trigger("mediaupdatetimeout") : this.trigger("loadedplaylist") : this.start()
        }
        updateMediaUpdateTimeout_(e) {
            this.mediaUpdateTimeout && (window.clearTimeout(this.mediaUpdateTimeout),
            this.mediaUpdateTimeout = null),
            this.media() && !this.media().endList && (this.mediaUpdateTimeout = window.setTimeout(( () => {
                this.mediaUpdateTimeout = null,
                this.trigger("mediaupdatetimeout"),
                this.updateMediaUpdateTimeout_(e)
            }
            ), e))
        }
        start() {
            this.started = !0,
            "object" == typeof this.src ? (this.src.uri || (this.src.uri = window.location.href),
            this.src.resolvedUri = this.src.uri,
            setTimeout(( () => {
                this.setupInitialPlaylist(this.src)
            }
            ), 0)) : this.request = this.vhs_.xhr({
                uri: this.src,
                withCredentials: this.withCredentials
            }, ( (e, t) => {
                if (this.request) {
                    if (this.request = null,
                    e)
                        return this.error = {
                            status: t.status,
                            message: `HLS playlist request error at URL: ${this.src}.`,
                            responseText: t.responseText,
                            code: 2
                        },
                        "HAVE_NOTHING" === this.state && (this.started = !1),
                        this.trigger("error");
                    this.src = Jo(this.src, t),
                    e = this.parseManifest_({
                        manifestString: t.responseText,
                        url: this.src
                    }),
                    this.setupInitialPlaylist(e)
                }
            }
            ))
        }
        srcUri() {
            return "string" == typeof this.src ? this.src : this.src.uri
        }
        setupInitialPlaylist(e) {
            var t, i, n, s;
            this.state = "HAVE_MAIN_MANIFEST",
            e.playlists ? (this.main = e,
            Dl(this.main, this.srcUri()),
            e.playlists.forEach((e => {
                e.segments = Rl(e),
                e.segments.forEach((t => {
                    Bl(t, e.resolvedUri)
                }
                ))
            }
            )),
            this.trigger("loadedplaylist"),
            this.request || this.media(this.main.playlists[0])) : (t = this.srcUri() || window.location.href,
            this.main = (n = Ol(0, i = t),
            (s = {
                mediaGroups: {
                    AUDIO: {},
                    VIDEO: {},
                    "CLOSED-CAPTIONS": {},
                    SUBTITLES: {}
                },
                uri: window.location.href,
                resolvedUri: window.location.href,
                playlists: [{
                    uri: i,
                    id: n,
                    resolvedUri: i,
                    attributes: {}
                }]
            }).playlists[n] = s.playlists[0],
            s.playlists[i] = s.playlists[0],
            s),
            this.haveMetadata({
                playlistObject: e,
                url: t,
                id: this.main.playlists[0].id
            }),
            this.trigger("loadedmetadata"))
        }
    }
    function Hl(e, t, i, n) {
        var s = "arraybuffer" === e.responseType ? e.response : e.responseText;
        !t && s && (e.responseTime = Date.now(),
        e.roundTripTime = e.responseTime - e.requestTime,
        e.bytesReceived = s.byteLength || s.length,
        e.bandwidth || (e.bandwidth = Math.floor(e.bytesReceived / e.roundTripTime * 8 * 1e3))),
        i.headers && (e.responseHeaders = i.headers),
        t && "ETIMEDOUT" === t.code && (e.timedout = !0),
        n(t = t || e.aborted || 200 === i.statusCode || 206 === i.statusCode || 0 === i.statusCode ? t : new Error("XHR Failed with a response of: " + (e && (s || e.responseText))), e)
    }
    function zl() {
        function e(t, i) {
            t = tl({
                timeout: 45e3
            }, t);
            var n = e.beforeRequest || Es.Vhs.xhr.beforeRequest;
            n && "function" == typeof n && (n = n(t)) && (t = n);
            const s = (!0 === Es.Vhs.xhr.original ? Kl : Es.Vhs.xhr)(t, (function(e, t) {
                return Hl(s, e, t, i)
            }
            ))
              , r = s.abort;
            return s.abort = function() {
                return s.aborted = !0,
                r.apply(s, arguments)
            }
            ,
            s.uri = t.uri,
            s.requestTime = Date.now(),
            s
        }
        return e.original = !0,
        e
    }
    function ql(e) {
        var t = {};
        return e.byterange && (t.Range = function(e) {
            return "bytes=" + e.offset + "-" + ("bigint" == typeof e.offset || "bigint" == typeof e.length ? window.BigInt(e.offset) + window.BigInt(e.length) - window.BigInt(1) : e.offset + e.length - 1)
        }(e.byterange)),
        t
    }
    function Wl(e, t) {
        return e = e.toString(16),
        "00".substring(0, 2 - e.length) + e + (t % 2 ? " " : "")
    }
    function Vl(e) {
        return 32 <= e && e < 126 ? String.fromCharCode(e) : "."
    }
    function Gl(e) {
        const t = {};
        return Object.keys(e).forEach((i => {
            var n = e[i];
            tr(n) ? t[i] = {
                bytes: n.buffer,
                byteOffset: n.byteOffset,
                byteLength: n.byteLength
            } : t[i] = n
        }
        )),
        t
    }
    function Xl(e) {
        var t = e.byterange || {
            length: 1 / 0,
            offset: 0
        };
        return [t.length, t.offset, e.resolvedUri].join(",")
    }
    function Yl(e) {
        return e.resolvedUri
    }
    const Kl = Es.xhr
      , Ql = e => {
        var t = Array.prototype.slice.call(e);
        let i = "";
        for (let e = 0; e < t.length / 16; e++)
            i += t.slice(16 * e, 16 * e + 16).map(Wl).join("") + " " + t.slice(16 * e, 16 * e + 16).map(Vl).join("") + "\n";
        return i
    }
    ;
    Zn = Object.freeze({
        __proto__: null,
        createTransferableMessage: Gl,
        initSegmentId: Xl,
        segmentKeyId: Yl,
        hexDump: Ql,
        tagDump: ({bytes: e}) => Ql(e),
        textRanges: e => {
            let t, i = "";
            for (t = 0; t < e.length; t++)
                i += (s = t,
                (n = e).start(s) + "-" + n.end(s) + " ");
            var n, s;
            return i
        }
    });
    const Zl = ({programTime: e, playlist: t, retryCount: i=2, seekTo: n, pauseAfterSeek: s=!0, tech: r, callback: a}) => {
        var o, l, d;
        if (a)
            return void 0 !== e && t && n ? t.endList || r.hasStarted_ ? (e => {
                if (!e.segments || 0 === e.segments.length)
                    return !1;
                for (let t = 0; t < e.segments.length; t++)
                    if (!e.segments[t].dateTimeObject)
                        return !1;
                return !0
            }
            )(t) ? (d = ( (e, t) => {
                let i;
                try {
                    i = new Date(e)
                } catch (e) {
                    return null
                }
                if (!t || !t.segments || 0 === t.segments.length)
                    return null;
                let n = t.segments[0];
                if (i < n.dateTimeObject)
                    return null;
                for (let e = 0; e < t.segments.length - 1; e++) {
                    if (n = t.segments[e],
                    i < t.segments[e + 1].dateTimeObject)
                        break
                }
                var s = (e = t.segments[t.segments.length - 1]).dateTimeObject
                  , r = e.videoTimingInfo ? (e => e.transmuxedPresentationEnd - e.transmuxedPresentationStart - e.transmuxerPrependedSeconds)(e.videoTimingInfo) : e.duration + .25 * e.duration;
                return i > (r = new Date(s.getTime() + 1e3 * r)) ? null : {
                    segment: n = i > s ? e : n,
                    estimatedStart: n.videoTimingInfo ? n.videoTimingInfo.transmuxedPresentationStart : Al.duration(t, t.mediaSequence + t.segments.indexOf(n)),
                    type: n.videoTimingInfo ? "accurate" : "estimate"
                }
            }
            )(e, t)) ? (l = ( (e, t) => {
                let i, n;
                try {
                    i = new Date(e),
                    n = new Date(t)
                } catch (e) {}
                return e = i.getTime(),
                (n.getTime() - e) / 1e3
            }
            )((o = d.segment).dateTimeObject, e),
            "estimate" === d.type ? 0 === i ? a({
                message: e + " is not buffered yet. Try again"
            }) : (n(d.estimatedStart + l),
            void r.one("seeked", ( () => {
                Zl({
                    programTime: e,
                    playlist: t,
                    retryCount: i - 1,
                    seekTo: n,
                    pauseAfterSeek: s,
                    tech: r,
                    callback: a
                })
            }
            ))) : (d = o.start + l,
            r.one("seeked", ( () => a(null, r.currentTime()))),
            s && r.pause(),
            void n(d))) : a({
                message: e + " was not found in the stream"
            }) : a({
                message: "programDateTime tags must be provided in the manifest " + t.resolvedUri
            }) : a({
                message: "player must be playing a live stream to start buffering"
            }) : a({
                message: "seekToProgramTime: programTime, seekTo and playlist must be provided"
            });
        throw new Error("seekToProgramTime: callback must be provided")
    }
    ;
    function Jl(e, t) {
        if (!jl(e, t))
            return !1;
        if (e.sidx && t.sidx && (e.sidx.offset !== t.sidx.offset || e.sidx.length !== t.sidx.length))
            return !1;
        if (!e.sidx && t.sidx || e.sidx && !t.sidx)
            return !1;
        if (e.segments && !t.segments || !e.segments && t.segments)
            return !1;
        if (e.segments || t.segments)
            for (let s = 0; s < e.segments.length; s++) {
                var i = e.segments[s]
                  , n = t.segments[s];
                if (i.uri !== n.uri)
                    return !1;
                if (i.byterange || n.byterange) {
                    if (i = i.byterange,
                    n = n.byterange,
                    i && !n || !i && n)
                        return !1;
                    if (i.offset !== n.offset || i.length !== n.length)
                        return !1
                }
            }
        return !0
    }
    Qn = Es.EventTarget;
    const ed = ({mainXml: e, srcUrl: t, clientOffset: i, sidxMapping: n, previousManifest: s}) => (i = {
        manifestUri: t,
        clientOffset: i,
        sidxMapping: n,
        previousManifest: s
    },
    e = ( (e, t={}) => {
        var {manifestUri: t="", NOW: i=Date.now(), clientOffset: n=0} = t
          , s = bo(e, "Period");
        if (!s.length)
            throw new Error($a);
        var r = bo(e, "Location");
        const a = So(e);
        var o, l;
        t = xo([t], bo(e, "BaseURL")),
        a.type = a.type || "static",
        a.sourceDuration = a.mediaPresentationDuration || 0,
        a.NOW = i,
        a.clientOffset = n,
        r.length && (a.locations = r.map(_o));
        const d = [];
        return s.forEach(( (e, t) => {
            var i, n, s = So(e);
            t = d[t - 1],
            s.start = (({attributes: t, priorPeriodAttributes: i, mpdType: n} = {
                attributes: s,
                priorPeriodAttributes: t ? t.attributes : null,
                mpdType: a.type
            }),
            "number" == typeof t.start ? t.start : i && "number" == typeof i.start && "number" == typeof i.duration ? i.start + i.duration : i || "static" !== n ? null : 0),
            d.push({
                node: e,
                attributes: s
            })
        }
        )),
        {
            locations: a.locations,
            representationInfo: Fa(d.map((o = a,
            l = t,
            (e, t) => {
                var i = xo(l, bo(e.node, "BaseURL"))
                  , n = Ba(o, {
                    periodStart: e.attributes.start
                })
                  , s = ("number" == typeof e.attributes.duration && (n.periodDuration = e.attributes.duration),
                bo(e.node, "AdaptationSet"));
                return e = Co(e.node),
                Fa(s.map(Eo(n, i, e)))
            }
            )))
        }
    }
    )(Po(e), i),
    n = (e => e.map(yo))(e.representationInfo),
    s = ho({
        dashPlaylists: n,
        locations: e.locations,
        sidxMapping: i.sidxMapping,
        previousManifest: i.previousManifest
    }),
    Dl(s, t),
    s)
      , td = (e, t) => (Boolean(!e.map && !t.map) || Boolean(e.map && t.map && e.map.byterange.offset === t.map.byterange.offset && e.map.byterange.length === t.map.byterange.length)) && e.uri === t.uri && e.byterange.offset === t.byterange.offset && e.byterange.length === t.byterange.length
      , id = (e, t) => {
        var i = {};
        for (const a in e) {
            var n = e[a].sidx;
            if (n) {
                var s = no(n);
                if (!t[s])
                    break;
                var r = t[s].sidxInfo;
                td(r, n) && (i[s] = t[s])
            }
        }
        return i
    }
    ;
    class nd extends Qn {
        constructor(e, t, i={}, n) {
            super(),
            this.mainPlaylistLoader_ = n || this,
            n || (this.isMain_ = !0);
            var {withCredentials: n=!1} = i;
            if (this.vhs_ = t,
            this.withCredentials = n,
            !e)
                throw new Error("A non-empty playlist URL or object is required");
            this.on("minimumUpdatePeriod", ( () => {
                this.refreshXml_()
            }
            )),
            this.on("mediaupdatetimeout", ( () => {
                this.refreshMedia_(this.media().id)
            }
            )),
            this.state = "HAVE_NOTHING",
            this.loadedPlaylists_ = {},
            this.logger_ = el("DashPlaylistLoader"),
            this.isMain_ ? (this.mainPlaylistLoader_.srcUrl = e,
            this.mainPlaylistLoader_.sidxMapping_ = {}) : this.childPlaylist_ = e
        }
        requestErrored_(e, t, i) {
            return !this.request || (this.request = null,
            e ? (this.error = "object" != typeof e || e instanceof Error ? {
                status: t.status,
                message: "DASH request error at URL: " + t.uri,
                response: t.response,
                code: 2
            } : e,
            i && (this.state = i),
            this.trigger("error"),
            !0) : void 0)
        }
        addSidxSegments_(e, t, i) {
            const n = e.sidx && no(e.sidx);
            if (e.sidx && n && !this.mainPlaylistLoader_.sidxMapping_[n]) {
                const s = Jo(e.sidx.resolvedUri)
                  , r = (s, r) => {
                    if (!this.requestErrored_(s, r, t)) {
                        let a;
                        s = this.mainPlaylistLoader_.sidxMapping_;
                        try {
                            a = function(e) {
                                var t = new DataView(e.buffer,e.byteOffset,e.byteLength)
                                  , i = {
                                    version: e[0],
                                    flags: new Uint8Array(e.subarray(1, 4)),
                                    references: [],
                                    referenceId: t.getUint32(4),
                                    timescale: t.getUint32(8)
                                }
                                  , n = 12
                                  , s = (0 === i.version ? (i.earliestPresentationTime = t.getUint32(n),
                                i.firstOffset = t.getUint32(n + 4),
                                n += 8) : (i.earliestPresentationTime = Bo(e.subarray(n)),
                                i.firstOffset = Bo(e.subarray(n + 8)),
                                n += 16),
                                t.getUint16(n += 2));
                                for (n += 2; 0 < s; n += 12,
                                s--)
                                    i.references.push({
                                        referenceType: (128 & e[n]) >>> 7,
                                        referencedSize: 2147483647 & t.getUint32(n),
                                        subsegmentDuration: t.getUint32(n + 4),
                                        startsWithSap: !!(128 & e[n + 8]),
                                        sapType: (112 & e[n + 8]) >>> 4,
                                        sapDeltaTime: 268435455 & t.getUint32(n + 8)
                                    });
                                return i
                            }(ir(r.response).subarray(8))
                        } catch (e) {
                            return void this.requestErrored_(e, r, t)
                        }
                        return s[n] = {
                            sidxInfo: e.sidx,
                            sidx: a
                        },
                        Za(e, a, e.sidx.resolvedUri),
                        i(!0)
                    }
                }
                ;
                this.request = ( (e, t, i) => {
                    let n, s = [], r = !1;
                    function a(e, t, n, s) {
                        return t.abort(),
                        r = !0,
                        i(e, t, n, s)
                    }
                    function o(e, t) {
                        var i;
                        if (!r)
                            return e ? a(e, t, "", s) : (i = t.responseText.substring(s && s.byteLength || 0, t.responseText.length),
                            s = function() {
                                for (var e, t, i, n = arguments.length, s = new Array(n), r = 0; r < n; r++)
                                    s[r] = arguments[r];
                                return (s = s.filter((function(e) {
                                    return e && (e.byteLength || e.length) && "string" != typeof e
                                }
                                ))).length <= 1 ? ir(s[0]) : (e = s.reduce((function(e, t, i) {
                                    return e + (t.byteLength || t.length)
                                }
                                ), 0),
                                t = new Uint8Array(e),
                                i = 0,
                                s.forEach((function(e) {
                                    e = ir(e),
                                    t.set(e, i),
                                    i += e.byteLength
                                }
                                )),
                                t)
                            }(s, qs(i, !0)),
                            n = n || Ao(s),
                            s.length < 10 || n && s.length < n + 2 || "ts" === (i = Ro(s)) && s.length < 188 || !i && s.length < 376 ? ( (e, t) => {
                                if (4 === e.readyState)
                                    return t()
                            }
                            )(t, ( () => a(e, t, "", s))) : a(null, t, i, s))
                    }
                    const l = t({
                        uri: e,
                        beforeSend(e) {
                            e.overrideMimeType("text/plain; charset=x-user-defined"),
                            e.addEventListener("progress", (function({}) {
                                return Hl(e, null, {
                                    statusCode: e.status
                                }, o)
                            }
                            ))
                        }
                    }, (function(e, t) {
                        return Hl(l, e, t, o)
                    }
                    ));
                    return l
                }
                )(s, this.vhs_.xhr, ( (t, i, n, a) => {
                    var o, l;
                    return t ? r(t, i) : n && "mp4" === n ? (({offset: o, length: l} = e.sidx.byterange),
                    a.length >= l + o ? r(t, {
                        response: a.subarray(o, o + l),
                        status: i.status,
                        uri: i.uri
                    }) : void (this.request = this.vhs_.xhr({
                        uri: s,
                        responseType: "arraybuffer",
                        headers: ql({
                            byterange: e.sidx.byterange
                        })
                    }, r))) : r({
                        status: i.status,
                        message: `Unsupported ${n || "unknown"} container type for sidx segment at URL: ` + s,
                        response: "",
                        playlist: e,
                        internal: !0,
                        playlistExclusionDuration: 1 / 0,
                        code: 2
                    }, i)
                }
                ))
            } else
                this.mediaRequest_ = window.setTimeout(( () => i(!1)), 0)
        }
        dispose() {
            this.trigger("dispose"),
            this.stopRequest(),
            this.loadedPlaylists_ = {},
            window.clearTimeout(this.minimumUpdatePeriodTimeout_),
            window.clearTimeout(this.mediaRequest_),
            window.clearTimeout(this.mediaUpdateTimeout),
            this.mediaUpdateTimeout = null,
            this.mediaRequest_ = null,
            this.minimumUpdatePeriodTimeout_ = null,
            this.mainPlaylistLoader_.createMupOnMedia_ && (this.off("loadedmetadata", this.mainPlaylistLoader_.createMupOnMedia_),
            this.mainPlaylistLoader_.createMupOnMedia_ = null),
            this.off()
        }
        hasPendingRequest() {
            return this.request || this.mediaRequest_
        }
        stopRequest() {
            var e;
            this.request && (e = this.request,
            this.request = null,
            e.onreadystatechange = null,
            e.abort())
        }
        media(e) {
            if (!e)
                return this.media_;
            if ("HAVE_NOTHING" === this.state)
                throw new Error("Cannot switch media playlist from " + this.state);
            const t = this.state;
            if ("string" == typeof e) {
                if (!this.mainPlaylistLoader_.main.playlists[e])
                    throw new Error("Unknown playlist URI: " + e);
                e = this.mainPlaylistLoader_.main.playlists[e]
            }
            var i = !this.media_ || e.id !== this.media_.id;
            i && this.loadedPlaylists_[e.id] && this.loadedPlaylists_[e.id].endList ? (this.state = "HAVE_METADATA",
            this.media_ = e,
            i && (this.trigger("mediachanging"),
            this.trigger("mediachange"))) : i && (this.media_ && this.trigger("mediachanging"),
            this.addSidxSegments_(e, t, (i => {
                this.haveMetadata({
                    startingState: t,
                    playlist: e
                })
            }
            )))
        }
        haveMetadata({startingState: e, playlist: t}) {
            this.state = "HAVE_METADATA",
            this.loadedPlaylists_[t.id] = t,
            this.mediaRequest_ = null,
            this.refreshMedia_(t.id),
            "HAVE_MAIN_MANIFEST" === e ? this.trigger("loadedmetadata") : this.trigger("mediachange")
        }
        pause() {
            this.mainPlaylistLoader_.createMupOnMedia_ && (this.off("loadedmetadata", this.mainPlaylistLoader_.createMupOnMedia_),
            this.mainPlaylistLoader_.createMupOnMedia_ = null),
            this.stopRequest(),
            window.clearTimeout(this.mediaUpdateTimeout),
            this.mediaUpdateTimeout = null,
            this.isMain_ && (window.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),
            this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_ = null),
            "HAVE_NOTHING" === this.state && (this.started = !1)
        }
        load(e) {
            window.clearTimeout(this.mediaUpdateTimeout),
            this.mediaUpdateTimeout = null;
            var t = this.media();
            e ? (e = t ? t.targetDuration / 2 * 1e3 : 5e3,
            this.mediaUpdateTimeout = window.setTimeout(( () => this.load()), e)) : this.started ? t && !t.endList ? (this.isMain_ && !this.minimumUpdatePeriodTimeout_ && (this.trigger("minimumUpdatePeriod"),
            this.updateMinimumUpdatePeriodTimeout_()),
            this.trigger("mediaupdatetimeout")) : this.trigger("loadedplaylist") : this.start()
        }
        start() {
            this.started = !0,
            this.isMain_ ? this.requestMain_(( (e, t) => {
                this.haveMain_(),
                this.hasPendingRequest() || this.media_ || this.media(this.mainPlaylistLoader_.main.playlists[0])
            }
            )) : this.mediaRequest_ = window.setTimeout(( () => this.haveMain_()), 0)
        }
        requestMain_(e) {
            this.request = this.vhs_.xhr({
                uri: this.mainPlaylistLoader_.srcUrl,
                withCredentials: this.withCredentials
            }, ( (t, i) => {
                if (this.requestErrored_(t, i))
                    "HAVE_NOTHING" === this.state && (this.started = !1);
                else {
                    const t = i.responseText !== this.mainPlaylistLoader_.mainXml_;
                    if (this.mainPlaylistLoader_.mainXml_ = i.responseText,
                    i.responseHeaders && i.responseHeaders.date ? this.mainLoaded_ = Date.parse(i.responseHeaders.date) : this.mainLoaded_ = Date.now(),
                    this.mainPlaylistLoader_.srcUrl = Jo(this.mainPlaylistLoader_.srcUrl, i),
                    !t)
                        return e(i, t);
                    this.handleMain_(),
                    this.syncClientServerClock_(( () => e(i, t)))
                }
            }
            ))
        }
        syncClientServerClock_(e) {
            const t = (e => {
                if (e = Po(e),
                !(e = bo(e, "UTCTiming")[0]))
                    return null;
                var t = So(e);
                switch (t.schemeIdUri) {
                case "urn:mpeg:dash:utc:http-head:2014":
                case "urn:mpeg:dash:utc:http-head:2012":
                    t.method = "HEAD";
                    break;
                case "urn:mpeg:dash:utc:http-xsdate:2014":
                case "urn:mpeg:dash:utc:http-iso:2014":
                case "urn:mpeg:dash:utc:http-xsdate:2012":
                case "urn:mpeg:dash:utc:http-iso:2012":
                    t.method = "GET";
                    break;
                case "urn:mpeg:dash:utc:direct:2014":
                case "urn:mpeg:dash:utc:direct:2012":
                    t.method = "DIRECT",
                    t.value = Date.parse(t.value);
                    break;
                default:
                    throw new Error(Va)
                }
                return t
            }
            )(this.mainPlaylistLoader_.mainXml_);
            return null === t ? (this.mainPlaylistLoader_.clientOffset_ = this.mainLoaded_ - Date.now(),
            e()) : "DIRECT" === t.method ? (this.mainPlaylistLoader_.clientOffset_ = t.value - Date.now(),
            e()) : void (this.request = this.vhs_.xhr({
                uri: Zo(this.mainPlaylistLoader_.srcUrl, t.value),
                method: t.method,
                withCredentials: this.withCredentials
            }, ( (i, n) => {
                if (this.request) {
                    if (i)
                        return this.mainPlaylistLoader_.clientOffset_ = this.mainLoaded_ - Date.now(),
                        e();
                    let s;
                    s = "HEAD" === t.method ? n.responseHeaders && n.responseHeaders.date ? Date.parse(n.responseHeaders.date) : this.mainLoaded_ : Date.parse(n.responseText),
                    this.mainPlaylistLoader_.clientOffset_ = s - Date.now(),
                    e()
                }
            }
            )))
        }
        haveMain_() {
            this.state = "HAVE_MAIN_MANIFEST",
            this.isMain_ ? this.trigger("loadedplaylist") : this.media_ || this.media(this.childPlaylist_)
        }
        handleMain_() {
            this.mediaRequest_ = null;
            var e = this.mainPlaylistLoader_.main;
            let t = ed({
                mainXml: this.mainPlaylistLoader_.mainXml_,
                srcUrl: this.mainPlaylistLoader_.srcUrl,
                clientOffset: this.mainPlaylistLoader_.clientOffset_,
                sidxMapping: this.mainPlaylistLoader_.sidxMapping_,
                previousManifest: e
            });
            e && (t = ( (e, t, i) => {
                let n = !0
                  , s = tl(e, {
                    duration: t.duration,
                    minimumUpdatePeriod: t.minimumUpdatePeriod,
                    timelineStarts: t.timelineStarts
                });
                for (let e = 0; e < t.playlists.length; e++) {
                    var r = t.playlists[e]
                      , a = (r.sidx && (a = no(r.sidx),
                    i) && i[a] && i[a].sidx && Za(r, i[a].sidx, r.sidx.resolvedUri),
                    Fl(s, r, Jl));
                    a && (s = a,
                    n = !1)
                }
                return Ll(t, ( (e, t, i, r) => {
                    var a;
                    e.playlists && e.playlists.length && (a = e.playlists[0].id,
                    e = Fl(s, e.playlists[0], Jl)) && ((s = e).mediaGroups[t][i][r].playlists[0] = s.playlists[a],
                    n = !1)
                }
                )),
                (n = t.minimumUpdatePeriod === e.minimumUpdatePeriod && n) ? null : s
            }
            )(e, t, this.mainPlaylistLoader_.sidxMapping_)),
            this.mainPlaylistLoader_.main = t || e;
            var i = this.mainPlaylistLoader_.main.locations && this.mainPlaylistLoader_.main.locations[0];
            return i && i !== this.mainPlaylistLoader_.srcUrl && (this.mainPlaylistLoader_.srcUrl = i),
            (!e || t && t.minimumUpdatePeriod !== e.minimumUpdatePeriod) && this.updateMinimumUpdatePeriodTimeout_(),
            Boolean(t)
        }
        updateMinimumUpdatePeriodTimeout_() {
            var e = this.mainPlaylistLoader_;
            e.createMupOnMedia_ && (e.off("loadedmetadata", e.createMupOnMedia_),
            e.createMupOnMedia_ = null),
            e.minimumUpdatePeriodTimeout_ && (window.clearTimeout(e.minimumUpdatePeriodTimeout_),
            e.minimumUpdatePeriodTimeout_ = null);
            let t = e.main && e.main.minimumUpdatePeriod;
            0 === t && (e.media() ? t = 1e3 * e.media().targetDuration : (e.createMupOnMedia_ = e.updateMinimumUpdatePeriodTimeout_,
            e.one("loadedmetadata", e.createMupOnMedia_))),
            "number" != typeof t || t <= 0 ? t < 0 && this.logger_(`found invalid minimumUpdatePeriod of ${t}, not setting a timeout`) : this.createMUPTimeout_(t)
        }
        createMUPTimeout_(e) {
            const t = this.mainPlaylistLoader_;
            t.minimumUpdatePeriodTimeout_ = window.setTimeout(( () => {
                t.minimumUpdatePeriodTimeout_ = null,
                t.trigger("minimumUpdatePeriod"),
                t.createMUPTimeout_(e)
            }
            ), e)
        }
        refreshXml_() {
            this.requestMain_(( (e, t) => {
                t && (this.media_ && (this.media_ = this.mainPlaylistLoader_.main.playlists[this.media_.id]),
                this.mainPlaylistLoader_.sidxMapping_ = ( (e, t) => {
                    let i = id(e.playlists, t);
                    return Ll(e, ( (e, n, s, r) => {
                        e.playlists && e.playlists.length && (e = e.playlists,
                        i = tl(i, id(e, t)))
                    }
                    )),
                    i
                }
                )(this.mainPlaylistLoader_.main, this.mainPlaylistLoader_.sidxMapping_),
                this.addSidxSegments_(this.media(), this.state, (e => {
                    this.refreshMedia_(this.media().id)
                }
                )))
            }
            ))
        }
        refreshMedia_(e) {
            if (!e)
                throw new Error("refreshMedia_ must take a media id");
            this.media_ && this.isMain_ && this.handleMain_();
            var t = this.mainPlaylistLoader_.main.playlists;
            const i = !this.media_ || this.media_ !== t[e];
            if (i ? this.media_ = t[e] : this.trigger("playlistunchanged"),
            !this.mediaUpdateTimeout) {
                const e = () => {
                    this.media().endList || (this.mediaUpdateTimeout = window.setTimeout(( () => {
                        this.trigger("mediaupdatetimeout"),
                        e()
                    }
                    ), Ul(this.media(), Boolean(i))))
                }
                ;
                e()
            }
            this.trigger("loadedplaylist")
        }
    }
    var sd = {
        GOAL_BUFFER_LENGTH: 30,
        MAX_GOAL_BUFFER_LENGTH: 60,
        BACK_BUFFER_LENGTH: 30,
        GOAL_BUFFER_LENGTH_RATE: 1,
        INITIAL_BANDWIDTH: 4194304,
        BANDWIDTH_VARIANCE: 1.2,
        BUFFER_LOW_WATER_LINE: 0,
        MAX_BUFFER_LOW_WATER_LINE: 30,
        EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE: 16,
        BUFFER_LOW_WATER_LINE_RATE: 1,
        BUFFER_HIGH_WATER_LINE: 30
    };
    function rd(e) {
        return e.on = e.addEventListener,
        e.off = e.removeEventListener,
        e
    }
    function ad(e) {
        return function() {
            const t = function(e) {
                try {
                    return URL.createObjectURL(new Blob([e],{
                        type: "application/javascript"
                    }))
                } catch (i) {
                    var t = new BlobBuilder;
                    return t.append(e),
                    URL.createObjectURL(t.getBlob())
                }
            }(e);
            var i = rd(new Worker(t));
            i.objURL = t;
            const n = i.terminate;
            return i.on = i.addEventListener,
            i.off = i.removeEventListener,
            i.terminate = function() {
                return URL.revokeObjectURL(t),
                n.call(this)
            }
            ,
            i
        }
    }
    function od(e) {
        return `var browserWorkerPolyFill = ${rd.toString()};\nbrowserWorkerPolyFill(self);\n` + e
    }
    function ld(e) {
        return e.toString().replace(/^function.+?{/, "").slice(0, -1)
    }
    var dd = ad(od(ld((function() {
        function e() {
            this.init = function() {
                var e = {};
                this.on = function(t, i) {
                    e[t] || (e[t] = []),
                    e[t] = e[t].concat(i)
                }
                ,
                this.off = function(t, i) {
                    return !!e[t] && (i = e[t].indexOf(i),
                    e[t] = e[t].slice(),
                    e[t].splice(i, 1),
                    -1 < i)
                }
                ,
                this.trigger = function(t) {
                    var i, n, s, r = e[t];
                    if (r)
                        if (2 === arguments.length)
                            for (n = r.length,
                            i = 0; i < n; ++i)
                                r[i].call(this, arguments[1]);
                        else {
                            for (s = [],
                            i = arguments.length,
                            i = 1; i < arguments.length; ++i)
                                s.push(arguments[i]);
                            for (n = r.length,
                            i = 0; i < n; ++i)
                                r[i].apply(this, s)
                        }
                }
                ,
                this.dispose = function() {
                    e = {}
                }
            }
        }
        var t, i, n, s, r, a, o, l, d, c, u, h, p, f, m, g, v, y, b, _, T, w, S, k, x, C, E, P, A, I, O, L, M, D, R, N, B, j = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}, F = (e.prototype.pipe = function(e) {
            return this.on("data", (function(t) {
                e.push(t)
            }
            )),
            this.on("done", (function(t) {
                e.flush(t)
            }
            )),
            this.on("partialdone", (function(t) {
                e.partialFlush(t)
            }
            )),
            this.on("endedtimeline", (function(t) {
                e.endTimeline(t)
            }
            )),
            this.on("reset", (function(t) {
                e.reset(t)
            }
            )),
            e
        }
        ,
        e.prototype.push = function(e) {
            this.trigger("data", e)
        }
        ,
        e.prototype.flush = function(e) {
            this.trigger("done", e)
        }
        ,
        e.prototype.partialFlush = function(e) {
            this.trigger("partialdone", e)
        }
        ,
        e.prototype.endTimeline = function(e) {
            this.trigger("endedtimeline", e)
        }
        ,
        e.prototype.reset = function(e) {
            this.trigger("reset", e)
        }
        ,
        e), U = Math.pow(2, 32), $ = {
            getUint64: function(e) {
                var t;
                return (e = new DataView(e.buffer,e.byteOffset,e.byteLength)).getBigUint64 ? (t = e.getBigUint64(0)) < Number.MAX_SAFE_INTEGER ? Number(t) : t : e.getUint32(0) * U + e.getUint32(4)
            },
            MAX_UINT32: U
        }, H = $.MAX_UINT32;
        if (T = {
            avc1: [],
            avcC: [],
            btrt: [],
            dinf: [],
            dref: [],
            esds: [],
            ftyp: [],
            hdlr: [],
            mdat: [],
            mdhd: [],
            mdia: [],
            mfhd: [],
            minf: [],
            moof: [],
            moov: [],
            mp4a: [],
            mvex: [],
            mvhd: [],
            pasp: [],
            sdtp: [],
            smhd: [],
            stbl: [],
            stco: [],
            stsc: [],
            stsd: [],
            stsz: [],
            stts: [],
            styp: [],
            tfdt: [],
            tfhd: [],
            traf: [],
            trak: [],
            trun: [],
            trex: [],
            tkhd: [],
            vmhd: []
        },
        "undefined" != typeof Uint8Array) {
            for (var z in T)
                T.hasOwnProperty(z) && (T[z] = [z.charCodeAt(0), z.charCodeAt(1), z.charCodeAt(2), z.charCodeAt(3)]);
            w = new Uint8Array(["i".charCodeAt(0), "s".charCodeAt(0), "o".charCodeAt(0), "m".charCodeAt(0)]),
            k = new Uint8Array(["a".charCodeAt(0), "v".charCodeAt(0), "c".charCodeAt(0), "1".charCodeAt(0)]),
            S = new Uint8Array([0, 0, 0, 1]),
            te = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]),
            ne = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]),
            x = {
                video: te,
                audio: ne
            },
            P = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]),
            E = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]),
            A = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]),
            I = A,
            O = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),
            L = A,
            C = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])
        }
        function q(e, t) {
            var i = ie();
            return i.dataOffset = t,
            i.compositionTimeOffset = e.pts - e.dts,
            i.duration = e.duration,
            i.size = 4 * e.length,
            i.size += e.byteLength,
            e.keyFrame && (i.flags.dependsOn = 2,
            i.flags.isNonSyncSample = 0),
            i
        }
        function W(e) {
            for (var t = []; e--; )
                t.push(0);
            return t
        }
        function V(e) {
            e = e || {},
            V.prototype.init.call(this),
            this.parse708captions_ = "boolean" != typeof e.parse708captions || e.parse708captions,
            this.captionPackets_ = [],
            this.ccStreams_ = [new Te(0,0), new Te(0,1), new Te(1,0), new Te(1,1)],
            this.parse708captions_ && (this.cc708Stream_ = new ve({
                captionServices: e.captionServices
            })),
            this.reset(),
            this.ccStreams_.forEach((function(e) {
                e.on("data", this.trigger.bind(this, "data")),
                e.on("partialdone", this.trigger.bind(this, "partialdone")),
                e.on("done", this.trigger.bind(this, "done"))
            }
            ), this),
            this.parse708captions_ && (this.cc708Stream_.on("data", this.trigger.bind(this, "data")),
            this.cc708Stream_.on("partialdone", this.trigger.bind(this, "partialdone")),
            this.cc708Stream_.on("done", this.trigger.bind(this, "done")))
        }
        function G(e) {
            return 32 <= e && e <= 127 || 160 <= e && e <= 255
        }
        function X(e) {
            this.windowNum = e,
            this.reset()
        }
        function Y(e, t, i) {
            this.serviceNum = e,
            this.text = "",
            this.currentWindow = new X(-1),
            this.windows = [],
            this.stream = i,
            "string" == typeof t && this.createTextDecoder(t)
        }
        function K(e) {
            return null === e ? "" : (e = ye[e] || e,
            String.fromCharCode(e))
        }
        function Q() {
            for (var e = [], t = be + 1; t--; )
                e.push("");
            return e
        }
        function Z(e, t) {
            var i = 1;
            for (t < e && (i = -1); Math.abs(t - e) > xe; )
                e += i * ke;
            return e
        }
        function J(e) {
            var t, i;
            J.prototype.init.call(this),
            this.type_ = e || "shared",
            this.push = function(e) {
                "shared" !== this.type_ && e.type !== this.type_ || (void 0 === i && (i = e.dts),
                e.dts = Z(e.dts, i),
                e.pts = Z(e.pts, i),
                t = e.dts,
                this.trigger("data", e))
            }
            ,
            this.flush = function() {
                i = t,
                this.trigger("done")
            }
            ,
            this.endTimeline = function() {
                this.flush(),
                this.trigger("endedtimeline")
            }
            ,
            this.discontinuity = function() {
                t = i = void 0
            }
            ,
            this.reset = function() {
                this.discontinuity(),
                this.trigger("reset")
            }
        }
        t = function(e) {
            for (var t, i = [], n = 0, s = 1; s < arguments.length; s++)
                i.push(arguments[s]);
            for (s = i.length; s--; )
                n += i[s].byteLength;
            for (t = new Uint8Array(n + 8),
            new DataView(t.buffer,t.byteOffset,t.byteLength).setUint32(0, t.byteLength),
            t.set(e, 4),
            s = 0,
            n = 8; s < i.length; s++)
                t.set(i[s], n),
                n += i[s].byteLength;
            return t
        }
        ,
        i = function() {
            return t(T.dinf, t(T.dref, P))
        }
        ,
        n = function(e) {
            return t(T.esds, new Uint8Array([0, 0, 0, 0, 3, 25, 0, 0, 0, 4, 17, 64, 21, 0, 6, 0, 0, 0, 218, 192, 0, 0, 218, 192, 5, 2, e.audioobjecttype << 3 | e.samplingfrequencyindex >>> 1, e.samplingfrequencyindex << 7 | e.channelcount << 3, 6, 1, 2]))
        }
        ,
        f = function(e) {
            return t(T.hdlr, x[e])
        }
        ,
        p = function(e) {
            var i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 0, 1, 95, 144, e.duration >>> 24 & 255, e.duration >>> 16 & 255, e.duration >>> 8 & 255, 255 & e.duration, 85, 196, 0, 0]);
            return e.samplerate && (i[12] = e.samplerate >>> 24 & 255,
            i[13] = e.samplerate >>> 16 & 255,
            i[14] = e.samplerate >>> 8 & 255,
            i[15] = 255 & e.samplerate),
            t(T.mdhd, i)
        }
        ,
        h = function(e) {
            return t(T.mdia, p(e), f(e.type), a(e))
        }
        ,
        r = function(e) {
            return t(T.mfhd, new Uint8Array([0, 0, 0, 0, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e]))
        }
        ,
        a = function(e) {
            return t(T.minf, "video" === e.type ? t(T.vmhd, C) : t(T.smhd, E), i(), g(e))
        }
        ,
        l = function(e) {
            for (var i = e.length, n = []; i--; )
                n[i] = b(e[i]);
            return t.apply(null, [T.mvex].concat(n))
        }
        ,
        d = function(e) {
            return e = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 1, 95, 144, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255]),
            t(T.mvhd, e)
        }
        ,
        m = function(e) {
            for (var i, n = e.samples || [], s = new Uint8Array(4 + n.length), r = 0; r < n.length; r++)
                i = n[r].flags,
                s[r + 4] = i.dependsOn << 4 | i.isDependedOn << 2 | i.hasRedundancy;
            return t(T.sdtp, s)
        }
        ,
        g = function(e) {
            return t(T.stbl, v(e), t(T.stts, L), t(T.stsc, I), t(T.stsz, O), t(T.stco, A))
        }
        ,
        v = function(e) {
            return t(T.stsd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]), ("video" === e.type ? M : D)(e))
        }
        ,
        M = function(e) {
            for (var i, n, s = e.sps || [], r = e.pps || [], a = [], o = [], l = 0; l < s.length; l++)
                a.push((65280 & s[l].byteLength) >>> 8),
                a.push(255 & s[l].byteLength),
                a = a.concat(Array.prototype.slice.call(s[l]));
            for (l = 0; l < r.length; l++)
                o.push((65280 & r[l].byteLength) >>> 8),
                o.push(255 & r[l].byteLength),
                o = o.concat(Array.prototype.slice.call(r[l]));
            return i = [T.avc1, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, (65280 & e.height) >> 8, 255 & e.height, 0, 72, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 1, 19, 118, 105, 100, 101, 111, 106, 115, 45, 99, 111, 110, 116, 114, 105, 98, 45, 104, 108, 115, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 24, 17, 17]), t(T.avcC, new Uint8Array([1, e.profileIdc, e.profileCompatibility, e.levelIdc, 255].concat([s.length], a, [r.length], o))), t(T.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192]))],
            e.sarRatio && (n = e.sarRatio[0],
            e = e.sarRatio[1],
            i.push(t(T.pasp, new Uint8Array([(4278190080 & n) >> 24, (16711680 & n) >> 16, (65280 & n) >> 8, 255 & n, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e])))),
            t.apply(null, i)
        }
        ,
        D = function(e) {
            return t(T.mp4a, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, (65280 & e.channelcount) >> 8, 255 & e.channelcount, (65280 & e.samplesize) >> 8, 255 & e.samplesize, 0, 0, 0, 0, (65280 & e.samplerate) >> 8, 255 & e.samplerate, 0, 0]), n(e))
        }
        ,
        u = function(e) {
            return e = new Uint8Array([0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 0, (4278190080 & e.duration) >> 24, (16711680 & e.duration) >> 16, (65280 & e.duration) >> 8, 255 & e.duration, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 0, 0, 0, (65280 & e.width) >> 8, 255 & e.width, 0, 0, (65280 & e.height) >> 8, 255 & e.height, 0, 0]),
            t(T.tkhd, e)
        }
        ,
        y = function(e) {
            var i, n = t(T.tfhd, new Uint8Array([0, 0, 0, 58, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])), s = Math.floor(e.baseMediaDecodeTime / H), r = Math.floor(e.baseMediaDecodeTime % H);
            s = t(T.tfdt, new Uint8Array([1, 0, 0, 0, s >>> 24 & 255, s >>> 16 & 255, s >>> 8 & 255, 255 & s, r >>> 24 & 255, r >>> 16 & 255, r >>> 8 & 255, 255 & r]));
            return "audio" === e.type ? (i = _(e, 92),
            t(T.traf, n, s, i)) : (r = m(e),
            i = _(e, r.length + 92),
            t(T.traf, n, s, i, r))
        }
        ,
        c = function(e) {
            return e.duration = e.duration || 4294967295,
            t(T.trak, u(e), h(e))
        }
        ,
        b = function(e) {
            var i = new Uint8Array([0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]);
            return "video" !== e.type && (i[i.length - 1] = 0),
            t(T.trex, i)
        }
        ,
        R = function(e, t) {
            var i = 0
              , n = 0
              , s = 0
              , r = 0;
            return e.length && (void 0 !== e[0].duration && (i = 1),
            void 0 !== e[0].size && (n = 2),
            void 0 !== e[0].flags && (s = 4),
            void 0 !== e[0].compositionTimeOffset) && (r = 8),
            [0, 0, i | n | s | r, 1, (4278190080 & e.length) >>> 24, (16711680 & e.length) >>> 16, (65280 & e.length) >>> 8, 255 & e.length, (4278190080 & t) >>> 24, (16711680 & t) >>> 16, (65280 & t) >>> 8, 255 & t]
        }
        ,
        N = function(e, i) {
            var n, s, r, a, o = e.samples || [];
            for (i += 20 + 16 * o.length,
            e = R(o, i),
            (s = new Uint8Array(e.length + 16 * o.length)).set(e),
            n = e.length,
            a = 0; a < o.length; a++)
                r = o[a],
                s[n++] = (4278190080 & r.duration) >>> 24,
                s[n++] = (16711680 & r.duration) >>> 16,
                s[n++] = (65280 & r.duration) >>> 8,
                s[n++] = 255 & r.duration,
                s[n++] = (4278190080 & r.size) >>> 24,
                s[n++] = (16711680 & r.size) >>> 16,
                s[n++] = (65280 & r.size) >>> 8,
                s[n++] = 255 & r.size,
                s[n++] = r.flags.isLeading << 2 | r.flags.dependsOn,
                s[n++] = r.flags.isDependedOn << 6 | r.flags.hasRedundancy << 4 | r.flags.paddingValue << 1 | r.flags.isNonSyncSample,
                s[n++] = 61440 & r.flags.degradationPriority,
                s[n++] = 15 & r.flags.degradationPriority,
                s[n++] = (4278190080 & r.compositionTimeOffset) >>> 24,
                s[n++] = (16711680 & r.compositionTimeOffset) >>> 16,
                s[n++] = (65280 & r.compositionTimeOffset) >>> 8,
                s[n++] = 255 & r.compositionTimeOffset;
            return t(T.trun, s)
        }
        ,
        B = function(e, i) {
            var n, s, r, a, o = e.samples || [];
            for (i += 20 + 8 * o.length,
            e = R(o, i),
            (n = new Uint8Array(e.length + 8 * o.length)).set(e),
            s = e.length,
            a = 0; a < o.length; a++)
                r = o[a],
                n[s++] = (4278190080 & r.duration) >>> 24,
                n[s++] = (16711680 & r.duration) >>> 16,
                n[s++] = (65280 & r.duration) >>> 8,
                n[s++] = 255 & r.duration,
                n[s++] = (4278190080 & r.size) >>> 24,
                n[s++] = (16711680 & r.size) >>> 16,
                n[s++] = (65280 & r.size) >>> 8,
                n[s++] = 255 & r.size;
            return t(T.trun, n)
        }
        ,
        _ = function(e, t) {
            return ("audio" === e.type ? B : N)(e, t)
        }
        ;
        var ee, te = {
            ftyp: s = function() {
                return t(T.ftyp, w, S, w, k)
            }
            ,
            mdat: function(e) {
                return t(T.mdat, e)
            },
            moof: function(e, i) {
                for (var n = [], s = i.length; s--; )
                    n[s] = y(i[s]);
                return t.apply(null, [T.moof, r(e)].concat(n))
            },
            moov: o = function(e) {
                for (var i = e.length, n = []; i--; )
                    n[i] = c(e[i]);
                return t.apply(null, [T.moov, d(4294967295)].concat(n).concat(l(e)))
            }
            ,
            initSegment: function(e) {
                var t = s()
                  , i = (e = o(e),
                new Uint8Array(t.byteLength + e.byteLength));
                return i.set(t),
                i.set(e, t.byteLength),
                i
            }
        }, ie = function() {
            return {
                size: 0,
                flags: {
                    isLeading: 0,
                    dependsOn: 1,
                    isDependedOn: 0,
                    hasRedundancy: 0,
                    degradationPriority: 0,
                    isNonSyncSample: 1
                }
            }
        }, ne = {
            groupNalsIntoFrames: function(e) {
                var t, i, n = [], s = [];
                for (s.byteLength = 0,
                s.nalCount = 0,
                t = n.byteLength = s.duration = 0; t < e.length; t++)
                    "access_unit_delimiter_rbsp" === (i = e[t]).nalUnitType ? (n.length && (n.duration = i.dts - n.dts,
                    s.byteLength += n.byteLength,
                    s.nalCount += n.length,
                    s.duration += n.duration,
                    s.push(n)),
                    (n = [i]).byteLength = i.data.byteLength,
                    n.pts = i.pts,
                    n.dts = i.dts) : ("slice_layer_without_partitioning_rbsp_idr" === i.nalUnitType && (n.keyFrame = !0),
                    n.duration = i.dts - n.dts,
                    n.byteLength += i.data.byteLength,
                    n.push(i));
                return s.length && (!n.duration || n.duration <= 0) && (n.duration = s[s.length - 1].duration),
                s.byteLength += n.byteLength,
                s.nalCount += n.length,
                s.duration += n.duration,
                s.push(n),
                s
            },
            groupFramesIntoGops: function(e) {
                var t, i, n = [], s = [];
                for (n.byteLength = 0,
                n.nalCount = 0,
                n.duration = 0,
                n.pts = e[0].pts,
                n.dts = e[0].dts,
                s.byteLength = 0,
                s.nalCount = 0,
                s.duration = 0,
                s.pts = e[0].pts,
                s.dts = e[0].dts,
                t = 0; t < e.length; t++)
                    (i = e[t]).keyFrame ? (n.length && (s.push(n),
                    s.byteLength += n.byteLength,
                    s.nalCount += n.nalCount,
                    s.duration += n.duration),
                    (n = [i]).nalCount = i.length,
                    n.byteLength = i.byteLength,
                    n.pts = i.pts,
                    n.dts = i.dts,
                    n.duration = i.duration) : (n.duration += i.duration,
                    n.nalCount += i.length,
                    n.byteLength += i.byteLength,
                    n.push(i));
                return s.length && n.duration <= 0 && (n.duration = s[s.length - 1].duration),
                s.byteLength += n.byteLength,
                s.nalCount += n.nalCount,
                s.duration += n.duration,
                s.push(n),
                s
            },
            extendFirstKeyFrame: function(e) {
                var t;
                return !e[0][0].keyFrame && 1 < e.length && (t = e.shift(),
                e.byteLength -= t.byteLength,
                e.nalCount -= t.nalCount,
                e[0][0].dts = t.dts,
                e[0][0].pts = t.pts,
                e[0][0].duration += t.duration),
                e
            },
            generateSampleTable: function(e, t) {
                for (var i, n, s, r = t || 0, a = [], o = 0; o < e.length; o++)
                    for (n = e[o],
                    i = 0; i < n.length; i++)
                        r += (s = q(s = n[i], r)).size,
                        a.push(s);
                return a
            },
            concatenateNalData: function(e) {
                for (var t, i, n, s, r, a = 0, o = e.byteLength, l = e.nalCount, d = new Uint8Array(o + 4 * l), c = new DataView(d.buffer), u = 0; u < e.length; u++)
                    for (n = e[u],
                    t = 0; t < n.length; t++)
                        for (s = n[t],
                        i = 0; i < s.length; i++)
                            r = s[i],
                            c.setUint32(a, r.data.byteLength),
                            d.set(r.data, a += 4),
                            a += r.data.byteLength;
                return d
            },
            generateSampleTableForFrame: function(e, t) {
                var i = [];
                e = q(e, t || 0);
                return i.push(e),
                i
            },
            concatenateNalDataForFrame: function(e) {
                for (var t, i = 0, n = e.byteLength, s = e.length, r = new Uint8Array(n + 4 * s), a = new DataView(r.buffer), o = 0; o < e.length; o++)
                    t = e[o],
                    a.setUint32(i, t.data.byteLength),
                    r.set(t.data, i += 4),
                    i += t.data.byteLength;
                return r
            }
        }, se = [33, 16, 5, 32, 164, 27], re = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252], ae = function(e) {
            return 9e4 * e
        }, oe = function(e, t) {
            return e * t
        }, le = function(e) {
            return e / 9e4
        }, de = function(e, t) {
            return e / t
        }, ce = {
            ONE_SECOND_IN_TS: 9e4,
            secondsToVideoTs: ae,
            secondsToAudioTs: oe,
            videoTsToSeconds: le,
            audioTsToSeconds: de,
            audioTsToVideoTs: function(e, t) {
                return e / t * 9e4
            },
            videoTsToAudioTs: function(e, t) {
                return e / 9e4 * t
            },
            metadataTsToSeconds: function(e, t, i) {
                return le(i ? e : e - t)
            }
        }, ue = function() {
            var e, t;
            return ee || (e = {
                96e3: [se, [227, 64], W(154), [56]],
                88200: [se, [231], W(170), [56]],
                64e3: [se, [248, 192], W(240), [56]],
                48e3: [se, [255, 192], W(268), [55, 148, 128], W(54), [112]],
                44100: [se, [255, 192], W(268), [55, 163, 128], W(84), [112]],
                32e3: [se, [255, 192], W(268), [55, 234], W(226), [112]],
                24e3: [se, [255, 192], W(268), [55, 255, 128], W(268), [111, 112], W(126), [224]],
                16e3: [se, [255, 192], W(268), [55, 255, 128], W(268), [111, 255], W(269), [223, 108], W(195), [1, 192]],
                12e3: [re, W(268), [3, 127, 248], W(268), [6, 255, 240], W(268), [13, 255, 224], W(268), [27, 253, 128], W(259), [56]],
                11025: [re, W(268), [3, 127, 248], W(268), [6, 255, 240], W(268), [13, 255, 224], W(268), [27, 255, 192], W(268), [55, 175, 128], W(108), [112]],
                8e3: [re, W(268), [3, 121, 16], W(47), [7]]
            },
            t = e,
            ee = Object.keys(t).reduce((function(e, i) {
                return e[i] = new Uint8Array(t[i].reduce((function(e, t) {
                    return e.concat(t)
                }
                ), [])),
                e
            }
            ), {})),
            ee
        }, he = ce, pe = (ae = {
            prefixWithSilence: function(e, t, i, n) {
                var s, r, a, o, l, d = 0, c = 0;
                if (t.length && (r = he.audioTsToVideoTs(e.baseMediaDecodeTime, e.samplerate),
                s = Math.ceil(he.ONE_SECOND_IN_TS / (e.samplerate / 1024)),
                i && n && (r -= Math.max(i, n),
                c = (d = Math.floor(r / s)) * s),
                !(d < 1 || c > he.ONE_SECOND_IN_TS / 2))) {
                    for (a = (a = ue()[e.samplerate]) || t[0].data,
                    o = 0; o < d; o++)
                        l = t[0],
                        t.splice(0, 0, {
                            data: a,
                            dts: l.dts - s,
                            pts: l.pts - s
                        });
                    return e.baseMediaDecodeTime -= Math.floor(he.videoTsToAudioTs(c, e.samplerate)),
                    c
                }
            },
            trimAdtsFramesByEarliestDts: function(e, t, i) {
                return t.minSegmentDts >= i ? e : (t.minSegmentDts = 1 / 0,
                e.filter((function(e) {
                    return e.dts >= i && (t.minSegmentDts = Math.min(t.minSegmentDts, e.dts),
                    t.minSegmentPts = t.minSegmentDts,
                    !0)
                }
                )))
            },
            generateSampleTable: function(e) {
                for (var t, i = [], n = 0; n < e.length; n++)
                    t = e[n],
                    i.push({
                        size: t.data.byteLength,
                        duration: 1024
                    });
                return i
            },
            concatenateFrameData: function(e) {
                for (var t, i = 0, n = new Uint8Array(function(e) {
                    for (var t = 0, i = 0; i < e.length; i++)
                        t += e[i].data.byteLength;
                    return t
                }(e)), s = 0; s < e.length; s++)
                    t = e[s],
                    n.set(t.data, i),
                    i += t.data.byteLength;
                return n
            }
        },
        ce.ONE_SECOND_IN_TS), fe = (oe = {
            clearDtsInfo: function(e) {
                delete e.minSegmentDts,
                delete e.maxSegmentDts,
                delete e.minSegmentPts,
                delete e.maxSegmentPts
            },
            calculateTrackBaseMediaDecodeTime: function(e, t) {
                var i = e.minSegmentDts;
                return t || (i -= e.timelineStartInfo.dts),
                t = e.timelineStartInfo.baseMediaDecodeTime,
                t += i,
                t = Math.max(0, t),
                "audio" === e.type && (t *= e.samplerate / pe,
                t = Math.floor(t)),
                t
            },
            collectDtsInfo: function(e, t) {
                "number" == typeof t.pts && (void 0 === e.timelineStartInfo.pts && (e.timelineStartInfo.pts = t.pts),
                void 0 === e.minSegmentPts ? e.minSegmentPts = t.pts : e.minSegmentPts = Math.min(e.minSegmentPts, t.pts),
                void 0 === e.maxSegmentPts ? e.maxSegmentPts = t.pts : e.maxSegmentPts = Math.max(e.maxSegmentPts, t.pts)),
                "number" == typeof t.dts && (void 0 === e.timelineStartInfo.dts && (e.timelineStartInfo.dts = t.dts),
                void 0 === e.minSegmentDts ? e.minSegmentDts = t.dts : e.minSegmentDts = Math.min(e.minSegmentDts, t.dts),
                void 0 === e.maxSegmentDts ? e.maxSegmentDts = t.dts : e.maxSegmentDts = Math.max(e.maxSegmentDts, t.dts))
            }
        },
        de = {
            parseSei: function(e) {
                for (var t = 0, i = {
                    payloadType: -1,
                    payloadSize: 0
                }, n = 0, s = 0; t < e.byteLength && 128 !== e[t]; ) {
                    for (; 255 === e[t]; )
                        n += 255,
                        t++;
                    for (n += e[t++]; 255 === e[t]; )
                        s += 255,
                        t++;
                    if (s += e[t++],
                    !i.payload && 4 === n) {
                        if ("GA94" === String.fromCharCode(e[t + 3], e[t + 4], e[t + 5], e[t + 6])) {
                            i.payloadType = n,
                            i.payloadSize = s,
                            i.payload = e.subarray(t, t + s);
                            break
                        }
                        i.payload = void 0
                    }
                    t += s,
                    s = n = 0
                }
                return i
            },
            parseUserData: function(e) {
                return 181 !== e.payload[0] || 49 != (e.payload[1] << 8 | e.payload[2]) || "GA94" !== String.fromCharCode(e.payload[3], e.payload[4], e.payload[5], e.payload[6]) || 3 !== e.payload[7] ? null : e.payload.subarray(8, e.payload.length - 1)
            },
            parseCaptionPackets: function(e, t) {
                var i, n, s, r, a = [];
                if (64 & t[0])
                    for (n = 31 & t[0],
                    i = 0; i < n; i++)
                        r = {
                            type: 3 & t[2 + (s = 3 * i)],
                            pts: e
                        },
                        4 & t[2 + s] && (r.ccData = t[3 + s] << 8 | t[4 + s],
                        a.push(r));
                return a
            },
            discardEmulationPreventionBytes: function(e) {
                for (var t = e.byteLength, i = [], n = 1; n < t - 2; )
                    0 === e[n] && 0 === e[n + 1] && 3 === e[n + 2] ? (i.push(n + 2),
                    n += 2) : n++;
                if (0 === i.length)
                    return e;
                var s = t - i.length
                  , r = new Uint8Array(s)
                  , a = 0;
                for (n = 0; n < s; a++,
                n++)
                    a === i[0] && (a++,
                    i.shift()),
                    r[n] = e[a];
                return r
            },
            USER_DATA_REGISTERED_ITU_T_T35: 4
        },
        F), me = de, ge = ((V.prototype = new fe).push = function(e) {
            var t;
            "sei_rbsp" === e.nalUnitType && (t = me.parseSei(e.escapedRBSP)).payload && t.payloadType === me.USER_DATA_REGISTERED_ITU_T_T35 && (t = me.parseUserData(t)) && (e.dts < this.latestDts_ ? this.ignoreNextEqualDts_ = !0 : e.dts === this.latestDts_ && this.ignoreNextEqualDts_ ? (this.numSameDts_--,
            this.numSameDts_ || (this.ignoreNextEqualDts_ = !1)) : (t = me.parseCaptionPackets(e.pts, t),
            this.captionPackets_ = this.captionPackets_.concat(t),
            this.latestDts_ !== e.dts && (this.numSameDts_ = 0),
            this.numSameDts_++,
            this.latestDts_ = e.dts))
        }
        ,
        V.prototype.flushCCStreams = function(e) {
            this.ccStreams_.forEach((function(t) {
                return "flush" === e ? t.flush() : t.partialFlush()
            }
            ), this)
        }
        ,
        V.prototype.flushStream = function(e) {
            this.captionPackets_.length && (this.captionPackets_.forEach((function(e, t) {
                e.presortIndex = t
            }
            )),
            this.captionPackets_.sort((function(e, t) {
                return e.pts === t.pts ? e.presortIndex - t.presortIndex : e.pts - t.pts
            }
            )),
            this.captionPackets_.forEach((function(e) {
                e.type < 2 ? this.dispatchCea608Packet(e) : this.dispatchCea708Packet(e)
            }
            ), this),
            this.captionPackets_.length = 0),
            this.flushCCStreams(e)
        }
        ,
        V.prototype.flush = function() {
            return this.flushStream("flush")
        }
        ,
        V.prototype.partialFlush = function() {
            return this.flushStream("partialFlush")
        }
        ,
        V.prototype.reset = function() {
            this.latestDts_ = null,
            this.ignoreNextEqualDts_ = !1,
            this.numSameDts_ = 0,
            this.activeCea608Channel_ = [null, null],
            this.ccStreams_.forEach((function(e) {
                e.reset()
            }
            ))
        }
        ,
        V.prototype.dispatchCea608Packet = function(e) {
            this.setsTextOrXDSActive(e) ? this.activeCea608Channel_[e.type] = null : this.setsChannel1Active(e) ? this.activeCea608Channel_[e.type] = 0 : this.setsChannel2Active(e) && (this.activeCea608Channel_[e.type] = 1),
            null !== this.activeCea608Channel_[e.type] && this.ccStreams_[(e.type << 1) + this.activeCea608Channel_[e.type]].push(e)
        }
        ,
        V.prototype.setsChannel1Active = function(e) {
            return 4096 == (30720 & e.ccData)
        }
        ,
        V.prototype.setsChannel2Active = function(e) {
            return 6144 == (30720 & e.ccData)
        }
        ,
        V.prototype.setsTextOrXDSActive = function(e) {
            return 256 == (28928 & e.ccData) || 4138 == (30974 & e.ccData) || 6186 == (30974 & e.ccData)
        }
        ,
        V.prototype.dispatchCea708Packet = function(e) {
            this.parse708captions_ && this.cc708Stream_.push(e)
        }
        ,
        {
            127: 9834,
            4128: 32,
            4129: 160,
            4133: 8230,
            4138: 352,
            4140: 338,
            4144: 9608,
            4145: 8216,
            4146: 8217,
            4147: 8220,
            4148: 8221,
            4149: 8226,
            4153: 8482,
            4154: 353,
            4156: 339,
            4157: 8480,
            4159: 376,
            4214: 8539,
            4215: 8540,
            4216: 8541,
            4217: 8542,
            4218: 9168,
            4219: 9124,
            4220: 9123,
            4221: 9135,
            4222: 9126,
            4223: 9121,
            4256: 12600
        }), ve = (X.prototype.reset = function() {
            this.clearText(),
            this.pendingNewLine = !1,
            this.winAttr = {},
            this.penAttr = {},
            this.penLoc = {},
            this.penColor = {},
            this.visible = 0,
            this.rowLock = 0,
            this.columnLock = 0,
            this.priority = 0,
            this.relativePositioning = 0,
            this.anchorVertical = 0,
            this.anchorHorizontal = 0,
            this.anchorPoint = 0,
            this.rowCount = 1,
            this.virtualRowCount = this.rowCount + 1,
            this.columnCount = 41,
            this.windowStyle = 0,
            this.penStyle = 0
        }
        ,
        X.prototype.getText = function() {
            return this.rows.join("\n")
        }
        ,
        X.prototype.clearText = function() {
            this.rows = [""],
            this.rowIdx = 0
        }
        ,
        X.prototype.newLine = function(e) {
            for (this.rows.length >= this.virtualRowCount && "function" == typeof this.beforeRowOverflow && this.beforeRowOverflow(e),
            0 < this.rows.length && (this.rows.push(""),
            this.rowIdx++); this.rows.length > this.virtualRowCount; )
                this.rows.shift(),
                this.rowIdx--
        }
        ,
        X.prototype.isEmpty = function() {
            return 0 === this.rows.length || 1 === this.rows.length && "" === this.rows[0]
        }
        ,
        X.prototype.addText = function(e) {
            this.rows[this.rowIdx] += e
        }
        ,
        X.prototype.backspace = function() {
            var e;
            this.isEmpty() || (e = this.rows[this.rowIdx],
            this.rows[this.rowIdx] = e.substr(0, e.length - 1))
        }
        ,
        Y.prototype.init = function(e, t) {
            this.startPts = e;
            for (var i = 0; i < 8; i++)
                this.windows[i] = new X(i),
                "function" == typeof t && (this.windows[i].beforeRowOverflow = t)
        }
        ,
        Y.prototype.setCurrentWindow = function(e) {
            this.currentWindow = this.windows[e]
        }
        ,
        Y.prototype.createTextDecoder = function(e) {
            if ("undefined" == typeof TextDecoder)
                this.stream.trigger("log", {
                    level: "warn",
                    message: "The `encoding` option is unsupported without TextDecoder support"
                });
            else
                try {
                    this.textDecoder_ = new TextDecoder(e)
                } catch (t) {
                    this.stream.trigger("log", {
                        level: "warn",
                        message: "TextDecoder could not be created with " + e + " encoding. " + t
                    })
                }
        }
        ,
        function(e) {
            e = e || {},
            ve.prototype.init.call(this);
            var t, i = this, n = e.captionServices || {}, s = {};
            Object.keys(n).forEach((e => {
                t = n[e],
                /^SERVICE/.test(e) && (s[e] = t.encoding)
            }
            )),
            this.serviceEncodings = s,
            this.current708Packet = null,
            this.services = {},
            this.push = function(e) {
                (3 === e.type || null === i.current708Packet) && i.new708Packet(),
                i.add708Bytes(e)
            }
        }
        ), ye = (ve.prototype = new fe,
        ve.prototype.new708Packet = function() {
            null !== this.current708Packet && this.push708Packet(),
            this.current708Packet = {
                data: [],
                ptsVals: []
            }
        }
        ,
        ve.prototype.add708Bytes = function(e) {
            var t = (i = e.ccData) >>> 8
              , i = 255 & i;
            this.current708Packet.ptsVals.push(e.pts),
            this.current708Packet.data.push(t),
            this.current708Packet.data.push(i)
        }
        ,
        ve.prototype.push708Packet = function() {
            var e, t = this.current708Packet, i = t.data, n = null, s = 0, r = i[s++];
            for (t.seq = r >> 6,
            t.sizeCode = 63 & r; s < i.length; s++)
                e = 31 & (r = i[s++]),
                7 == (n = r >> 5) && 0 < e && (n = i[s++]),
                this.pushServiceBlock(n, s, e),
                0 < e && (s += e - 1)
        }
        ,
        ve.prototype.pushServiceBlock = function(e, t, i) {
            for (var n, s = t, r = this.current708Packet.data, a = (a = this.services[e]) || this.initService(e, s); s < t + i && s < r.length; s++)
                G(n = r[s]) ? s = this.handleText(s, a) : 24 === n ? s = this.multiByteCharacter(s, a) : 16 === n ? s = this.extendedCommands(s, a) : 128 <= n && n <= 135 ? s = this.setCurrentWindow(s, a) : 152 <= n && n <= 159 ? s = this.defineWindow(s, a) : 136 === n ? s = this.clearWindows(s, a) : 140 === n ? s = this.deleteWindows(s, a) : 137 === n ? s = this.displayWindows(s, a) : 138 === n ? s = this.hideWindows(s, a) : 139 === n ? s = this.toggleWindows(s, a) : 151 === n ? s = this.setWindowAttributes(s, a) : 144 === n ? s = this.setPenAttributes(s, a) : 145 === n ? s = this.setPenColor(s, a) : 146 === n ? s = this.setPenLocation(s, a) : 143 === n ? a = this.reset(s, a) : 8 === n ? a.currentWindow.backspace() : 12 === n ? a.currentWindow.clearText() : 13 === n ? a.currentWindow.pendingNewLine = !0 : 14 === n ? a.currentWindow.clearText() : 141 === n && s++
        }
        ,
        ve.prototype.extendedCommands = function(e, t) {
            return G(this.current708Packet.data[++e]) ? this.handleText(e, t, {
                isExtended: !0
            }) : e
        }
        ,
        ve.prototype.getPts = function(e) {
            return this.current708Packet.ptsVals[Math.floor(e / 2)]
        }
        ,
        ve.prototype.initService = function(e, t) {
            var i, n = "SERVICE" + e, s = this;
            return n in this.serviceEncodings && (i = this.serviceEncodings[n]),
            this.services[e] = new Y(e,i,s),
            this.services[e].init(this.getPts(t), (function(t) {
                s.flushDisplayed(t, s.services[e])
            }
            )),
            this.services[e]
        }
        ,
        ve.prototype.handleText = function(e, t, i) {
            var n, s = i && i.isExtended, r = (i = i && i.isMultiByte,
            s ? 4096 : 0), a = (o = this.current708Packet.data)[e], o = o[e + 1], l = t.currentWindow;
            o = t.textDecoder_ && !s ? (i ? (n = [a, o],
            e++) : n = [a],
            t.textDecoder_.decode(new Uint8Array(n))) : (i = ge[s = r | a] || s,
            4096 & s && s === i ? "" : String.fromCharCode(i));
            return l.pendingNewLine && !l.isEmpty() && l.newLine(this.getPts(e)),
            l.pendingNewLine = !1,
            l.addText(o),
            e
        }
        ,
        ve.prototype.multiByteCharacter = function(e, t) {
            var i = (n = this.current708Packet.data)[e + 1]
              , n = n[e + 2];
            return G(i) && G(n) ? this.handleText(++e, t, {
                isMultiByte: !0
            }) : e
        }
        ,
        ve.prototype.setCurrentWindow = function(e, t) {
            var i = this.current708Packet.data[e];
            return t.setCurrentWindow(7 & i),
            e
        }
        ,
        ve.prototype.defineWindow = function(e, t) {
            var i = this.current708Packet.data
              , n = i[e];
            t.setCurrentWindow(7 & n),
            t = t.currentWindow,
            n = i[++e];
            return t.visible = (32 & n) >> 5,
            t.rowLock = (16 & n) >> 4,
            t.columnLock = (8 & n) >> 3,
            t.priority = 7 & n,
            n = i[++e],
            t.relativePositioning = (128 & n) >> 7,
            t.anchorVertical = 127 & n,
            n = i[++e],
            t.anchorHorizontal = n,
            n = i[++e],
            t.anchorPoint = (240 & n) >> 4,
            t.rowCount = 15 & n,
            n = i[++e],
            t.columnCount = 63 & n,
            n = i[++e],
            t.windowStyle = (56 & n) >> 3,
            t.penStyle = 7 & n,
            t.virtualRowCount = t.rowCount + 1,
            e
        }
        ,
        ve.prototype.setWindowAttributes = function(e, t) {
            var i = this.current708Packet.data
              , n = (t = (i[e],
            t.currentWindow.winAttr),
            i[++e]);
            return t.fillOpacity = (192 & n) >> 6,
            t.fillRed = (48 & n) >> 4,
            t.fillGreen = (12 & n) >> 2,
            t.fillBlue = 3 & n,
            n = i[++e],
            t.borderType = (192 & n) >> 6,
            t.borderRed = (48 & n) >> 4,
            t.borderGreen = (12 & n) >> 2,
            t.borderBlue = 3 & n,
            n = i[++e],
            t.borderType += (128 & n) >> 5,
            t.wordWrap = (64 & n) >> 6,
            t.printDirection = (48 & n) >> 4,
            t.scrollDirection = (12 & n) >> 2,
            t.justify = 3 & n,
            n = i[++e],
            t.effectSpeed = (240 & n) >> 4,
            t.effectDirection = (12 & n) >> 2,
            t.displayEffect = 3 & n,
            e
        }
        ,
        ve.prototype.flushDisplayed = function(e, t) {
            for (var i = [], n = 0; n < 8; n++)
                t.windows[n].visible && !t.windows[n].isEmpty() && i.push(t.windows[n].getText());
            t.endPts = e,
            t.text = i.join("\n\n"),
            this.pushCaption(t),
            t.startPts = e
        }
        ,
        ve.prototype.pushCaption = function(e) {
            "" !== e.text && (this.trigger("data", {
                startPts: e.startPts,
                endPts: e.endPts,
                text: e.text,
                stream: "cc708_" + e.serviceNum
            }),
            e.text = "",
            e.startPts = e.endPts)
        }
        ,
        ve.prototype.displayWindows = function(e, t) {
            var i = this.current708Packet.data[++e]
              , n = this.getPts(e);
            this.flushDisplayed(n, t);
            for (var s = 0; s < 8; s++)
                i & 1 << s && (t.windows[s].visible = 1);
            return e
        }
        ,
        ve.prototype.hideWindows = function(e, t) {
            var i = this.current708Packet.data[++e]
              , n = this.getPts(e);
            this.flushDisplayed(n, t);
            for (var s = 0; s < 8; s++)
                i & 1 << s && (t.windows[s].visible = 0);
            return e
        }
        ,
        ve.prototype.toggleWindows = function(e, t) {
            var i = this.current708Packet.data[++e]
              , n = this.getPts(e);
            this.flushDisplayed(n, t);
            for (var s = 0; s < 8; s++)
                i & 1 << s && (t.windows[s].visible ^= 1);
            return e
        }
        ,
        ve.prototype.clearWindows = function(e, t) {
            var i = this.current708Packet.data[++e]
              , n = this.getPts(e);
            this.flushDisplayed(n, t);
            for (var s = 0; s < 8; s++)
                i & 1 << s && t.windows[s].clearText();
            return e
        }
        ,
        ve.prototype.deleteWindows = function(e, t) {
            var i = this.current708Packet.data[++e]
              , n = this.getPts(e);
            this.flushDisplayed(n, t);
            for (var s = 0; s < 8; s++)
                i & 1 << s && t.windows[s].reset();
            return e
        }
        ,
        ve.prototype.setPenAttributes = function(e, t) {
            var i = this.current708Packet.data
              , n = (t = (i[e],
            t.currentWindow.penAttr),
            i[++e]);
            return t.textTag = (240 & n) >> 4,
            t.offset = (12 & n) >> 2,
            t.penSize = 3 & n,
            n = i[++e],
            t.italics = (128 & n) >> 7,
            t.underline = (64 & n) >> 6,
            t.edgeType = (56 & n) >> 3,
            t.fontStyle = 7 & n,
            e
        }
        ,
        ve.prototype.setPenColor = function(e, t) {
            var i = this.current708Packet.data
              , n = (t = (i[e],
            t.currentWindow.penColor),
            i[++e]);
            return t.fgOpacity = (192 & n) >> 6,
            t.fgRed = (48 & n) >> 4,
            t.fgGreen = (12 & n) >> 2,
            t.fgBlue = 3 & n,
            n = i[++e],
            t.bgOpacity = (192 & n) >> 6,
            t.bgRed = (48 & n) >> 4,
            t.bgGreen = (12 & n) >> 2,
            t.bgBlue = 3 & n,
            n = i[++e],
            t.edgeRed = (48 & n) >> 4,
            t.edgeGreen = (12 & n) >> 2,
            t.edgeBlue = 3 & n,
            e
        }
        ,
        ve.prototype.setPenLocation = function(e, t) {
            var i = this.current708Packet.data
              , n = (i[e],
            t.currentWindow.penLoc);
            return t.currentWindow.pendingNewLine = !0,
            t = i[++e],
            n.row = 15 & t,
            t = i[++e],
            n.column = 63 & t,
            e
        }
        ,
        ve.prototype.reset = function(e, t) {
            var i = this.getPts(e);
            return this.flushDisplayed(i, t),
            this.initService(t.serviceNum, e)
        }
        ,
        {
            42: 225,
            92: 233,
            94: 237,
            95: 243,
            96: 250,
            123: 231,
            124: 247,
            125: 209,
            126: 241,
            127: 9608,
            304: 174,
            305: 176,
            306: 189,
            307: 191,
            308: 8482,
            309: 162,
            310: 163,
            311: 9834,
            312: 224,
            313: 160,
            314: 232,
            315: 226,
            316: 234,
            317: 238,
            318: 244,
            319: 251,
            544: 193,
            545: 201,
            546: 211,
            547: 218,
            548: 220,
            549: 252,
            550: 8216,
            551: 161,
            552: 42,
            553: 39,
            554: 8212,
            555: 169,
            556: 8480,
            557: 8226,
            558: 8220,
            559: 8221,
            560: 192,
            561: 194,
            562: 199,
            563: 200,
            564: 202,
            565: 203,
            566: 235,
            567: 206,
            568: 207,
            569: 239,
            570: 212,
            571: 217,
            572: 249,
            573: 219,
            574: 171,
            575: 187,
            800: 195,
            801: 227,
            802: 205,
            803: 204,
            804: 236,
            805: 210,
            806: 242,
            807: 213,
            808: 245,
            809: 123,
            810: 125,
            811: 92,
            812: 94,
            813: 95,
            814: 124,
            815: 126,
            816: 196,
            817: 228,
            818: 214,
            819: 246,
            820: 223,
            821: 165,
            822: 164,
            823: 9474,
            824: 197,
            825: 229,
            826: 216,
            827: 248,
            828: 9484,
            829: 9488,
            830: 9492,
            831: 9496
        }), be = 14, _e = [4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096, 4864, 4896, 5120, 5152], Te = function(e, t) {
            Te.prototype.init.call(this),
            this.field_ = e || 0,
            this.dataChannel_ = t || 0,
            this.name_ = "CC" + (1 + (this.field_ << 1 | this.dataChannel_)),
            this.setConstants(),
            this.reset(),
            this.push = function(e) {
                var t, i, n, s, r = 32639 & e.ccData;
                r === this.lastControlCode_ ? this.lastControlCode_ = null : (4096 == (61440 & r) ? this.lastControlCode_ = r : r !== this.PADDING_ && (this.lastControlCode_ = null),
                t = r >>> 8,
                i = 255 & r,
                r !== this.PADDING_ && (r === this.RESUME_CAPTION_LOADING_ ? this.mode_ = "popOn" : r === this.END_OF_CAPTION_ ? (this.mode_ = "popOn",
                this.clearFormatting(e.pts),
                this.flushDisplayed(e.pts),
                s = this.displayed_,
                this.displayed_ = this.nonDisplayed_,
                this.nonDisplayed_ = s,
                this.startPts_ = e.pts) : r === this.ROLL_UP_2_ROWS_ ? (this.rollUpRows_ = 2,
                this.setRollUp(e.pts)) : r === this.ROLL_UP_3_ROWS_ ? (this.rollUpRows_ = 3,
                this.setRollUp(e.pts)) : r === this.ROLL_UP_4_ROWS_ ? (this.rollUpRows_ = 4,
                this.setRollUp(e.pts)) : r === this.CARRIAGE_RETURN_ ? (this.clearFormatting(e.pts),
                this.flushDisplayed(e.pts),
                this.shiftRowsUp_(),
                this.startPts_ = e.pts) : r === this.BACKSPACE_ ? "popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1) : r === this.ERASE_DISPLAYED_MEMORY_ ? (this.flushDisplayed(e.pts),
                this.displayed_ = Q()) : r === this.ERASE_NON_DISPLAYED_MEMORY_ ? this.nonDisplayed_ = Q() : r === this.RESUME_DIRECT_CAPTIONING_ ? ("paintOn" !== this.mode_ && (this.flushDisplayed(e.pts),
                this.displayed_ = Q()),
                this.mode_ = "paintOn",
                this.startPts_ = e.pts) : this.isSpecialCharacter(t, i) ? (n = K((t = (3 & t) << 8) | i),
                this[this.mode_](e.pts, n),
                this.column_++) : this.isExtCharacter(t, i) ? ("popOn" === this.mode_ ? this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1) : this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1),
                n = K((t = (3 & t) << 8) | i),
                this[this.mode_](e.pts, n),
                this.column_++) : this.isMidRowCode(t, i) ? (this.clearFormatting(e.pts),
                this[this.mode_](e.pts, " "),
                this.column_++,
                14 == (14 & i) && this.addFormatting(e.pts, ["i"]),
                1 == (1 & i) && this.addFormatting(e.pts, ["u"])) : this.isOffsetControlCode(t, i) ? this.column_ += 3 & i : this.isPAC(t, i) ? (s = _e.indexOf(7968 & r),
                "rollUp" === this.mode_ && (s - this.rollUpRows_ + 1 < 0 && (s = this.rollUpRows_ - 1),
                this.setRollUp(e.pts, s)),
                s !== this.row_ && (this.clearFormatting(e.pts),
                this.row_ = s),
                1 & i && -1 === this.formatting_.indexOf("u") && this.addFormatting(e.pts, ["u"]),
                16 == (16 & r) && (this.column_ = 4 * ((14 & r) >> 1)),
                this.isColorPAC(i) && 14 == (14 & i) && this.addFormatting(e.pts, ["i"])) : this.isNormalChar(t) && (0 === i && (i = null),
                n = K(t),
                n += K(i),
                this[this.mode_](e.pts, n),
                this.column_ += n.length)))
            }
        }, we = (fe = (Te.prototype = new fe,
        Te.prototype.flushDisplayed = function(e) {
            var t = this.displayed_.map((function(e, t) {
                try {
                    return e.trim()
                } catch (e) {
                    return this.trigger("log", {
                        level: "warn",
                        message: "Skipping a malformed 608 caption at index " + t + "."
                    }),
                    ""
                }
            }
            ), this).join("\n").replace(/^\n+|\n+$/g, "");
            t.length && this.trigger("data", {
                startPts: this.startPts_,
                endPts: e,
                text: t,
                stream: this.name_
            })
        }
        ,
        Te.prototype.reset = function() {
            this.mode_ = "popOn",
            this.topRow_ = 0,
            this.startPts_ = 0,
            this.displayed_ = Q(),
            this.nonDisplayed_ = Q(),
            this.lastControlCode_ = null,
            this.column_ = 0,
            this.row_ = be,
            this.rollUpRows_ = 2,
            this.formatting_ = []
        }
        ,
        Te.prototype.setConstants = function() {
            0 === this.dataChannel_ ? (this.BASE_ = 16,
            this.EXT_ = 17,
            this.CONTROL_ = (20 | this.field_) << 8,
            this.OFFSET_ = 23) : 1 === this.dataChannel_ && (this.BASE_ = 24,
            this.EXT_ = 25,
            this.CONTROL_ = (28 | this.field_) << 8,
            this.OFFSET_ = 31),
            this.PADDING_ = 0,
            this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_,
            this.END_OF_CAPTION_ = 47 | this.CONTROL_,
            this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_,
            this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_,
            this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_,
            this.CARRIAGE_RETURN_ = 45 | this.CONTROL_,
            this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_,
            this.BACKSPACE_ = 33 | this.CONTROL_,
            this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_,
            this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_
        }
        ,
        Te.prototype.isSpecialCharacter = function(e, t) {
            return e === this.EXT_ && 48 <= t && t <= 63
        }
        ,
        Te.prototype.isExtCharacter = function(e, t) {
            return (e === this.EXT_ + 1 || e === this.EXT_ + 2) && 32 <= t && t <= 63
        }
        ,
        Te.prototype.isMidRowCode = function(e, t) {
            return e === this.EXT_ && 32 <= t && t <= 47
        }
        ,
        Te.prototype.isOffsetControlCode = function(e, t) {
            return e === this.OFFSET_ && 33 <= t && t <= 35
        }
        ,
        Te.prototype.isPAC = function(e, t) {
            return e >= this.BASE_ && e < this.BASE_ + 8 && 64 <= t && t <= 127
        }
        ,
        Te.prototype.isColorPAC = function(e) {
            return 64 <= e && e <= 79 || 96 <= e && e <= 127
        }
        ,
        Te.prototype.isNormalChar = function(e) {
            return 32 <= e && e <= 127
        }
        ,
        Te.prototype.setRollUp = function(e, t) {
            if ("rollUp" !== this.mode_ && (this.row_ = be,
            this.mode_ = "rollUp",
            this.flushDisplayed(e),
            this.nonDisplayed_ = Q(),
            this.displayed_ = Q()),
            void 0 !== t && t !== this.row_)
                for (var i = 0; i < this.rollUpRows_; i++)
                    this.displayed_[t - i] = this.displayed_[this.row_ - i],
                    this.displayed_[this.row_ - i] = "";
            void 0 === t && (t = this.row_),
            this.topRow_ = t - this.rollUpRows_ + 1
        }
        ,
        Te.prototype.addFormatting = function(e, t) {
            this.formatting_ = this.formatting_.concat(t),
            t = t.reduce((function(e, t) {
                return e + "<" + t + ">"
            }
            ), ""),
            this[this.mode_](e, t)
        }
        ,
        Te.prototype.clearFormatting = function(e) {
            var t;
            this.formatting_.length && (t = this.formatting_.reverse().reduce((function(e, t) {
                return e + "</" + t + ">"
            }
            ), ""),
            this.formatting_ = [],
            this[this.mode_](e, t))
        }
        ,
        Te.prototype.popOn = function(e, t) {
            var i = this.nonDisplayed_[this.row_];
            this.nonDisplayed_[this.row_] = i += t
        }
        ,
        Te.prototype.rollUp = function(e, t) {
            var i = this.displayed_[this.row_];
            this.displayed_[this.row_] = i += t
        }
        ,
        Te.prototype.shiftRowsUp_ = function() {
            for (var e = 0; e < this.topRow_; e++)
                this.displayed_[e] = "";
            for (e = this.row_ + 1; e < be + 1; e++)
                this.displayed_[e] = "";
            for (e = this.topRow_; e < this.row_; e++)
                this.displayed_[e] = this.displayed_[e + 1];
            this.displayed_[this.row_] = ""
        }
        ,
        Te.prototype.paintOn = function(e, t) {
            var i = this.displayed_[this.row_];
            this.displayed_[this.row_] = i += t
        }
        ,
        {
            CaptionStream: V,
            Cea608Stream: Te,
            Cea708Stream: ve
        }),
        {
            H264_STREAM_TYPE: 27,
            ADTS_STREAM_TYPE: 15,
            METADATA_STREAM_TYPE: 21
        }), Se = F, ke = 8589934592, xe = 4294967296;
        function Ce(e, t, i) {
            for (var n = "", s = t; s < i; s++)
                n += "%" + ("00" + e[s].toString(16)).slice(-2);
            return n
        }
        function Ee(e, t, i) {
            return decodeURIComponent(Ce(e, t, i))
        }
        function Pe(e, t, i) {
            return unescape(Ce(e, t, i))
        }
        function Ae(e) {
            return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
        }
        J.prototype = new Se;
        Se = J;
        var Ie, Oe, Le, Me = Z, De = F, Re = we, Ne = (e, t, i) => {
            if (e)
                for (var n = i; n < e.length; n++)
                    if (e[n] === t)
                        return n;
            return -1
        }
        , Be = {
            APIC: function(e) {
                var t, i = 1;
                3 !== e.data[0] || (t = Ne(e.data, 0, 1)) < 0 || (e.mimeType = Pe(e.data, 1, t),
                e.pictureType = e.data[i = t + 1],
                (t = Ne(e.data, 0, ++i)) < 0) || (e.description = Ee(e.data, i, t),
                i = t + 1,
                "--\x3e" === e.mimeType ? e.url = Pe(e.data, i, e.data.length) : e.pictureData = e.data.subarray(i, e.data.length))
            },
            "T*": function(e) {
                3 === e.data[0] && (e.value = Ee(e.data, 1, e.data.length).replace(/\0*$/, ""),
                e.values = e.value.split("\0"))
            },
            TXXX: function(e) {
                var t;
                3 === e.data[0] && -1 !== (t = Ne(e.data, 0, 1)) && (e.description = Ee(e.data, 1, t),
                e.value = Ee(e.data, t + 1, e.data.length).replace(/\0*$/, ""),
                e.data = e.value)
            },
            "W*": function(e) {
                e.url = Pe(e.data, 0, e.data.length).replace(/\0.*$/, "")
            },
            WXXX: function(e) {
                var t;
                3 === e.data[0] && -1 !== (t = Ne(e.data, 0, 1)) && (e.description = Ee(e.data, 1, t),
                e.url = Pe(e.data, t + 1, e.data.length).replace(/\0.*$/, ""))
            },
            PRIV: function(e) {
                for (var t = 0; t < e.data.length; t++)
                    if (0 === e.data[t]) {
                        e.owner = Pe(e.data, 0, t);
                        break
                    }
                e.privateData = e.data.subarray(t + 1),
                e.data = e.privateData
            }
        }, je = function(e) {
            var t, i = {
                descriptor: e && e.descriptor
            }, n = 0, s = [], r = 0;
            if (je.prototype.init.call(this),
            this.dispatchType = Re.METADATA_STREAM_TYPE.toString(16),
            i.descriptor)
                for (t = 0; t < i.descriptor.length; t++)
                    this.dispatchType += ("00" + i.descriptor[t].toString(16)).slice(-2);
            this.push = function(e) {
                var t, i, a, o, l, d, c;
                if ("timed-metadata" === e.type)
                    if (e.dataAlignmentIndicator && (r = 0,
                    s.length = 0),
                    0 === s.length && (e.data.length < 10 || e.data[0] !== "I".charCodeAt(0) || e.data[1] !== "D".charCodeAt(0) || e.data[2] !== "3".charCodeAt(0)))
                        this.trigger("log", {
                            level: "warn",
                            message: "Skipping unrecognized metadata packet"
                        });
                    else if (s.push(e),
                    r += e.data.byteLength,
                    1 === s.length && (n = Ae(e.data.subarray(6, 10)),
                    n += 10),
                    !(r < n)) {
                        for (t = {
                            data: new Uint8Array(n),
                            frames: [],
                            pts: s[0].pts,
                            dts: s[0].dts
                        },
                        o = 0; o < n; )
                            t.data.set(s[0].data.subarray(0, n - o), o),
                            o += s[0].data.byteLength,
                            r -= s[0].data.byteLength,
                            s.shift();
                        i = 10,
                        64 & t.data[5] && (i = (i += 4) + Ae(t.data.subarray(10, 14)),
                        n -= Ae(t.data.subarray(16, 20)));
                        do {
                            if ((a = Ae(t.data.subarray(i + 4, i + 8))) < 1) {
                                this.trigger("log", {
                                    level: "warn",
                                    message: "Malformed ID3 frame encountered. Skipping remaining metadata parsing."
                                });
                                break
                            }
                        } while ((c = {
                            id: String.fromCharCode(t.data[i], t.data[i + 1], t.data[i + 2], t.data[i + 3]),
                            data: t.data.subarray(i + 10, i + a + 10)
                        }).key = c.id,
                        Be[c.id] ? Be[c.id](c) : "T" === c.id[0] ? Be["T*"](c) : "W" === c.id[0] && Be["W*"](c),
                        "com.apple.streaming.transportStreamTimestamp" === c.owner && (d = (1 & (l = c.data)[3]) << 30 | l[4] << 22 | l[5] << 14 | l[6] << 6 | l[7] >>> 2,
                        d = (d *= 4) + (3 & l[7]),
                        c.timeStamp = d,
                        void 0 === t.pts && void 0 === t.dts && (t.pts = c.timeStamp,
                        t.dts = c.timeStamp),
                        this.trigger("timestamp", c)),
                        t.frames.push(c),
                        (i = i + 10 + a) < n);
                        this.trigger("data", t)
                    }
            }
        }, Fe = (De = (je.prototype = new De,
        je),
        F), Ue = fe, $e = we, He = function() {
            var e = new Uint8Array(188)
              , t = 0;
            He.prototype.init.call(this),
            this.push = function(i) {
                var n, s = 0, r = 188;
                for (t ? ((n = new Uint8Array(i.byteLength + t)).set(e.subarray(0, t)),
                n.set(i, t),
                t = 0) : n = i; r < n.byteLength; )
                    71 === n[s] && 71 === n[r] ? (this.trigger("data", n.subarray(s, r)),
                    s += 188,
                    r += 188) : (s++,
                    r++);
                s < n.byteLength && (e.set(n.subarray(s), 0),
                t = n.byteLength - s)
            }
            ,
            this.flush = function() {
                188 === t && 71 === e[0] && (this.trigger("data", e),
                t = 0),
                this.trigger("done")
            }
            ,
            this.endTimeline = function() {
                this.flush(),
                this.trigger("endedtimeline")
            }
            ,
            this.reset = function() {
                t = 0,
                this.trigger("reset")
            }
        }, ze = (He.prototype = new Fe,
        (Ie = function() {
            var e, t, i, n;
            Ie.prototype.init.call(this),
            (n = this).packetsWaitingForPmt = [],
            this.programMapTable = void 0,
            e = function(e, n) {
                var s = 0;
                n.payloadUnitStartIndicator && (s += e[s] + 1),
                ("pat" === n.type ? t : i)(e.subarray(s), n)
            }
            ,
            t = function(e, t) {
                t.section_number = e[7],
                t.last_section_number = e[8],
                n.pmtPid = (31 & e[10]) << 8 | e[11],
                t.pmtPid = n.pmtPid
            }
            ,
            i = function(e, t) {
                var i, s;
                if (1 & e[5]) {
                    for (n.programMapTable = {
                        video: null,
                        audio: null,
                        "timed-metadata": {}
                    },
                    i = 3 + ((15 & e[1]) << 8 | e[2]) - 4,
                    s = 12 + ((15 & e[10]) << 8 | e[11]); s < i; ) {
                        var r = e[s]
                          , a = (31 & e[s + 1]) << 8 | e[s + 2];
                        r === $e.H264_STREAM_TYPE && null === n.programMapTable.video ? n.programMapTable.video = a : r === $e.ADTS_STREAM_TYPE && null === n.programMapTable.audio ? n.programMapTable.audio = a : r === $e.METADATA_STREAM_TYPE && (n.programMapTable["timed-metadata"][a] = r),
                        s += 5 + ((15 & e[s + 3]) << 8 | e[s + 4])
                    }
                    t.programMapTable = n.programMapTable
                }
            }
            ,
            this.push = function(t) {
                var i = {}
                  , n = 4;
                if (i.payloadUnitStartIndicator = !!(64 & t[1]),
                i.pid = 31 & t[1],
                i.pid <<= 8,
                i.pid |= t[2],
                1 < (48 & t[3]) >>> 4 && (n += t[n] + 1),
                0 === i.pid)
                    i.type = "pat",
                    e(t.subarray(n), i),
                    this.trigger("data", i);
                else if (i.pid === this.pmtPid)
                    for (i.type = "pmt",
                    e(t.subarray(n), i),
                    this.trigger("data", i); this.packetsWaitingForPmt.length; )
                        this.processPes_.apply(this, this.packetsWaitingForPmt.shift());
                else
                    void 0 === this.programMapTable ? this.packetsWaitingForPmt.push([t, n, i]) : this.processPes_(t, n, i)
            }
            ,
            this.processPes_ = function(e, t, i) {
                i.pid === this.programMapTable.video ? i.streamType = $e.H264_STREAM_TYPE : i.pid === this.programMapTable.audio ? i.streamType = $e.ADTS_STREAM_TYPE : i.streamType = this.programMapTable["timed-metadata"][i.pid],
                i.type = "pes",
                i.data = e.subarray(t),
                this.trigger("data", i)
            }
        }
        ).prototype = new Fe,
        Ie.STREAM_TYPES = {
            h264: 27,
            adts: 15
        },
        (Oe = function() {
            function e(e, t, n) {
                var s, r = new Uint8Array(e.size), a = {
                    type: t
                }, l = 0, d = 0;
                if (e.data.length && !(e.size < 9)) {
                    for (a.trackId = e.data[0].pid,
                    l = 0; l < e.data.length; l++)
                        s = e.data[l],
                        r.set(s.data, d),
                        d += s.data.byteLength;
                    o(r, a),
                    t = "video" === t || a.packetLength <= e.size,
                    (n || t) && (e.size = 0,
                    e.data.length = 0),
                    t && i.trigger("data", a)
                }
            }
            var t, i = this, n = !1, s = {
                data: [],
                size: 0
            }, r = {
                data: [],
                size: 0
            }, a = {
                data: [],
                size: 0
            }, o = function(e, t) {
                var i = e[0] << 16 | e[1] << 8 | e[2];
                t.data = new Uint8Array,
                1 == i && (t.packetLength = 6 + (e[4] << 8 | e[5]),
                t.dataAlignmentIndicator = 0 != (4 & e[6]),
                192 & (i = e[7]) && (t.pts = (14 & e[9]) << 27 | (255 & e[10]) << 20 | (254 & e[11]) << 12 | (255 & e[12]) << 5 | (254 & e[13]) >>> 3,
                t.pts *= 4,
                t.pts += (6 & e[13]) >>> 1,
                t.dts = t.pts,
                64 & i) && (t.dts = (14 & e[14]) << 27 | (255 & e[15]) << 20 | (254 & e[16]) << 12 | (255 & e[17]) << 5 | (254 & e[18]) >>> 3,
                t.dts *= 4,
                t.dts += (6 & e[18]) >>> 1),
                t.data = e.subarray(9 + e[8]))
            };
            Oe.prototype.init.call(this),
            this.push = function(o) {
                ({
                    pat: function() {},
                    pes: function() {
                        var t, i;
                        switch (o.streamType) {
                        case $e.H264_STREAM_TYPE:
                            t = s,
                            i = "video";
                            break;
                        case $e.ADTS_STREAM_TYPE:
                            t = r,
                            i = "audio";
                            break;
                        case $e.METADATA_STREAM_TYPE:
                            t = a,
                            i = "timed-metadata";
                            break;
                        default:
                            return
                        }
                        o.payloadUnitStartIndicator && e(t, i, !0),
                        t.data.push(o),
                        t.size += o.data.byteLength
                    },
                    pmt: function() {
                        var e = {
                            type: "metadata",
                            tracks: []
                        };
                        null !== (t = o.programMapTable).video && e.tracks.push({
                            timelineStartInfo: {
                                baseMediaDecodeTime: 0
                            },
                            id: +t.video,
                            codec: "avc",
                            type: "video"
                        }),
                        null !== t.audio && e.tracks.push({
                            timelineStartInfo: {
                                baseMediaDecodeTime: 0
                            },
                            id: +t.audio,
                            codec: "adts",
                            type: "audio"
                        }),
                        n = !0,
                        i.trigger("data", e)
                    }
                })[o.type]()
            }
            ,
            this.reset = function() {
                s.size = 0,
                s.data.length = 0,
                r.size = 0,
                r.data.length = 0,
                this.trigger("reset")
            }
            ,
            this.flushStreams_ = function() {
                e(s, "video"),
                e(r, "audio"),
                e(a, "timed-metadata")
            }
            ,
            this.flush = function() {
                var e;
                !n && t && (e = {
                    type: "metadata",
                    tracks: []
                },
                null !== t.video && e.tracks.push({
                    timelineStartInfo: {
                        baseMediaDecodeTime: 0
                    },
                    id: +t.video,
                    codec: "avc",
                    type: "video"
                }),
                null !== t.audio && e.tracks.push({
                    timelineStartInfo: {
                        baseMediaDecodeTime: 0
                    },
                    id: +t.audio,
                    codec: "adts",
                    type: "audio"
                }),
                i.trigger("data", e)),
                n = !1,
                this.flushStreams_(),
                this.trigger("done")
            }
        }
        ).prototype = new Fe,
        {
            PAT_PID: 0,
            MP2T_PACKET_LENGTH: 188,
            TransportPacketStream: He,
            TransportParseStream: Ie,
            ElementaryStream: Oe,
            TimestampRolloverStream: Se,
            CaptionStream: Ue.CaptionStream,
            Cea608Stream: Ue.Cea608Stream,
            Cea708Stream: Ue.Cea708Stream,
            MetadataStream: De
        });
        for (Le in $e)
            $e.hasOwnProperty(Le) && (ze[Le] = $e[Le]);
        Fe = ze,
        Se = F;
        var qe, We, Ve = ce.ONE_SECOND_IN_TS, Ge = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350], Xe = function(e) {
            var t, i = 0;
            Xe.prototype.init.call(this),
            this.skipWarn_ = function(e, t) {
                this.trigger("log", {
                    level: "warn",
                    message: `adts skiping bytes ${e} to ${t} in frame ${i} outside syncword`
                })
            }
            ,
            this.push = function(n) {
                var s, r, a, o, l, d, c = 0;
                if (e || (i = 0),
                "audio" === n.type) {
                    for (t && t.length ? (a = t,
                    (t = new Uint8Array(a.byteLength + n.data.byteLength)).set(a),
                    t.set(n.data, a.byteLength)) : t = n.data; c + 7 < t.length; )
                        if (255 !== t[c] || 240 != (246 & t[c + 1]))
                            "number" != typeof d && (d = c),
                            c++;
                        else {
                            if ("number" == typeof d && (this.skipWarn_(d, c),
                            d = null),
                            r = 2 * (1 & ~t[c + 1]),
                            s = (3 & t[c + 3]) << 11 | t[c + 4] << 3 | (224 & t[c + 5]) >> 5,
                            l = (o = 1024 * (1 + (3 & t[c + 6]))) * Ve / Ge[(60 & t[c + 2]) >>> 2],
                            t.byteLength - c < s)
                                break;
                            this.trigger("data", {
                                pts: n.pts + i * l,
                                dts: n.dts + i * l,
                                sampleCount: o,
                                audioobjecttype: 1 + (t[c + 2] >>> 6 & 3),
                                channelcount: (1 & t[c + 2]) << 2 | (192 & t[c + 3]) >>> 6,
                                samplerate: Ge[(60 & t[c + 2]) >>> 2],
                                samplingfrequencyindex: (60 & t[c + 2]) >>> 2,
                                samplesize: 16,
                                data: t.subarray(c + 7 + r, c + s)
                            }),
                            i++,
                            c += s
                        }
                    "number" == typeof d && (this.skipWarn_(d, c),
                    d = null),
                    t = t.subarray(c)
                }
            }
            ,
            this.flush = function() {
                i = 0,
                this.trigger("done")
            }
            ,
            this.reset = function() {
                t = void 0,
                this.trigger("reset")
            }
            ,
            this.endTimeline = function() {
                t = void 0,
                this.trigger("endedtimeline")
            }
        }, Ye = (Ue = (Xe.prototype = new Se,
        Xe),
        De = F,
        function(e) {
            var t = e.byteLength
              , i = 0
              , n = 0;
            this.length = function() {
                return 8 * t
            }
            ,
            this.bitsAvailable = function() {
                return 8 * t + n
            }
            ,
            this.loadWord = function() {
                var s = e.byteLength - t
                  , r = new Uint8Array(4)
                  , a = Math.min(4, t);
                if (0 === a)
                    throw new Error("no bytes available");
                r.set(e.subarray(s, s + a)),
                i = new DataView(r.buffer).getUint32(0),
                n = 8 * a,
                t -= a
            }
            ,
            this.skipBits = function(e) {
                var s;
                e < n || (e = (e -= n) - 8 * (s = Math.floor(e / 8)),
                t -= s,
                this.loadWord()),
                i <<= e,
                n -= e
            }
            ,
            this.readBits = function(e) {
                var s = Math.min(n, e)
                  , r = i >>> 32 - s;
                return 0 < (n -= s) ? i <<= s : 0 < t && this.loadWord(),
                0 < (s = e - s) ? r << s | this.readBits(s) : r
            }
            ,
            this.skipLeadingZeros = function() {
                for (var e = 0; e < n; ++e)
                    if (0 != (i & 2147483648 >>> e))
                        return i <<= e,
                        n -= e,
                        e;
                return this.loadWord(),
                e + this.skipLeadingZeros()
            }
            ,
            this.skipUnsignedExpGolomb = function() {
                this.skipBits(1 + this.skipLeadingZeros())
            }
            ,
            this.skipExpGolomb = function() {
                this.skipBits(1 + this.skipLeadingZeros())
            }
            ,
            this.readUnsignedExpGolomb = function() {
                var e = this.skipLeadingZeros();
                return this.readBits(e + 1) - 1
            }
            ,
            this.readExpGolomb = function() {
                var e = this.readUnsignedExpGolomb();
                return 1 & e ? 1 + e >>> 1 : -1 * (e >>> 1)
            }
            ,
            this.readBoolean = function() {
                return 1 === this.readBits(1)
            }
            ,
            this.readUnsignedByte = function() {
                return this.readBits(8)
            }
            ,
            this.loadWord()
        }
        ), Ke = function() {
            var e, t, i = 0;
            Ke.prototype.init.call(this),
            this.push = function(n) {
                for (var s, r = (t = t ? ((s = new Uint8Array(t.byteLength + n.data.byteLength)).set(t),
                s.set(n.data, t.byteLength),
                s) : n.data).byteLength; i < r - 3; i++)
                    if (1 === t[i + 2]) {
                        e = i + 5;
                        break
                    }
                for (; e < r; )
                    switch (t[e]) {
                    case 0:
                        if (0 !== t[e - 1])
                            e += 2;
                        else if (0 !== t[e - 2])
                            e++;
                        else {
                            for (i + 3 !== e - 2 && this.trigger("data", t.subarray(i + 3, e - 2)); 1 !== t[++e] && e < r; )
                                ;
                            i = e - 2,
                            e += 3
                        }
                        break;
                    case 1:
                        0 !== t[e - 1] || 0 !== t[e - 2] || (this.trigger("data", t.subarray(i + 3, e - 2)),
                        i = e - 2),
                        e += 3;
                        break;
                    default:
                        e += 3
                    }
                t = t.subarray(i),
                e -= i,
                i = 0
            }
            ,
            this.reset = function() {
                t = null,
                i = 0,
                this.trigger("reset")
            }
            ,
            this.flush = function() {
                t && 3 < t.byteLength && this.trigger("data", t.subarray(i + 3)),
                t = null,
                i = 0,
                this.trigger("done")
            }
            ,
            this.endTimeline = function() {
                this.flush(),
                this.trigger("endedtimeline")
            }
        };
        function Qe(e) {
            return e[0] << 21 | e[1] << 14 | e[2] << 7 | e[3]
        }
        Ke.prototype = new De,
        We = {
            100: !0,
            110: !0,
            122: !0,
            244: !0,
            44: !0,
            83: !0,
            86: !0,
            118: !0,
            128: !0,
            138: !0,
            139: !0,
            134: !0
        },
        (qe = function() {
            var e, t, i, n, s, r, a, o = new Ke;
            qe.prototype.init.call(this),
            (e = this).push = function(e) {
                "video" === e.type && (t = e.trackId,
                i = e.pts,
                n = e.dts,
                o.push(e))
            }
            ,
            o.on("data", (function(a) {
                var o = {
                    trackId: t,
                    pts: i,
                    dts: n,
                    data: a,
                    nalUnitTypeCode: 31 & a[0]
                };
                switch (o.nalUnitTypeCode) {
                case 5:
                    o.nalUnitType = "slice_layer_without_partitioning_rbsp_idr";
                    break;
                case 6:
                    o.nalUnitType = "sei_rbsp",
                    o.escapedRBSP = s(a.subarray(1));
                    break;
                case 7:
                    o.nalUnitType = "seq_parameter_set_rbsp",
                    o.escapedRBSP = s(a.subarray(1)),
                    o.config = r(o.escapedRBSP);
                    break;
                case 8:
                    o.nalUnitType = "pic_parameter_set_rbsp";
                    break;
                case 9:
                    o.nalUnitType = "access_unit_delimiter_rbsp"
                }
                e.trigger("data", o)
            }
            )),
            o.on("done", (function() {
                e.trigger("done")
            }
            )),
            o.on("partialdone", (function() {
                e.trigger("partialdone")
            }
            )),
            o.on("reset", (function() {
                e.trigger("reset")
            }
            )),
            o.on("endedtimeline", (function() {
                e.trigger("endedtimeline")
            }
            )),
            this.flush = function() {
                o.flush()
            }
            ,
            this.partialFlush = function() {
                o.partialFlush()
            }
            ,
            this.reset = function() {
                o.reset()
            }
            ,
            this.endTimeline = function() {
                o.endTimeline()
            }
            ,
            a = function(e, t) {
                for (var i = 8, n = 8, s = 0; s < e; s++)
                    i = 0 === (n = 0 !== n ? (i + t.readExpGolomb() + 256) % 256 : n) ? i : n
            }
            ,
            s = function(e) {
                for (var t = e.byteLength, i = [], n = 1; n < t - 2; )
                    0 === e[n] && 0 === e[n + 1] && 3 === e[n + 2] ? (i.push(n + 2),
                    n += 2) : n++;
                if (0 === i.length)
                    return e;
                var s = t - i.length
                  , r = new Uint8Array(s)
                  , a = 0;
                for (n = 0; n < s; a++,
                n++)
                    a === i[0] && (a++,
                    i.shift()),
                    r[n] = e[a];
                return r
            }
            ,
            r = function(e) {
                var t, i, n, s, r, o, l = 0, d = 0, c = 0, u = 0, h = [1, 1], p = new Ye(e), f = (e = p.readUnsignedByte(),
                p.readUnsignedByte()), m = p.readUnsignedByte();
                if (p.skipUnsignedExpGolomb(),
                We[e] && (3 === (i = p.readUnsignedExpGolomb()) && p.skipBits(1),
                p.skipUnsignedExpGolomb(),
                p.skipUnsignedExpGolomb(),
                p.skipBits(1),
                p.readBoolean()))
                    for (r = 3 !== i ? 8 : 12,
                    o = 0; o < r; o++)
                        p.readBoolean() && a(o < 6 ? 16 : 64, p);
                if (p.skipUnsignedExpGolomb(),
                0 === (i = p.readUnsignedExpGolomb()))
                    p.readUnsignedExpGolomb();
                else if (1 === i)
                    for (p.skipBits(1),
                    p.skipExpGolomb(),
                    p.skipExpGolomb(),
                    t = p.readUnsignedExpGolomb(),
                    o = 0; o < t; o++)
                        p.skipExpGolomb();
                if (p.skipUnsignedExpGolomb(),
                p.skipBits(1),
                i = p.readUnsignedExpGolomb(),
                n = p.readUnsignedExpGolomb(),
                0 === (s = p.readBits(1)) && p.skipBits(1),
                p.skipBits(1),
                p.readBoolean() && (l = p.readUnsignedExpGolomb(),
                d = p.readUnsignedExpGolomb(),
                c = p.readUnsignedExpGolomb(),
                u = p.readUnsignedExpGolomb()),
                p.readBoolean() && p.readBoolean()) {
                    switch (p.readUnsignedByte()) {
                    case 1:
                        h = [1, 1];
                        break;
                    case 2:
                        h = [12, 11];
                        break;
                    case 3:
                        h = [10, 11];
                        break;
                    case 4:
                        h = [16, 11];
                        break;
                    case 5:
                        h = [40, 33];
                        break;
                    case 6:
                        h = [24, 11];
                        break;
                    case 7:
                        h = [20, 11];
                        break;
                    case 8:
                        h = [32, 11];
                        break;
                    case 9:
                        h = [80, 33];
                        break;
                    case 10:
                        h = [18, 11];
                        break;
                    case 11:
                        h = [15, 11];
                        break;
                    case 12:
                        h = [64, 33];
                        break;
                    case 13:
                        h = [160, 99];
                        break;
                    case 14:
                        h = [4, 3];
                        break;
                    case 15:
                        h = [3, 2];
                        break;
                    case 16:
                        h = [2, 1];
                        break;
                    case 255:
                        h = [p.readUnsignedByte() << 8 | p.readUnsignedByte(), p.readUnsignedByte() << 8 | p.readUnsignedByte()]
                    }
                    h && (h[0],
                    h[1])
                }
                return {
                    profileIdc: e,
                    levelIdc: m,
                    profileCompatibility: f,
                    width: 16 * (i + 1) - 2 * l - 2 * d,
                    height: (2 - s) * (n + 1) * 16 - 2 * c - 2 * u,
                    sarRatio: h
                }
            }
        }
        ).prototype = new De;
        Se = qe;
        var Ze = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]
          , Je = function(e, t) {
            var i = 0 <= (i = e[t + 6] << 21 | e[t + 7] << 14 | e[t + 8] << 7 | e[t + 9]) ? i : 0;
            return (16 & e[t + 5]) >> 4 ? 20 + i : 10 + i
        }
          , et = function(e, t) {
            return e.length - t < 10 || e[t] !== "I".charCodeAt(0) || e[t + 1] !== "D".charCodeAt(0) || e[t + 2] !== "3".charCodeAt(0) ? t : (t += Je(e, t),
            et(e, t))
        }
          , tt = function(e, t, i) {
            for (var n = "", s = t; s < i; s++)
                n += "%" + ("00" + e[s].toString(16)).slice(-2);
            return n
        }
          , it = (De = {
            isLikelyAacData: function(e) {
                var t = et(e, 0);
                return e.length >= t + 2 && 255 == (255 & e[t]) && 240 == (240 & e[t + 1]) && 16 == (22 & e[t + 1])
            },
            parseId3TagSize: Je,
            parseAdtsSize: function(e, t) {
                var i = (224 & e[t + 5]) >> 5
                  , n = e[t + 4] << 3;
                return 6144 & e[t + 3] | n | i
            },
            parseType: function(e, t) {
                return e[t] === "I".charCodeAt(0) && e[t + 1] === "D".charCodeAt(0) && e[t + 2] === "3".charCodeAt(0) ? "timed-metadata" : !0 & e[t] && 240 == (240 & e[t + 1]) ? "audio" : null
            },
            parseSampleRate: function(e) {
                for (var t = 0; t + 5 < e.length; ) {
                    if (255 === e[t] && 240 == (246 & e[t + 1]))
                        return Ze[(60 & e[t + 2]) >>> 2];
                    t++
                }
                return null
            },
            parseAacTimestamp: function(e) {
                var t, i = 10;
                64 & e[5] && (i = (i += 4) + Qe(e.subarray(10, 14)));
                do {
                    if ((t = Qe(e.subarray(i + 4, i + 8))) < 1)
                        return null;
                    if ("PRIV" === String.fromCharCode(e[i], e[i + 1], e[i + 2], e[i + 3]))
                        for (var n, s, r = e.subarray(i + 10, i + t + 10), a = 0; a < r.byteLength; a++)
                            if (0 === r[a]) {
                                if ("com.apple.streaming.transportStreamTimestamp" === unescape(tt(r, 0, a)))
                                    return s = (1 & (n = r.subarray(a + 1))[3]) << 30 | n[4] << 22 | n[5] << 14 | n[6] << 6 | n[7] >>> 2,
                                    (s *= 4) + (3 & n[7]);
                                break
                            }
                } while ((i = i + 10 + t) < e.byteLength);
                return null
            }
        },
        F)
          , nt = De
          , st = function() {
            var e = new Uint8Array
              , t = 0;
            st.prototype.init.call(this),
            this.setTimestamp = function(e) {
                t = e
            }
            ,
            this.push = function(i) {
                var n, s, r = 0, a = 0;
                for (e.length ? (s = e.length,
                (e = new Uint8Array(i.byteLength + s)).set(e.subarray(0, s)),
                e.set(i, s)) : e = i; 3 <= e.length - a; )
                    if (e[a] === "I".charCodeAt(0) && e[a + 1] === "D".charCodeAt(0) && e[a + 2] === "3".charCodeAt(0)) {
                        if (e.length - a < 10)
                            break;
                        if (a + (r = nt.parseId3TagSize(e, a)) > e.length)
                            break;
                        n = {
                            type: "timed-metadata",
                            data: e.subarray(a, a + r)
                        },
                        this.trigger("data", n),
                        a += r
                    } else if (255 == (255 & e[a]) && 240 == (240 & e[a + 1])) {
                        if (e.length - a < 7)
                            break;
                        if (a + (r = nt.parseAdtsSize(e, a)) > e.length)
                            break;
                        n = {
                            type: "audio",
                            data: e.subarray(a, a + r),
                            pts: t,
                            dts: t
                        },
                        this.trigger("data", n),
                        a += r
                    } else
                        a++;
                s = e.length - a,
                e = 0 < s ? e.subarray(a) : new Uint8Array
            }
            ,
            this.reset = function() {
                e = new Uint8Array,
                this.trigger("reset")
            }
            ,
            this.endTimeline = function() {
                e = new Uint8Array,
                this.trigger("endedtimeline")
            }
        };
        function rt(e, t) {
            for (var i = Object.keys(t), n = 0; n < i.length; n++) {
                var s = i[n];
                "headOfPipeline" !== s && t[s].on && t[s].on("log", kt.bind(e, s))
            }
        }
        function at(e, t) {
            var i;
            if (e.length === t.length) {
                for (i = 0; i < e.length; i++)
                    if (e[i] !== t[i])
                        return;
                return 1
            }
        }
        function ot(e, t, i, n, s, r) {
            return {
                start: {
                    dts: e,
                    pts: e + (i - t)
                },
                end: {
                    dts: e + (n - t),
                    pts: e + (s - i)
                },
                prependedContentDuration: r,
                baseMediaDecodeTime: e
            }
        }
        st.prototype = new it;
        it = F;
        var lt, dt, ct, ut = te, ht = ne, pt = ae, ft = oe, mt = Fe, gt = ce, vt = Ue, yt = Se, bt = st, _t = De.isLikelyAacData, Tt = ce.ONE_SECOND_IN_TS, wt = ["audioobjecttype", "channelcount", "samplerate", "samplingfrequencyindex", "samplesize"], St = ["width", "height", "profileIdc", "levelIdc", "profileCompatibility", "sarRatio"], kt = function(e, t) {
            t.stream = e,
            this.trigger("log", t)
        }, xt = function(e, t) {
            var i = []
              , n = 0
              , s = 0
              , r = 1 / 0
              , a = (t = t || {}).firstSequenceNumber || 0;
            xt.prototype.init.call(this),
            this.push = function(t) {
                ft.collectDtsInfo(e, t),
                e && wt.forEach((function(i) {
                    e[i] = t[i]
                }
                )),
                i.push(t)
            }
            ,
            this.setEarliestDts = function(e) {
                n = e
            }
            ,
            this.setVideoBaseMediaDecodeTime = function(e) {
                r = e
            }
            ,
            this.setAudioAppendStart = function(e) {
                s = e
            }
            ,
            this.flush = function() {
                var o, l, d, c, u;
                0 !== i.length && (o = pt.trimAdtsFramesByEarliestDts(i, e, n),
                e.baseMediaDecodeTime = ft.calculateTrackBaseMediaDecodeTime(e, t.keepOriginalTimestamps),
                u = pt.prefixWithSilence(e, o, s, r),
                e.samples = pt.generateSampleTable(o),
                d = ut.mdat(pt.concatenateFrameData(o)),
                i = [],
                c = ut.moof(a, [e]),
                l = new Uint8Array(c.byteLength + d.byteLength),
                a++,
                l.set(c),
                l.set(d, c.byteLength),
                ft.clearDtsInfo(e),
                d = Math.ceil(1024 * Tt / e.samplerate),
                o.length && (c = o.length * d,
                this.trigger("segmentTimingInfo", ot(gt.audioTsToVideoTs(e.baseMediaDecodeTime, e.samplerate), o[0].dts, o[0].pts, o[0].dts + c, o[0].pts + c, u || 0)),
                this.trigger("timingInfo", {
                    start: o[0].pts,
                    end: o[0].pts + c
                })),
                this.trigger("data", {
                    track: e,
                    boxes: l
                })),
                this.trigger("done", "AudioSegmentStream")
            }
            ,
            this.reset = function() {
                ft.clearDtsInfo(e),
                i = [],
                this.trigger("reset")
            }
        };
        function Ct(e) {
            var t = "";
            return (t += String.fromCharCode(e[0])) + String.fromCharCode(e[1]) + String.fromCharCode(e[2]) + String.fromCharCode(e[3])
        }
        function Et(e, t) {
            var i, n, s, r = [];
            if (!t.length)
                return null;
            for (i = 0; i < e.byteLength; )
                n = Mt(e[i] << 24 | e[i + 1] << 16 | e[i + 2] << 8 | e[i + 3]),
                s = Dt(e.subarray(i + 4, i + 8)),
                n = 1 < n ? i + n : e.byteLength,
                s === t[0] && (1 === t.length ? r.push(e.subarray(i + 8, n)) : (s = Et(e.subarray(i + 8, n), t.slice(1))).length && (r = r.concat(s))),
                i = n;
            return r
        }
        function Pt(e) {
            return (31 & e[1]) << 8 | e[2]
        }
        function At(e) {
            return !!(64 & e[1])
        }
        function It(e) {
            var t = 0;
            return 1 < (48 & e[3]) >>> 4 && (t += e[4] + 1),
            t
        }
        function Ot(e) {
            switch (e) {
            case 5:
                return "slice_layer_without_partitioning_rbsp_idr";
            case 6:
                return "sei_rbsp";
            case 7:
                return "seq_parameter_set_rbsp";
            case 8:
                return "pic_parameter_set_rbsp";
            case 9:
                return "access_unit_delimiter_rbsp";
            default:
                return null
            }
        }
        xt.prototype = new it,
        (lt = function(e, t) {
            var i, n, s = [], r = [], a = (t = t || {}).firstSequenceNumber || 0;
            lt.prototype.init.call(this),
            delete e.minPTS,
            this.gopCache_ = [],
            this.push = function(t) {
                ft.collectDtsInfo(e, t),
                "seq_parameter_set_rbsp" !== t.nalUnitType || i || (i = t.config,
                e.sps = [t.data],
                St.forEach((function(t) {
                    e[t] = i[t]
                }
                ), this)),
                "pic_parameter_set_rbsp" !== t.nalUnitType || n || (n = t.data,
                e.pps = [t.data]),
                s.push(t)
            }
            ,
            this.flush = function() {
                for (var i, n, o, l = 0; s.length && "access_unit_delimiter_rbsp" !== s[0].nalUnitType; )
                    s.shift();
                if (0 !== s.length) {
                    if (i = ht.groupNalsIntoFrames(s),
                    (i = ht.groupFramesIntoGops(i))[0][0].keyFrame || ((d = this.getGopForFusion_(s[0], e)) ? (l = d.duration,
                    i.unshift(d),
                    i.byteLength += d.byteLength,
                    i.nalCount += d.nalCount,
                    i.pts = d.pts,
                    i.dts = d.dts,
                    i.duration += d.duration) : i = ht.extendFirstKeyFrame(i)),
                    r.length) {
                        var d = t.alignGopsAtEnd ? this.alignGopsAtEnd_(i) : this.alignGopsAtStart_(i);
                        if (!d)
                            return this.gopCache_.unshift({
                                gop: i.pop(),
                                pps: e.pps,
                                sps: e.sps
                            }),
                            this.gopCache_.length = Math.min(6, this.gopCache_.length),
                            s = [],
                            this.resetStream_(),
                            void this.trigger("done", "VideoSegmentStream");
                        ft.clearDtsInfo(e),
                        i = d
                    }
                    ft.collectDtsInfo(e, i),
                    e.samples = ht.generateSampleTable(i),
                    d = ut.mdat(ht.concatenateNalData(i)),
                    e.baseMediaDecodeTime = ft.calculateTrackBaseMediaDecodeTime(e, t.keepOriginalTimestamps),
                    this.trigger("processedGopsInfo", i.map((function(e) {
                        return {
                            pts: e.pts,
                            dts: e.dts,
                            byteLength: e.byteLength
                        }
                    }
                    ))),
                    n = i[0],
                    o = i[i.length - 1],
                    this.trigger("segmentTimingInfo", ot(e.baseMediaDecodeTime, n.dts, n.pts, o.dts + o.duration, o.pts + o.duration, l)),
                    this.trigger("timingInfo", {
                        start: i[0].pts,
                        end: i[i.length - 1].pts + i[i.length - 1].duration
                    }),
                    this.gopCache_.unshift({
                        gop: i.pop(),
                        pps: e.pps,
                        sps: e.sps
                    }),
                    this.gopCache_.length = Math.min(6, this.gopCache_.length),
                    s = [],
                    this.trigger("baseMediaDecodeTime", e.baseMediaDecodeTime),
                    this.trigger("timelineStartInfo", e.timelineStartInfo),
                    n = ut.moof(a, [e]),
                    o = new Uint8Array(n.byteLength + d.byteLength),
                    a++,
                    o.set(n),
                    o.set(d, n.byteLength),
                    this.trigger("data", {
                        track: e,
                        boxes: o
                    })
                }
                this.resetStream_(),
                this.trigger("done", "VideoSegmentStream")
            }
            ,
            this.reset = function() {
                this.resetStream_(),
                s = [],
                this.gopCache_.length = 0,
                r.length = 0,
                this.trigger("reset")
            }
            ,
            this.resetStream_ = function() {
                ft.clearDtsInfo(e),
                n = i = void 0
            }
            ,
            this.getGopForFusion_ = function(t) {
                for (var i, n, s, r = 1 / 0, a = 0; a < this.gopCache_.length; a++)
                    n = (s = this.gopCache_[a]).gop,
                    e.pps && at(e.pps[0], s.pps[0]) && e.sps && at(e.sps[0], s.sps[0]) && (n.dts < e.timelineStartInfo.dts || -1e4 <= (n = t.dts - n.dts - n.duration) && n <= 45e3 && (!i || n < r) && (i = s,
                    r = n));
                return i ? i.gop : null
            }
            ,
            this.alignGopsAtStart_ = function(e) {
                for (var t, i, n, s, a = e.byteLength, o = e.nalCount, l = e.duration, d = t = 0; d < r.length && t < e.length && (i = r[d],
                n = e[t],
                i.pts !== n.pts); )
                    n.pts > i.pts ? d++ : (t++,
                    a -= n.byteLength,
                    o -= n.nalCount,
                    l -= n.duration);
                return 0 === t ? e : t === e.length ? null : ((s = e.slice(t)).byteLength = a,
                s.duration = l,
                s.nalCount = o,
                s.pts = s[0].pts,
                s.dts = s[0].dts,
                s)
            }
            ,
            this.alignGopsAtEnd_ = function(e) {
                for (var t, i, n, s, a = r.length - 1, o = e.length - 1, l = null, d = !1; 0 <= a && 0 <= o; ) {
                    if (t = r[a],
                    i = e[o],
                    t.pts === i.pts) {
                        d = !0;
                        break
                    }
                    t.pts > i.pts ? a-- : (a === r.length - 1 && (l = o),
                    o--)
                }
                return d || null !== l ? 0 === (n = d ? o : l) ? e : (s = (n = e.slice(n)).reduce((function(e, t) {
                    return e.byteLength += t.byteLength,
                    e.duration += t.duration,
                    e.nalCount += t.nalCount,
                    e
                }
                ), {
                    byteLength: 0,
                    duration: 0,
                    nalCount: 0
                }),
                n.byteLength = s.byteLength,
                n.duration = s.duration,
                n.nalCount = s.nalCount,
                n.pts = n[0].pts,
                n.dts = n[0].dts,
                n) : null
            }
            ,
            this.alignGopsWith = function(e) {
                r = e
            }
        }
        ).prototype = new it,
        ((ct = function(e, t) {
            this.numberOfTracks = 0,
            this.metadataStream = t,
            void 0 !== (e = e || {}).remux ? this.remuxTracks = !!e.remux : this.remuxTracks = !0,
            "boolean" == typeof e.keepOriginalTimestamps ? this.keepOriginalTimestamps = e.keepOriginalTimestamps : this.keepOriginalTimestamps = !1,
            this.pendingTracks = [],
            this.videoTrack = null,
            this.pendingBoxes = [],
            this.pendingCaptions = [],
            this.pendingMetadata = [],
            this.pendingBytes = 0,
            this.emittedTracks = 0,
            ct.prototype.init.call(this),
            this.push = function(e) {
                return e.text ? this.pendingCaptions.push(e) : e.frames ? this.pendingMetadata.push(e) : (this.pendingTracks.push(e.track),
                this.pendingBytes += e.boxes.byteLength,
                "video" === e.track.type && (this.videoTrack = e.track,
                this.pendingBoxes.push(e.boxes)),
                void ("audio" === e.track.type && (this.audioTrack = e.track,
                this.pendingBoxes.unshift(e.boxes))))
            }
        }
        ).prototype = new it).flush = function(e) {
            var t, i, n, s = 0, r = {
                captions: [],
                captionStreams: {},
                metadata: [],
                info: {}
            }, a = 0;
            if (this.pendingTracks.length < this.numberOfTracks) {
                if ("VideoSegmentStream" !== e && "AudioSegmentStream" !== e)
                    return;
                if (this.remuxTracks)
                    return;
                if (0 === this.pendingTracks.length)
                    return this.emittedTracks++,
                    void (this.emittedTracks >= this.numberOfTracks && (this.trigger("done"),
                    this.emittedTracks = 0))
            }
            if (this.videoTrack ? (a = this.videoTrack.timelineStartInfo.pts,
            St.forEach((function(e) {
                r.info[e] = this.videoTrack[e]
            }
            ), this)) : this.audioTrack && (a = this.audioTrack.timelineStartInfo.pts,
            wt.forEach((function(e) {
                r.info[e] = this.audioTrack[e]
            }
            ), this)),
            this.videoTrack || this.audioTrack) {
                for (1 === this.pendingTracks.length ? r.type = this.pendingTracks[0].type : r.type = "combined",
                this.emittedTracks += this.pendingTracks.length,
                e = ut.initSegment(this.pendingTracks),
                r.initSegment = new Uint8Array(e.byteLength),
                r.initSegment.set(e),
                r.data = new Uint8Array(this.pendingBytes),
                n = 0; n < this.pendingBoxes.length; n++)
                    r.data.set(this.pendingBoxes[n], s),
                    s += this.pendingBoxes[n].byteLength;
                for (n = 0; n < this.pendingCaptions.length; n++)
                    (t = this.pendingCaptions[n]).startTime = gt.metadataTsToSeconds(t.startPts, a, this.keepOriginalTimestamps),
                    t.endTime = gt.metadataTsToSeconds(t.endPts, a, this.keepOriginalTimestamps),
                    r.captionStreams[t.stream] = !0,
                    r.captions.push(t);
                for (n = 0; n < this.pendingMetadata.length; n++)
                    (i = this.pendingMetadata[n]).cueTime = gt.metadataTsToSeconds(i.pts, a, this.keepOriginalTimestamps),
                    r.metadata.push(i);
                for (r.metadata.dispatchType = this.metadataStream.dispatchType,
                this.pendingTracks.length = 0,
                this.videoTrack = null,
                this.pendingBoxes.length = 0,
                this.pendingCaptions.length = 0,
                this.pendingBytes = 0,
                this.pendingMetadata.length = 0,
                this.trigger("data", r),
                n = 0; n < r.captions.length; n++)
                    t = r.captions[n],
                    this.trigger("caption", t);
                for (n = 0; n < r.metadata.length; n++)
                    i = r.metadata[n],
                    this.trigger("id3Frame", i)
            }
            this.emittedTracks >= this.numberOfTracks && (this.trigger("done"),
            this.emittedTracks = 0)
        }
        ,
        ct.prototype.setRemux = function(e) {
            this.remuxTracks = e
        }
        ,
        (dt = function(e) {
            var t, i, n = this, s = !0;
            dt.prototype.init.call(this),
            e = e || {},
            this.baseMediaDecodeTime = e.baseMediaDecodeTime || 0,
            this.transmuxPipeline_ = {},
            this.setupAacPipeline = function() {
                var s = {};
                (this.transmuxPipeline_ = s).type = "aac",
                s.metadataStream = new mt.MetadataStream,
                s.aacStream = new bt,
                s.audioTimestampRolloverStream = new mt.TimestampRolloverStream("audio"),
                s.timedMetadataTimestampRolloverStream = new mt.TimestampRolloverStream("timed-metadata"),
                s.adtsStream = new vt,
                s.coalesceStream = new ct(e,s.metadataStream),
                s.headOfPipeline = s.aacStream,
                s.aacStream.pipe(s.audioTimestampRolloverStream).pipe(s.adtsStream),
                s.aacStream.pipe(s.timedMetadataTimestampRolloverStream).pipe(s.metadataStream).pipe(s.coalesceStream),
                s.metadataStream.on("timestamp", (function(e) {
                    s.aacStream.setTimestamp(e.timeStamp)
                }
                )),
                s.aacStream.on("data", (function(r) {
                    "timed-metadata" !== r.type && "audio" !== r.type || s.audioSegmentStream || (i = i || {
                        timelineStartInfo: {
                            baseMediaDecodeTime: n.baseMediaDecodeTime
                        },
                        codec: "adts",
                        type: "audio"
                    },
                    s.coalesceStream.numberOfTracks++,
                    s.audioSegmentStream = new xt(i,e),
                    s.audioSegmentStream.on("log", n.getLogTrigger_("audioSegmentStream")),
                    s.audioSegmentStream.on("timingInfo", n.trigger.bind(n, "audioTimingInfo")),
                    s.adtsStream.pipe(s.audioSegmentStream).pipe(s.coalesceStream),
                    n.trigger("trackinfo", {
                        hasAudio: !!i,
                        hasVideo: !!t
                    }))
                }
                )),
                s.coalesceStream.on("data", this.trigger.bind(this, "data")),
                s.coalesceStream.on("done", this.trigger.bind(this, "done")),
                rt(this, s)
            }
            ,
            this.setupTsPipeline = function() {
                var s = {};
                (this.transmuxPipeline_ = s).type = "ts",
                s.metadataStream = new mt.MetadataStream,
                s.packetStream = new mt.TransportPacketStream,
                s.parseStream = new mt.TransportParseStream,
                s.elementaryStream = new mt.ElementaryStream,
                s.timestampRolloverStream = new mt.TimestampRolloverStream,
                s.adtsStream = new vt,
                s.h264Stream = new yt,
                s.captionStream = new mt.CaptionStream(e),
                s.coalesceStream = new ct(e,s.metadataStream),
                s.headOfPipeline = s.packetStream,
                s.packetStream.pipe(s.parseStream).pipe(s.elementaryStream).pipe(s.timestampRolloverStream),
                s.timestampRolloverStream.pipe(s.h264Stream),
                s.timestampRolloverStream.pipe(s.adtsStream),
                s.timestampRolloverStream.pipe(s.metadataStream).pipe(s.coalesceStream),
                s.h264Stream.pipe(s.captionStream).pipe(s.coalesceStream),
                s.elementaryStream.on("data", (function(r) {
                    var a;
                    if ("metadata" === r.type) {
                        for (a = r.tracks.length; a--; )
                            t || "video" !== r.tracks[a].type ? i || "audio" !== r.tracks[a].type || ((i = r.tracks[a]).timelineStartInfo.baseMediaDecodeTime = n.baseMediaDecodeTime) : (t = r.tracks[a]).timelineStartInfo.baseMediaDecodeTime = n.baseMediaDecodeTime;
                        t && !s.videoSegmentStream && (s.coalesceStream.numberOfTracks++,
                        s.videoSegmentStream = new lt(t,e),
                        s.videoSegmentStream.on("log", n.getLogTrigger_("videoSegmentStream")),
                        s.videoSegmentStream.on("timelineStartInfo", (function(t) {
                            i && !e.keepOriginalTimestamps && (i.timelineStartInfo = t,
                            s.audioSegmentStream.setEarliestDts(t.dts - n.baseMediaDecodeTime))
                        }
                        )),
                        s.videoSegmentStream.on("processedGopsInfo", n.trigger.bind(n, "gopInfo")),
                        s.videoSegmentStream.on("segmentTimingInfo", n.trigger.bind(n, "videoSegmentTimingInfo")),
                        s.videoSegmentStream.on("baseMediaDecodeTime", (function(e) {
                            i && s.audioSegmentStream.setVideoBaseMediaDecodeTime(e)
                        }
                        )),
                        s.videoSegmentStream.on("timingInfo", n.trigger.bind(n, "videoTimingInfo")),
                        s.h264Stream.pipe(s.videoSegmentStream).pipe(s.coalesceStream)),
                        i && !s.audioSegmentStream && (s.coalesceStream.numberOfTracks++,
                        s.audioSegmentStream = new xt(i,e),
                        s.audioSegmentStream.on("log", n.getLogTrigger_("audioSegmentStream")),
                        s.audioSegmentStream.on("timingInfo", n.trigger.bind(n, "audioTimingInfo")),
                        s.audioSegmentStream.on("segmentTimingInfo", n.trigger.bind(n, "audioSegmentTimingInfo")),
                        s.adtsStream.pipe(s.audioSegmentStream).pipe(s.coalesceStream)),
                        n.trigger("trackinfo", {
                            hasAudio: !!i,
                            hasVideo: !!t
                        })
                    }
                }
                )),
                s.coalesceStream.on("data", this.trigger.bind(this, "data")),
                s.coalesceStream.on("id3Frame", (function(e) {
                    e.dispatchType = s.metadataStream.dispatchType,
                    n.trigger("id3Frame", e)
                }
                )),
                s.coalesceStream.on("caption", this.trigger.bind(this, "caption")),
                s.coalesceStream.on("done", this.trigger.bind(this, "done")),
                rt(this, s)
            }
            ,
            this.setBaseMediaDecodeTime = function(n) {
                var s = this.transmuxPipeline_;
                e.keepOriginalTimestamps || (this.baseMediaDecodeTime = n),
                i && (i.timelineStartInfo.dts = void 0,
                i.timelineStartInfo.pts = void 0,
                ft.clearDtsInfo(i),
                s.audioTimestampRolloverStream) && s.audioTimestampRolloverStream.discontinuity(),
                t && (s.videoSegmentStream && (s.videoSegmentStream.gopCache_ = []),
                t.timelineStartInfo.dts = void 0,
                t.timelineStartInfo.pts = void 0,
                ft.clearDtsInfo(t),
                s.captionStream.reset()),
                s.timestampRolloverStream && s.timestampRolloverStream.discontinuity()
            }
            ,
            this.setAudioAppendStart = function(e) {
                i && this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)
            }
            ,
            this.setRemux = function(t) {
                var i = this.transmuxPipeline_;
                e.remux = t,
                i && i.coalesceStream && i.coalesceStream.setRemux(t)
            }
            ,
            this.alignGopsWith = function(e) {
                t && this.transmuxPipeline_.videoSegmentStream && this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)
            }
            ,
            this.getLogTrigger_ = function(e) {
                var t = this;
                return function(i) {
                    i.stream = e,
                    t.trigger("log", i)
                }
            }
            ,
            this.push = function(e) {
                var t;
                s && ((t = _t(e)) && "aac" !== this.transmuxPipeline_.type ? this.setupAacPipeline() : t || "ts" === this.transmuxPipeline_.type || this.setupTsPipeline(),
                s = !1),
                this.transmuxPipeline_.headOfPipeline.push(e)
            }
            ,
            this.flush = function() {
                s = !0,
                this.transmuxPipeline_.headOfPipeline.flush()
            }
            ,
            this.endTimeline = function() {
                this.transmuxPipeline_.headOfPipeline.endTimeline()
            }
            ,
            this.reset = function() {
                this.transmuxPipeline_.headOfPipeline && this.transmuxPipeline_.headOfPipeline.reset()
            }
            ,
            this.resetCaptions = function() {
                this.transmuxPipeline_.captionStream && this.transmuxPipeline_.captionStream.reset()
            }
        }
        ).prototype = new it;
        var Lt = dt
          , Mt = (F = function(e) {
            return e >>> 0
        }
        ,
        ae = function(e) {
            return ("00" + e.toString(16)).slice(-2)
        }
        ,
        F)
          , Dt = Ct
          , Rt = F
          , Nt = $.getUint64
          , Bt = function(e) {
            return {
                isLeading: (12 & e[0]) >>> 2,
                dependsOn: 3 & e[0],
                isDependedOn: (192 & e[1]) >>> 6,
                hasRedundancy: (48 & e[1]) >>> 4,
                paddingValue: (14 & e[1]) >>> 1,
                isNonSyncSample: 1 & e[1],
                degradationPriority: e[2] << 8 | e[3]
            }
        }
          , jt = (Fe = oe = "undefined" != typeof window ? window : void 0 !== j ? j : "undefined" != typeof self ? self : {},
        de.discardEmulationPreventionBytes)
          , Ft = fe.CaptionStream
          , Ut = Et
          , $t = function(e) {
            var t = {
                version: e[0],
                flags: new Uint8Array(e.subarray(1, 4))
            };
            return t.baseMediaDecodeTime = 1 === t.version ? Nt(e.subarray(4)) : Rt(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7]),
            t
        }
          , Ht = function(e) {
            var t, i = {
                version: e[0],
                flags: new Uint8Array(e.subarray(1, 4)),
                samples: []
            }, n = new DataView(e.buffer,e.byteOffset,e.byteLength), s = 1 & i.flags[2], r = 4 & i.flags[2], a = 1 & i.flags[1], o = 2 & i.flags[1], l = 4 & i.flags[1], d = 8 & i.flags[1], c = n.getUint32(4), u = 8;
            for (s && (i.dataOffset = n.getInt32(u),
            u += 4),
            r && c && (t = {
                flags: Bt(e.subarray(u, u + 4))
            },
            u += 4,
            a && (t.duration = n.getUint32(u),
            u += 4),
            o && (t.size = n.getUint32(u),
            u += 4),
            d && (t.compositionTimeOffset = 1 === i.version ? n.getInt32(u) : n.getUint32(u),
            u += 4),
            i.samples.push(t),
            c--); c--; )
                t = {},
                a && (t.duration = n.getUint32(u),
                u += 4),
                o && (t.size = n.getUint32(u),
                u += 4),
                l && (t.flags = Bt(e.subarray(u, u + 4)),
                u += 4),
                d && (t.compositionTimeOffset = 1 === i.version ? n.getInt32(u) : n.getUint32(u),
                u += 4),
                i.samples.push(t);
            return i
        }
          , zt = function(e) {
            var t = new DataView(e.buffer,e.byteOffset,e.byteLength)
              , i = 1 & (e = {
                version: e[0],
                flags: new Uint8Array(e.subarray(1, 4)),
                trackId: t.getUint32(4)
            }).flags[2]
              , n = 2 & e.flags[2]
              , s = 8 & e.flags[2]
              , r = 16 & e.flags[2]
              , a = 32 & e.flags[2]
              , o = 65536 & e.flags[0]
              , l = 131072 & e.flags[0]
              , d = 8;
            return i && (d += 4,
            e.baseDataOffset = t.getUint32(12),
            d += 4),
            n && (e.sampleDescriptionIndex = t.getUint32(d),
            d += 4),
            s && (e.defaultSampleDuration = t.getUint32(d),
            d += 4),
            r && (e.defaultSampleSize = t.getUint32(d),
            d += 4),
            a && (e.defaultSampleFlags = t.getUint32(d)),
            o && (e.durationIsEmpty = !0),
            !i && l && (e.baseDataOffsetIsMoof = !0),
            e
        }
          , qt = Fe
          , Wt = function(e, t) {
            var i = Ut(e, ["moof", "traf"])
              , n = (e = Ut(e, ["mdat"]),
            {})
              , s = [];
            return e.forEach((function(e, t) {
                t = i[t],
                s.push({
                    mdat: e,
                    traf: t
                })
            }
            )),
            s.forEach((function(e) {
                var i, s, r, a, o, l = e.mdat, d = (e = e.traf,
                Ut(e, ["tfhd"])), c = (d = zt(d[0])).trackId, u = 0 < (u = Ut(e, ["tfdt"])).length ? $t(u[0]).baseMediaDecodeTime : 0;
                e = Ut(e, ["trun"]);
                t === c && 0 < e.length && (i = u,
                s = d.defaultSampleDuration || 0,
                r = d.defaultSampleSize || 0,
                a = d.trackId,
                o = [],
                e.forEach((function(e) {
                    (e = Ht(e).samples).forEach((function(e) {
                        void 0 === e.duration && (e.duration = s),
                        void 0 === e.size && (e.size = r),
                        e.trackId = a,
                        e.dts = i,
                        void 0 === e.compositionTimeOffset && (e.compositionTimeOffset = 0),
                        "bigint" == typeof i ? (e.pts = i + qt.BigInt(e.compositionTimeOffset),
                        i += qt.BigInt(e.duration)) : (e.pts = i + e.compositionTimeOffset,
                        i += e.duration)
                    }
                    )),
                    o = o.concat(e)
                }
                )),
                u = function(e, t, i) {
                    for (var n, s, r = new DataView(e.buffer,e.byteOffset,e.byteLength), a = {
                        logs: [],
                        seiNals: []
                    }, o = 0; o + 4 < e.length; o += n)
                        if (n = r.getUint32(o),
                        o += 4,
                        !(n <= 0))
                            switch (31 & e[o]) {
                            case 6:
                                var l = e.subarray(o + 1, o + 1 + n)
                                  , d = function(e, t) {
                                    for (var i = e, n = 0; n < t.length; n++) {
                                        var s = t[n];
                                        if (i < s.size)
                                            return s;
                                        i -= s.size
                                    }
                                    return null
                                }(o, t);
                                l = {
                                    nalUnitType: "sei_rbsp",
                                    size: n,
                                    data: l,
                                    escapedRBSP: jt(l),
                                    trackId: i
                                };
                                if (d)
                                    l.pts = d.pts,
                                    l.dts = d.dts,
                                    s = d;
                                else {
                                    if (!s) {
                                        a.logs.push({
                                            level: "warn",
                                            message: "We've encountered a nal unit without data at " + o + " for trackId " + i + ". See mux.js#223."
                                        });
                                        break
                                    }
                                    l.pts = s.pts,
                                    l.dts = s.dts
                                }
                                a.seiNals.push(l)
                            }
                    return a
                }(l, o, c),
                n[c] || (n[c] = {
                    seiNals: [],
                    logs: []
                }),
                n[c].seiNals = n[c].seiNals.concat(u.seiNals),
                n[c].logs = n[c].logs.concat(u.logs))
            }
            )),
            n
        }
          , Vt = function() {
            var e, t, i, n, s, r, a = !1;
            this.isInitialized = function() {
                return a
            }
            ,
            this.init = function(t) {
                e = new Ft,
                a = !0,
                r = !!t && t.isPartial,
                e.on("data", (function(e) {
                    e.startTime = e.startPts / n,
                    e.endTime = e.endPts / n,
                    s.captions.push(e),
                    s.captionStreams[e.stream] = !0
                }
                )),
                e.on("log", (function(e) {
                    s.logs.push(e)
                }
                ))
            }
            ,
            this.isNewInit = function(e, t) {
                return !(e && 0 === e.length || t && "object" == typeof t && 0 === Object.keys(t).length || i === e[0] && n === t[i])
            }
            ,
            this.parse = function(e, r, a) {
                var o, l;
                if (!this.isInitialized())
                    return null;
                if (!r || !a)
                    return null;
                if (this.isNewInit(r, a))
                    i = r[0],
                    n = a[i];
                else if (null === i || !n)
                    return t.push(e),
                    null;
                for (; 0 < t.length; ) {
                    var d = t.shift();
                    this.parse(d, r, a)
                }
                return l = n,
                (o = null === (o = i) ? null : {
                    seiNals: (e = Wt(e, o)[o] || {}).seiNals,
                    logs: e.logs,
                    timescale: l
                }) && o.logs && (s.logs = s.logs.concat(o.logs)),
                null !== o && o.seiNals ? (this.pushNals(o.seiNals),
                this.flushStream(),
                s) : s.logs.length ? {
                    logs: s.logs,
                    captions: [],
                    captionStreams: []
                } : null
            }
            ,
            this.pushNals = function(t) {
                if (!this.isInitialized() || !t || 0 === t.length)
                    return null;
                t.forEach((function(t) {
                    e.push(t)
                }
                ))
            }
            ,
            this.flushStream = function() {
                if (!this.isInitialized())
                    return null;
                r ? e.partialFlush() : e.flush()
            }
            ,
            this.clearParsedCaptions = function() {
                s.captions = [],
                s.captionStreams = {},
                s.logs = []
            }
            ,
            this.resetCaptionStream = function() {
                if (!this.isInitialized())
                    return null;
                e.reset()
            }
            ,
            this.clearAllCaptions = function() {
                this.clearParsedCaptions(),
                this.resetCaptionStream()
            }
            ,
            this.reset = function() {
                t = [],
                n = i = null,
                s ? this.clearParsedCaptions() : s = {
                    captions: [],
                    captionStreams: {},
                    logs: []
                },
                this.resetCaptionStream()
            }
            ,
            this.reset()
        }
          , Gt = F
          , Xt = ae
          , Yt = Et
          , Kt = Ct
          , Qt = $.getUint64
          , Zt = Fe
          , Jt = function(e) {
            e = Yt(e, ["moov", "trak"]);
            var t = [];
            return e.forEach((function(e) {
                var i, n, s = {}, r = ((r = ((n = Yt(e, ["tkhd"])[0]) && (r = (n = new DataView(n.buffer,n.byteOffset,n.byteLength)).getUint8(0),
                s.id = 0 === r ? n.getUint32(12) : n.getUint32(20)),
                Yt(e, ["mdia", "hdlr"])[0])) && (n = Kt(r.subarray(8, 12)),
                s.type = "vide" === n ? "video" : "soun" === n ? "audio" : n),
                Yt(e, ["mdia", "minf", "stbl", "stsd"])[0]);
                (n = (r && (n = r.subarray(8),
                s.codec = Kt(n.subarray(4, 8)),
                r = Yt(n, [s.codec])[0]) && (/^[asm]vc[1-9]$/i.test(s.codec) ? (i = r.subarray(78),
                "avcC" === Kt(i.subarray(4, 8)) && 11 < i.length ? (s.codec += ".",
                s.codec += Xt(i[9]),
                s.codec += Xt(i[10]),
                s.codec += Xt(i[11])) : s.codec = "avc1.4d400d") : /^mp4[a,v]$/i.test(s.codec) ? (i = r.subarray(28),
                "esds" === Kt(i.subarray(4, 8)) && 20 < i.length && 0 !== i[19] ? (s.codec += "." + Xt(i[19]),
                s.codec += "." + Xt(i[20] >>> 2 & 63).replace(/^0/, "")) : s.codec = "mp4a.40.2") : s.codec = s.codec.toLowerCase()),
                Yt(e, ["mdia", "mdhd"])[0])) && (s.timescale = function(e) {
                    var t = 0 === e[0] ? 12 : 20;
                    return Gt(e[t] << 24 | e[1 + t] << 16 | e[2 + t] << 8 | e[3 + t])
                }(n)),
                t.push(s)
            }
            )),
            t
        }
          , ei = we
          , ti = we
          , ii = Me
          , ni = {}
          , si = (ni.ts = {
            parseType: function(e, t) {
                return 0 === (e = Pt(e)) ? "pat" : e === t ? "pmt" : t ? "pes" : null
            },
            parsePat: function(e) {
                var t = At(e)
                  , i = 4 + It(e);
                return t && (i += e[i] + 1),
                (31 & e[i + 10]) << 8 | e[i + 11]
            },
            parsePmt: function(e) {
                var t = {}
                  , i = At(e)
                  , n = 4 + It(e);
                if (i && (n += e[n] + 1),
                1 & e[n + 5]) {
                    for (var s = 3 + ((15 & e[n + 1]) << 8 | e[n + 2]) - 4, r = 12 + ((15 & e[n + 10]) << 8 | e[n + 11]); r < s; ) {
                        var a = n + r;
                        t[(31 & e[a + 1]) << 8 | e[a + 2]] = e[a],
                        r += 5 + ((15 & e[a + 3]) << 8 | e[a + 4])
                    }
                    return t
                }
            },
            parsePayloadUnitStartIndicator: At,
            parsePesType: function(e, t) {
                switch (t[Pt(e)]) {
                case ei.H264_STREAM_TYPE:
                    return "video";
                case ei.ADTS_STREAM_TYPE:
                    return "audio";
                case ei.METADATA_STREAM_TYPE:
                    return "timed-metadata";
                default:
                    return null
                }
            },
            parsePesTime: function(e) {
                var t, i, n;
                return !At(e) || (t = 4 + It(e)) >= e.byteLength ? null : (i = null,
                192 & (n = e[t + 7]) && ((i = {}).pts = (14 & e[t + 9]) << 27 | (255 & e[t + 10]) << 20 | (254 & e[t + 11]) << 12 | (255 & e[t + 12]) << 5 | (254 & e[t + 13]) >>> 3,
                i.pts *= 4,
                i.pts += (6 & e[t + 13]) >>> 1,
                i.dts = i.pts,
                64 & n) && (i.dts = (14 & e[t + 14]) << 27 | (255 & e[t + 15]) << 20 | (254 & e[t + 16]) << 12 | (255 & e[t + 17]) << 5 | (254 & e[t + 18]) >>> 3,
                i.dts *= 4,
                i.dts += (6 & e[t + 18]) >>> 1),
                i)
            },
            videoPacketContainsKeyFrame: function(e) {
                for (var t = 4 + It(e), i = e.subarray(t), n = 0, s = 0, r = !1; s < i.byteLength - 3; s++)
                    if (1 === i[s + 2]) {
                        n = s + 5;
                        break
                    }
                for (; n < i.byteLength; )
                    switch (i[n]) {
                    case 0:
                        if (0 !== i[n - 1])
                            n += 2;
                        else if (0 !== i[n - 2])
                            n++;
                        else {
                            for (s + 3 !== n - 2 && "slice_layer_without_partitioning_rbsp_idr" === Ot(31 & i[s + 3]) && (r = !0); 1 !== i[++n] && n < i.length; )
                                ;
                            s = n - 2,
                            n += 3
                        }
                        break;
                    case 1:
                        0 !== i[n - 1] || 0 !== i[n - 2] || ("slice_layer_without_partitioning_rbsp_idr" === Ot(31 & i[s + 3]) && (r = !0),
                        s = n - 2),
                        n += 3;
                        break;
                    default:
                        n += 3
                    }
                return i = i.subarray(s),
                n -= s,
                s = 0,
                !!(i && 3 < i.byteLength && "slice_layer_without_partitioning_rbsp_idr" === Ot(31 & i[s + 3])) || r
            }
        },
        ni.aac = De,
        ce.ONE_SECOND_IN_TS)
          , ri = function(e, t, i) {
            for (var n, s, r, a, o = 0, l = 188, d = !1; l <= e.byteLength; )
                if (71 !== e[o] || 71 !== e[l] && l !== e.byteLength)
                    o++,
                    l++;
                else {
                    if (n = e.subarray(o, l),
                    "pes" === ni.ts.parseType(n, t.pid) && (s = ni.ts.parsePesType(n, t.table),
                    r = ni.ts.parsePayloadUnitStartIndicator(n),
                    "audio" === s) && r && (a = ni.ts.parsePesTime(n)) && (a.type = "audio",
                    i.audio.push(a),
                    d = !0),
                    d)
                        break;
                    o += 188,
                    l += 188
                }
            for (o = (l = e.byteLength) - 188,
            d = !1; 0 <= o; )
                if (71 !== e[o] || 71 !== e[l] && l !== e.byteLength)
                    o--,
                    l--;
                else {
                    if (n = e.subarray(o, l),
                    "pes" === ni.ts.parseType(n, t.pid) && (s = ni.ts.parsePesType(n, t.table),
                    r = ni.ts.parsePayloadUnitStartIndicator(n),
                    "audio" === s) && r && (a = ni.ts.parsePesTime(n)) && (a.type = "audio",
                    i.audio.push(a),
                    d = !0),
                    d)
                        break;
                    o -= 188,
                    l -= 188
                }
        }
          , ai = function(e, t, i) {
            for (var n, s, r, a, o, l, d, c, u = 0, h = 188, p = !1, f = {
                data: [],
                size: 0
            }; h < e.byteLength; )
                if (71 === e[u] && 71 === e[h]) {
                    if (n = e.subarray(u, h),
                    "pes" === ni.ts.parseType(n, t.pid) && (s = ni.ts.parsePesType(n, t.table),
                    r = ni.ts.parsePayloadUnitStartIndicator(n),
                    "video" === s && (r && !p && (a = ni.ts.parsePesTime(n)) && (a.type = "video",
                    i.video.push(a),
                    p = !0),
                    !i.firstKeyFrame))) {
                        if (r && 0 !== f.size) {
                            for (o = new Uint8Array(f.size),
                            l = 0; f.data.length; )
                                d = f.data.shift(),
                                o.set(d, l),
                                l += d.byteLength;
                            ni.ts.videoPacketContainsKeyFrame(o) && (c = ni.ts.parsePesTime(o)) && (i.firstKeyFrame = c,
                            i.firstKeyFrame.type = "video"),
                            f.size = 0
                        }
                        f.data.push(n),
                        f.size += n.byteLength
                    }
                    if (p && i.firstKeyFrame)
                        break;
                    u += 188,
                    h += 188
                } else
                    u++,
                    h++;
            for (u = (h = e.byteLength) - 188,
            p = !1; 0 <= u; )
                if (71 === e[u] && 71 === e[h]) {
                    if (n = e.subarray(u, h),
                    "pes" === ni.ts.parseType(n, t.pid) && (s = ni.ts.parsePesType(n, t.table),
                    r = ni.ts.parsePayloadUnitStartIndicator(n),
                    "video" === s) && r && (a = ni.ts.parsePesTime(n)) && (a.type = "video",
                    i.video.push(a),
                    p = !0),
                    p)
                        break;
                    u -= 188,
                    h -= 188
                } else
                    u--,
                    h--
        }
          , oi = function(e, t) {
            var i, n, s;
            e = (ni.aac.isLikelyAacData(e) ? function(e) {
                for (var t, i, n = !1, s = 0, r = null, a = null, o = 0, l = 0; 3 <= e.length - l; ) {
                    switch (ni.aac.parseType(e, l)) {
                    case "timed-metadata":
                        e.length - l < 10 || (o = ni.aac.parseId3TagSize(e, l)) > e.length ? n = !0 : (null === a && (t = e.subarray(l, l + o),
                        a = ni.aac.parseAacTimestamp(t)),
                        l += o);
                        break;
                    case "audio":
                        e.length - l < 7 || (o = ni.aac.parseAdtsSize(e, l)) > e.length ? n = !0 : (null === r && (t = e.subarray(l, l + o),
                        r = ni.aac.parseSampleRate(t)),
                        s++,
                        l += o);
                        break;
                    default:
                        l++
                    }
                    if (n)
                        return null
                }
                return null === r || null === a ? null : {
                    audio: [{
                        type: "audio",
                        dts: a,
                        pts: a
                    }, {
                        type: "audio",
                        dts: a + 1024 * s * (i = si / r),
                        pts: a + 1024 * s * i
                    }]
                }
            }
            : function(e) {
                var t, i = {
                    pid: null,
                    table: null
                }, n = {};
                for (t in function(e, t) {
                    for (var i, n = 0, s = 188; s < e.byteLength; )
                        if (71 === e[n] && 71 === e[s]) {
                            switch (i = e.subarray(n, s),
                            ni.ts.parseType(i, t.pid)) {
                            case "pat":
                                t.pid = ni.ts.parsePat(i);
                                break;
                            case "pmt":
                                var r = ni.ts.parsePmt(i);
                                t.table = t.table || {},
                                Object.keys(r).forEach((function(e) {
                                    t.table[e] = r[e]
                                }
                                ))
                            }
                            n += 188,
                            s += 188
                        } else
                            n++,
                            s++
                }(e, i),
                i.table)
                    if (i.table.hasOwnProperty(t))
                        switch (i.table[t]) {
                        case ti.H264_STREAM_TYPE:
                            n.video = [],
                            ai(e, i, n),
                            0 === n.video.length && delete n.video;
                            break;
                        case ti.ADTS_STREAM_TYPE:
                            n.audio = [],
                            ri(e, i, n),
                            0 === n.audio.length && delete n.audio
                        }
                return n
            }
            )(e);
            return e && (e.audio || e.video) ? ((i = e).audio && i.audio.length && (void 0 !== (n = t) && !isNaN(n) || (n = i.audio[0].dts),
            i.audio.forEach((function(e) {
                e.dts = ii(e.dts, n),
                e.pts = ii(e.pts, n),
                e.dtsTime = e.dts / si,
                e.ptsTime = e.pts / si
            }
            ))),
            i.video && i.video.length && (void 0 !== (s = t) && !isNaN(s) || (s = i.video[0].dts),
            i.video.forEach((function(e) {
                e.dts = ii(e.dts, s),
                e.pts = ii(e.pts, s),
                e.dtsTime = e.dts / si,
                e.ptsTime = e.pts / si
            }
            )),
            i.firstKeyFrame) && ((t = i.firstKeyFrame).dts = ii(t.dts, s),
            t.pts = ii(t.pts, s),
            t.dtsTime = t.dts / si,
            t.ptsTime = t.pts / si),
            e) : null
        };
        class li {
            constructor(e, t) {
                this.options = t || {},
                this.self = e,
                this.init()
            }
            init() {
                var e, t;
                this.transmuxer && this.transmuxer.dispose(),
                this.transmuxer = new Lt(this.options),
                e = this.self,
                (t = this.transmuxer).on("data", (function(t) {
                    var i = t.initSegment;
                    t.initSegment = {
                        data: i.buffer,
                        byteOffset: i.byteOffset,
                        byteLength: i.byteLength
                    },
                    i = t.data;
                    t.data = i.buffer,
                    e.postMessage({
                        action: "data",
                        segment: t,
                        byteOffset: i.byteOffset,
                        byteLength: i.byteLength
                    }, [t.data])
                }
                )),
                t.on("done", (function(t) {
                    e.postMessage({
                        action: "done"
                    })
                }
                )),
                t.on("gopInfo", (function(t) {
                    e.postMessage({
                        action: "gopInfo",
                        gopInfo: t
                    })
                }
                )),
                t.on("videoSegmentTimingInfo", (function(t) {
                    var i = {
                        start: {
                            decode: ce.videoTsToSeconds(t.start.dts),
                            presentation: ce.videoTsToSeconds(t.start.pts)
                        },
                        end: {
                            decode: ce.videoTsToSeconds(t.end.dts),
                            presentation: ce.videoTsToSeconds(t.end.pts)
                        },
                        baseMediaDecodeTime: ce.videoTsToSeconds(t.baseMediaDecodeTime)
                    };
                    t.prependedContentDuration && (i.prependedContentDuration = ce.videoTsToSeconds(t.prependedContentDuration)),
                    e.postMessage({
                        action: "videoSegmentTimingInfo",
                        videoSegmentTimingInfo: i
                    })
                }
                )),
                t.on("audioSegmentTimingInfo", (function(t) {
                    var i = {
                        start: {
                            decode: ce.videoTsToSeconds(t.start.dts),
                            presentation: ce.videoTsToSeconds(t.start.pts)
                        },
                        end: {
                            decode: ce.videoTsToSeconds(t.end.dts),
                            presentation: ce.videoTsToSeconds(t.end.pts)
                        },
                        baseMediaDecodeTime: ce.videoTsToSeconds(t.baseMediaDecodeTime)
                    };
                    t.prependedContentDuration && (i.prependedContentDuration = ce.videoTsToSeconds(t.prependedContentDuration)),
                    e.postMessage({
                        action: "audioSegmentTimingInfo",
                        audioSegmentTimingInfo: i
                    })
                }
                )),
                t.on("id3Frame", (function(t) {
                    e.postMessage({
                        action: "id3Frame",
                        id3Frame: t
                    })
                }
                )),
                t.on("caption", (function(t) {
                    e.postMessage({
                        action: "caption",
                        caption: t
                    })
                }
                )),
                t.on("trackinfo", (function(t) {
                    e.postMessage({
                        action: "trackinfo",
                        trackInfo: t
                    })
                }
                )),
                t.on("audioTimingInfo", (function(t) {
                    e.postMessage({
                        action: "audioTimingInfo",
                        audioTimingInfo: {
                            start: ce.videoTsToSeconds(t.start),
                            end: ce.videoTsToSeconds(t.end)
                        }
                    })
                }
                )),
                t.on("videoTimingInfo", (function(t) {
                    e.postMessage({
                        action: "videoTimingInfo",
                        videoTimingInfo: {
                            start: ce.videoTsToSeconds(t.start),
                            end: ce.videoTsToSeconds(t.end)
                        }
                    })
                }
                )),
                t.on("log", (function(t) {
                    e.postMessage({
                        action: "log",
                        log: t
                    })
                }
                ))
            }
            pushMp4Captions(e) {
                this.captionParser || (this.captionParser = new Vt,
                this.captionParser.init());
                var t = new Uint8Array(e.data,e.byteOffset,e.byteLength);
                e = this.captionParser.parse(t, e.trackIds, e.timescales);
                this.self.postMessage({
                    action: "mp4Captions",
                    captions: e && e.captions || [],
                    logs: e && e.logs || [],
                    data: t.buffer
                }, [t.buffer])
            }
            probeMp4StartTime({timescales: e, data: t}) {
                e = function(e, t) {
                    return t = Yt(t, ["moof", "traf"]).reduce((function(t, i) {
                        var n = Yt(i, ["tfhd"])[0]
                          , s = (n = Gt(n[4] << 24 | n[5] << 16 | n[6] << 8 | n[7]),
                        n = e[n] || 9e4,
                        i = Yt(i, ["tfdt"])[0],
                        new DataView(i.buffer,i.byteOffset,i.byteLength));
                        let r;
                        return "bigint" == typeof (i = 1 === i[0] ? Qt(i.subarray(4, 12)) : s.getUint32(4)) ? r = i / Zt.BigInt(n) : "number" != typeof i || isNaN(i) || (r = i / n),
                        (r = r < Number.MAX_SAFE_INTEGER ? Number(r) : r) < t ? r : t
                    }
                    ), 1 / 0),
                    "bigint" == typeof t || isFinite(t) ? t : 0
                }(e, t),
                this.self.postMessage({
                    action: "probeMp4StartTime",
                    startTime: e,
                    data: t
                }, [t.buffer])
            }
            probeMp4Tracks({data: e}) {
                var t = Jt(e);
                this.self.postMessage({
                    action: "probeMp4Tracks",
                    tracks: t,
                    data: e
                }, [e.buffer])
            }
            probeTs({data: e, baseStartTime: t}) {
                t = "number" != typeof t || isNaN(t) ? void 0 : t * ce.ONE_SECOND_IN_TS;
                let i = null;
                (t = oi(e, t)) && ((i = {
                    hasVideo: t.video && 2 === t.video.length || !1,
                    hasAudio: t.audio && 2 === t.audio.length || !1
                }).hasVideo && (i.videoStart = t.video[0].ptsTime),
                i.hasAudio) && (i.audioStart = t.audio[0].ptsTime),
                this.self.postMessage({
                    action: "probeTs",
                    result: i,
                    data: e
                }, [e.buffer])
            }
            clearAllMp4Captions() {
                this.captionParser && this.captionParser.clearAllCaptions()
            }
            clearParsedMp4Captions() {
                this.captionParser && this.captionParser.clearParsedCaptions()
            }
            push(e) {
                e = new Uint8Array(e.data,e.byteOffset,e.byteLength),
                this.transmuxer.push(e)
            }
            reset() {
                this.transmuxer.reset()
            }
            setTimestampOffset(e) {
                e = e.timestampOffset || 0,
                this.transmuxer.setBaseMediaDecodeTime(Math.round(ce.secondsToVideoTs(e)))
            }
            setAudioAppendStart(e) {
                this.transmuxer.setAudioAppendStart(Math.ceil(ce.secondsToVideoTs(e.appendStart)))
            }
            setRemux(e) {
                this.transmuxer.setRemux(e.remux)
            }
            flush(e) {
                this.transmuxer.flush(),
                self.postMessage({
                    action: "done",
                    type: "transmuxed"
                })
            }
            endTimeline() {
                this.transmuxer.endTimeline(),
                self.postMessage({
                    action: "endedtimeline",
                    type: "transmuxed"
                })
            }
            alignGopsWith(e) {
                this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())
            }
        }
        self.onmessage = function(e) {
            "init" === e.data.action && e.data.options ? this.messageHandlers = new li(self,e.data.options) : (this.messageHandlers || (this.messageHandlers = new li(self)),
            e.data && e.data.action && "init" !== e.data.action && this.messageHandlers[e.data.action] && this.messageHandlers[e.data.action](e.data))
        }
    }
    ))));
    const cd = e => {
        const {transmuxer: t, bytes: i, audioAppendStart: n, gopsToAlignWith: s, remux: r, onData: a, onTrackInfo: o, onAudioTimingInfo: l, onVideoTimingInfo: d, onVideoSegmentTimingInfo: c, onAudioSegmentTimingInfo: u, onId3: h, onCaptions: p, onDone: f, onEndedTimeline: m, onTransmuxerLog: g, isEndOfTimeline: v} = e
          , y = {
            buffer: []
        };
        let b = v;
        var _, T;
        t.onmessage = i => {
            t.currentTransmux !== e || ("data" === i.data.action && ( (e, t, i) => {
                var {type: n, initSegment: s, captions: r, captionStreams: a, metadata: o, videoFrameDtsTime: l, videoFramePtsTime: d} = e.data.segment
                  , r = (t.buffer.push({
                    captions: r,
                    captionStreams: a,
                    metadata: o
                }),
                t = e.data.segment.boxes || {
                    data: e.data.segment.data
                },
                {
                    type: n,
                    data: new Uint8Array(t.data,t.data.byteOffset,t.data.byteLength),
                    initSegment: new Uint8Array(s.data,s.byteOffset,s.byteLength)
                });
                void 0 !== l && (r.videoFrameDtsTime = l),
                void 0 !== d && (r.videoFramePtsTime = d),
                i(r)
            }
            )(i, y, a),
            "trackinfo" === i.data.action && o(i.data.trackInfo),
            "gopInfo" === i.data.action && ( (e, t) => {
                t.gopInfo = e.data.gopInfo
            }
            )(i, y),
            "audioTimingInfo" === i.data.action && l(i.data.audioTimingInfo),
            "videoTimingInfo" === i.data.action && d(i.data.videoTimingInfo),
            "videoSegmentTimingInfo" === i.data.action && c(i.data.videoSegmentTimingInfo),
            "audioSegmentTimingInfo" === i.data.action && u(i.data.audioSegmentTimingInfo),
            "id3Frame" === i.data.action && h([i.data.id3Frame], i.data.id3Frame.dispatchType),
            "caption" === i.data.action && p(i.data.caption),
            "endedtimeline" === i.data.action && (b = !1,
            m()),
            "log" === i.data.action && g(i.data.log),
            "transmuxed" !== i.data.type) || b || (t.onmessage = null,
            ( ({transmuxedData: e, callback: t}) => {
                e.buffer = [],
                t(e)
            }
            )({
                transmuxedData: y,
                callback: f
            }),
            ud(t))
        }
        ,
        n && t.postMessage({
            action: "setAudioAppendStart",
            appendStart: n
        }),
        Array.isArray(s) && t.postMessage({
            action: "alignGopsWith",
            gopsToAlignWith: s
        }),
        void 0 !== r && t.postMessage({
            action: "setRemux",
            remux: r
        }),
        i.byteLength && (_ = i instanceof ArrayBuffer ? i : i.buffer,
        T = i instanceof ArrayBuffer ? 0 : i.byteOffset,
        t.postMessage({
            action: "push",
            data: _,
            byteOffset: T,
            byteLength: i.byteLength
        }, [_])),
        v && t.postMessage({
            action: "endTimeline"
        }),
        t.postMessage({
            action: "flush"
        })
    }
      , ud = e => {
        e.currentTransmux = null,
        e.transmuxQueue.length && (e.currentTransmux = e.transmuxQueue.shift(),
        "function" == typeof e.currentTransmux ? e.currentTransmux() : cd(e.currentTransmux))
    }
      , hd = (e, t) => {
        e.postMessage({
            action: t
        }),
        ud(e)
    }
      , pd = e => {
        e.transmuxer.currentTransmux ? e.transmuxer.transmuxQueue.push(e) : (e.transmuxer.currentTransmux = e,
        cd(e))
    }
    ;
    var fd = e => {
        ( (e, t) => {
            t.currentTransmux ? t.transmuxQueue.push(hd.bind(null, t, e)) : (t.currentTransmux = e,
            hd(t, e))
        }
        )("reset", e)
    }
      , md = e => {
        const t = new dd
          , i = (t.currentTransmux = null,
        t.transmuxQueue = [],
        t.terminate);
        return t.terminate = () => (t.currentTransmux = null,
        t.transmuxQueue.length = 0,
        i.call(t)),
        t.postMessage({
            action: "init",
            options: e
        }),
        t
    }
    ;
    function gd(e) {
        const t = e.transmuxer
          , i = e.endAction || e.action
          , n = e.callback;
        var s, r = zt({}, e, {
            endAction: null,
            transmuxer: null,
            callback: null
        });
        const a = s => {
            s.data.action === i && (t.removeEventListener("message", a),
            s.data.data && (s.data.data = new Uint8Array(s.data.data,e.byteOffset || 0,e.byteLength || s.data.data.byteLength),
            e.data) && (e.data = s.data.data),
            n(s.data))
        }
        ;
        t.addEventListener("message", a),
        e.data ? (s = e.data instanceof ArrayBuffer,
        r.byteOffset = s ? 0 : e.data.byteOffset,
        r.byteLength = e.data.byteLength,
        s = [s ? e.data : e.data.buffer],
        t.postMessage(r, s)) : t.postMessage(r)
    }
    function vd(e) {
        let t = 0;
        return e.audio && t++,
        e.video && t++,
        t
    }
    function yd(e, t) {
        var i = t.attributes || {}
          , n = Md(function(e) {
            if ((e = e.attributes || {}).CODECS)
                return Ks(e.CODECS)
        }(t) || []);
        return !Ld(e, t) || n.audio || ( (e, t) => {
            if (!Ld(e, t))
                return !0;
            t = t.attributes || {};
            var i = e.mediaGroups.AUDIO[t.AUDIO];
            for (const e in i)
                if (!i[e].uri && !i[e].playlists)
                    return !0;
            return !1
        }
        )(e, t) || (t = Md(function(e, t) {
            if (e.mediaGroups.AUDIO && t) {
                var i = e.mediaGroups.AUDIO[t];
                if (i)
                    for (var n in i)
                        if ((n = i[n]).default && n.playlists)
                            return Ks(n.playlists[0].attributes.CODECS)
            }
            return null
        }(e, i.AUDIO) || [])).audio && (n.audio = t.audio),
        n
    }
    function bd(e, t) {
        return (e = e && window.getComputedStyle(e)) ? e[t] : ""
    }
    function _d(e, t) {
        let i, n;
        return i = (i = e.attributes.BANDWIDTH ? e.attributes.BANDWIDTH : i) || window.Number.MAX_VALUE,
        n = (n = t.attributes.BANDWIDTH ? t.attributes.BANDWIDTH : n) || window.Number.MAX_VALUE,
        i - n
    }
    const Td = 2
      , wd = -101
      , Sd = -102
      , kd = e => {
        e.forEach((e => {
            e.abort()
        }
        ))
    }
      , xd = (e, t) => t.timedout ? {
        status: t.status,
        message: "HLS request timed-out at URL: " + t.uri,
        code: wd,
        xhr: t
    } : t.aborted ? {
        status: t.status,
        message: "HLS request aborted at URL: " + t.uri,
        code: Sd,
        xhr: t
    } : e ? {
        status: t.status,
        message: "HLS request errored at URL: " + t.uri,
        code: Td,
        xhr: t
    } : "arraybuffer" === t.responseType && 0 === t.response.byteLength ? {
        status: t.status,
        message: "Empty HLS response at URL: " + t.uri,
        code: Td,
        xhr: t
    } : null
      , Cd = (e, t, i) => (n, s) => {
        var r = s.response;
        if (n = xd(n, s))
            return i(n, e);
        if (16 !== r.byteLength)
            return i({
                status: s.status,
                message: "Invalid HLS key at URL: " + s.uri,
                code: Td,
                xhr: s
            }, e);
        n = new DataView(r);
        var a = new Uint32Array([n.getUint32(0), n.getUint32(4), n.getUint32(8), n.getUint32(12)]);
        for (let e = 0; e < t.length; e++)
            t[e].bytes = a;
        return i(null, e)
    }
      , Ed = (e, t) => {
        var i, n = Ro(e.map.bytes);
        if ("mp4" !== n)
            return i = e.map.resolvedUri || e.map.uri,
            t({
                internal: !0,
                message: `Found unsupported ${n || "unknown"} container for initialization segment at URL: ` + i,
                code: Td
            });
        gd({
            action: "probeMp4Tracks",
            data: e.map.bytes,
            transmuxer: e.transmuxer,
            callback: ({tracks: i, data: n}) => (e.map.bytes = n,
            i.forEach((function(t) {
                e.map.tracks = e.map.tracks || {},
                e.map.tracks[t.type] || "number" == typeof (e.map.tracks[t.type] = t).id && t.timescale && (e.map.timescales = e.map.timescales || {},
                e.map.timescales[t.id] = t.timescale)
            }
            )),
            t(null))
        })
    }
      , Pd = ({segment: e, bytes: t, trackInfoFn: i, timingInfoFn: n, videoSegmentTimingInfoFn: s, audioSegmentTimingInfoFn: r, id3Fn: a, captionsFn: o, isEndOfTimeline: l, endedTimelineFn: d, dataFn: c, doneFn: u, onTransmuxerLog: h}) => {
        let p = new Uint8Array(t);
        if (0 < Oo(p, ["moof"]).length) {
            e.isFmp4 = !0;
            const s = e.map.tracks
              , r = {
                isFmp4: !0,
                hasVideo: !!s.video,
                hasAudio: !!s.audio
            }
              , a = (s.audio && s.audio.codec && "enca" !== s.audio.codec && (r.audioCodec = s.audio.codec),
            s.video && s.video.codec && "encv" !== s.video.codec && (r.videoCodec = s.video.codec),
            s.video && s.audio && (r.isMuxed = !0),
            i(e, r),
            t => {
                c(e, {
                    data: p,
                    type: r.hasAudio && !r.isMuxed ? "audio" : "video"
                }),
                t && t.length && o(e, t),
                u(null, e, {})
            }
            );
            gd({
                action: "probeMp4StartTime",
                timescales: e.map.timescales,
                data: p,
                transmuxer: e.transmuxer,
                callback: ({data: i, startTime: o}) => {
                    t = i.buffer,
                    e.bytes = p = i,
                    r.hasAudio && !r.isMuxed && n(e, "audio", "start", o),
                    r.hasVideo && n(e, "video", "start", o),
                    s.video && i.byteLength && e.transmuxer ? gd({
                        action: "pushMp4Captions",
                        endAction: "mp4Captions",
                        transmuxer: e.transmuxer,
                        data: p,
                        timescales: e.map.timescales,
                        trackIds: [s.video.id],
                        callback: i => {
                            t = i.data.buffer,
                            e.bytes = p = i.data,
                            i.logs.forEach((function(e) {
                                h(tl(e, {
                                    stream: "mp4CaptionParser"
                                }))
                            }
                            )),
                            a(i.captions)
                        }
                    }) : a()
                }
            })
        } else {
            e.transmuxer ? (void 0 === e.container && (e.container = Ro(p)),
            "ts" !== e.container && "aac" !== e.container ? (i(e, {
                hasAudio: !1,
                hasVideo: !1
            }),
            u(null, e, {})) : ( ({segment: e, bytes: t, trackInfoFn: i, timingInfoFn: n, videoSegmentTimingInfoFn: s, audioSegmentTimingInfoFn: r, id3Fn: a, captionsFn: o, isEndOfTimeline: l, endedTimelineFn: d, dataFn: c, doneFn: u, onTransmuxerLog: h}) => {
                var p = e.map && e.map.tracks || {};
                const f = Boolean(p.audio && p.video);
                let m = n.bind(null, e, "audio", "start");
                const g = n.bind(null, e, "audio", "end");
                let v = n.bind(null, e, "video", "start");
                const y = n.bind(null, e, "video", "end");
                gd({
                    action: "probeTs",
                    transmuxer: e.transmuxer,
                    data: t,
                    baseStartTime: e.baseStartTime,
                    callback: n => {
                        e.bytes = t = n.data,
                        (n = n.result) && (i(e, {
                            hasAudio: n.hasAudio,
                            hasVideo: n.hasVideo,
                            isMuxed: f
                        }),
                        i = null,
                        n.hasAudio && !f && m(n.audioStart),
                        n.hasVideo && v(n.videoStart),
                        m = null,
                        v = null),
                        pd({
                            bytes: t,
                            transmuxer: e.transmuxer,
                            audioAppendStart: e.audioAppendStart,
                            gopsToAlignWith: e.gopsToAlignWith,
                            remux: f,
                            onData: t => {
                                t.type = "combined" === t.type ? "video" : t.type,
                                c(e, t)
                            }
                            ,
                            onTrackInfo: t => {
                                i && (f && (t.isMuxed = !0),
                                i(e, t))
                            }
                            ,
                            onAudioTimingInfo: e => {
                                m && void 0 !== e.start && (m(e.start),
                                m = null),
                                g && void 0 !== e.end && g(e.end)
                            }
                            ,
                            onVideoTimingInfo: e => {
                                v && void 0 !== e.start && (v(e.start),
                                v = null),
                                y && void 0 !== e.end && y(e.end)
                            }
                            ,
                            onVideoSegmentTimingInfo: e => {
                                s(e)
                            }
                            ,
                            onAudioSegmentTimingInfo: e => {
                                r(e)
                            }
                            ,
                            onId3: (t, i) => {
                                a(e, t, i)
                            }
                            ,
                            onCaptions: t => {
                                o(e, [t])
                            }
                            ,
                            isEndOfTimeline: l,
                            onEndedTimeline: () => {
                                d()
                            }
                            ,
                            onTransmuxerLog: h,
                            onDone: t => {
                                u && (t.type = "combined" === t.type ? "video" : t.type,
                                u(null, e, t))
                            }
                        })
                    }
                })
            }
            )({
                segment: e,
                bytes: t,
                trackInfoFn: i,
                timingInfoFn: n,
                videoSegmentTimingInfoFn: s,
                audioSegmentTimingInfoFn: r,
                id3Fn: a,
                captionsFn: o,
                isEndOfTimeline: l,
                endedTimelineFn: d,
                dataFn: c,
                doneFn: u,
                onTransmuxerLog: h
            })) : u(null, e, {})
        }
    }
      , Ad = function({id: e, key: t, encryptedBytes: i, decryptionWorker: n}, s) {
        const r = t => {
            t.data.source === e && (n.removeEventListener("message", r),
            t = t.data.decrypted,
            s(new Uint8Array(t.bytes,t.byteOffset,t.byteLength)))
        }
        ;
        let a;
        n.addEventListener("message", r),
        a = t.bytes.slice ? t.bytes.slice() : new Uint32Array(Array.prototype.slice.call(t.bytes)),
        n.postMessage(Gl({
            source: e,
            encrypted: i,
            key: a,
            iv: t.iv
        }), [i.buffer, a.buffer])
    }
      , Id = ({xhr: e, xhrOptions: t, decryptionWorker: i, segment: n, abortFn: s, progressFn: r, trackInfoFn: a, timingInfoFn: o, videoSegmentTimingInfoFn: l, audioSegmentTimingInfoFn: d, id3Fn: c, captionsFn: u, isEndOfTimeline: h, endedTimelineFn: p, dataFn: f, doneFn: m, onTransmuxerLog: g}) => {
        const v = [];
        var y, b;
        i = ( ({activeXhrs: e, decryptionWorker: t, trackInfoFn: i, timingInfoFn: n, videoSegmentTimingInfoFn: s, audioSegmentTimingInfoFn: r, id3Fn: a, captionsFn: o, isEndOfTimeline: l, endedTimelineFn: d, dataFn: c, doneFn: u, onTransmuxerLog: h}) => {
            let p = 0
              , f = !1;
            return (m, g) => {
                if (!f) {
                    if (m)
                        return f = !0,
                        kd(e),
                        u(m, g);
                    if ((p += 1) === e.length) {
                        const p = function() {
                            if (g.encryptedBytes)
                                return ( ({decryptionWorker: e, segment: t, trackInfoFn: i, timingInfoFn: n, videoSegmentTimingInfoFn: s, audioSegmentTimingInfoFn: r, id3Fn: a, captionsFn: o, isEndOfTimeline: l, endedTimelineFn: d, dataFn: c, doneFn: u, onTransmuxerLog: h}) => {
                                    Ad({
                                        id: t.requestId,
                                        key: t.key,
                                        encryptedBytes: t.encryptedBytes,
                                        decryptionWorker: e
                                    }, (e => {
                                        t.bytes = e,
                                        Pd({
                                            segment: t,
                                            bytes: t.bytes,
                                            trackInfoFn: i,
                                            timingInfoFn: n,
                                            videoSegmentTimingInfoFn: s,
                                            audioSegmentTimingInfoFn: r,
                                            id3Fn: a,
                                            captionsFn: o,
                                            isEndOfTimeline: l,
                                            endedTimelineFn: d,
                                            dataFn: c,
                                            doneFn: u,
                                            onTransmuxerLog: h
                                        })
                                    }
                                    ))
                                }
                                )({
                                    decryptionWorker: t,
                                    segment: g,
                                    trackInfoFn: i,
                                    timingInfoFn: n,
                                    videoSegmentTimingInfoFn: s,
                                    audioSegmentTimingInfoFn: r,
                                    id3Fn: a,
                                    captionsFn: o,
                                    isEndOfTimeline: l,
                                    endedTimelineFn: d,
                                    dataFn: c,
                                    doneFn: u,
                                    onTransmuxerLog: h
                                });
                            Pd({
                                segment: g,
                                bytes: g.bytes,
                                trackInfoFn: i,
                                timingInfoFn: n,
                                videoSegmentTimingInfoFn: s,
                                audioSegmentTimingInfoFn: r,
                                id3Fn: a,
                                captionsFn: o,
                                isEndOfTimeline: l,
                                endedTimelineFn: d,
                                dataFn: c,
                                doneFn: u,
                                onTransmuxerLog: h
                            })
                        };
                        if (g.endOfAllRequests = Date.now(),
                        g.map && g.map.encryptedBytes && !g.map.bytes)
                            return Ad({
                                decryptionWorker: t,
                                id: g.requestId + "-init",
                                encryptedBytes: g.map.encryptedBytes,
                                key: g.map.key
                            }, (t => {
                                g.map.bytes = t,
                                Ed(g, (t => {
                                    if (t)
                                        return kd(e),
                                        u(t, g);
                                    p()
                                }
                                ))
                            }
                            ));
                        p()
                    }
                }
            }
        }
        )({
            activeXhrs: v,
            decryptionWorker: i,
            trackInfoFn: a,
            timingInfoFn: o,
            videoSegmentTimingInfoFn: l,
            audioSegmentTimingInfoFn: d,
            id3Fn: c,
            captionsFn: u,
            isEndOfTimeline: h,
            endedTimelineFn: p,
            dataFn: f,
            doneFn: m,
            onTransmuxerLog: g
        }),
        n.key && !n.key.bytes && (a = [n.key],
        n.map && !n.map.bytes && n.map.key && n.map.key.resolvedUri === n.key.resolvedUri && a.push(n.map.key),
        o = e(tl(t, {
            uri: n.key.resolvedUri,
            responseType: "arraybuffer"
        }), Cd(n, a, i)),
        v.push(o)),
        n.map && !n.map.bytes && (!n.map.key || n.key && n.key.resolvedUri === n.map.key.resolvedUri || (l = e(tl(t, {
            uri: n.map.key.resolvedUri,
            responseType: "arraybuffer"
        }), Cd(n, [n.map.key], i)),
        v.push(l)),
        d = tl(t, {
            uri: n.map.resolvedUri,
            responseType: "arraybuffer",
            headers: ql(n.map)
        }),
        ({segment: y, finishProcessingFn: b} = {
            segment: n,
            finishProcessingFn: i
        }),
        c = e(d, ( (e, t) => (e = xd(e, t)) ? b(e, y) : (e = new Uint8Array(t.response),
        y.map.key ? (y.map.encryptedBytes = e,
        b(null, y)) : (y.map.bytes = e,
        void Ed(y, (function(e) {
            if (e)
                return e.xhr = t,
                e.status = t.status,
                b(e, y);
            b(null, y)
        }
        )))))),
        v.push(c)),
        u = tl(t, {
            uri: n.part && n.part.resolvedUri || n.resolvedUri,
            responseType: "arraybuffer",
            headers: ql(n)
        });
        ({segment: _, finishProcessingFn: T, responseType: w} = {
            segment: n,
            finishProcessingFn: i,
            responseType: u.responseType
        });
        var _, T, w, S, k;
        h = e(u, ( (e, t) => (e = xd(e, t)) ? T(e, _) : (e = "arraybuffer" !== w && t.responseText ? (e => {
            var t = new Uint8Array(new ArrayBuffer(e.length));
            for (let i = 0; i < e.length; i++)
                t[i] = e.charCodeAt(i);
            return t.buffer
        }
        )(t.responseText.substring(_.lastReachedChar || 0)) : t.response,
        _.stats = (e => ({
            bandwidth: e.bandwidth,
            bytesReceived: e.bytesReceived || 0,
            roundTripTime: e.roundTripTime || 0
        }))(t),
        _.key ? _.encryptedBytes = new Uint8Array(e) : _.bytes = new Uint8Array(e),
        T(null, _))));
        h.addEventListener("progress", (({segment: S, progressFn: k} = {
            segment: n,
            progressFn: r
        }),
        e => {
            if (!e.target.aborted)
                return S.stats = tl(S.stats, (e => {
                    var t = e.target;
                    return (t = {
                        bandwidth: 1 / 0,
                        bytesReceived: 0,
                        roundTripTime: Date.now() - t.requestTime || 0
                    }).bytesReceived = e.loaded,
                    t.bandwidth = Math.floor(t.bytesReceived / t.roundTripTime * 8 * 1e3),
                    t
                }
                )(e)),
                !S.stats.firstBytesReceivedAt && S.stats.bytesReceived && (S.stats.firstBytesReceivedAt = Date.now()),
                k(e, S)
        }
        )),
        v.push(h);
        const x = {};
        return v.forEach((e => {
            var t, i;
            e.addEventListener("loadend", (({loadendState: t, abortFn: i} = {
                loadendState: x,
                abortFn: s
            }),
            e => {
                e.target.aborted && i && !t.calledAbortFn && (i(),
                t.calledAbortFn = !0)
            }
            ))
        }
        )),
        () => kd(v)
    }
      , Od = el("CodecUtils")
      , Ld = (e, t) => (t = t.attributes || {},
    e && e.mediaGroups && e.mediaGroups.AUDIO && t.AUDIO && e.mediaGroups.AUDIO[t.AUDIO])
      , Md = function(e) {
        const t = {};
        return e.forEach(( ({mediaType: e, type: i, details: n}) => {
            t[e] = t[e] || [],
            t[e].push(Ys("" + i + n))
        }
        )),
        Object.keys(t).forEach((function(e) {
            1 < t[e].length ? (Od(`multiple ${e} codecs found as attributes: ${t[e].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),
            t[e] = null) : t[e] = t[e][0]
        }
        )),
        t
    }
      , Dd = el("PlaylistSelector")
      , Rd = function(e) {
        var t;
        if (e && e.playlist)
            return t = e.playlist,
            JSON.stringify({
                id: t.id,
                bandwidth: e.bandwidth,
                width: e.width,
                height: e.height,
                codecs: t.attributes && t.attributes.CODECS || ""
            })
    }
      , Nd = function(e, t) {
        const i = e.slice();
        e.sort((function(e, n) {
            var s = t(e, n);
            return 0 === s ? i.indexOf(e) - i.indexOf(n) : s
        }
        ))
    };
    function Bd(e, t, i, n, s, r) {
        if (e) {
            var a = {
                bandwidth: t,
                width: i,
                height: n,
                limitRenditionByPlayerDimensions: s
            };
            let d = e.playlists
              , c = (Al.isAudioOnly(e) && (d = r.getAudioTrackPlaylists_(),
            a.audioOnly = !0),
            d.map((e => {
                var t = e.attributes && e.attributes.RESOLUTION && e.attributes.RESOLUTION.width
                  , i = e.attributes && e.attributes.RESOLUTION && e.attributes.RESOLUTION.height;
                return {
                    bandwidth: e.attributes && e.attributes.BANDWIDTH || window.Number.MAX_VALUE,
                    width: t,
                    height: i,
                    playlist: e
                }
            }
            )))
              , u = (Nd(c, ( (e, t) => e.bandwidth - t.bandwidth)),
            (c = c.filter((e => !Al.isIncompatible(e.playlist)))).filter((e => Al.isEnabled(e.playlist))));
            e = (u = u.length ? u : c.filter((e => !Al.isDisabled(e.playlist)))).filter((e => e.bandwidth * sd.BANDWIDTH_VARIANCE < t));
            let h = e[e.length - 1];
            var o = e.filter((e => e.bandwidth === h.bandwidth))[0];
            if (!1 === s) {
                const e = o || u[0] || c[0];
                if (e && e.playlist) {
                    let t = o ? "bandwidthBestRep" : "sortedPlaylistReps";
                    return u[0] && (t = "enabledPlaylistReps"),
                    Dd(`choosing ${Rd(e)} using ${t} with options`, a),
                    e.playlist
                }
            } else {
                var l;
                s = e.filter((e => e.width && e.height)),
                e = (Nd(s, ( (e, t) => e.width - t.width)),
                s.filter((e => e.width === i && e.height === n))),
                e = (h = e[e.length - 1],
                e.filter((e => e.bandwidth === h.bandwidth))[0]);
                let t, d, p;
                e || (l = (t = s.filter((e => e.width > i || e.height > n))).filter((e => e.width === t[0].width && e.height === t[0].height)),
                h = l[l.length - 1],
                d = l.filter((e => e.bandwidth === h.bandwidth))[0]),
                r.leastPixelDiffSelector && (l = s.map((e => (e.pixelDiff = Math.abs(e.width - i) + Math.abs(e.height - n),
                e))),
                Nd(l, ( (e, t) => e.pixelDiff === t.pixelDiff ? t.bandwidth - e.bandwidth : e.pixelDiff - t.pixelDiff)),
                p = l[0]);
                const f = p || d || e || o || u[0] || c[0];
                if (f && f.playlist) {
                    let t = "sortedPlaylistReps";
                    return p ? t = "leastPixelDiffRep" : d ? t = "resolutionPlusOneRep" : e ? t = "resolutionBestRep" : o ? t = "bandwidthBestRep" : u[0] && (t = "enabledPlaylistReps"),
                    Dd(`choosing ${Rd(f)} using ${t} with options`, a),
                    f.playlist
                }
            }
            return Dd("could not choose a playlist with options", a),
            null
        }
    }
    function jd() {
        var e = this.useDevicePixelRatio && window.devicePixelRatio || 1;
        return Bd(this.playlists.main, this.systemBandwidth, parseInt(bd(this.tech_.el(), "width"), 10) * e, parseInt(bd(this.tech_.el(), "height"), 10) * e, this.limitRenditionByPlayerDimensions, this.playlistController_)
    }
    function Fd(e, t, i) {
        let n;
        var s;
        if (i && i.cues)
            for (n = i.cues.length; n--; )
                (s = i.cues[n]).startTime >= e && s.endTime <= t && i.removeCue(s)
    }
    const Ud = e => "number" == typeof e && isFinite(e)
      , $d = e => {
        var {startOfSegment: t, duration: i, segment: n, part: s, playlist: {mediaSequence: r, id: a, segments: o=[]}, mediaIndex: l, partIndex: d, timeline: c} = e
          , o = o.length - 1;
        let u = "mediaIndex/partIndex increment";
        e.getMediaInfoForTime ? u = `getMediaInfoForTime (${e.getMediaInfoForTime})` : e.isSyncRequest && (u = "getSyncSegmentCandidate (isSyncRequest)"),
        e.independent && (u += " with independent " + e.independent);
        var h = "number" == typeof d
          , p = (e = e.segment.uri ? "segment" : "pre-segment",
        h ? vl({
            preloadSegment: n
        }) - 1 : 0);
        return e + ` [${r + l}/${r + o}]` + (h ? ` part [${d}/${p}]` : "") + ` segment start/end [${n.start} => ${n.end}]` + (h ? ` part start/end [${s.start} => ${s.end}]` : "") + ` startOfSegment [${t}]` + ` duration [${i}]` + ` timeline [${c}]` + ` selected by [${u}]` + ` playlist [${a}]`
    }
      , Hd = e => e + "TimingInfo"
      , zd = ({timelineChangeController: e, currentTimeline: t, segmentTimeline: i, loaderType: n, audioDisabled: s}) => !(t === i || ("audio" === n ? (t = e.lastTimelineChange({
        type: "main"
    })) && t.to === i : "main" !== n || !s || (t = e.pendingTimelineChange({
        type: "audio"
    })) && t.to === i))
      , qd = ({segmentDuration: e, maxDuration: t}) => !!e && Math.round(e) > t + dl;
    class Wd extends Es.EventTarget {
        constructor(e, t=0) {
            if (super(),
            !e)
                throw new TypeError("Initialization settings are required");
            if ("function" != typeof e.currentTime)
                throw new TypeError("No currentTime getter specified");
            if (!e.mediaSource)
                throw new TypeError("No MediaSource specified");
            this.bandwidth = e.bandwidth,
            this.throughput = {
                rate: 0,
                count: 0
            },
            this.roundTrip = NaN,
            this.resetStats_(),
            this.mediaIndex = null,
            this.partIndex = null,
            this.hasPlayed_ = e.hasPlayed,
            this.currentTime_ = e.currentTime,
            this.seekable_ = e.seekable,
            this.seeking_ = e.seeking,
            this.duration_ = e.duration,
            this.mediaSource_ = e.mediaSource,
            this.vhs_ = e.vhs,
            this.loaderType_ = e.loaderType,
            this.currentMediaInfo_ = void 0,
            this.startingMediaInfo_ = void 0,
            this.segmentMetadataTrack_ = e.segmentMetadataTrack,
            this.goalBufferLength_ = e.goalBufferLength,
            this.sourceType_ = e.sourceType,
            this.sourceUpdater_ = e.sourceUpdater,
            this.inbandTextTracks_ = e.inbandTextTracks,
            this.state_ = "INIT",
            this.timelineChangeController_ = e.timelineChangeController,
            this.shouldSaveSegmentTimingInfo_ = !0,
            this.parse708captions_ = e.parse708captions,
            this.useDtsForTimestampOffset_ = e.useDtsForTimestampOffset,
            this.captionServices_ = e.captionServices,
            this.exactManifestTimings = e.exactManifestTimings,
            this.checkBufferTimeout_ = null,
            this.error_ = void 0,
            this.currentTimeline_ = -1,
            this.pendingSegment_ = null,
            this.xhrOptions_ = null,
            this.pendingSegments_ = [],
            this.audioDisabled_ = !1,
            this.isPendingTimestampOffset_ = !1,
            this.gopBuffer_ = [],
            this.timeMapping_ = 0,
            this.safeAppend_ = 11 <= Es.browser.IE_VERSION,
            this.appendInitSegment_ = {
                audio: !0,
                video: !0
            },
            this.playlistOfLastInitSegment_ = {
                audio: null,
                video: null
            },
            this.callQueue_ = [],
            this.loadQueue_ = [],
            this.metadataQueue_ = {
                id3: [],
                caption: []
            },
            this.waitingOnRemove_ = !1,
            this.quotaExceededErrorRetryTimeout_ = null,
            this.activeInitSegmentId_ = null,
            this.initSegments_ = {},
            this.cacheEncryptionKeys_ = e.cacheEncryptionKeys,
            this.keyCache_ = {},
            this.decrypter_ = e.decrypter,
            this.syncController_ = e.syncController,
            this.syncPoint_ = {
                segmentIndex: 0,
                time: 0
            },
            this.transmuxer_ = this.createTransmuxer_(),
            this.triggerSyncInfoUpdate_ = () => this.trigger("syncinfoupdate"),
            this.syncController_.on("syncinfoupdate", this.triggerSyncInfoUpdate_),
            this.mediaSource_.addEventListener("sourceopen", ( () => {
                this.isEndOfStream_() || (this.ended_ = !1)
            }
            )),
            this.fetchAtBuffer_ = !1,
            this.logger_ = el(`SegmentLoader[${this.loaderType_}]`),
            Object.defineProperty(this, "state", {
                get() {
                    return this.state_
                },
                set(e) {
                    e !== this.state_ && (this.logger_(this.state_ + " -> " + e),
                    this.state_ = e,
                    this.trigger("statechange"))
                }
            }),
            this.sourceUpdater_.on("ready", ( () => {
                this.hasEnoughInfoToAppend_() && this.processCallQueue_()
            }
            )),
            "main" === this.loaderType_ && this.timelineChangeController_.on("pendingtimelinechange", ( () => {
                this.hasEnoughInfoToAppend_() && this.processCallQueue_()
            }
            )),
            "audio" === this.loaderType_ && this.timelineChangeController_.on("timelinechange", ( () => {
                this.hasEnoughInfoToLoad_() && this.processLoadQueue_(),
                this.hasEnoughInfoToAppend_() && this.processCallQueue_()
            }
            ))
        }
        createTransmuxer_() {
            return md({
                remux: !1,
                alignGopsAtEnd: this.safeAppend_,
                keepOriginalTimestamps: !0,
                parse708captions: this.parse708captions_,
                captionServices: this.captionServices_
            })
        }
        resetStats_() {
            this.mediaBytesTransferred = 0,
            this.mediaRequests = 0,
            this.mediaRequestsAborted = 0,
            this.mediaRequestsTimedout = 0,
            this.mediaRequestsErrored = 0,
            this.mediaTransferDuration = 0,
            this.mediaSecondsLoaded = 0,
            this.mediaAppends = 0
        }
        dispose() {
            this.trigger("dispose"),
            this.state = "DISPOSED",
            this.pause(),
            this.abort_(),
            this.transmuxer_ && this.transmuxer_.terminate(),
            this.resetStats_(),
            this.checkBufferTimeout_ && window.clearTimeout(this.checkBufferTimeout_),
            this.syncController_ && this.triggerSyncInfoUpdate_ && this.syncController_.off("syncinfoupdate", this.triggerSyncInfoUpdate_),
            this.off()
        }
        setAudio(e) {
            this.audioDisabled_ = !e,
            e ? this.appendInitSegment_.audio = !0 : this.sourceUpdater_.removeAudio(0, this.duration_())
        }
        abort() {
            "WAITING" !== this.state ? this.pendingSegment_ && (this.pendingSegment_ = null) : (this.abort_(),
            this.state = "READY",
            this.paused() || this.monitorBuffer_())
        }
        abort_() {
            this.pendingSegment_ && this.pendingSegment_.abortRequests && this.pendingSegment_.abortRequests(),
            this.pendingSegment_ = null,
            this.callQueue_ = [],
            this.loadQueue_ = [],
            this.metadataQueue_.id3 = [],
            this.metadataQueue_.caption = [],
            this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),
            this.waitingOnRemove_ = !1,
            window.clearTimeout(this.quotaExceededErrorRetryTimeout_),
            this.quotaExceededErrorRetryTimeout_ = null
        }
        checkForAbort_(e) {
            return "APPENDING" !== this.state || this.pendingSegment_ ? !this.pendingSegment_ || this.pendingSegment_.requestId !== e : (this.state = "READY",
            !0)
        }
        error(e) {
            return void 0 !== e && (this.logger_("error occurred:", e),
            this.error_ = e),
            this.pendingSegment_ = null,
            this.error_
        }
        endOfStream() {
            this.ended_ = !0,
            this.transmuxer_ && fd(this.transmuxer_),
            this.gopBuffer_.length = 0,
            this.pause(),
            this.trigger("ended")
        }
        buffered_() {
            var e = this.getMediaInfo_();
            if (!this.sourceUpdater_ || !e)
                return il();
            if ("main" === this.loaderType_) {
                var {hasAudio: e, hasVideo: t, isMuxed: i} = e;
                if (t && e && !this.audioDisabled_ && !i)
                    return this.sourceUpdater_.buffered();
                if (t)
                    return this.sourceUpdater_.videoBuffered()
            }
            return this.sourceUpdater_.audioBuffered()
        }
        initSegmentForMap(e, t=!1) {
            if (!e)
                return null;
            var i = Xl(e);
            let n = this.initSegments_[i];
            return t && !n && e.bytes && (this.initSegments_[i] = n = {
                resolvedUri: e.resolvedUri,
                byterange: e.byterange,
                bytes: e.bytes,
                tracks: e.tracks,
                timescales: e.timescales
            }),
            n || e
        }
        segmentKey(e, t=!1) {
            if (!e)
                return null;
            var i = Yl(e);
            let n = this.keyCache_[i];
            return this.cacheEncryptionKeys_ && t && !n && e.bytes && (this.keyCache_[i] = n = {
                resolvedUri: e.resolvedUri,
                bytes: e.bytes
            }),
            t = {
                resolvedUri: (n || e).resolvedUri
            },
            n && (t.bytes = n.bytes),
            t
        }
        couldBeginLoading_() {
            return this.playlist_ && !this.paused()
        }
        load() {
            if (this.monitorBuffer_(),
            this.playlist_)
                return "INIT" === this.state && this.couldBeginLoading_() ? this.init_() : void (!this.couldBeginLoading_() || "READY" !== this.state && "INIT" !== this.state || (this.state = "READY"))
        }
        init_() {
            return this.state = "READY",
            this.resetEverything(),
            this.monitorBuffer_()
        }
        playlist(e, t={}) {
            if (e) {
                var i, n = this.playlist_, s = this.pendingSegment_;
                this.playlist_ = e,
                this.xhrOptions_ = t,
                "INIT" === this.state && (e.syncInfo = {
                    mediaSequence: e.mediaSequence,
                    time: 0
                },
                "main" === this.loaderType_) && this.syncController_.setDateTimeMappingForStart(e);
                let r = null;
                if (n && (n.id ? r = n.id : n.uri && (r = n.uri)),
                this.logger_(`playlist update [${r} => ${e.id || e.uri}]`),
                this.trigger("syncinfoupdate"),
                "INIT" === this.state && this.couldBeginLoading_())
                    return this.init_();
                n && n.uri === e.uri ? (t = e.mediaSequence - n.mediaSequence,
                this.logger_(`live window shift [${t}]`),
                null !== this.mediaIndex && (this.mediaIndex -= t,
                this.mediaIndex < 0 ? (this.mediaIndex = null,
                this.partIndex = null) : (i = this.playlist_.segments[this.mediaIndex],
                !this.partIndex || i.parts && i.parts.length && i.parts[this.partIndex] || (i = this.mediaIndex,
                this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),
                this.resetLoader(),
                this.mediaIndex = i))),
                s && (s.mediaIndex -= t,
                s.mediaIndex < 0 ? (s.mediaIndex = null,
                s.partIndex = null) : (0 <= s.mediaIndex && (s.segment = e.segments[s.mediaIndex]),
                0 <= s.partIndex && s.segment.parts && (s.part = s.segment.parts[s.partIndex]))),
                this.syncController_.saveExpiredSegmentInfo(n, e)) : (null !== this.mediaIndex && (e.endList ? this.resyncLoader() : this.resetLoader()),
                this.currentMediaInfo_ = void 0,
                this.trigger("playlistupdate"))
            }
        }
        pause() {
            this.checkBufferTimeout_ && (window.clearTimeout(this.checkBufferTimeout_),
            this.checkBufferTimeout_ = null)
        }
        paused() {
            return null === this.checkBufferTimeout_
        }
        resetEverything(e) {
            this.ended_ = !1,
            this.appendInitSegment_ = {
                audio: !0,
                video: !0
            },
            this.resetLoader(),
            this.remove(0, 1 / 0, e),
            this.transmuxer_ && (this.transmuxer_.postMessage({
                action: "clearAllMp4Captions"
            }),
            this.transmuxer_.postMessage({
                action: "reset"
            }))
        }
        resetLoader() {
            this.fetchAtBuffer_ = !1,
            this.resyncLoader()
        }
        resyncLoader() {
            this.transmuxer_ && fd(this.transmuxer_),
            this.mediaIndex = null,
            this.partIndex = null,
            this.syncPoint_ = null,
            this.isPendingTimestampOffset_ = !1,
            this.callQueue_ = [],
            this.loadQueue_ = [],
            this.metadataQueue_.id3 = [],
            this.metadataQueue_.caption = [],
            this.abort(),
            this.transmuxer_ && this.transmuxer_.postMessage({
                action: "clearParsedMp4Captions"
            })
        }
        remove(e, t, i=( () => {}
        ), n=!1) {
            if ((t = t === 1 / 0 ? this.duration_() : t) <= e)
                this.logger_("skipping remove because end ${end} is <= start ${start}");
            else if (this.sourceUpdater_ && this.getMediaInfo_()) {
                let r = 1;
                var s = () => {
                    0 == --r && i()
                }
                ;
                !n && this.audioDisabled_ || (r++,
                this.sourceUpdater_.removeAudio(e, t, s)),
                !n && "main" !== this.loaderType_ || (this.gopBuffer_ = ( (e, t, i, n) => {
                    var s = Math.ceil((t - n) * Qo)
                      , r = Math.ceil((i - n) * Qo);
                    t = e.slice();
                    let a = e.length;
                    for (; a-- && !(e[a].pts <= r); )
                        ;
                    if (-1 !== a) {
                        let i = a + 1;
                        for (; i-- && !(e[i].pts <= s); )
                            ;
                        i = Math.max(i, 0),
                        t.splice(i, a - i + 1)
                    }
                    return t
                }
                )(this.gopBuffer_, e, t, this.timeMapping_),
                r++,
                this.sourceUpdater_.removeVideo(e, t, s));
                for (const i in this.inbandTextTracks_)
                    Fd(e, t, this.inbandTextTracks_[i]);
                Fd(e, t, this.segmentMetadataTrack_),
                s()
            } else
                this.logger_("skipping remove because no source updater or starting media info")
        }
        monitorBuffer_() {
            this.checkBufferTimeout_ && window.clearTimeout(this.checkBufferTimeout_),
            this.checkBufferTimeout_ = window.setTimeout(this.monitorBufferTick_.bind(this), 1)
        }
        monitorBufferTick_() {
            "READY" === this.state && this.fillBuffer_(),
            this.checkBufferTimeout_ && window.clearTimeout(this.checkBufferTimeout_),
            this.checkBufferTimeout_ = window.setTimeout(this.monitorBufferTick_.bind(this), 500)
        }
        fillBuffer_() {
            var e;
            this.sourceUpdater_.updating() || (e = this.chooseNextRequest_()) && ("number" == typeof e.timestampOffset && (this.isPendingTimestampOffset_ = !1,
            this.timelineChangeController_.pendingTimelineChange({
                type: this.loaderType_,
                from: this.currentTimeline_,
                to: e.timeline
            })),
            this.loadSegment_(e))
        }
        isEndOfStream_(e=this.mediaIndex, t=this.playlist_, i=this.partIndex) {
            var n;
            return !(!t || !this.mediaSource_) && (n = "number" == typeof e && t.segments[e],
            e = e + 1 === t.segments.length,
            i = !n || !n.parts || i + 1 === n.parts.length,
            t.endList) && "open" === this.mediaSource_.readyState && e && i
        }
        chooseNextRequest_() {
            var e = rl(t = this.buffered_()) || 0
              , t = al(t, this.currentTime_())
              , i = !this.hasPlayed_() && 1 <= t
              , n = t >= this.goalBufferLength_()
              , s = this.playlist_.segments;
            if (!s.length || i || n)
                return null;
            this.syncPoint_ = this.syncPoint_ || this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_());
            var r;
            (i = {
                partIndex: null,
                mediaIndex: null,
                startOfSegment: null,
                playlist: this.playlist_,
                isSyncRequest: Boolean(!this.syncPoint_)
            }).isSyncRequest ? i.mediaIndex = function(e, t, i) {
                t = t || [];
                var n = [];
                let s = 0;
                for (let a = 0; a < t.length; a++) {
                    var r = t[a];
                    if (e === r.timeline && (n.push(a),
                    (s += r.duration) > i))
                        return a
                }
                return 0 === n.length ? 0 : n[n.length - 1]
            }(this.currentTimeline_, s, e) : null !== this.mediaIndex ? (n = s[this.mediaIndex],
            r = "number" == typeof this.partIndex ? this.partIndex : -1,
            i.startOfSegment = n.end || e,
            n.parts && n.parts[r + 1] ? (i.mediaIndex = this.mediaIndex,
            i.partIndex = r + 1) : i.mediaIndex = this.mediaIndex + 1) : (({segmentIndex: n, startTime: r, partIndex: o} = Al.getMediaInfoForTime({
                exactManifestTimings: this.exactManifestTimings,
                playlist: this.playlist_,
                currentTime: this.fetchAtBuffer_ ? e : this.currentTime_(),
                startingPartIndex: this.syncPoint_.partIndex,
                startingSegmentIndex: this.syncPoint_.segmentIndex,
                startTime: this.syncPoint_.time
            })),
            i.getMediaInfoForTime = this.fetchAtBuffer_ ? "bufferedEnd " + e : "currentTime " + this.currentTime_(),
            i.mediaIndex = n,
            i.startOfSegment = r,
            i.partIndex = o),
            e = s[i.mediaIndex];
            let a = e && "number" == typeof i.partIndex && e.parts && e.parts[i.partIndex];
            if (!e || "number" == typeof i.partIndex && !a)
                return null;
            "number" != typeof i.partIndex && e.parts && (i.partIndex = 0,
            a = e.parts[0]),
            t || !a || a.independent || (0 === i.partIndex ? (r = (n = s[i.mediaIndex - 1]).parts && n.parts.length && n.parts[n.parts.length - 1]) && r.independent && (--i.mediaIndex,
            i.partIndex = n.parts.length - 1,
            i.independent = "previous segment") : e.parts[i.partIndex - 1].independent && (--i.partIndex,
            i.independent = "previous part"));
            var o = this.mediaSource_ && "ended" === this.mediaSource_.readyState;
            return i.mediaIndex >= s.length - 1 && o && !this.seeking_() ? null : this.generateSegmentInfo_(i)
        }
        generateSegmentInfo_(e) {
            var t, {independent: e, playlist: i, mediaIndex: n, startOfSegment: s, isSyncRequest: t, partIndex: r, forceTimestampOffset: a, getMediaInfoForTime: o} = e, l = i.segments[n], d = "number" == typeof r && l.parts[r], n = {
                requestId: "segment-loader-" + Math.random(),
                uri: d && d.resolvedUri || l.resolvedUri,
                mediaIndex: n,
                partIndex: d ? r : null,
                isSyncRequest: t,
                startOfSegment: s,
                playlist: i,
                bytes: null,
                encryptedBytes: null,
                timestampOffset: null,
                timeline: l.timeline,
                duration: d && d.duration || l.duration,
                segment: l,
                part: d,
                byteLength: 0,
                transmuxer: this.transmuxer_,
                getMediaInfoForTime: o,
                independent: e
            }, r = void 0 !== a ? a : this.isPendingTimestampOffset_;
            return "number" == typeof (t = (n.timestampOffset = this.timestampOffsetForSegment_({
                segmentTimeline: l.timeline,
                currentTimeline: this.currentTimeline_,
                startOfSegment: s,
                buffered: this.buffered_(),
                overrideCheck: r
            }),
            rl(this.sourceUpdater_.audioBuffered()))) && (n.audioAppendStart = t - this.sourceUpdater_.audioTimestampOffset()),
            this.sourceUpdater_.videoBuffered().length && (n.gopsToAlignWith = ( (e, t, i) => {
                if (null == t || !e.length)
                    return [];
                var n = Math.ceil((t - i + 3) * Qo);
                let s;
                for (s = 0; s < e.length && !(e[s].pts > n); s++)
                    ;
                return e.slice(s)
            }
            )(this.gopBuffer_, this.currentTime_() - this.sourceUpdater_.videoTimestampOffset(), this.timeMapping_)),
            n
        }
        timestampOffsetForSegment_(e) {
            return ({segmentTimeline: e, currentTimeline: t, startOfSegment: i, buffered: n, overrideCheck: s} = [e][0]),
            s || e !== t ? e < t || !n.length ? i : n.end(n.length - 1) : null;
            var t, i, n, s
        }
        earlyAbortWhenNeeded_(e) {
            if (!this.vhs_.tech_.paused() && this.xhrOptions_.timeout && this.playlist_.attributes.BANDWIDTH && !(Date.now() - (e.firstBytesReceivedAt || Date.now()) < 1e3)) {
                var t = this.currentTime_()
                  , i = e.bandwidth
                  , n = this.pendingSegment_.duration
                  , s = (e = Al.estimateSegmentRequestTime(n, i, this.playlist_, e.bytesReceived),
                [s,r,a=1] = [this.buffered_(), t, this.vhs_.tech_.playbackRate()],
                ((s.length ? s.end(s.length - 1) : 0) - r) / a - 1);
                if (!(e <= s)) {
                    var r = function(e) {
                        const {main: t, currentTime: i, bandwidth: n, duration: s, segmentDuration: r, timeUntilRebuffer: a, currentTimeline: o, syncController: l} = e;
                        let d = (e = t.playlists.filter((e => !Al.isIncompatible(e)))).filter(Al.isEnabled);
                        e = (d = d.length ? d : e.filter((e => !Al.isDisabled(e)))).filter(Al.hasAttribute.bind(null, "BANDWIDTH")).map((e => {
                            var t = l.getSyncPoint(e, s, o, i) ? 1 : 2;
                            return {
                                playlist: e,
                                rebufferingImpact: Al.estimateSegmentRequestTime(r, n, e) * t - a
                            }
                        }
                        ));
                        var c = e.filter((e => e.rebufferingImpact <= 0));
                        return Nd(c, ( (e, t) => _d(t.playlist, e.playlist))),
                        c.length ? c[0] : (Nd(e, ( (e, t) => e.rebufferingImpact - t.rebufferingImpact)),
                        e[0] || null)
                    }({
                        main: this.vhs_.playlists.main,
                        currentTime: t,
                        bandwidth: i,
                        duration: this.duration_(),
                        segmentDuration: n,
                        timeUntilRebuffer: s,
                        currentTimeline: this.currentTimeline_,
                        syncController: this.syncController_
                    });
                    if (r) {
                        var a = e - s - r.rebufferingImpact;
                        let t = .5;
                        s <= dl && (t = 1),
                        !r.playlist || r.playlist.uri === this.playlist_.uri || a < t || (this.bandwidth = r.playlist.attributes.BANDWIDTH * sd.BANDWIDTH_VARIANCE + 1,
                        this.trigger("earlyabort"))
                    }
                }
            }
        }
        handleAbort_(e) {
            this.logger_("Aborting " + $d(e)),
            this.mediaRequestsAborted += 1
        }
        handleProgress_(e, t) {
            this.earlyAbortWhenNeeded_(t.stats),
            this.checkForAbort_(t.requestId) || this.trigger("progress")
        }
        handleTrackInfo_(e, t) {
            this.earlyAbortWhenNeeded_(e.stats),
            this.checkForAbort_(e.requestId) || this.checkForIllegalMediaSwitch(t) || (function(e, t) {
                if (!e && !t || !e && t || e && !t)
                    return !1;
                if (e !== t) {
                    var i = Object.keys(e).sort()
                      , n = Object.keys(t).sort();
                    if (i.length !== n.length)
                        return !1;
                    for (let r = 0; r < i.length; r++) {
                        var s = i[r];
                        if (s !== n[r])
                            return !1;
                        if (e[s] !== t[s])
                            return !1
                    }
                }
                return !0
            }(this.currentMediaInfo_, t = t || {}) || (this.appendInitSegment_ = {
                audio: !0,
                video: !0
            },
            this.startingMediaInfo_ = t,
            this.currentMediaInfo_ = t,
            this.logger_("trackinfo update", t),
            this.trigger("trackinfo")),
            this.checkForAbort_(e.requestId)) || (this.pendingSegment_.trackInfo = t,
            this.hasEnoughInfoToAppend_() && this.processCallQueue_())
        }
        handleTimingInfo_(e, t, i, n) {
            var s;
            this.earlyAbortWhenNeeded_(e.stats),
            this.checkForAbort_(e.requestId) || ((e = this.pendingSegment_)[s = Hd(t)] = e[s] || {},
            e[s][i] = n,
            this.logger_(`timinginfo: ${t} - ${i} - ` + n),
            this.hasEnoughInfoToAppend_() && this.processCallQueue_())
        }
        handleCaptions_(e, t) {
            if (this.earlyAbortWhenNeeded_(e.stats),
            !this.checkForAbort_(e.requestId))
                if (0 === t.length)
                    this.logger_("SegmentLoader received no captions from a caption event");
                else if (this.pendingSegment_.hasAppendedData_) {
                    const e = null === this.sourceUpdater_.videoTimestampOffset() ? this.sourceUpdater_.audioTimestampOffset() : this.sourceUpdater_.videoTimestampOffset()
                      , i = {};
                    t.forEach((t => {
                        i[t.stream] = i[t.stream] || {
                            startTime: 1 / 0,
                            captions: [],
                            endTime: 0
                        };
                        var n = i[t.stream];
                        n.startTime = Math.min(n.startTime, t.startTime + e),
                        n.endTime = Math.max(n.endTime, t.endTime + e),
                        n.captions.push(t)
                    }
                    )),
                    Object.keys(i).forEach((t => {
                        var {startTime: n, endTime: s, captions: r} = i[t]
                          , a = this.inbandTextTracks_
                          , o = (this.logger_(`adding cues from ${n} -> ${s} for ` + t),
                        a)
                          , l = this.vhs_.tech_
                          , d = t;
                        if (!o[d]) {
                            l.trigger({
                                type: "usage",
                                name: "vhs-608"
                            });
                            let e = d;
                            var c;
                            if (/^cc708_/.test(d) && (e = "SERVICE" + d.split("_")[1]),
                            c = l.textTracks().getTrackById(e))
                                o[d] = c;
                            else {
                                let t = d
                                  , i = d
                                  , n = !1;
                                (c = (l.options_.vhs && l.options_.vhs.captionServices || {})[e]) && (t = c.label,
                                i = c.language,
                                n = c.default),
                                o[d] = l.addRemoteTextTrack({
                                    kind: "captions",
                                    id: e,
                                    default: n,
                                    label: t,
                                    language: i
                                }, !1).track
                            }
                        }
                        Fd(n, s, a[t]);
                        var {inbandTextTracks: u, captionArray: c, timestampOffset: h} = {
                            captionArray: r,
                            inbandTextTracks: a,
                            timestampOffset: e
                        };
                        if (c) {
                            const e = window.WebKitDataCue || window.VTTCue;
                            c.forEach((t => {
                                var i = t.stream;
                                u[i].addCue(new e(t.startTime + h,t.endTime + h,t.text))
                            }
                            ))
                        }
                    }
                    )),
                    this.transmuxer_ && this.transmuxer_.postMessage({
                        action: "clearParsedMp4Captions"
                    })
                } else
                    this.metadataQueue_.caption.push(this.handleCaptions_.bind(this, e, t))
        }
        handleId3_(e, t, i) {
            var n, s, r, a;
            this.earlyAbortWhenNeeded_(e.stats),
            this.checkForAbort_(e.requestId) || (this.pendingSegment_.hasAppendedData_ ? (n = null === this.sourceUpdater_.videoTimestampOffset() ? this.sourceUpdater_.audioTimestampOffset() : this.sourceUpdater_.videoTimestampOffset(),
            s = this.inbandTextTracks_,
            r = i,
            a = this.vhs_.tech_,
            s.metadataTrack_ || (s.metadataTrack_ = a.addRemoteTextTrack({
                kind: "metadata",
                label: "Timed Metadata"
            }, !1).track,
            s.metadataTrack_.inBandMetadataTrackDispatchType = r),
            ( ({inbandTextTracks: e, metadataArray: t, timestampOffset: i, videoDuration: n}) => {
                if (t) {
                    const a = window.WebKitDataCue || window.VTTCue
                      , o = e.metadataTrack_;
                    if (o && (t.forEach((e => {
                        const t = e.cueTime + i;
                        !("number" != typeof t || window.isNaN(t) || t < 0) && t < 1 / 0 && e.frames.forEach((e => {
                            var i, n = new a(t,t,e.value || e.url || e.data || "");
                            n.frame = e,
                            n.value = e,
                            i = n,
                            Object.defineProperties(i.frame, {
                                id: {
                                    get: () => (Es.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),
                                    i.value.key)
                                },
                                value: {
                                    get: () => (Es.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),
                                    i.value.data)
                                },
                                privateData: {
                                    get: () => (Es.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),
                                    i.value.data)
                                }
                            }),
                            o.addCue(n)
                        }
                        ))
                    }
                    )),
                    o.cues) && o.cues.length) {
                        var s = o.cues
                          , r = [];
                        for (let e = 0; e < s.length; e++)
                            s[e] && r.push(s[e]);
                        const e = r.reduce(( (e, t) => {
                            var i = e[t.startTime] || [];
                            return i.push(t),
                            e[t.startTime] = i,
                            e
                        }
                        ), {})
                          , t = Object.keys(e).sort(( (e, t) => Number(e) - Number(t)));
                        t.forEach(( (i, s) => {
                            i = e[i];
                            const r = Number(t[s + 1]) || n;
                            i.forEach((e => {
                                e.endTime = r
                            }
                            ))
                        }
                        ))
                    }
                }
            }
            )({
                inbandTextTracks: this.inbandTextTracks_,
                metadataArray: t,
                timestampOffset: n,
                videoDuration: this.duration_()
            })) : this.metadataQueue_.id3.push(this.handleId3_.bind(this, e, t, i)))
        }
        processMetadataQueue_() {
            this.metadataQueue_.id3.forEach((e => e())),
            this.metadataQueue_.caption.forEach((e => e())),
            this.metadataQueue_.id3 = [],
            this.metadataQueue_.caption = []
        }
        processCallQueue_() {
            var e = this.callQueue_;
            this.callQueue_ = [],
            e.forEach((e => e()))
        }
        processLoadQueue_() {
            var e = this.loadQueue_;
            this.loadQueue_ = [],
            e.forEach((e => e()))
        }
        hasEnoughInfoToLoad_() {
            var e;
            return "audio" !== this.loaderType_ || !(!(e = this.pendingSegment_) || this.getCurrentMediaInfo_() && zd({
                timelineChangeController: this.timelineChangeController_,
                currentTimeline: this.currentTimeline_,
                segmentTimeline: e.timeline,
                loaderType: this.loaderType_,
                audioDisabled: this.audioDisabled_
            }))
        }
        getCurrentMediaInfo_(e=this.pendingSegment_) {
            return e && e.trackInfo || this.currentMediaInfo_
        }
        getMediaInfo_(e=this.pendingSegment_) {
            return this.getCurrentMediaInfo_(e) || this.startingMediaInfo_
        }
        hasEnoughInfoToAppend_() {
            var e, t, i, n;
            return !!this.sourceUpdater_.ready() && !(this.waitingOnRemove_ || this.quotaExceededErrorRetryTimeout_ || (e = this.pendingSegment_,
            t = this.getCurrentMediaInfo_(),
            !e) || !t || (({hasAudio: t, hasVideo: i, isMuxed: n} = t),
            i && !e.videoTimingInfo) || t && !this.audioDisabled_ && !n && !e.audioTimingInfo || zd({
                timelineChangeController: this.timelineChangeController_,
                currentTimeline: this.currentTimeline_,
                segmentTimeline: e.timeline,
                loaderType: this.loaderType_,
                audioDisabled: this.audioDisabled_
            }))
        }
        handleData_(e, t) {
            if (this.earlyAbortWhenNeeded_(e.stats),
            !this.checkForAbort_(e.requestId))
                if (this.callQueue_.length || !this.hasEnoughInfoToAppend_())
                    this.callQueue_.push(this.handleData_.bind(this, e, t));
                else {
                    var i = this.pendingSegment_;
                    if (this.setTimeMapping_(i.timeline),
                    this.updateMediaSecondsLoaded_(i.part || i.segment),
                    "closed" !== this.mediaSource_.readyState) {
                        if (e.map && (e.map = this.initSegmentForMap(e.map, !0),
                        i.segment.map = e.map),
                        e.key && this.segmentKey(e.key, !0),
                        i.isFmp4 = e.isFmp4,
                        i.timingInfo = i.timingInfo || {},
                        i.isFmp4)
                            this.trigger("fmp4"),
                            i.timingInfo.start = i[Hd(t.type)].start;
                        else {
                            let t;
                            e = this.getCurrentMediaInfo_(),
                            (e = "main" === this.loaderType_ && e && e.hasVideo) && (t = i.videoTimingInfo.start),
                            i.timingInfo.start = this.trueSegmentStart_({
                                currentStart: i.timingInfo.start,
                                playlist: i.playlist,
                                mediaIndex: i.mediaIndex,
                                currentVideoTimestampOffset: this.sourceUpdater_.videoTimestampOffset(),
                                useVideoTimingInfo: e,
                                firstVideoFrameTimeForData: t,
                                videoTimingInfo: i.videoTimingInfo,
                                audioTimingInfo: i.audioTimingInfo
                            })
                        }
                        if (this.updateAppendInitSegmentStatus(i, t.type),
                        this.updateSourceBufferTimestampOffset_(i),
                        i.isSyncRequest) {
                            if (this.updateTimingInfoEnd_(i),
                            this.syncController_.saveSegmentTimingInfo({
                                segmentInfo: i,
                                shouldSaveTimelineMapping: "main" === this.loaderType_
                            }),
                            (e = this.chooseNextRequest_()).mediaIndex !== i.mediaIndex || e.partIndex !== i.partIndex)
                                return void this.logger_("sync segment was incorrect, not appending");
                            this.logger_("sync segment was correct, appending")
                        }
                        i.hasAppendedData_ = !0,
                        this.processMetadataQueue_(),
                        this.appendData_(i, t)
                    }
                }
        }
        updateAppendInitSegmentStatus(e, t) {
            "main" !== this.loaderType_ || "number" != typeof e.timestampOffset || e.changedTimestampOffset || (this.appendInitSegment_ = {
                audio: !0,
                video: !0
            }),
            this.playlistOfLastInitSegment_[t] !== e.playlist && (this.appendInitSegment_[t] = !0)
        }
        getInitSegmentAndUpdateState_({type: e, initSegment: t, map: i, playlist: n}) {
            if (i) {
                var s = Xl(i);
                if (this.activeInitSegmentId_ === s)
                    return null;
                t = this.initSegmentForMap(i, !0).bytes,
                this.activeInitSegmentId_ = s
            }
            return t && this.appendInitSegment_[e] ? (this.playlistOfLastInitSegment_[e] = n,
            this.appendInitSegment_[e] = !1,
            this.activeInitSegmentId_ = null,
            t) : null
        }
        handleQuotaExceededError_({segmentInfo: e, type: t, bytes: i}, n) {
            var s = this.sourceUpdater_.audioBuffered()
              , r = this.sourceUpdater_.videoBuffered()
              , a = (1 < s.length && this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: " + pl(s).join(", ")),
            1 < r.length && this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: " + pl(r).join(", ")),
            s.length ? s.start(0) : 0)
              , o = s.length ? s.end(s.length - 1) : 0
              , l = r.length ? r.start(0) : 0
              , d = r.length ? r.end(r.length - 1) : 0;
            o - a <= 1 && d - l <= 1 ? (this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${i.byteLength}, audio buffer: ${pl(s).join(", ")}, video buffer: ${pl(r).join(", ")}, `),
            this.error({
                message: "Quota exceeded error with append of a single segment of content",
                excludeUntil: 1 / 0
            }),
            this.trigger("error")) : (this.waitingOnRemove_ = !0,
            this.callQueue_.push(this.appendToSourceBuffer_.bind(this, {
                segmentInfo: e,
                type: t,
                bytes: i
            })),
            o = this.currentTime_() - 1,
            this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to " + o),
            this.remove(0, o, ( () => {
                this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),
                this.waitingOnRemove_ = !1,
                this.quotaExceededErrorRetryTimeout_ = window.setTimeout(( () => {
                    this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),
                    this.quotaExceededErrorRetryTimeout_ = null,
                    this.processCallQueue_()
                }
                ), 1e3)
            }
            ), !0))
        }
        handleAppendError_({segmentInfo: e, type: t, bytes: i}, n) {
            n && (22 === n.code ? this.handleQuotaExceededError_({
                segmentInfo: e,
                type: t,
                bytes: i
            }) : (this.logger_("Received non QUOTA_EXCEEDED_ERR on append", n),
            this.error(`${t} append of ${i.length}b failed for segment #${e.mediaIndex} in playlist ` + e.playlist.id),
            this.trigger("appenderror")))
        }
        appendToSourceBuffer_({segmentInfo: e, type: t, initSegment: i, data: n, bytes: s}) {
            if (!s) {
                var r = [n];
                let e = n.byteLength;
                i && (r.unshift(i),
                e += i.byteLength),
                s = (e => {
                    let t, i = 0;
                    return e.bytes && (t = new Uint8Array(e.bytes),
                    e.segments.forEach((e => {
                        t.set(e, i),
                        i += e.byteLength
                    }
                    ))),
                    t
                }
                )({
                    bytes: e,
                    segments: r
                })
            }
            this.sourceUpdater_.appendBuffer({
                segmentInfo: e,
                type: t,
                bytes: s
            }, this.handleAppendError_.bind(this, {
                segmentInfo: e,
                type: t,
                bytes: s
            }))
        }
        handleSegmentTimingInfo_(e, t, i) {
            this.pendingSegment_ && t === this.pendingSegment_.requestId && ((t = this.pendingSegment_.segment)[e += "TimingInfo"] || (t[e] = {}),
            t[e].transmuxerPrependedSeconds = i.prependedContentDuration || 0,
            t[e].transmuxedPresentationStart = i.start.presentation,
            t[e].transmuxedDecodeStart = i.start.decode,
            t[e].transmuxedPresentationEnd = i.end.presentation,
            t[e].transmuxedDecodeEnd = i.end.decode,
            t[e].baseMediaDecodeTime = i.baseMediaDecodeTime)
        }
        appendData_(e, t) {
            var {type: i, data: n} = t;
            n && n.byteLength && ("audio" === i && this.audioDisabled_ || (t = this.getInitSegmentAndUpdateState_({
                type: i,
                initSegment: t.initSegment,
                playlist: e.playlist,
                map: e.isFmp4 ? e.segment.map : null
            }),
            this.appendToSourceBuffer_({
                segmentInfo: e,
                type: i,
                initSegment: t,
                data: n
            })))
        }
        loadSegment_(e) {
            this.state = "WAITING",
            this.pendingSegment_ = e,
            this.trimBackBuffer_(e),
            "number" == typeof e.timestampOffset && this.transmuxer_ && this.transmuxer_.postMessage({
                action: "clearAllMp4Captions"
            }),
            this.hasEnoughInfoToLoad_() ? this.updateTransmuxerAndRequestSegment_(e) : this.loadQueue_.push(( () => {
                var t = zt({}, e, {
                    forceTimestampOffset: !0
                });
                zt(e, this.generateSegmentInfo_(t)),
                this.isPendingTimestampOffset_ = !1,
                this.updateTransmuxerAndRequestSegment_(e)
            }
            ))
        }
        updateTransmuxerAndRequestSegment_(e) {
            this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset) && (this.gopBuffer_.length = 0,
            e.gopsToAlignWith = [],
            this.timeMapping_ = 0,
            this.transmuxer_.postMessage({
                action: "reset"
            }),
            this.transmuxer_.postMessage({
                action: "setTimestampOffset",
                timestampOffset: e.timestampOffset
            }));
            var t = this.createSimplifiedSegmentObj_(e)
              , i = this.isEndOfStream_(e.mediaIndex, e.playlist, e.partIndex)
              , n = null !== this.mediaIndex
              , s = e.timeline !== this.currentTimeline_ && 0 < e.timeline;
            i = i || n && s;
            this.logger_("Requesting " + $d(e)),
            t.map && !t.map.bytes && (this.logger_("going to request init segment."),
            this.appendInitSegment_ = {
                video: !0,
                audio: !0
            }),
            e.abortRequests = Id({
                xhr: this.vhs_.xhr,
                xhrOptions: this.xhrOptions_,
                decryptionWorker: this.decrypter_,
                segment: t,
                abortFn: this.handleAbort_.bind(this, e),
                progressFn: this.handleProgress_.bind(this),
                trackInfoFn: this.handleTrackInfo_.bind(this),
                timingInfoFn: this.handleTimingInfo_.bind(this),
                videoSegmentTimingInfoFn: this.handleSegmentTimingInfo_.bind(this, "video", e.requestId),
                audioSegmentTimingInfoFn: this.handleSegmentTimingInfo_.bind(this, "audio", e.requestId),
                captionsFn: this.handleCaptions_.bind(this),
                isEndOfTimeline: i,
                endedTimelineFn: () => {
                    this.logger_("received endedtimeline callback")
                }
                ,
                id3Fn: this.handleId3_.bind(this),
                dataFn: this.handleData_.bind(this),
                doneFn: this.segmentRequestFinished_.bind(this),
                onTransmuxerLog: ({message: t, level: i, stream: n}) => {
                    this.logger_($d(e) + ` logged from transmuxer stream ${n} as a ${i}: ` + t)
                }
            })
        }
        trimBackBuffer_(e) {
            var t = ( (e, t, i) => {
                let n = t - sd.BACK_BUFFER_LENGTH;
                return e.length && (n = Math.max(n, e.start(0))),
                Math.min(t - i, n)
            }
            )(this.seekable_(), this.currentTime_(), this.playlist_.targetDuration || 10);
            0 < t && this.remove(0, t)
        }
        createSimplifiedSegmentObj_(e) {
            var t = e.segment
              , i = {
                resolvedUri: ((i = e.part) || t).resolvedUri,
                byterange: (i || t).byterange,
                requestId: e.requestId,
                transmuxer: e.transmuxer,
                audioAppendStart: e.audioAppendStart,
                gopsToAlignWith: e.gopsToAlignWith,
                part: e.part
            }
              , n = e.playlist.segments[e.mediaIndex - 1];
            return n && n.timeline === t.timeline && (n.videoTimingInfo ? i.baseStartTime = n.videoTimingInfo.transmuxedDecodeEnd : n.audioTimingInfo && (i.baseStartTime = n.audioTimingInfo.transmuxedDecodeEnd)),
            t.key && (n = t.key.iv || new Uint32Array([0, 0, 0, e.mediaIndex + e.playlist.mediaSequence]),
            i.key = this.segmentKey(t.key),
            i.key.iv = n),
            t.map && (i.map = this.initSegmentForMap(t.map)),
            i
        }
        saveTransferStats_(e) {
            this.mediaRequests += 1,
            e && (this.mediaBytesTransferred += e.bytesReceived,
            this.mediaTransferDuration += e.roundTripTime)
        }
        saveBandwidthRelatedStats_(e, t) {
            this.pendingSegment_.byteLength = t.bytesReceived,
            e < 1 / 60 ? this.logger_("Ignoring segment's bandwidth because its duration of " + e + " is less than the min to record " + 1 / 60) : (this.bandwidth = t.bandwidth,
            this.roundTrip = t.roundTripTime)
        }
        handleTimeout_() {
            this.mediaRequestsTimedout += 1,
            this.bandwidth = 1,
            this.roundTrip = NaN,
            this.trigger("bandwidthupdate"),
            this.trigger("timeout")
        }
        segmentRequestFinished_(e, t, i) {
            if (this.callQueue_.length)
                this.callQueue_.push(this.segmentRequestFinished_.bind(this, e, t, i));
            else if (this.saveTransferStats_(t.stats),
            this.pendingSegment_ && t.requestId === this.pendingSegment_.requestId) {
                if (e)
                    return this.pendingSegment_ = null,
                    this.state = "READY",
                    e.code === Sd ? void 0 : (this.pause(),
                    e.code === wd ? void this.handleTimeout_() : (this.mediaRequestsErrored += 1,
                    this.error(e),
                    void this.trigger("error")));
                e = this.pendingSegment_,
                this.saveBandwidthRelatedStats_(e.duration, t.stats),
                e.endOfAllRequests = t.endOfAllRequests,
                i.gopInfo && (this.gopBuffer_ = ( (e, t, i) => {
                    if (!t.length)
                        return e;
                    if (i)
                        return t.slice();
                    var n = t[0].pts;
                    let s = 0;
                    for (; s < e.length && !(e[s].pts >= n); s++)
                        ;
                    return e.slice(0, s).concat(t)
                }
                )(this.gopBuffer_, i.gopInfo, this.safeAppend_)),
                this.state = "APPENDING",
                this.trigger("appending"),
                this.waitForAppendsToComplete_(e)
            }
        }
        setTimeMapping_(e) {
            null !== (e = this.syncController_.mappingForTimeline(e)) && (this.timeMapping_ = e)
        }
        updateMediaSecondsLoaded_(e) {
            "number" == typeof e.start && "number" == typeof e.end ? this.mediaSecondsLoaded += e.end - e.start : this.mediaSecondsLoaded += e.duration
        }
        shouldUpdateTransmuxerTimestampOffset_(e) {
            return null !== e && ("main" === this.loaderType_ && e !== this.sourceUpdater_.videoTimestampOffset() || !this.audioDisabled_ && e !== this.sourceUpdater_.audioTimestampOffset())
        }
        trueSegmentStart_({currentStart: e, playlist: t, mediaIndex: i, firstVideoFrameTimeForData: n, currentVideoTimestampOffset: s, useVideoTimingInfo: r, videoTimingInfo: a, audioTimingInfo: o}) {
            return void 0 !== e ? e : r ? (e = t.segments[i - 1],
            0 !== i && e && void 0 !== e.start && e.end === n + s ? a.start : n) : o.start
        }
        waitForAppendsToComplete_(e) {
            var t, i, n = this.getCurrentMediaInfo_(e);
            n ? (({hasAudio: n, hasVideo: i, isMuxed: t} = n),
            i = "main" === this.loaderType_ && i,
            n = !this.audioDisabled_ && n && !t,
            e.waitingOnAppends = 0,
            e.hasAppendedData_ ? (i && e.waitingOnAppends++,
            n && e.waitingOnAppends++,
            i && this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this, e)),
            n && this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this, e))) : (e.timingInfo || "number" != typeof e.timestampOffset || (this.isPendingTimestampOffset_ = !0),
            e.timingInfo = {
                start: 0
            },
            e.waitingOnAppends++,
            this.isPendingTimestampOffset_ || (this.updateSourceBufferTimestampOffset_(e),
            this.processMetadataQueue_()),
            this.checkAppendsDone_(e))) : (this.error({
                message: "No starting media returned, likely due to an unsupported media format.",
                playlistExclusionDuration: 1 / 0
            }),
            this.trigger("error"))
        }
        checkAppendsDone_(e) {
            this.checkForAbort_(e.requestId) || (e.waitingOnAppends--,
            0 === e.waitingOnAppends && this.handleAppendsDone_())
        }
        checkForIllegalMediaSwitch(e) {
            i = this.loaderType_,
            t = this.getCurrentMediaInfo_();
            var t, i = "main" === i && t && e ? e.hasAudio || e.hasVideo ? t.hasVideo && !e.hasVideo ? "Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest." : !t.hasVideo && e.hasVideo ? "Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest." : null : "Neither audio nor video found in segment." : null;
            return !!i && (this.error({
                message: i,
                playlistExclusionDuration: 1 / 0
            }),
            this.trigger("error"),
            !0)
        }
        updateSourceBufferTimestampOffset_(e) {
            if (null !== e.timestampOffset && "number" == typeof e.timingInfo.start && !e.changedTimestampOffset && "main" === this.loaderType_) {
                let t = !1;
                e.timestampOffset -= this.getSegmentStartTimeForTimestampOffsetCalculation_({
                    videoTimingInfo: e.segment.videoTimingInfo,
                    audioTimingInfo: e.segment.audioTimingInfo,
                    timingInfo: e.timingInfo
                }),
                e.changedTimestampOffset = !0,
                e.timestampOffset !== this.sourceUpdater_.videoTimestampOffset() && (this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),
                t = !0),
                e.timestampOffset !== this.sourceUpdater_.audioTimestampOffset() && (this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),
                t = !0),
                t && this.trigger("timestampoffset")
            }
        }
        getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo: e, audioTimingInfo: t, timingInfo: i}) {
            return this.useDtsForTimestampOffset_ ? e && "number" == typeof e.transmuxedDecodeStart ? e.transmuxedDecodeStart : t && "number" == typeof t.transmuxedDecodeStart ? t.transmuxedDecodeStart : i.start : i.start
        }
        updateTimingInfoEnd_(e) {
            e.timingInfo = e.timingInfo || {};
            var t = this.getMediaInfo_();
            (t = "main" === this.loaderType_ && t && t.hasVideo && e.videoTimingInfo ? e.videoTimingInfo : e.audioTimingInfo) && (e.timingInfo.end = "number" == typeof t.end ? t.end : t.start + e.duration)
        }
        handleAppendsDone_() {
            var e, t, i;
            this.pendingSegment_ && this.trigger("appendsdone"),
            this.pendingSegment_ ? (e = this.pendingSegment_,
            this.updateTimingInfoEnd_(e),
            this.shouldSaveSegmentTimingInfo_ && this.syncController_.saveSegmentTimingInfo({
                segmentInfo: e,
                shouldSaveTimelineMapping: "main" === this.loaderType_
            }),
            (t = ( (e, t) => {
                var i, n, s;
                return "hls" === t && (t = (e => {
                    let t = 0;
                    return ["video", "audio"].forEach((function(i) {
                        if (i = e[i + "TimingInfo"]) {
                            var {start: i, end: n} = i;
                            let e;
                            "bigint" == typeof i || "bigint" == typeof n ? e = window.BigInt(n) - window.BigInt(i) : "number" == typeof i && "number" == typeof n && (e = n - i),
                            void 0 !== e && e > t && (t = e)
                        }
                    }
                    )),
                    t = "bigint" == typeof t && t < Number.MAX_SAFE_INTEGER ? Number(t) : t
                }
                )({
                    audioTimingInfo: e.audioTimingInfo,
                    videoTimingInfo: e.videoTimingInfo
                })) && (i = e.playlist.targetDuration,
                n = qd({
                    segmentDuration: t,
                    maxDuration: 2 * i
                }),
                s = qd({
                    segmentDuration: t,
                    maxDuration: i
                }),
                t = `Segment with index ${e.mediaIndex} from playlist ${e.playlist.id} has a duration of ${t} when the reported duration is ${e.duration} and the target duration is ${i}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`,
                n || s) ? {
                    severity: n ? "warn" : "info",
                    message: t
                } : null
            }
            )(e, this.sourceType_)) && ("warn" === t.severity ? Es.log.warn(t.message) : this.logger_(t.message)),
            this.recordThroughput_(e),
            this.pendingSegment_ = null,
            this.state = "READY",
            e.isSyncRequest && (this.trigger("syncinfoupdate"),
            !e.hasAppendedData_) ? this.logger_("Throwing away un-appended sync request " + $d(e)) : (this.logger_("Appended " + $d(e)),
            this.addSegmentMetadataCue_(e),
            this.fetchAtBuffer_ = !0,
            this.currentTimeline_ !== e.timeline && (this.timelineChangeController_.lastTimelineChange({
                type: this.loaderType_,
                from: this.currentTimeline_,
                to: e.timeline
            }),
            "main" !== this.loaderType_ || this.audioDisabled_ || this.timelineChangeController_.lastTimelineChange({
                type: "audio",
                from: this.currentTimeline_,
                to: e.timeline
            })),
            this.currentTimeline_ = e.timeline,
            this.trigger("syncinfoupdate"),
            t = e.segment,
            i = e.part,
            t = t.end && this.currentTime_() - t.end > 3 * e.playlist.targetDuration,
            i = i && i.end && this.currentTime_() - i.end > 3 * e.playlist.partTargetDuration,
            t || i ? (this.logger_(`bad ${t ? "segment" : "part"} ` + $d(e)),
            this.resetEverything()) : (null !== this.mediaIndex && this.trigger("bandwidthupdate"),
            this.trigger("progress"),
            this.mediaIndex = e.mediaIndex,
            this.partIndex = e.partIndex,
            this.isEndOfStream_(e.mediaIndex, e.playlist, e.partIndex) && this.endOfStream(),
            this.trigger("appended"),
            e.hasAppendedData_ && this.mediaAppends++,
            this.paused() || this.monitorBuffer_()))) : (this.state = "READY",
            this.paused() || this.monitorBuffer_())
        }
        recordThroughput_(e) {
            var t, i;
            e.duration < 1 / 60 ? this.logger_("Ignoring segment's throughput because its duration of " + e.duration + " is less than the min to record " + 1 / 60) : (t = this.throughput.rate,
            i = Date.now() - e.endOfAllRequests + 1,
            e = Math.floor(e.byteLength / i * 8 * 1e3),
            this.throughput.rate += (e - t) / ++this.throughput.count)
        }
        addSegmentMetadataCue_(e) {
            var t, i, n, s;
            this.segmentMetadataTrack_ && (t = (s = e.segment).start,
            i = s.end,
            Ud(t)) && Ud(i) && (Fd(t, i, this.segmentMetadataTrack_),
            n = window.WebKitDataCue || window.VTTCue,
            s = {
                custom: s.custom,
                dateTimeObject: s.dateTimeObject,
                dateTimeString: s.dateTimeString,
                bandwidth: e.playlist.attributes.BANDWIDTH,
                resolution: e.playlist.attributes.RESOLUTION,
                codecs: e.playlist.attributes.CODECS,
                byteLength: e.byteLength,
                uri: e.uri,
                timeline: e.timeline,
                playlist: e.playlist.id,
                start: t,
                end: i
            },
            (e = new n(t,i,JSON.stringify(s))).value = s,
            this.segmentMetadataTrack_.addCue(e))
        }
    }
    function Vd() {}
    function Gd(e) {
        return "string" != typeof e ? e : e.replace(/./, (e => e.toUpperCase()))
    }
    const Xd = ["video", "audio"]
      , Yd = (e, t) => {
        var i = t[e + "Buffer"];
        return i && i.updating || t.queuePending[e]
    }
      , Kd = (e, t) => {
        if (0 !== t.queue.length) {
            let i = 0
              , n = t.queue[i];
            if ("mediaSource" === n.type)
                t.updating() || "closed" === t.mediaSource.readyState || (t.queue.shift(),
                n.action(t),
                n.doneFn && n.doneFn(),
                Kd("audio", t),
                Kd("video", t));
            else if ("mediaSource" !== e && t.ready() && "closed" !== t.mediaSource.readyState && !Yd(e, t)) {
                if (n.type !== e) {
                    if (null === (i = ( (e, t) => {
                        for (let n = 0; n < t.length; n++) {
                            var i = t[n];
                            if ("mediaSource" === i.type)
                                return null;
                            if (i.type === e)
                                return n
                        }
                        return null
                    }
                    )(e, t.queue)))
                        return;
                    n = t.queue[i]
                }
                t.queue.splice(i, 1),
                (t.queuePending[e] = n).action(e, t),
                n.doneFn || (t.queuePending[e] = null,
                Kd(e, t))
            }
        }
    }
      , Qd = (e, t) => {
        var i = t[e + "Buffer"]
          , n = Gd(e);
        i && (i.removeEventListener("updateend", t[`on${n}UpdateEnd_`]),
        i.removeEventListener("error", t[`on${n}Error_`]),
        t.codecs[e] = null,
        t[e + "Buffer"] = null)
    }
      , Zd = (e, t) => e && t && -1 !== Array.prototype.indexOf.call(e.sourceBuffers, t)
      , Jd = (e, t, i) => (n, s) => {
        var r = s[n + "Buffer"];
        if (Zd(s.mediaSource, r)) {
            s.logger_(`Appending segment ${t.mediaIndex}'s ${e.length} bytes to ${n}Buffer`);
            try {
                r.appendBuffer(e)
            } catch (r) {
                s.logger_(`Error with code ${r.code} ` + (22 === r.code ? "(QUOTA_EXCEEDED_ERR) " : "") + `when appending segment ${t.mediaIndex} to ${n}Buffer`),
                s.queuePending[n] = null,
                i(r)
            }
        }
    }
      , ec = (e, t) => (i, n) => {
        var s = n[i + "Buffer"];
        if (Zd(n.mediaSource, s)) {
            n.logger_(`Removing ${e} to ${t} from ${i}Buffer`);
            try {
                s.remove(e, t)
            } catch (s) {
                n.logger_(`Remove ${e} to ${t} from ${i}Buffer failed`)
            }
        }
    }
      , tc = e => (t, i) => {
        var n = i[t + "Buffer"];
        Zd(i.mediaSource, n) && (i.logger_(`Setting ${t}timestampOffset to ` + e),
        n.timestampOffset = e)
    }
      , ic = e => (t, i) => {
        e()
    }
      , nc = e => t => {
        if ("open" === t.mediaSource.readyState) {
            t.logger_(`Calling mediaSource endOfStream(${e || ""})`);
            try {
                t.mediaSource.endOfStream(e)
            } catch (t) {
                Es.log.warn("Failed to call media source endOfStream", t)
            }
        }
    }
      , sc = e => t => {
        t.logger_("Setting mediaSource duration to " + e);
        try {
            t.mediaSource.duration = e
        } catch (t) {
            Es.log.warn("Failed to set media source duration", t)
        }
    }
      , rc = () => (e, t) => {
        if ("open" === t.mediaSource.readyState) {
            var i = t[e + "Buffer"];
            if (Zd(t.mediaSource, i)) {
                t.logger_(`calling abort on ${e}Buffer`);
                try {
                    i.abort()
                } catch (t) {
                    Es.log.warn(`Failed to abort on ${e}Buffer`, t)
                }
            }
        }
    }
      , ac = (e, t) => i => {
        var n = Gd(e)
          , s = Qs(t);
        (s = (i.logger_(`Adding ${e}Buffer with codec ${t} to mediaSource`),
        i.mediaSource.addSourceBuffer(s))).addEventListener("updateend", i[`on${n}UpdateEnd_`]),
        s.addEventListener("error", i[`on${n}Error_`]),
        i.codecs[e] = t,
        i[e + "Buffer"] = s
    }
      , oc = e => t => {
        var i = t[e + "Buffer"];
        if (Qd(e, t),
        Zd(t.mediaSource, i)) {
            t.logger_(`Removing ${e}Buffer with codec ${t.codecs[e]} from mediaSource`);
            try {
                t.mediaSource.removeSourceBuffer(i)
            } catch (t) {
                Es.log.warn(`Failed to removeSourceBuffer ${e}Buffer`, t)
            }
        }
    }
      , lc = e => (t, i) => {
        var n = i[t + "Buffer"]
          , s = Qs(e);
        Zd(i.mediaSource, n) && i.codecs[t] !== e && (i.logger_(`changing ${t}Buffer codec from ${i.codecs[t]} to ` + e),
        n.changeType(s),
        i.codecs[t] = e)
    }
      , dc = ({type: e, sourceUpdater: t, action: i, doneFn: n, name: s}) => {
        t.queue.push({
            type: e,
            action: i,
            doneFn: n,
            name: s
        }),
        Kd(e, t)
    }
      , cc = (e, t) => i => {
        var n;
        t.queuePending[e] && (n = t.queuePending[e].doneFn,
        t.queuePending[e] = null,
        n) && n(t[e + "Error_"]),
        Kd(e, t)
    }
    ;
    class uc extends Es.EventTarget {
        constructor(e) {
            super(),
            this.mediaSource = e,
            this.sourceopenListener_ = () => Kd("mediaSource", this),
            this.mediaSource.addEventListener("sourceopen", this.sourceopenListener_),
            this.logger_ = el("SourceUpdater"),
            this.audioTimestampOffset_ = 0,
            this.videoTimestampOffset_ = 0,
            this.queue = [],
            this.queuePending = {
                audio: null,
                video: null
            },
            this.delayedAudioAppendQueue_ = [],
            this.videoAppendQueued_ = !1,
            this.codecs = {},
            this.onVideoUpdateEnd_ = cc("video", this),
            this.onAudioUpdateEnd_ = cc("audio", this),
            this.onVideoError_ = e => {
                this.videoError_ = e
            }
            ,
            this.onAudioError_ = e => {
                this.audioError_ = e
            }
            ,
            this.createdSourceBuffers_ = !1,
            this.initializedEme_ = !1,
            this.triggeredReady_ = !1
        }
        initializedEme() {
            this.initializedEme_ = !0,
            this.triggerReady()
        }
        hasCreatedSourceBuffers() {
            return this.createdSourceBuffers_
        }
        hasInitializedAnyEme() {
            return this.initializedEme_
        }
        ready() {
            return this.hasCreatedSourceBuffers() && this.hasInitializedAnyEme()
        }
        createSourceBuffers(e) {
            this.hasCreatedSourceBuffers() || (this.addOrChangeSourceBuffers(e),
            this.createdSourceBuffers_ = !0,
            this.trigger("createdsourcebuffers"),
            this.triggerReady())
        }
        triggerReady() {
            this.ready() && !this.triggeredReady_ && (this.triggeredReady_ = !0,
            this.trigger("ready"))
        }
        addSourceBuffer(e, t) {
            dc({
                type: "mediaSource",
                sourceUpdater: this,
                action: ac(e, t),
                name: "addSourceBuffer"
            })
        }
        abort(e) {
            dc({
                type: e,
                sourceUpdater: this,
                action: rc(e),
                name: "abort"
            })
        }
        removeSourceBuffer(e) {
            this.canRemoveSourceBuffer() ? dc({
                type: "mediaSource",
                sourceUpdater: this,
                action: oc(e),
                name: "removeSourceBuffer"
            }) : Es.log.error("removeSourceBuffer is not supported!")
        }
        canRemoveSourceBuffer() {
            return !Es.browser.IE_VERSION && !Es.browser.IS_FIREFOX && window.MediaSource && window.MediaSource.prototype && "function" == typeof window.MediaSource.prototype.removeSourceBuffer
        }
        static canChangeType() {
            return window.SourceBuffer && window.SourceBuffer.prototype && "function" == typeof window.SourceBuffer.prototype.changeType
        }
        canChangeType() {
            return this.constructor.canChangeType()
        }
        changeType(e, t) {
            this.canChangeType() ? dc({
                type: e,
                sourceUpdater: this,
                action: lc(t),
                name: "changeType"
            }) : Es.log.error("changeType is not supported!")
        }
        addOrChangeSourceBuffers(e) {
            if (!e || "object" != typeof e || 0 === Object.keys(e).length)
                throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");
            Object.keys(e).forEach((t => {
                var i = e[t];
                if (!this.hasCreatedSourceBuffers())
                    return this.addSourceBuffer(t, i);
                this.canChangeType() && this.changeType(t, i)
            }
            ))
        }
        appendBuffer(e, t) {
            var {segmentInfo: i, type: n, bytes: s} = e;
            this.processedAppend_ = !0,
            "audio" === n && this.videoBuffer && !this.videoAppendQueued_ ? (this.delayedAudioAppendQueue_.push([e, t]),
            this.logger_(`delayed audio append of ${s.length} until video append`)) : (dc({
                type: n,
                sourceUpdater: this,
                action: Jd(s, i || {
                    mediaIndex: -1
                }, e = t),
                doneFn: t,
                name: "appendBuffer"
            }),
            "video" === n && (this.videoAppendQueued_ = !0,
            this.delayedAudioAppendQueue_.length) && (s = this.delayedAudioAppendQueue_.slice(),
            this.logger_(`queuing delayed audio ${s.length} appendBuffers`),
            this.delayedAudioAppendQueue_.length = 0,
            s.forEach((e => {
                this.appendBuffer.apply(this, e)
            }
            ))))
        }
        audioBuffered() {
            return Zd(this.mediaSource, this.audioBuffer) && this.audioBuffer.buffered || il()
        }
        videoBuffered() {
            return Zd(this.mediaSource, this.videoBuffer) && this.videoBuffer.buffered || il()
        }
        buffered() {
            var e = Zd(this.mediaSource, this.videoBuffer) ? this.videoBuffer : null
              , t = Zd(this.mediaSource, this.audioBuffer) ? this.audioBuffer : null;
            if (t && !e)
                return this.audioBuffered();
            if (e && !t)
                return this.videoBuffered();
            {
                var i = this.audioBuffered()
                  , n = this.videoBuffered();
                let e = null
                  , t = null
                  , a = 0;
                var s = []
                  , r = [];
                if (!(i && i.length && n && n.length))
                    return il();
                let o = i.length;
                for (; o--; )
                    s.push({
                        time: i.start(o),
                        type: "start"
                    }),
                    s.push({
                        time: i.end(o),
                        type: "end"
                    });
                for (o = n.length; o--; )
                    s.push({
                        time: n.start(o),
                        type: "start"
                    }),
                    s.push({
                        time: n.end(o),
                        type: "end"
                    });
                for (s.sort((function(e, t) {
                    return e.time - t.time
                }
                )),
                o = 0; o < s.length; o++)
                    "start" === s[o].type ? 2 == ++a && (e = s[o].time) : "end" === s[o].type && 1 == --a && (t = s[o].time),
                    null !== e && null !== t && (r.push([e, t]),
                    e = null,
                    t = null);
                return il(r)
            }
        }
        setDuration(e, t=Vd) {
            dc({
                type: "mediaSource",
                sourceUpdater: this,
                action: sc(e),
                name: "duration",
                doneFn: t
            })
        }
        endOfStream(e=null, t=Vd) {
            "string" != typeof e && (e = void 0),
            dc({
                type: "mediaSource",
                sourceUpdater: this,
                action: nc(e),
                name: "endOfStream",
                doneFn: t
            })
        }
        removeAudio(e, t, i=Vd) {
            this.audioBuffered().length && 0 !== this.audioBuffered().end(0) ? dc({
                type: "audio",
                sourceUpdater: this,
                action: ec(e, t),
                doneFn: i,
                name: "remove"
            }) : i()
        }
        removeVideo(e, t, i=Vd) {
            this.videoBuffered().length && 0 !== this.videoBuffered().end(0) ? dc({
                type: "video",
                sourceUpdater: this,
                action: ec(e, t),
                doneFn: i,
                name: "remove"
            }) : i()
        }
        updating() {
            return !(!Yd("audio", this) && !Yd("video", this))
        }
        audioTimestampOffset(e) {
            return void 0 !== e && this.audioBuffer && this.audioTimestampOffset_ !== e && (dc({
                type: "audio",
                sourceUpdater: this,
                action: tc(e),
                name: "timestampOffset"
            }),
            this.audioTimestampOffset_ = e),
            this.audioTimestampOffset_
        }
        videoTimestampOffset(e) {
            return void 0 !== e && this.videoBuffer && this.videoTimestampOffset !== e && (dc({
                type: "video",
                sourceUpdater: this,
                action: tc(e),
                name: "timestampOffset"
            }),
            this.videoTimestampOffset_ = e),
            this.videoTimestampOffset_
        }
        audioQueueCallback(e) {
            this.audioBuffer && dc({
                type: "audio",
                sourceUpdater: this,
                action: ic(e),
                name: "callback"
            })
        }
        videoQueueCallback(e) {
            this.videoBuffer && dc({
                type: "video",
                sourceUpdater: this,
                action: ic(e),
                name: "callback"
            })
        }
        dispose() {
            this.trigger("dispose"),
            Xd.forEach((e => {
                this.abort(e),
                this.canRemoveSourceBuffer() ? this.removeSourceBuffer(e) : this[e + "QueueCallback"](( () => Qd(e, this)))
            }
            )),
            this.videoAppendQueued_ = !1,
            this.delayedAudioAppendQueue_.length = 0,
            this.sourceopenListener_ && this.mediaSource.removeEventListener("sourceopen", this.sourceopenListener_),
            this.off()
        }
    }
    const hc = e => decodeURIComponent(escape(String.fromCharCode.apply(null, e)))
      , pc = new Uint8Array("\n\n".split("").map((e => e.charCodeAt(0))));
    class fc extends Wd {
        constructor(e, t={}) {
            super(e, t),
            this.mediaSource_ = null,
            this.subtitlesTrack_ = null,
            this.loaderType_ = "subtitle",
            this.featuresNativeTextTracks_ = e.featuresNativeTextTracks,
            this.shouldSaveSegmentTimingInfo_ = !1
        }
        createTransmuxer_() {
            return null
        }
        buffered_() {
            var e;
            return this.subtitlesTrack_ && this.subtitlesTrack_.cues && this.subtitlesTrack_.cues.length ? il([[(e = this.subtitlesTrack_.cues)[0].startTime, e[e.length - 1].startTime]]) : il()
        }
        initSegmentForMap(e, t=!1) {
            if (!e)
                return null;
            var i = Xl(e);
            let n = this.initSegments_[i];
            return t && !n && e.bytes && (t = pc.byteLength + e.bytes.byteLength,
            (t = new Uint8Array(t)).set(e.bytes),
            t.set(pc, e.bytes.byteLength),
            this.initSegments_[i] = n = {
                resolvedUri: e.resolvedUri,
                byterange: e.byterange,
                bytes: t
            }),
            n || e
        }
        couldBeginLoading_() {
            return this.playlist_ && this.subtitlesTrack_ && !this.paused()
        }
        init_() {
            return this.state = "READY",
            this.resetEverything(),
            this.monitorBuffer_()
        }
        track(e) {
            return void 0 !== e && (this.subtitlesTrack_ = e,
            "INIT" === this.state && this.couldBeginLoading_()) && this.init_(),
            this.subtitlesTrack_
        }
        remove(e, t) {
            Fd(e, t, this.subtitlesTrack_)
        }
        fillBuffer_() {
            var e = this.chooseNextRequest_();
            e && (null === this.syncController_.timestampOffsetForTimeline(e.timeline) ? (this.syncController_.one("timestampoffset", ( () => {
                this.state = "READY",
                this.paused() || this.monitorBuffer_()
            }
            )),
            this.state = "WAITING_ON_TIMELINE") : this.loadSegment_(e))
        }
        timestampOffsetForSegment_() {
            return null
        }
        chooseNextRequest_() {
            return this.skipEmptySegments_(super.chooseNextRequest_())
        }
        skipEmptySegments_(e) {
            for (; e && e.segment.empty; ) {
                if (e.mediaIndex + 1 >= e.playlist.segments.length) {
                    e = null;
                    break
                }
                e = this.generateSegmentInfo_({
                    playlist: e.playlist,
                    mediaIndex: e.mediaIndex + 1,
                    startOfSegment: e.startOfSegment + e.duration,
                    isSyncRequest: e.isSyncRequest
                })
            }
            return e
        }
        stopForError(e) {
            this.error(e),
            this.state = "READY",
            this.pause(),
            this.trigger("error")
        }
        segmentRequestFinished_(e, t, i) {
            if (this.subtitlesTrack_)
                if (this.saveTransferStats_(t.stats),
                this.pendingSegment_)
                    if (e)
                        e.code === wd && this.handleTimeout_(),
                        e.code === Sd ? this.mediaRequestsAborted += 1 : this.mediaRequestsErrored += 1,
                        this.stopForError(e);
                    else {
                        var n = this.pendingSegment_
                          , s = (this.saveBandwidthRelatedStats_(n.duration, t.stats),
                        t.key && this.segmentKey(t.key, !0),
                        this.state = "APPENDING",
                        this.trigger("appending"),
                        n.segment);
                        if (s.map && (s.map.bytes = t.map.bytes),
                        n.bytes = t.bytes,
                        "function" != typeof window.WebVTT && this.subtitlesTrack_ && this.subtitlesTrack_.tech_) {
                            let n;
                            const s = () => {
                                this.subtitlesTrack_.tech_.off("vttjsloaded", n),
                                this.stopForError({
                                    message: "Error loading vtt.js"
                                })
                            }
                            ;
                            n = () => {
                                this.subtitlesTrack_.tech_.off("vttjserror", s),
                                this.segmentRequestFinished_(e, t, i)
                            }
                            ,
                            this.state = "WAITING_ON_VTTJS",
                            this.subtitlesTrack_.tech_.one("vttjsloaded", n),
                            this.subtitlesTrack_.tech_.one("vttjserror", s)
                        } else {
                            s.requested = !0;
                            try {
                                this.parseVTTCues_(n)
                            } catch (n) {
                                return void this.stopForError({
                                    message: n.message
                                })
                            }
                            if (this.updateTimeMapping_(n, this.syncController_.timelines[n.timeline], this.playlist_),
                            n.cues.length ? n.timingInfo = {
                                start: n.cues[0].startTime,
                                end: n.cues[n.cues.length - 1].endTime
                            } : n.timingInfo = {
                                start: n.startOfSegment,
                                end: n.startOfSegment + n.duration
                            },
                            n.isSyncRequest)
                                this.trigger("syncinfoupdate"),
                                this.pendingSegment_ = null,
                                this.state = "READY";
                            else {
                                n.byteLength = n.bytes.byteLength,
                                this.mediaSecondsLoaded += s.duration,
                                n.cues.forEach((e => {
                                    this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_ ? new window.VTTCue(e.startTime,e.endTime,e.text) : e)
                                }
                                ));
                                var r = this.subtitlesTrack_
                                  , a = r.cues;
                                if (a)
                                    for (let e = 0; e < a.length; e++) {
                                        var o = [];
                                        let t = 0;
                                        for (let i = 0; i < a.length; i++)
                                            a[e].startTime === a[i].startTime && a[e].endTime === a[i].endTime && a[e].text === a[i].text && 1 < ++t && o.push(a[i]);
                                        o.length && o.forEach((e => r.removeCue(e)))
                                    }
                                this.handleAppendsDone_()
                            }
                        }
                    }
                else
                    this.state = "READY",
                    this.mediaRequestsAborted += 1;
            else
                this.state = "READY"
        }
        handleData_() {}
        updateTimingInfoEnd_() {}
        parseVTTCues_(e) {
            let t, i = !1;
            "function" == typeof window.TextDecoder ? t = new window.TextDecoder("utf8") : (t = window.WebVTT.StringDecoder(),
            i = !0);
            var n = new window.WebVTT.Parser(window,window.vttjs,t);
            if (e.cues = [],
            e.timestampmap = {
                MPEGTS: 0,
                LOCAL: 0
            },
            n.oncue = e.cues.push.bind(e.cues),
            n.ontimestampmap = t => {
                e.timestampmap = t
            }
            ,
            n.onparsingerror = e => {
                Es.log.warn("Error encountered when parsing cues: " + e.message)
            }
            ,
            e.segment.map) {
                let t = e.segment.map.bytes;
                i && (t = hc(t)),
                n.parse(t)
            }
            let s = e.bytes;
            i && (s = hc(s)),
            n.parse(s),
            n.flush()
        }
        updateTimeMapping_(e, t, i) {
            var n = e.segment;
            if (t)
                if (e.cues.length) {
                    var s = e.timestampmap;
                    const r = s.MPEGTS / Qo - s.LOCAL + t.mapping;
                    e.cues.forEach((e => {
                        e.startTime += r,
                        e.endTime += r
                    }
                    )),
                    i.syncInfo || (s = e.cues[0].startTime,
                    t = e.cues[e.cues.length - 1].startTime,
                    i.syncInfo = {
                        mediaSequence: i.mediaSequence + e.mediaIndex,
                        time: Math.min(s, t - n.duration)
                    })
                } else
                    n.empty = !0
        }
    }
    const mc = [{
        name: "VOD",
        run: (e, t, i, n, s) => i !== 1 / 0 ? {
            time: 0,
            segmentIndex: 0,
            partIndex: null
        } : null
    }, {
        name: "ProgramDateTime",
        run: (e, t, i, n, s) => {
            if (!Object.keys(e.timelineToDatetimeMappings).length)
                return null;
            let r = null
              , a = null;
            var o = ml(t);
            s = s || 0;
            for (let i = 0; i < o.length; i++) {
                var l = o[t.endList || 0 === s ? i : o.length - (i + 1)]
                  , d = l.segment
                  , c = e.timelineToDatetimeMappings[d.timeline];
                if (c && d.dateTimeObject) {
                    let e = d.dateTimeObject.getTime() / 1e3 + c;
                    if (d.parts && "number" == typeof l.partIndex)
                        for (let t = 0; t < l.partIndex; t++)
                            e += d.parts[t].duration;
                    if (c = Math.abs(s - e),
                    null !== a && (0 === c || a < c))
                        break;
                    a = c,
                    r = {
                        time: e,
                        segmentIndex: l.segmentIndex,
                        partIndex: l.partIndex
                    }
                }
            }
            return r
        }
    }, {
        name: "Segment",
        run: (e, t, i, n, s) => {
            let r = null
              , a = null;
            s = s || 0;
            var o = ml(t);
            for (let e = 0; e < o.length; e++) {
                var l = o[t.endList || 0 === s ? e : o.length - (e + 1)]
                  , d = l.segment
                  , c = l.part && l.part.start || d && d.start;
                if (d.timeline === n && void 0 !== c) {
                    if (d = Math.abs(s - c),
                    null !== a && a < d)
                        break;
                    (!r || null === a || a >= d) && (a = d,
                    r = {
                        time: c,
                        segmentIndex: l.segmentIndex,
                        partIndex: l.partIndex
                    })
                }
            }
            return r
        }
    }, {
        name: "Discontinuity",
        run: (e, t, i, n, s) => {
            let r = null;
            if (s = s || 0,
            t.discontinuityStarts && t.discontinuityStarts.length) {
                let i = null;
                for (let n = 0; n < t.discontinuityStarts.length; n++) {
                    var a = t.discontinuityStarts[n]
                      , o = t.discontinuitySequence + n + 1;
                    if (o = e.discontinuities[o]) {
                        var l = Math.abs(s - o.time);
                        if (null !== i && i < l)
                            break;
                        (!r || null === i || i >= l) && (i = l,
                        r = {
                            time: o.time,
                            segmentIndex: a,
                            partIndex: null
                        })
                    }
                }
            }
            return r
        }
    }, {
        name: "Playlist",
        run: (e, t, i, n, s) => t.syncInfo ? {
            time: t.syncInfo.time,
            segmentIndex: t.syncInfo.mediaSequence - t.mediaSequence,
            partIndex: null
        } : null
    }];
    class gc extends Es.EventTarget {
        constructor(e=0) {
            super(),
            this.timelines = [],
            this.discontinuities = [],
            this.timelineToDatetimeMappings = {},
            this.logger_ = el("SyncController")
        }
        getSyncPoint(e, t, i, n) {
            return (e = this.runStrategies_(e, t, i, n)).length ? this.selectSyncPoint_(e, {
                key: "time",
                value: n
            }) : null
        }
        getExpiredTime(e, t) {
            return e && e.segments && (t = this.runStrategies_(e, t, e.discontinuitySequence, 0)).length ? (0 < (t = this.selectSyncPoint_(t, {
                key: "segmentIndex",
                value: 0
            })).segmentIndex && (t.time *= -1),
            Math.abs(t.time + ol({
                defaultDuration: e.targetDuration,
                durationList: e.segments,
                startIndex: t.segmentIndex,
                endIndex: 0
            }))) : null
        }
        runStrategies_(e, t, i, n) {
            var s = [];
            for (let o = 0; o < mc.length; o++) {
                var r = mc[o]
                  , a = r.run(this, e, t, i, n);
                a && (a.strategy = r.name,
                s.push({
                    strategy: r.name,
                    syncPoint: a
                }))
            }
            return s
        }
        selectSyncPoint_(e, t) {
            let i = e[0].syncPoint
              , n = Math.abs(e[0].syncPoint[t.key] - t.value)
              , s = e[0].strategy;
            for (let a = 1; a < e.length; a++) {
                var r = Math.abs(e[a].syncPoint[t.key] - t.value);
                r < n && (n = r,
                i = e[a].syncPoint,
                s = e[a].strategy)
            }
            return this.logger_(`syncPoint for [${t.key}: ${t.value}] chosen with strategy [${s}]: [time:${i.time}, segmentIndex:` + i.segmentIndex + ("number" == typeof i.partIndex ? ",partIndex:" + i.partIndex : "") + "]"),
            i
        }
        saveExpiredSegmentInfo(e, t) {
            var i = t.mediaSequence - e.mediaSequence;
            if (86400 < i)
                Es.log.warn(`Not saving expired segment info. Media sequence gap ${i} is too large.`);
            else
                for (let s = i - 1; 0 <= s; s--) {
                    var n = e.segments[s];
                    if (n && void 0 !== n.start) {
                        t.syncInfo = {
                            mediaSequence: e.mediaSequence + s,
                            time: n.start
                        },
                        this.logger_(`playlist refresh sync: [time:${t.syncInfo.time}, mediaSequence: ${t.syncInfo.mediaSequence}]`),
                        this.trigger("syncinfoupdate");
                        break
                    }
                }
        }
        setDateTimeMappingForStart(e) {
            var t;
            this.timelineToDatetimeMappings = {},
            e.segments && e.segments.length && e.segments[0].dateTimeObject && (t = (e = e.segments[0]).dateTimeObject.getTime() / 1e3,
            this.timelineToDatetimeMappings[e.timeline] = -t)
        }
        saveSegmentTimingInfo({segmentInfo: e, shouldSaveTimelineMapping: t}) {
            var i = this.calculateSegmentTimeMapping_(e, e.timingInfo, t)
              , n = e.segment;
            i && (this.saveDiscontinuitySyncInfo_(e),
            e.playlist.syncInfo || (e.playlist.syncInfo = {
                mediaSequence: e.playlist.mediaSequence + e.mediaIndex,
                time: n.start
            })),
            i = n.dateTimeObject;
            n.discontinuity && t && i && (this.timelineToDatetimeMappings[n.timeline] = -i.getTime() / 1e3)
        }
        timestampOffsetForTimeline(e) {
            return void 0 === this.timelines[e] ? null : this.timelines[e].time
        }
        mappingForTimeline(e) {
            return void 0 === this.timelines[e] ? null : this.timelines[e].mapping
        }
        calculateSegmentTimeMapping_(e, t, i) {
            var n = e.segment
              , s = e.part;
            let r, a, o = this.timelines[e.timeline];
            if ("number" == typeof e.timestampOffset)
                o = {
                    time: e.startOfSegment,
                    mapping: e.startOfSegment - t.start
                },
                i && (this.timelines[e.timeline] = o,
                this.trigger("timestampoffset"),
                this.logger_(`time mapping for timeline ${e.timeline}: [time: ${o.time}] [mapping: ${o.mapping}]`)),
                r = e.startOfSegment;
            else {
                if (!o)
                    return !1;
                r = t.start + o.mapping
            }
            return a = t.end + o.mapping,
            s && (s.start = r,
            s.end = a),
            (!n.start || r < n.start) && (n.start = r),
            n.end = a,
            !0
        }
        saveDiscontinuitySyncInfo_(e) {
            var t = e.playlist
              , i = e.segment;
            if (i.discontinuity)
                this.discontinuities[i.timeline] = {
                    time: i.start,
                    accuracy: 0
                };
            else if (t.discontinuityStarts && t.discontinuityStarts.length)
                for (let o = 0; o < t.discontinuityStarts.length; o++) {
                    var n = t.discontinuityStarts[o]
                      , s = t.discontinuitySequence + o + 1
                      , r = n - e.mediaIndex
                      , a = Math.abs(r);
                    if (!this.discontinuities[s] || this.discontinuities[s].accuracy > a) {
                        let o;
                        o = r < 0 ? i.start - ol({
                            defaultDuration: t.targetDuration,
                            durationList: t.segments,
                            startIndex: e.mediaIndex,
                            endIndex: n
                        }) : i.end + ol({
                            defaultDuration: t.targetDuration,
                            durationList: t.segments,
                            startIndex: e.mediaIndex + 1,
                            endIndex: n
                        }),
                        this.discontinuities[s] = {
                            time: o,
                            accuracy: a
                        }
                    }
                }
        }
        dispose() {
            this.trigger("dispose"),
            this.off()
        }
    }
    class vc extends Es.EventTarget {
        constructor() {
            super(),
            this.pendingTimelineChanges_ = {},
            this.lastTimelineChanges_ = {}
        }
        clearPendingTimelineChange(e) {
            this.pendingTimelineChanges_[e] = null,
            this.trigger("pendingtimelinechange")
        }
        pendingTimelineChange({type: e, from: t, to: i}) {
            return "number" == typeof t && "number" == typeof i && (this.pendingTimelineChanges_[e] = {
                type: e,
                from: t,
                to: i
            },
            this.trigger("pendingtimelinechange")),
            this.pendingTimelineChanges_[e]
        }
        lastTimelineChange({type: e, from: t, to: i}) {
            return "number" == typeof t && "number" == typeof i && (this.lastTimelineChanges_[e] = {
                type: e,
                from: t,
                to: i
            },
            delete this.pendingTimelineChanges_[e],
            this.trigger("timelinechange")),
            this.lastTimelineChanges_[e]
        }
        dispose() {
            this.trigger("dispose"),
            this.pendingTimelineChanges_ = {},
            this.lastTimelineChanges_ = {},
            this.off()
        }
    }
    var yc = ad(od(ld((function() {
        var e = function() {
            function e() {
                this.listeners = {}
            }
            var t = e.prototype;
            return t.on = function(e, t) {
                this.listeners[e] || (this.listeners[e] = []),
                this.listeners[e].push(t)
            }
            ,
            t.off = function(e, t) {
                return !!this.listeners[e] && (t = this.listeners[e].indexOf(t),
                this.listeners[e] = this.listeners[e].slice(0),
                this.listeners[e].splice(t, 1),
                -1 < t)
            }
            ,
            t.trigger = function(e) {
                var t = this.listeners[e];
                if (t)
                    if (2 === arguments.length)
                        for (var i = t.length, n = 0; n < i; ++n)
                            t[n].call(this, arguments[1]);
                    else
                        for (var s = Array.prototype.slice.call(arguments, 1), r = t.length, a = 0; a < r; ++a)
                            t[a].apply(this, s)
            }
            ,
            t.dispose = function() {
                this.listeners = {}
            }
            ,
            t.pipe = function(e) {
                this.on("data", (function(t) {
                    e.push(t)
                }
                ))
            }
            ,
            e
        }();
        let t = null;
        class i {
            constructor(e) {
                let i, n, s;
                t = t || function() {
                    var e = [[[], [], [], [], []], [[], [], [], [], []]]
                      , t = e[0]
                      , i = e[1]
                      , n = t[4]
                      , s = i[4];
                    let r, a, o;
                    var l, d, c, u = [], h = [];
                    let p, f;
                    for (r = 0; r < 256; r++)
                        h[(u[r] = r << 1 ^ 283 * (r >> 7)) ^ r] = r;
                    for (a = o = 0; !n[a]; a ^= l || 1,
                    o = h[o] || 1)
                        for (c = (c = o ^ o << 1 ^ o << 2 ^ o << 3 ^ o << 4) >> 8 ^ 255 & c ^ 99,
                        f = 16843009 * u[d = u[l = u[s[n[a] = c] = a]]] ^ 65537 * d ^ 257 * l ^ 16843008 * a,
                        p = 257 * u[c] ^ 16843008 * c,
                        r = 0; r < 4; r++)
                            t[r][a] = p = p << 24 ^ p >>> 8,
                            i[r][c] = f = f << 24 ^ f >>> 8;
                    for (r = 0; r < 5; r++)
                        t[r] = t[r].slice(0),
                        i[r] = i[r].slice(0);
                    return e
                }(),
                this._tables = [[t[0][0].slice(), t[0][1].slice(), t[0][2].slice(), t[0][3].slice(), t[0][4].slice()], [t[1][0].slice(), t[1][1].slice(), t[1][2].slice(), t[1][3].slice(), t[1][4].slice()]];
                var r = this._tables[0][4]
                  , a = this._tables[1]
                  , o = e.length;
                let l = 1;
                if (4 !== o && 6 !== o && 8 !== o)
                    throw new Error("Invalid aes key size");
                var d = e.slice(0)
                  , c = [];
                for (this._key = [d, c],
                i = o; i < 4 * o + 28; i++)
                    s = d[i - 1],
                    (i % o == 0 || 8 === o && i % o == 4) && (s = r[s >>> 24] << 24 ^ r[s >> 16 & 255] << 16 ^ r[s >> 8 & 255] << 8 ^ r[255 & s],
                    i % o == 0) && (s = s << 8 ^ s >>> 24 ^ l << 24,
                    l = l << 1 ^ 283 * (l >> 7)),
                    d[i] = d[i - o] ^ s;
                for (n = 0; i; n++,
                i--)
                    s = d[3 & n ? i : i - 4],
                    c[n] = i <= 4 || n < 4 ? s : a[0][r[s >>> 24]] ^ a[1][r[s >> 16 & 255]] ^ a[2][r[s >> 8 & 255]] ^ a[3][r[255 & s]]
            }
            decrypt(e, t, i, n, s, r) {
                var a, o, l = this._key[1];
                let d, c = e ^ l[0], u = n ^ l[1], h = i ^ l[2], p = t ^ l[3];
                var f = l.length / 4 - 2;
                let m, g = 4;
                var v = (e = this._tables[1])[0]
                  , y = e[1]
                  , b = e[2]
                  , _ = e[3]
                  , T = e[4];
                for (m = 0; m < f; m++)
                    d = v[c >>> 24] ^ y[u >> 16 & 255] ^ b[h >> 8 & 255] ^ _[255 & p] ^ l[g],
                    a = v[u >>> 24] ^ y[h >> 16 & 255] ^ b[p >> 8 & 255] ^ _[255 & c] ^ l[g + 1],
                    o = v[h >>> 24] ^ y[p >> 16 & 255] ^ b[c >> 8 & 255] ^ _[255 & u] ^ l[g + 2],
                    p = v[p >>> 24] ^ y[c >> 16 & 255] ^ b[u >> 8 & 255] ^ _[255 & h] ^ l[g + 3],
                    g += 4,
                    c = d,
                    u = a,
                    h = o;
                for (m = 0; m < 4; m++)
                    s[(3 & -m) + r] = T[c >>> 24] << 24 ^ T[u >> 16 & 255] << 16 ^ T[h >> 8 & 255] << 8 ^ T[255 & p] ^ l[g++],
                    d = c,
                    c = u,
                    u = h,
                    h = p,
                    p = d
            }
        }
        class n extends e {
            constructor() {
                super(e),
                this.jobs = [],
                this.delay = 1,
                this.timeout_ = null
            }
            processJob_() {
                this.jobs.shift()(),
                this.jobs.length ? this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay) : this.timeout_ = null
            }
            push(e) {
                this.jobs.push(e),
                this.timeout_ || (this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay))
            }
        }
        function s(e) {
            return e << 24 | (65280 & e) << 8 | (16711680 & e) >> 8 | e >>> 24
        }
        class r {
            constructor(e, t, i, a) {
                var o = r.STEP
                  , l = new Int32Array(e.buffer);
                const d = new Uint8Array(e.byteLength);
                let c = 0;
                for (this.asyncStream_ = new n,
                this.asyncStream_.push(this.decryptChunk_(l.subarray(c, c + o), t, i, d)),
                c = o; c < l.length; c += o)
                    i = new Uint32Array([s(l[c - 4]), s(l[c - 3]), s(l[c - 2]), s(l[c - 1])]),
                    this.asyncStream_.push(this.decryptChunk_(l.subarray(c, c + o), t, i, d));
                this.asyncStream_.push((function() {
                    var e;
                    a(null, (e = d).subarray(0, e.byteLength - e[e.byteLength - 1]))
                }
                ))
            }
            static get STEP() {
                return 32e3
            }
            decryptChunk_(e, t, n, r) {
                return function() {
                    var a = function(e, t, n) {
                        var r, a, o, l, d = new Int32Array(e.buffer,e.byteOffset,e.byteLength >> 2), c = new i(Array.prototype.slice.call(t)), u = (t = new Uint8Array(e.byteLength),
                        new Int32Array(t.buffer));
                        let h, p, f, m, g;
                        for (h = n[0],
                        p = n[1],
                        f = n[2],
                        m = n[3],
                        g = 0; g < d.length; g += 4)
                            r = s(d[g]),
                            a = s(d[g + 1]),
                            o = s(d[g + 2]),
                            l = s(d[g + 3]),
                            c.decrypt(r, a, o, l, u, g),
                            u[g] = s(u[g] ^ h),
                            u[g + 1] = s(u[g + 1] ^ p),
                            u[g + 2] = s(u[g + 2] ^ f),
                            u[g + 3] = s(u[g + 3] ^ m),
                            h = r,
                            p = a,
                            f = o,
                            m = l;
                        return t
                    }(e, t, n);
                    r.set(a, e.byteOffset)
                }
            }
        }
        var a = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
        (a = (a = "undefined" != typeof window ? window : void 0 !== a ? a : "undefined" != typeof self ? self : {}).BigInt || Number)("0x1"),
        a("0x100"),
        a("0x10000"),
        a("0x1000000"),
        a("0x100000000"),
        a("0x10000000000"),
        a("0x1000000000000"),
        a("0x100000000000000"),
        a("0x10000000000000000"),
        a = new Uint16Array([65484]),
        255 !== (a = new Uint8Array(a.buffer,a.byteOffset,a.byteLength))[0] && a[0],
        self.onmessage = function(e) {
            const t = e.data;
            e = new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength);
            var i = new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength / 4)
              , n = new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength / 4);
            new r(e,i,n,(function(e, i) {
                self.postMessage(function(e) {
                    const t = {};
                    return Object.keys(e).forEach((i => {
                        var n, s = e[i];
                        n = s,
                        ("function" === ArrayBuffer.isView ? ArrayBuffer.isView(n) : n && n.buffer instanceof ArrayBuffer) ? t[i] = {
                            bytes: s.buffer,
                            byteOffset: s.byteOffset,
                            byteLength: s.byteLength
                        } : t[i] = s
                    }
                    )),
                    t
                }({
                    source: t.source,
                    decrypted: i
                }), [i.buffer])
            }
            ))
        }
    }
    ))));
    const bc = (e, t) => {
        e.abort(),
        e.pause(),
        t && t.activePlaylistLoader && (t.activePlaylistLoader.pause(),
        t.activePlaylistLoader = null)
    }
      , _c = (e, t) => {
        (t.activePlaylistLoader = e).load()
    }
      , Tc = {
        AUDIO: (e, t) => () => {
            var {segmentLoaders: {[e]: i}, mediaTypes: {[e]: n}, excludePlaylist: s} = t
              , i = (bc(i, n),
            n.activeTrack())
              , r = ((r = n.activeGroup()).filter((e => e.default))[0] || r[0]).id
              , a = n.tracks[r];
            if (i === a)
                s({
                    error: {
                        message: "Problem encountered loading the default audio track."
                    }
                });
            else {
                Es.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");
                for (const e in n.tracks)
                    n.tracks[e].enabled = n.tracks[e] === a;
                n.onTrackChanged()
            }
        }
        ,
        SUBTITLES: (e, t) => () => {
            var i, {segmentLoaders: {[e]: i}, mediaTypes: {[e]: n}} = t;
            (i = (Es.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),
            bc(i, n),
            n.activeTrack())) && (i.mode = "disabled"),
            n.onTrackChanged()
        }
    }
      , wc = {
        AUDIO: (e, t, i) => {
            if (!t)
                return;
            const {tech: n, requestOptions: s, segmentLoaders: {[e]: r}} = i;
            t.on("loadedmetadata", ( () => {
                var e = t.media();
                r.playlist(e, s),
                (!n.paused() || e.endList && "none" !== n.preload()) && r.load()
            }
            )),
            t.on("loadedplaylist", ( () => {
                r.playlist(t.media(), s),
                n.paused() || r.load()
            }
            )),
            t.on("error", Tc[e](e, i))
        }
        ,
        SUBTITLES: (e, t, i) => {
            const {tech: n, requestOptions: s, segmentLoaders: {[e]: r}, mediaTypes: {[e]: a}} = i;
            t.on("loadedmetadata", ( () => {
                var e = t.media();
                r.playlist(e, s),
                r.track(a.activeTrack()),
                (!n.paused() || e.endList && "none" !== n.preload()) && r.load()
            }
            )),
            t.on("loadedplaylist", ( () => {
                r.playlist(t.media(), s),
                n.paused() || r.load()
            }
            )),
            t.on("error", Tc[e](e, i))
        }
    }
      , Sc = {
        AUDIO: (e, t) => {
            var i, {vhs: n, sourceType: s, segmentLoaders: {[e]: r}, requestOptions: a, main: {mediaGroups: o}, mediaTypes: {[e]: {groups: l, tracks: d, logger_: c}}, mainPlaylistLoader: u} = t, h = Pl(u.main);
            o[e] && 0 !== Object.keys(o[e]).length || (o[e] = {
                main: {
                    default: {
                        default: !0
                    }
                }
            },
            h && (o[e].main.default.playlists = u.main.playlists));
            for (const r in o[e]) {
                l[r] || (l[r] = []);
                for (const p in o[e][r]) {
                    let f, m = o[e][r][p];
                    f = h ? (c(`AUDIO group '${r}' label '${p}' is a main playlist`),
                    m.isMainPlaylist = !0,
                    null) : "vhs-json" === s && m.playlists ? new $l(m.playlists[0],n,a) : m.resolvedUri ? new $l(m.resolvedUri,n,a) : m.playlists && "dash" === s ? new nd(m.playlists[0],n,a,u) : null,
                    m = tl({
                        id: p,
                        playlistLoader: f
                    }, m),
                    wc[e](e, m.playlistLoader, t),
                    l[r].push(m),
                    void 0 === d[p] && (i = new Es.AudioTrack({
                        id: p,
                        kind: (e => {
                            let t = e.default ? "main" : "alternative";
                            return e.characteristics && 0 <= e.characteristics.indexOf("public.accessibility.describes-video") ? "main-desc" : t
                        }
                        )(m),
                        enabled: !1,
                        language: m.language,
                        default: m.default,
                        label: p
                    }),
                    d[p] = i)
                }
            }
            r.on("error", Tc[e](e, t))
        }
        ,
        SUBTITLES: (e, t) => {
            var i, {tech: n, vhs: s, sourceType: r, segmentLoaders: {[e]: a}, requestOptions: o, main: {mediaGroups: l}, mediaTypes: {[e]: {groups: d, tracks: c}}, mainPlaylistLoader: u} = t;
            for (const a in l[e]) {
                d[a] || (d[a] = []);
                for (const h in l[e][a])
                    if (!l[e][a][h].forced) {
                        let p, f = l[e][a][h];
                        if ("hls" === r)
                            p = new $l(f.resolvedUri,s,o);
                        else if ("dash" === r) {
                            if (!f.playlists.filter((e => e.excludeUntil !== 1 / 0)).length)
                                return;
                            p = new nd(f.playlists[0],s,o,u)
                        } else
                            "vhs-json" === r && (p = new $l(f.playlists ? f.playlists[0] : f.resolvedUri,s,o));
                        f = tl({
                            id: h,
                            playlistLoader: p
                        }, f),
                        wc[e](e, f.playlistLoader, t),
                        d[a].push(f),
                        void 0 === c[h] && (i = n.addRemoteTextTrack({
                            id: h,
                            kind: "subtitles",
                            default: f.default && f.autoselect,
                            language: f.language,
                            label: h
                        }, !1).track,
                        c[h] = i)
                    }
            }
            a.on("error", Tc[e](e, t))
        }
        ,
        "CLOSED-CAPTIONS": (e, t) => {
            var {tech: i, main: {mediaGroups: n}, mediaTypes: {[e]: {groups: s, tracks: r}}} = t;
            for (const t in n[e]) {
                s[t] || (s[t] = []);
                for (const l in n[e][t]) {
                    var a = n[e][t][l];
                    if (/^(?:CC|SERVICE)/.test(a.instreamId)) {
                        var o = i.options_.vhs && i.options_.vhs.captionServices || {};
                        let e = {
                            label: l,
                            language: a.language,
                            instreamId: a.instreamId,
                            default: a.default && a.autoselect
                        };
                        void 0 === (e = o[e.instreamId] ? tl(e, o[e.instreamId]) : e).default && delete e.default,
                        s[t].push(tl({
                            id: l
                        }, a)),
                        void 0 === r[l] && (o = i.addRemoteTextTrack({
                            id: e.instreamId,
                            kind: "captions",
                            default: e.default,
                            language: e.language,
                            label: e.label
                        }, !1).track,
                        r[l] = o)
                    }
                }
            }
        }
    }
      , kc = (e, t) => {
        for (let i = 0; i < e.length; i++) {
            if (El(t, e[i]))
                return !0;
            if (e[i].playlists && kc(e[i].playlists, t))
                return !0
        }
        return !1
    }
      , xc = {
        AUDIO: (e, t) => () => {
            var {[e]: {tracks: i}} = t.mediaTypes;
            for (const e in i)
                if (i[e].enabled)
                    return i[e];
            return null
        }
        ,
        SUBTITLES: (e, t) => () => {
            var {[e]: {tracks: i}} = t.mediaTypes;
            for (const e in i)
                if ("showing" === i[e].mode || "hidden" === i[e].mode)
                    return i[e];
            return null
        }
    };
    let Cc;
    const Ec = ["mediaRequests", "mediaRequestsAborted", "mediaRequestsTimedout", "mediaRequestsErrored", "mediaTransferDuration", "mediaBytesTransferred", "mediaAppends"];
    class Pc extends Es.EventTarget {
        constructor(e) {
            super();
            var {src: t, withCredentials: i, tech: n, bandwidth: s, externVhs: r, useCueTags: a, playlistExclusionDuration: o, enableLowInitialPlaylist: l, sourceType: d, cacheEncryptionKeys: c, bufferBasedABR: u, leastPixelDiffSelector: h, captionServices: p} = e;
            if (!t)
                throw new Error("A non-empty playlist URL or JSON manifest string is required");
            let f = e.maxPlaylistRetries;
            null != f || (f = 1 / 0),
            Cc = r,
            this.bufferBasedABR = Boolean(u),
            this.leastPixelDiffSelector = Boolean(h),
            this.withCredentials = i,
            this.tech_ = n,
            this.vhs_ = n.vhs,
            this.sourceType_ = d,
            this.useCueTags_ = a,
            this.playlistExclusionDuration = o,
            this.maxPlaylistRetries = f,
            this.enableLowInitialPlaylist = l,
            this.useCueTags_ && (this.cueTagsTrack_ = this.tech_.addTextTrack("metadata", "ad-cues"),
            this.cueTagsTrack_.inBandMetadataTrackDispatchType = ""),
            this.requestOptions_ = {
                withCredentials: i,
                maxPlaylistRetries: f,
                timeout: null
            },
            this.on("error", this.pauseLoading),
            this.mediaTypes_ = ( () => {
                const e = {};
                return ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach((t => {
                    e[t] = {
                        groups: {},
                        tracks: {},
                        activePlaylistLoader: null,
                        activeGroup: Vd,
                        activeTrack: Vd,
                        getActiveGroup: Vd,
                        onGroupChanged: Vd,
                        onTrackChanged: Vd,
                        lastTrack_: null,
                        logger_: el(`MediaGroups[${t}]`)
                    }
                }
                )),
                e
            }
            )(),
            this.mediaSource = new window.MediaSource,
            this.handleDurationChange_ = this.handleDurationChange_.bind(this),
            this.handleSourceOpen_ = this.handleSourceOpen_.bind(this),
            this.handleSourceEnded_ = this.handleSourceEnded_.bind(this),
            this.mediaSource.addEventListener("durationchange", this.handleDurationChange_),
            this.mediaSource.addEventListener("sourceopen", this.handleSourceOpen_),
            this.mediaSource.addEventListener("sourceended", this.handleSourceEnded_),
            this.seekable_ = il(),
            this.hasPlayed_ = !1,
            this.syncController_ = new gc(e),
            this.segmentMetadataTrack_ = n.addRemoteTextTrack({
                kind: "metadata",
                label: "segment-metadata"
            }, !1).track,
            this.decrypter_ = new yc,
            this.sourceUpdater_ = new uc(this.mediaSource),
            this.inbandTextTracks_ = {},
            this.timelineChangeController_ = new vc,
            r = {
                vhs: this.vhs_,
                parse708captions: e.parse708captions,
                useDtsForTimestampOffset: e.useDtsForTimestampOffset,
                captionServices: p,
                mediaSource: this.mediaSource,
                currentTime: this.tech_.currentTime.bind(this.tech_),
                seekable: () => this.seekable(),
                seeking: () => this.tech_.seeking(),
                duration: () => this.duration(),
                hasPlayed: () => this.hasPlayed_,
                goalBufferLength: () => this.goalBufferLength(),
                bandwidth: s,
                syncController: this.syncController_,
                decrypter: this.decrypter_,
                sourceType: this.sourceType_,
                inbandTextTracks: this.inbandTextTracks_,
                cacheEncryptionKeys: c,
                sourceUpdater: this.sourceUpdater_,
                timelineChangeController: this.timelineChangeController_,
                exactManifestTimings: e.exactManifestTimings
            },
            this.mainPlaylistLoader_ = new ("dash" === this.sourceType_ ? nd : $l)(t,this.vhs_,this.requestOptions_),
            this.setupMainPlaylistLoaderListeners_(),
            this.mainSegmentLoader_ = new Wd(tl(r, {
                segmentMetadataTrack: this.segmentMetadataTrack_,
                loaderType: "main"
            }),e),
            this.audioSegmentLoader_ = new Wd(tl(r, {
                loaderType: "audio"
            }),e),
            this.subtitleSegmentLoader_ = new fc(tl(r, {
                loaderType: "vtt",
                featuresNativeTextTracks: this.tech_.featuresNativeTextTracks
            }),e),
            this.setupSegmentLoaderListeners_(),
            this.bufferBasedABR && (this.mainPlaylistLoader_.one("loadedplaylist", ( () => this.startABRTimer_())),
            this.tech_.on("pause", ( () => this.stopABRTimer_())),
            this.tech_.on("play", ( () => this.startABRTimer_()))),
            Ec.forEach((e => {
                this[e + "_"] = function(e) {
                    return this.audioSegmentLoader_[e] + this.mainSegmentLoader_[e]
                }
                .bind(this, e)
            }
            )),
            this.logger_ = el("pc"),
            this.triggeredFmp4Usage = !1,
            "none" === this.tech_.preload() ? (this.loadOnPlay_ = () => {
                this.loadOnPlay_ = null,
                this.mainPlaylistLoader_.load()
            }
            ,
            this.tech_.one("play", this.loadOnPlay_)) : this.mainPlaylistLoader_.load(),
            this.timeToLoadedData__ = -1,
            this.mainAppendsToLoadedData__ = -1,
            this.audioAppendsToLoadedData__ = -1,
            u = "none" === this.tech_.preload() ? "play" : "loadstart",
            this.tech_.one(u, ( () => {
                const e = Date.now();
                this.tech_.one("loadeddata", ( () => {
                    this.timeToLoadedData__ = Date.now() - e,
                    this.mainAppendsToLoadedData__ = this.mainSegmentLoader_.mediaAppends,
                    this.audioAppendsToLoadedData__ = this.audioSegmentLoader_.mediaAppends
                }
                ))
            }
            ))
        }
        mainAppendsToLoadedData_() {
            return this.mainAppendsToLoadedData__
        }
        audioAppendsToLoadedData_() {
            return this.audioAppendsToLoadedData__
        }
        appendsToLoadedData_() {
            var e = this.mainAppendsToLoadedData_()
              , t = this.audioAppendsToLoadedData_();
            return -1 === e || -1 === t ? -1 : e + t
        }
        timeToLoadedData_() {
            return this.timeToLoadedData__
        }
        checkABR_(e="abr") {
            var t = this.selectPlaylist();
            t && this.shouldSwitchToMedia_(t) && this.switchMedia_(t, e)
        }
        switchMedia_(e, t, i) {
            var n = (n = this.media()) && (n.id || n.uri)
              , s = e.id || e.uri;
            n && n !== s && (this.logger_(`switch media ${n} -> ${s} from ` + t),
            this.tech_.trigger({
                type: "usage",
                name: "vhs-rendition-change-" + t
            })),
            this.mainPlaylistLoader_.media(e, i)
        }
        startABRTimer_() {
            this.stopABRTimer_(),
            this.abrTimer_ = window.setInterval(( () => this.checkABR_()), 250)
        }
        stopABRTimer_() {
            this.tech_.scrubbing && this.tech_.scrubbing() || (window.clearInterval(this.abrTimer_),
            this.abrTimer_ = null)
        }
        getAudioTrackPlaylists_() {
            var e = this.main()
              , t = e && e.playlists || [];
            if (!e || !e.mediaGroups || !e.mediaGroups.AUDIO)
                return t;
            var i = e.mediaGroups.AUDIO
              , n = Object.keys(i);
            let s;
            if (Object.keys(this.mediaTypes_.AUDIO.groups).length)
                s = this.mediaTypes_.AUDIO.activeTrack();
            else {
                var r = i.main || n.length && i[n[0]];
                for (const e in r)
                    if (r[e].default) {
                        s = {
                            label: e
                        };
                        break
                    }
            }
            if (!s)
                return t;
            var a = [];
            for (const t in i)
                if (i[t][s.label]) {
                    var o = i[t][s.label];
                    if (o.playlists && o.playlists.length)
                        a.push.apply(a, o.playlists);
                    else if (o.uri)
                        a.push(o);
                    else if (e.playlists.length)
                        for (let i = 0; i < e.playlists.length; i++) {
                            var l = e.playlists[i];
                            l.attributes && l.attributes.AUDIO && l.attributes.AUDIO === t && a.push(l)
                        }
                }
            return a.length ? a : t
        }
        setupMainPlaylistLoaderListeners_() {
            this.mainPlaylistLoader_.on("loadedmetadata", ( () => {
                var e = this.mainPlaylistLoader_.media()
                  , t = 1.5 * e.targetDuration * 1e3;
                Cl(this.mainPlaylistLoader_.main, this.mainPlaylistLoader_.media()) ? this.requestOptions_.timeout = 0 : this.requestOptions_.timeout = t,
                e.endList && "none" !== this.tech_.preload() && (this.mainSegmentLoader_.playlist(e, this.requestOptions_),
                this.mainSegmentLoader_.load()),
                (e => {
                    ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach((t => {
                        Sc[t](t, e)
                    }
                    ));
                    const {mediaTypes: t, mainPlaylistLoader: i, tech: n, vhs: s, segmentLoaders: {AUDIO: r, main: a}} = e;
                    ["AUDIO", "SUBTITLES"].forEach((i => {
                        var n, s, r, a, o, l, d, c, u, h;
                        t[i].activeGroup = (n = i,
                        s = e,
                        e => {
                            var {mainPlaylistLoader: t, mediaTypes: {[n]: {groups: i}}} = s
                              , r = t.media();
                            if (!r)
                                return null;
                            let a = null;
                            r.attributes[n] && (a = i[r.attributes[n]]);
                            var o = Object.keys(i);
                            if (!a)
                                if ("AUDIO" === n && 1 < o.length && Pl(s.main))
                                    for (let e = 0; e < o.length; e++) {
                                        var l = i[o[e]];
                                        if (kc(l, r)) {
                                            a = l;
                                            break
                                        }
                                    }
                                else
                                    i.main ? a = i.main : 1 === o.length && (a = i[o[0]]);
                            return void 0 === e ? a : null !== e && a && a.filter((t => t.id === e.id))[0] || null
                        }
                        ),
                        t[i].activeTrack = xc[i](i, e),
                        t[i].onGroupChanged = (r = i,
                        a = e,
                        () => {
                            var {segmentLoaders: {[r]: e, main: t}, mediaTypes: {[r]: i}} = a
                              , n = i.activeTrack()
                              , s = i.getActiveGroup()
                              , o = i.activePlaylistLoader
                              , l = i.lastGroup_;
                            s && l && s.id === l.id || (i.lastGroup_ = s,
                            i.lastTrack_ = n,
                            bc(e, i),
                            s && !s.isMainPlaylist && (s.playlistLoader ? (e.resyncLoader(),
                            _c(s.playlistLoader, i)) : o && t.resetEverything()))
                        }
                        ),
                        t[i].onGroupChanging = (o = i,
                        l = e,
                        () => {
                            var {segmentLoaders: {[o]: e}, mediaTypes: {[o]: t}} = l;
                            t.lastGroup_ = null,
                            e.abort(),
                            e.pause()
                        }
                        ),
                        t[i].onTrackChanged = (d = i,
                        c = e,
                        () => {
                            var e, t, {mainPlaylistLoader: i, segmentLoaders: {[d]: n, main: s}, mediaTypes: {[d]: r}} = c, a = r.activeTrack(), o = r.getActiveGroup(), l = r.activePlaylistLoader, u = r.lastTrack_;
                            if ((!u || !a || u.id !== a.id) && (r.lastGroup_ = o,
                            r.lastTrack_ = a,
                            bc(n, r),
                            o)) {
                                if (o.isMainPlaylist)
                                    return a && u && a.id !== u.id && (t = (e = c.vhs.playlistController_).selectPlaylist(),
                                    e.media() !== t) ? (r.logger_(`track change. Switching main audio from ${u.id} to ` + a.id),
                                    i.pause(),
                                    s.resetEverything(),
                                    void e.fastQualityChange_(t)) : void 0;
                                if ("AUDIO" === d) {
                                    if (!o.playlistLoader)
                                        return s.setAudio(!0),
                                        void s.resetEverything();
                                    n.setAudio(!0),
                                    s.setAudio(!1)
                                }
                                l === o.playlistLoader || (n.track && n.track(a),
                                n.resetEverything()),
                                _c(o.playlistLoader, r)
                            }
                        }
                        ),
                        t[i].getActiveGroup = ([u,h] = [i, e.mediaTypes],
                        () => {
                            var e = h[u].activeTrack();
                            return e ? h[u].activeGroup(e) : null
                        }
                        )
                    }
                    ));
                    var o = t.AUDIO.activeGroup();
                    o && (o = (o.filter((e => e.default))[0] || o[0]).id,
                    t.AUDIO.tracks[o].enabled = !0,
                    t.AUDIO.onGroupChanged(),
                    t.AUDIO.onTrackChanged(),
                    (t.AUDIO.getActiveGroup().playlistLoader ? (a.setAudio(!1),
                    r) : a).setAudio(!0)),
                    i.on("mediachange", ( () => {
                        ["AUDIO", "SUBTITLES"].forEach((e => t[e].onGroupChanged()))
                    }
                    )),
                    i.on("mediachanging", ( () => {
                        ["AUDIO", "SUBTITLES"].forEach((e => t[e].onGroupChanging()))
                    }
                    ));
                    const l = () => {
                        t.AUDIO.onTrackChanged(),
                        n.trigger({
                            type: "usage",
                            name: "vhs-audio-change"
                        })
                    }
                    ;
                    n.audioTracks().addEventListener("change", l),
                    n.remoteTextTracks().addEventListener("change", t.SUBTITLES.onTrackChanged),
                    s.on("dispose", ( () => {
                        n.audioTracks().removeEventListener("change", l),
                        n.remoteTextTracks().removeEventListener("change", t.SUBTITLES.onTrackChanged)
                    }
                    )),
                    n.clearTracks("audio");
                    for (const e in t.AUDIO.tracks)
                        n.audioTracks().addTrack(t.AUDIO.tracks[e])
                }
                )({
                    sourceType: this.sourceType_,
                    segmentLoaders: {
                        AUDIO: this.audioSegmentLoader_,
                        SUBTITLES: this.subtitleSegmentLoader_,
                        main: this.mainSegmentLoader_
                    },
                    tech: this.tech_,
                    requestOptions: this.requestOptions_,
                    mainPlaylistLoader: this.mainPlaylistLoader_,
                    vhs: this.vhs_,
                    main: this.main(),
                    mediaTypes: this.mediaTypes_,
                    excludePlaylist: this.excludePlaylist.bind(this)
                }),
                this.triggerPresenceUsage_(this.main(), e),
                this.setupFirstPlay(),
                !this.mediaTypes_.AUDIO.activePlaylistLoader || this.mediaTypes_.AUDIO.activePlaylistLoader.media() ? this.trigger("selectedinitialmedia") : this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata", ( () => {
                    this.trigger("selectedinitialmedia")
                }
                ))
            }
            )),
            this.mainPlaylistLoader_.on("loadedplaylist", ( () => {
                this.loadOnPlay_ && this.tech_.off("play", this.loadOnPlay_);
                let e = this.mainPlaylistLoader_.media();
                if (!e) {
                    let t;
                    if (this.excludeUnsupportedVariants_(),
                    !(t = (t = this.enableLowInitialPlaylist ? this.selectInitialPlaylist() : t) || this.selectPlaylist()) || !this.shouldSwitchToMedia_(t))
                        return;
                    if (this.initialMedia_ = t,
                    this.switchMedia_(this.initialMedia_, "initial"),
                    "vhs-json" !== this.sourceType_ || !this.initialMedia_.segments)
                        return;
                    e = this.initialMedia_
                }
                this.handleUpdatedMediaPlaylist(e)
            }
            )),
            this.mainPlaylistLoader_.on("error", ( () => {
                var e = this.mainPlaylistLoader_.error;
                this.excludePlaylist({
                    playlistToExclude: e.playlist,
                    error: e
                })
            }
            )),
            this.mainPlaylistLoader_.on("mediachanging", ( () => {
                this.mainSegmentLoader_.abort(),
                this.mainSegmentLoader_.pause()
            }
            )),
            this.mainPlaylistLoader_.on("mediachange", ( () => {
                var e = this.mainPlaylistLoader_.media()
                  , t = 1.5 * e.targetDuration * 1e3;
                Cl(this.mainPlaylistLoader_.main, this.mainPlaylistLoader_.media()) ? this.requestOptions_.timeout = 0 : this.requestOptions_.timeout = t,
                this.mainPlaylistLoader_.load(),
                this.mainSegmentLoader_.playlist(e, this.requestOptions_),
                this.mainSegmentLoader_.load(),
                this.tech_.trigger({
                    type: "mediachange",
                    bubbles: !0
                })
            }
            )),
            this.mainPlaylistLoader_.on("playlistunchanged", ( () => {
                var e = this.mainPlaylistLoader_.media();
                "playlist-unchanged" !== e.lastExcludeReason_ && this.stuckAtPlaylistEnd_(e) && (this.excludePlaylist({
                    error: {
                        message: "Playlist no longer updating.",
                        reason: "playlist-unchanged"
                    }
                }),
                this.tech_.trigger("playliststuck"))
            }
            )),
            this.mainPlaylistLoader_.on("renditiondisabled", ( () => {
                this.tech_.trigger({
                    type: "usage",
                    name: "vhs-rendition-disabled"
                })
            }
            )),
            this.mainPlaylistLoader_.on("renditionenabled", ( () => {
                this.tech_.trigger({
                    type: "usage",
                    name: "vhs-rendition-enabled"
                })
            }
            ))
        }
        handleUpdatedMediaPlaylist(e) {
            this.useCueTags_ && this.updateAdCues_(e),
            this.mainSegmentLoader_.playlist(e, this.requestOptions_),
            this.updateDuration(!e.endList),
            this.tech_.paused() || (this.mainSegmentLoader_.load(),
            this.audioSegmentLoader_ && this.audioSegmentLoader_.load())
        }
        triggerPresenceUsage_(e, t) {
            var i = e.mediaGroups || {};
            let n = !0;
            e = Object.keys(i.AUDIO);
            for (const e in i.AUDIO)
                for (const t in i.AUDIO[e])
                    i.AUDIO[e][t].uri || (n = !1);
            n && this.tech_.trigger({
                type: "usage",
                name: "vhs-demuxed"
            }),
            Object.keys(i.SUBTITLES).length && this.tech_.trigger({
                type: "usage",
                name: "vhs-webvtt"
            }),
            Cc.Playlist.isAes(t) && this.tech_.trigger({
                type: "usage",
                name: "vhs-aes"
            }),
            e.length && 1 < Object.keys(i.AUDIO[e[0]]).length && this.tech_.trigger({
                type: "usage",
                name: "vhs-alternate-audio"
            }),
            this.useCueTags_ && this.tech_.trigger({
                type: "usage",
                name: "vhs-playlist-cue-tags"
            })
        }
        shouldSwitchToMedia_(e) {
            var t = this.mainPlaylistLoader_.media() || this.mainPlaylistLoader_.pendingMedia_
              , i = this.tech_.currentTime()
              , n = this.bufferLowWaterLine()
              , s = this.bufferHighWaterLine()
              , {currentPlaylist: i, buffered: t, currentTime: e, nextPlaylist: n, bufferLowWaterLine: s, bufferHighWaterLine: r, duration: a, bufferBasedABR: o, log: l} = {
                buffered: this.tech_.buffered(),
                currentTime: i,
                currentPlaylist: t,
                nextPlaylist: e,
                bufferLowWaterLine: n,
                bufferHighWaterLine: s,
                duration: this.duration(),
                bufferBasedABR: this.bufferBasedABR,
                log: this.logger_
            };
            if (n) {
                var d = `allowing switch ${i && i.id || "null"} -> ` + n.id;
                if (!i)
                    return l(d + " as current playlist is not set"),
                    !0;
                if (n.id !== i.id) {
                    var c = Boolean(nl(t, e).length);
                    if (!i.endList)
                        return c || "number" != typeof i.partTargetDuration ? (l(d + " as current playlist is live"),
                        !0) : (l(`not ${d} as current playlist is live llhls, but currentTime isn't in buffered.`),
                        !1);
                    if (c = al(t, e),
                    a < (t = o ? sd.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE : sd.MAX_BUFFER_LOW_WATER_LINE))
                        return l(d + ` as duration < max low water line (${a} < ${t})`),
                        !0;
                    if ((e = n.attributes.BANDWIDTH) < (a = i.attributes.BANDWIDTH) && (!o || c < r)) {
                        let t = d + ` as next bandwidth < current bandwidth (${e} < ${a})`;
                        return o && (t += ` and forwardBuffer < bufferHighWaterLine (${c} < ${r})`),
                        l(t),
                        !0
                    }
                    if ((!o || a < e) && s <= c) {
                        let t = d + ` as forwardBuffer >= bufferLowWaterLine (${c} >= ${s})`;
                        return o && (t += ` and next bandwidth > current bandwidth (${e} > ${a})`),
                        l(t),
                        !0
                    }
                    l(`not ${d} as no switching criteria met`)
                }
            } else
                Es.log.warn("We received no playlist to switch to. Please check your stream.");
            return !1
        }
        setupSegmentLoaderListeners_() {
            this.mainSegmentLoader_.on("bandwidthupdate", ( () => {
                this.checkABR_("bandwidthupdate"),
                this.tech_.trigger("bandwidthupdate")
            }
            )),
            this.mainSegmentLoader_.on("timeout", ( () => {
                this.bufferBasedABR && this.mainSegmentLoader_.load()
            }
            )),
            this.bufferBasedABR || this.mainSegmentLoader_.on("progress", ( () => {
                this.trigger("progress")
            }
            )),
            this.mainSegmentLoader_.on("error", ( () => {
                var e = this.mainSegmentLoader_.error();
                this.excludePlaylist({
                    playlistToExclude: e.playlist,
                    error: e
                })
            }
            )),
            this.mainSegmentLoader_.on("appenderror", ( () => {
                this.error = this.mainSegmentLoader_.error_,
                this.trigger("error")
            }
            )),
            this.mainSegmentLoader_.on("syncinfoupdate", ( () => {
                this.onSyncInfoUpdate_()
            }
            )),
            this.mainSegmentLoader_.on("timestampoffset", ( () => {
                this.tech_.trigger({
                    type: "usage",
                    name: "vhs-timestamp-offset"
                })
            }
            )),
            this.audioSegmentLoader_.on("syncinfoupdate", ( () => {
                this.onSyncInfoUpdate_()
            }
            )),
            this.audioSegmentLoader_.on("appenderror", ( () => {
                this.error = this.audioSegmentLoader_.error_,
                this.trigger("error")
            }
            )),
            this.mainSegmentLoader_.on("ended", ( () => {
                this.logger_("main segment loader ended"),
                this.onEndOfStream()
            }
            )),
            this.mainSegmentLoader_.on("earlyabort", (e => {
                this.bufferBasedABR || (this.delegateLoaders_("all", ["abort"]),
                this.excludePlaylist({
                    error: {
                        message: "Aborted early because there isn't enough bandwidth to complete the request without rebuffering."
                    },
                    playlistExclusionDuration: 120
                }))
            }
            ));
            var e = () => {
                if (!this.sourceUpdater_.hasCreatedSourceBuffers())
                    return this.tryToCreateSourceBuffers_();
                var e = this.getCodecsOrExclude_();
                e && this.sourceUpdater_.addOrChangeSourceBuffers(e)
            }
            ;
            this.mainSegmentLoader_.on("trackinfo", e),
            this.audioSegmentLoader_.on("trackinfo", e),
            this.mainSegmentLoader_.on("fmp4", ( () => {
                this.triggeredFmp4Usage || (this.tech_.trigger({
                    type: "usage",
                    name: "vhs-fmp4"
                }),
                this.triggeredFmp4Usage = !0)
            }
            )),
            this.audioSegmentLoader_.on("fmp4", ( () => {
                this.triggeredFmp4Usage || (this.tech_.trigger({
                    type: "usage",
                    name: "vhs-fmp4"
                }),
                this.triggeredFmp4Usage = !0)
            }
            )),
            this.audioSegmentLoader_.on("ended", ( () => {
                this.logger_("audioSegmentLoader ended"),
                this.onEndOfStream()
            }
            ))
        }
        mediaSecondsLoaded_() {
            return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded + this.mainSegmentLoader_.mediaSecondsLoaded)
        }
        load() {
            this.mainSegmentLoader_.load(),
            this.mediaTypes_.AUDIO.activePlaylistLoader && this.audioSegmentLoader_.load(),
            this.mediaTypes_.SUBTITLES.activePlaylistLoader && this.subtitleSegmentLoader_.load()
        }
        fastQualityChange_(e=this.selectPlaylist()) {
            e === this.mainPlaylistLoader_.media() ? this.logger_("skipping fastQualityChange because new media is same as old") : (this.switchMedia_(e, "fast-quality"),
            this.mainSegmentLoader_.resetEverything(( () => {
                Es.browser.IE_VERSION || Es.browser.IS_EDGE ? this.tech_.setCurrentTime(this.tech_.currentTime() + .04) : this.tech_.setCurrentTime(this.tech_.currentTime())
            }
            )))
        }
        play() {
            var e;
            if (!this.setupFirstPlay())
                return this.tech_.ended() && this.tech_.setCurrentTime(0),
                this.hasPlayed_ && this.load(),
                e = this.tech_.seekable(),
                this.tech_.duration() === 1 / 0 && this.tech_.currentTime() < e.start(0) ? this.tech_.setCurrentTime(e.end(e.length - 1)) : void 0
        }
        setupFirstPlay() {
            var e = this.mainPlaylistLoader_.media();
            if (!e || this.tech_.paused() || this.hasPlayed_)
                return !1;
            if (!e.endList) {
                const e = this.seekable();
                if (!e.length)
                    return !1;
                if (Es.browser.IE_VERSION && 0 === this.tech_.readyState())
                    return this.tech_.one("loadedmetadata", ( () => {
                        this.trigger("firstplay"),
                        this.tech_.setCurrentTime(e.end(0)),
                        this.hasPlayed_ = !0
                    }
                    )),
                    !1;
                this.trigger("firstplay"),
                this.tech_.setCurrentTime(e.end(0))
            }
            return this.hasPlayed_ = !0,
            this.load(),
            !0
        }
        handleSourceOpen_() {
            var e;
            this.tryToCreateSourceBuffers_(),
            this.tech_.autoplay() && void 0 !== (e = this.tech_.play()) && "function" == typeof e.then && e.then(null, (e => {}
            )),
            this.trigger("sourceopen")
        }
        handleSourceEnded_() {
            var e, t;
            this.inbandTextTracks_.metadataTrack_ && (e = this.inbandTextTracks_.metadataTrack_.cues) && e.length && (t = this.duration(),
            e[e.length - 1].endTime = isNaN(t) || Math.abs(t) === 1 / 0 ? Number.MAX_VALUE : t)
        }
        handleDurationChange_() {
            this.tech_.trigger("durationchange")
        }
        onEndOfStream() {
            let e = this.mainSegmentLoader_.ended_;
            var t;
            this.mediaTypes_.AUDIO.activePlaylistLoader && (e = ((t = this.mainSegmentLoader_.getCurrentMediaInfo_()) && !t.hasVideo || e) && this.audioSegmentLoader_.ended_),
            e && (this.stopABRTimer_(),
            this.sourceUpdater_.endOfStream())
        }
        stuckAtPlaylistEnd_(e) {
            var t, i;
            return !!this.seekable().length && null !== (t = this.syncController_.getExpiredTime(e, this.duration())) && (e = Cc.Playlist.playlistEnd(e, t),
            t = this.tech_.currentTime(),
            (i = this.tech_.buffered()).length ? (i = i.end(i.length - 1)) - t <= cl && e - i <= cl : e - t <= cl)
        }
        excludePlaylist({playlistToExclude: e=this.mainPlaylistLoader_.media(), error: t={}, playlistExclusionDuration: i}) {
            if (e = e || this.mainPlaylistLoader_.media(),
            i = i || t.playlistExclusionDuration || this.playlistExclusionDuration,
            e) {
                e.playlistErrors_++;
                var n = 1 === (n = (r = this.mainPlaylistLoader_.main.playlists).filter(Sl)).length && n[0] === e;
                if (1 === r.length && i !== 1 / 0)
                    return Es.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),
                    this.tech_.trigger("retryplaylist"),
                    this.mainPlaylistLoader_.load(n);
                if (n) {
                    let t = !1;
                    r.forEach((i => {
                        var n;
                        i !== e && void 0 !== (n = i.excludeUntil) && n !== 1 / 0 && (t = !0,
                        delete i.excludeUntil)
                    }
                    )),
                    t && (Es.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),
                    this.tech_.trigger("retryplaylist"))
                }
                let a;
                var s, r;
                if (a = e.playlistErrors_ > this.maxPlaylistRetries ? 1 / 0 : Date.now() + 1e3 * i,
                e.excludeUntil = a,
                t.reason && (e.lastExcludeReason_ = t.reason),
                this.tech_.trigger("excludeplaylist"),
                this.tech_.trigger({
                    type: "usage",
                    name: "vhs-rendition-excluded"
                }),
                r = this.selectPlaylist())
                    return i = t.internal ? this.logger_ : Es.log.warn,
                    s = t.message ? " " + t.message : "",
                    i(`${t.internal ? "Internal problem" : "Problem"} encountered with playlist ${e.id}.` + s + ` Switching to playlist ${r.id}.`),
                    r.attributes.AUDIO !== e.attributes.AUDIO && this.delegateLoaders_("audio", ["abort", "pause"]),
                    r.attributes.SUBTITLES !== e.attributes.SUBTITLES && this.delegateLoaders_("subtitle", ["abort", "pause"]),
                    this.delegateLoaders_("main", ["abort", "pause"]),
                    i = r.targetDuration / 2 * 1e3 || 5e3,
                    s = "number" == typeof r.lastRequest && Date.now() - r.lastRequest <= i,
                    this.switchMedia_(r, "exclude", n || s);
                this.error = "Playback cannot continue. No available working or supported playlists.",
                this.trigger("error")
            } else
                this.error = t,
                "open" !== this.mediaSource.readyState ? this.trigger("error") : this.sourceUpdater_.endOfStream("network")
        }
        pauseLoading() {
            this.delegateLoaders_("all", ["abort", "pause"]),
            this.stopABRTimer_()
        }
        delegateLoaders_(e, t) {
            const i = [];
            var n = "all" === e
              , s = (!n && "main" !== e || i.push(this.mainPlaylistLoader_),
            []);
            !n && "audio" !== e || s.push("AUDIO"),
            !n && "subtitle" !== e || (s.push("CLOSED-CAPTIONS"),
            s.push("SUBTITLES")),
            s.forEach((e => {
                (e = this.mediaTypes_[e] && this.mediaTypes_[e].activePlaylistLoader) && i.push(e)
            }
            )),
            ["main", "audio", "subtitle"].forEach((t => {
                var n = this[t + "SegmentLoader_"];
                !n || e !== t && "all" !== e || i.push(n)
            }
            )),
            i.forEach((e => t.forEach((t => {
                "function" == typeof e[t] && e[t]()
            }
            ))))
        }
        setCurrentTime(e) {
            var t = nl(this.tech_.buffered(), e);
            return this.mainPlaylistLoader_ && this.mainPlaylistLoader_.media() && this.mainPlaylistLoader_.media().segments ? t && t.length ? e : (this.mainSegmentLoader_.resetEverything(),
            this.mainSegmentLoader_.abort(),
            this.mediaTypes_.AUDIO.activePlaylistLoader && (this.audioSegmentLoader_.resetEverything(),
            this.audioSegmentLoader_.abort()),
            this.mediaTypes_.SUBTITLES.activePlaylistLoader && (this.subtitleSegmentLoader_.resetEverything(),
            this.subtitleSegmentLoader_.abort()),
            void this.load()) : 0
        }
        duration() {
            var e;
            return this.mainPlaylistLoader_ && (e = this.mainPlaylistLoader_.media()) ? e.endList ? this.mediaSource ? this.mediaSource.duration : Cc.Playlist.duration(e) : 1 / 0 : 0
        }
        seekable() {
            return this.seekable_
        }
        onSyncInfoUpdate_() {
            let e;
            if (this.mainPlaylistLoader_) {
                var t = this.mainPlaylistLoader_.media();
                if (t) {
                    var i = this.syncController_.getExpiredTime(t, this.duration());
                    if (null !== i) {
                        var n = this.mainPlaylistLoader_.main
                          , s = Cc.Playlist.seekable(t, i, Cc.Playlist.liveEdgeDelay(n, t));
                        if (0 !== s.length) {
                            if (this.mediaTypes_.AUDIO.activePlaylistLoader) {
                                if (t = this.mediaTypes_.AUDIO.activePlaylistLoader.media(),
                                null === (i = this.syncController_.getExpiredTime(t, this.duration())))
                                    return;
                                if (0 === (e = Cc.Playlist.seekable(t, i, Cc.Playlist.liveEdgeDelay(n, t))).length)
                                    return
                            }
                            let r, a;
                            this.seekable_ && this.seekable_.length && (r = this.seekable_.end(0),
                            a = this.seekable_.start(0)),
                            !e || e.start(0) > s.end(0) || s.start(0) > e.end(0) ? this.seekable_ = s : this.seekable_ = il([[(e.start(0) > s.start(0) ? e : s).start(0), (e.end(0) < s.end(0) ? e : s).end(0)]]),
                            this.seekable_ && this.seekable_.length && this.seekable_.end(0) === r && this.seekable_.start(0) === a || (this.logger_(`seekable updated [${hl(this.seekable_)}]`),
                            this.tech_.trigger("seekablechanged"))
                        }
                    }
                }
            }
        }
        updateDuration(e) {
            if (this.updateDuration_ && (this.mediaSource.removeEventListener("sourceopen", this.updateDuration_),
            this.updateDuration_ = null),
            "open" !== this.mediaSource.readyState)
                this.updateDuration_ = this.updateDuration.bind(this, e),
                this.mediaSource.addEventListener("sourceopen", this.updateDuration_);
            else {
                if (e)
                    return (e = this.seekable()).length ? void ((isNaN(this.mediaSource.duration) || this.mediaSource.duration < e.end(e.length - 1)) && this.sourceUpdater_.setDuration(e.end(e.length - 1))) : void 0;
                e = this.tech_.buffered();
                let t = Cc.Playlist.duration(this.mainPlaylistLoader_.media());
                0 < e.length && (t = Math.max(t, e.end(e.length - 1))),
                this.mediaSource.duration !== t && this.sourceUpdater_.setDuration(t)
            }
        }
        dispose() {
            this.trigger("dispose"),
            this.decrypter_.terminate(),
            this.mainPlaylistLoader_.dispose(),
            this.mainSegmentLoader_.dispose(),
            this.loadOnPlay_ && this.tech_.off("play", this.loadOnPlay_),
            ["AUDIO", "SUBTITLES"].forEach((e => {
                var t = this.mediaTypes_[e].groups;
                for (const e in t)
                    t[e].forEach((e => {
                        e.playlistLoader && e.playlistLoader.dispose()
                    }
                    ))
            }
            )),
            this.audioSegmentLoader_.dispose(),
            this.subtitleSegmentLoader_.dispose(),
            this.sourceUpdater_.dispose(),
            this.timelineChangeController_.dispose(),
            this.stopABRTimer_(),
            this.updateDuration_ && this.mediaSource.removeEventListener("sourceopen", this.updateDuration_),
            this.mediaSource.removeEventListener("durationchange", this.handleDurationChange_),
            this.mediaSource.removeEventListener("sourceopen", this.handleSourceOpen_),
            this.mediaSource.removeEventListener("sourceended", this.handleSourceEnded_),
            this.off()
        }
        main() {
            return this.mainPlaylistLoader_.main
        }
        media() {
            return this.mainPlaylistLoader_.media() || this.initialMedia_
        }
        areMediaTypesKnown_() {
            var e = !!this.mediaTypes_.AUDIO.activePlaylistLoader
              , t = !!this.mainSegmentLoader_.getCurrentMediaInfo_();
            e = !e || !!this.audioSegmentLoader_.getCurrentMediaInfo_();
            return t && e
        }
        getCodecsOrExclude_() {
            const e = {
                main: this.mainSegmentLoader_.getCurrentMediaInfo_() || {},
                audio: this.audioSegmentLoader_.getCurrentMediaInfo_() || {}
            };
            e.video = e.main;
            var t = yd(this.main(), this.media());
            const i = {};
            var n = !!this.mediaTypes_.AUDIO.activePlaylistLoader;
            if (e.main.hasVideo && (i.video = t.video || e.main.videoCodec || "avc1.4d400d"),
            e.main.isMuxed && (i.video += "," + (t.audio || e.main.audioCodec || Zs)),
            (e.main.hasAudio && !e.main.isMuxed || e.audio.hasAudio || n) && (i.audio = t.audio || e.main.audioCodec || e.audio.audioCodec || Zs,
            e.audio.isFmp4 = (e.main.hasAudio && !e.main.isMuxed ? e.main : e.audio).isFmp4),
            i.audio || i.video) {
                const s = {};
                let r;
                if (["video", "audio"].forEach((function(t) {
                    var n;
                    i.hasOwnProperty(t) && !((n = e[t].isFmp4) ? $s : Hs)(i[t]) && (n = e[t].isFmp4 ? "browser" : "muxer",
                    s[n] = s[n] || [],
                    s[n].push(i[t]),
                    "audio" === t && (r = n))
                }
                )),
                n && r && this.media().attributes.AUDIO) {
                    const e = this.media().attributes.AUDIO;
                    this.main().playlists.forEach((t => {
                        (t.attributes && t.attributes.AUDIO) === e && t !== this.media() && (t.excludeUntil = 1 / 0)
                    }
                    )),
                    this.logger_(`excluding audio group ${e} as ${r} does not support codec(s): "${i.audio}"`)
                }
                if (!Object.keys(s).length) {
                    if (this.sourceUpdater_.hasCreatedSourceBuffers() && !this.sourceUpdater_.canChangeType()) {
                        const e = [];
                        if (["video", "audio"].forEach((t => {
                            var n = (Ks(this.sourceUpdater_.codecs[t] || "")[0] || {}).type
                              , s = (Ks(i[t] || "")[0] || {}).type;
                            n && s && n.toLowerCase() !== s.toLowerCase() && e.push(`"${this.sourceUpdater_.codecs[t]}" -> "${i[t]}"`)
                        }
                        )),
                        e.length)
                            return void this.excludePlaylist({
                                playlistToExclude: this.media(),
                                error: {
                                    message: `Codec switching not supported: ${e.join(", ")}.`,
                                    internal: !0
                                },
                                playlistExclusionDuration: 1 / 0
                            })
                    }
                    return i
                }
                t = Object.keys(s).reduce(( (e, t) => (e && (e += ", "),
                e + `${t} does not support codec(s): "${s[t].join(",")}"`)), "") + ".",
                this.excludePlaylist({
                    playlistToExclude: this.media(),
                    error: {
                        internal: !0,
                        message: t
                    },
                    playlistExclusionDuration: 1 / 0
                })
            } else
                this.excludePlaylist({
                    playlistToExclude: this.media(),
                    error: {
                        message: "Could not determine codecs for playlist."
                    },
                    playlistExclusionDuration: 1 / 0
                })
        }
        tryToCreateSourceBuffers_() {
            var e;
            "open" !== this.mediaSource.readyState || this.sourceUpdater_.hasCreatedSourceBuffers() || this.areMediaTypesKnown_() && (e = this.getCodecsOrExclude_()) && (this.sourceUpdater_.createSourceBuffers(e),
            e = [e.video, e.audio].filter(Boolean).join(","),
            this.excludeIncompatibleVariants_(e))
        }
        excludeUnsupportedVariants_() {
            const e = this.main().playlists
              , t = [];
            Object.keys(e).forEach((i => {
                var n, s;
                i = e[i];
                -1 === t.indexOf(i.id) && (t.push(i.id),
                s = [],
                !(n = yd(this.main, i)).audio || Hs(n.audio) || $s(n.audio) || s.push("audio codec " + n.audio),
                !n.video || Hs(n.video) || $s(n.video) || s.push("video codec " + n.video),
                n.text && "stpp.ttml.im1t" === n.text && s.push("text codec " + n.text),
                s.length) && (i.excludeUntil = 1 / 0,
                this.logger_(`excluding ${i.id} for unsupported: ` + s.join(", ")))
            }
            ))
        }
        excludeIncompatibleVariants_(e) {
            const t = []
              , i = this.main().playlists
              , n = vd(e = Md(Ks(e)))
              , s = e.video && Ks(e.video)[0] || null
              , r = e.audio && Ks(e.audio)[0] || null;
            Object.keys(i).forEach((e => {
                var a, o, l;
                e = i[e];
                -1 === t.indexOf(e.id) && e.excludeUntil !== 1 / 0 && (t.push(e.id),
                a = [],
                o = vd(l = yd(this.mainPlaylistLoader_.main, e)),
                l.audio || l.video) && (o !== n && a.push(`codec count "${o}" !== "${n}"`),
                this.sourceUpdater_.canChangeType() || (o = l.video && Ks(l.video)[0] || null,
                l = l.audio && Ks(l.audio)[0] || null,
                o && s && o.type.toLowerCase() !== s.type.toLowerCase() && a.push(`video codec "${o.type}" !== "${s.type}"`),
                l && r && l.type.toLowerCase() !== r.type.toLowerCase() && a.push(`audio codec "${l.type}" !== "${r.type}"`)),
                a.length) && (e.excludeUntil = 1 / 0,
                this.logger_(`excluding ${e.id}: ` + a.join(" && ")))
            }
            ))
        }
        updateAdCues_(e) {
            let t = 0;
            var i = this.seekable()
              , [n,s,i=0] = (i.length && (t = i.start(0)),
            [e, this.cueTagsTrack_, t]);
            if (n.segments) {
                let e, t = i;
                for (let i = 0; i < n.segments.length; i++) {
                    var r, a, o = n.segments[i];
                    if (e = e || function(e, t) {
                        var i = e.cues;
                        for (let e = 0; e < i.length; e++) {
                            var n = i[e];
                            if (t >= n.adStartTime && t <= n.adEndTime)
                                return n
                        }
                        return null
                    }(s, t + o.duration / 2)) {
                        if ("cueIn"in o) {
                            e.endTime = t,
                            e.adEndTime = t,
                            t += o.duration,
                            e = null;
                            continue
                        }
                        if (t < e.endTime) {
                            t += o.duration;
                            continue
                        }
                        e.endTime += o.duration
                    } else
                        "cueOut"in o && ((e = new window.VTTCue(t,t + o.duration,o.cueOut)).adStartTime = t,
                        e.adEndTime = t + parseFloat(o.cueOut),
                        s.addCue(e)),
                        "cueOutCont"in o && ([r,a] = o.cueOutCont.split("/").map(parseFloat),
                        (e = new window.VTTCue(t,t + o.duration,"")).adStartTime = t - r,
                        e.adEndTime = e.adStartTime + a,
                        s.addCue(e));
                    t += o.duration
                }
            }
        }
        goalBufferLength() {
            var e = this.tech_.currentTime()
              , t = sd.GOAL_BUFFER_LENGTH
              , i = sd.GOAL_BUFFER_LENGTH_RATE
              , n = Math.max(t, sd.MAX_GOAL_BUFFER_LENGTH);
            return Math.min(t + e * i, n)
        }
        bufferLowWaterLine() {
            var e = this.tech_.currentTime()
              , t = sd.BUFFER_LOW_WATER_LINE
              , i = sd.BUFFER_LOW_WATER_LINE_RATE
              , n = Math.max(t, sd.MAX_BUFFER_LOW_WATER_LINE)
              , s = Math.max(t, sd.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);
            return Math.min(t + e * i, this.bufferBasedABR ? s : n)
        }
        bufferHighWaterLine() {
            return sd.BUFFER_HIGH_WATER_LINE
        }
    }
    class Ac {
        constructor(e, t, i) {
            var n, s, r, a, o = e.playlistController_, l = o.fastQualityChange_.bind(o);
            t.attributes && (n = t.attributes.RESOLUTION,
            this.width = n && n.width,
            this.height = n && n.height,
            this.bandwidth = t.attributes.BANDWIDTH,
            this.frameRate = t.attributes["FRAME-RATE"]),
            this.codecs = yd(o.main(), t),
            this.playlist = t,
            this.id = i,
            this.enabled = (s = e.playlists,
            r = t.id,
            a = l,
            e => {
                var t = s.main.playlists[r]
                  , i = wl(t)
                  , n = Sl(t);
                return void 0 === e ? n : (e ? delete t.disabled : t.disabled = !0,
                e === n || i || (a(),
                e ? s.trigger("renditionenabled") : s.trigger("renditiondisabled")),
                e)
            }
            )
        }
    }
    const Ic = ["seeking", "seeked", "pause", "playing", "error"];
    class Oc {
        constructor(e) {
            this.playlistController_ = e.playlistController,
            this.tech_ = e.tech,
            this.seekable = e.seekable,
            this.allowSeeksWithinUnsafeLiveWindow = e.allowSeeksWithinUnsafeLiveWindow,
            this.liveRangeSafeTimeDelta = e.liveRangeSafeTimeDelta,
            this.media = e.media,
            this.consecutiveUpdates = 0,
            this.lastRecordedTime = null,
            this.checkCurrentTimeTimeout_ = null,
            this.logger_ = el("PlaybackWatcher"),
            this.logger_("initialize");
            const t = () => this.monitorCurrentTime_()
              , i = () => this.monitorCurrentTime_()
              , n = () => this.techWaiting_()
              , s = () => this.resetTimeUpdate_()
              , r = this.playlistController_
              , a = ["main", "subtitle", "audio"]
              , o = {}
              , l = (a.forEach((e => {
                o[e] = {
                    reset: () => this.resetSegmentDownloads_(e),
                    updateend: () => this.checkSegmentDownloads_(e)
                },
                r[e + "SegmentLoader_"].on("appendsdone", o[e].updateend),
                r[e + "SegmentLoader_"].on("playlistupdate", o[e].reset),
                this.tech_.on(["seeked", "seeking"], o[e].reset)
            }
            )),
            e => {
                ["main", "audio"].forEach((t => {
                    r[t + "SegmentLoader_"][e]("appended", this.seekingAppendCheck_)
                }
                ))
            }
            );
            this.seekingAppendCheck_ = () => {
                this.fixesBadSeeks_() && (this.consecutiveUpdates = 0,
                this.lastRecordedTime = this.tech_.currentTime(),
                l("off"))
            }
            ,
            this.clearSeekingAppendCheck_ = () => l("off"),
            this.watchForBadSeeking_ = () => {
                this.clearSeekingAppendCheck_(),
                l("on")
            }
            ,
            this.tech_.on("seeked", this.clearSeekingAppendCheck_),
            this.tech_.on("seeking", this.watchForBadSeeking_),
            this.tech_.on("waiting", n),
            this.tech_.on(Ic, s),
            this.tech_.on("canplay", i),
            this.tech_.one("play", t),
            this.dispose = () => {
                this.clearSeekingAppendCheck_(),
                this.logger_("dispose"),
                this.tech_.off("waiting", n),
                this.tech_.off(Ic, s),
                this.tech_.off("canplay", i),
                this.tech_.off("play", t),
                this.tech_.off("seeking", this.watchForBadSeeking_),
                this.tech_.off("seeked", this.clearSeekingAppendCheck_),
                a.forEach((e => {
                    r[e + "SegmentLoader_"].off("appendsdone", o[e].updateend),
                    r[e + "SegmentLoader_"].off("playlistupdate", o[e].reset),
                    this.tech_.off(["seeked", "seeking"], o[e].reset)
                }
                )),
                this.checkCurrentTimeTimeout_ && window.clearTimeout(this.checkCurrentTimeTimeout_),
                this.resetTimeUpdate_()
            }
        }
        monitorCurrentTime_() {
            this.checkCurrentTime_(),
            this.checkCurrentTimeTimeout_ && window.clearTimeout(this.checkCurrentTimeTimeout_),
            this.checkCurrentTimeTimeout_ = window.setTimeout(this.monitorCurrentTime_.bind(this), 250)
        }
        resetSegmentDownloads_(e) {
            var t = this.playlistController_[e + "SegmentLoader_"];
            0 < this[e + "StalledDownloads_"] && this.logger_(`resetting possible stalled download count for ${e} loader`),
            this[e + "StalledDownloads_"] = 0,
            this[e + "Buffered_"] = t.buffered_()
        }
        checkSegmentDownloads_(e) {
            var t = this.playlistController_
              , i = t[e + "SegmentLoader_"]
              , n = i.buffered_()
              , s = function(e, t) {
                if (e !== t) {
                    if (!e && t || !t && e)
                        return !0;
                    if (e.length !== t.length)
                        return !0;
                    for (let i = 0; i < e.length; i++)
                        if (e.start(i) !== t.start(i) || e.end(i) !== t.end(i))
                            return !0
                }
                return !1
            }(this[e + "Buffered_"], n);
            this[e + "Buffered_"] = n,
            s ? this.resetSegmentDownloads_(e) : (this[e + "StalledDownloads_"]++,
            this.logger_(`found #${this[e + "StalledDownloads_"]} ${e} appends that did not increase buffer (possible stalled download)`, {
                playlistId: i.playlist_ && i.playlist_.id,
                buffered: pl(n)
            }),
            this[e + "StalledDownloads_"] < 10 || (this.logger_(e + " loader stalled download exclusion"),
            this.resetSegmentDownloads_(e),
            this.tech_.trigger({
                type: "usage",
                name: `vhs-${e}-download-exclusion`
            }),
            "subtitle" !== e && t.excludePlaylist({
                error: {
                    message: `Excessive ${e} segment downloading detected.`
                },
                playlistExclusionDuration: 1 / 0
            })))
        }
        checkCurrentTime_() {
            var e, t;
            if (!this.tech_.paused() && !this.tech_.seeking())
                return e = this.tech_.currentTime(),
                t = this.tech_.buffered(),
                this.lastRecordedTime === e && (!t.length || e + cl >= t.end(t.length - 1)) ? this.techWaiting_() : void (5 <= this.consecutiveUpdates && e === this.lastRecordedTime ? (this.consecutiveUpdates++,
                this.waiting_()) : e === this.lastRecordedTime ? this.consecutiveUpdates++ : (this.consecutiveUpdates = 0,
                this.lastRecordedTime = e))
        }
        resetTimeUpdate_() {
            this.consecutiveUpdates = 0
        }
        fixesBadSeeks_() {
            if (!this.tech_.seeking())
                return !1;
            var e = this.seekable()
              , t = this.tech_.currentTime();
            let i;
            if (this.afterSeekableWindow_(e, t, this.media(), this.allowSeeksWithinUnsafeLiveWindow) && (i = n = e.end(e.length - 1)),
            this.beforeSeekableWindow_(e, t) && (i = (n = e.start(0)) + (n === e.end(0) ? 0 : cl)),
            void 0 !== i)
                this.logger_(`Trying to seek outside of seekable at time ${t} with seekable range ${hl(e)}. Seeking to ` + i + ".");
            else {
                var n = this.playlistController_.sourceUpdater_
                  , s = (e = this.tech_.buffered(),
                n.audioBuffer ? n.audioBuffered() : null)
                  , r = (n = n.videoBuffer ? n.videoBuffered() : null,
                this.media())
                  , a = r.partTargetDuration || 2 * (r.targetDuration - dl)
                  , o = [s, n];
                for (let e = 0; e < o.length; e++)
                    if (o[e] && al(o[e], t) < a)
                        return !1;
                if (0 === (r = sl(e, t)).length)
                    return !1;
                i = r.start(0) + cl,
                this.logger_(`Buffered region starts (${r.start(0)})  just beyond seek point (${t}). Seeking to ${i}.`)
            }
            return this.tech_.setCurrentTime(i),
            !0
        }
        waiting_() {
            var e, t;
            this.techWaiting_() || (e = this.tech_.currentTime(),
            (t = nl(t = this.tech_.buffered(), e)).length && e + 3 <= t.end(0) && (this.resetTimeUpdate_(),
            this.tech_.setCurrentTime(e),
            this.logger_(`Stopped at ${e} while inside a buffered region [${t.start(0)} -> ${t.end(0)}]. Attempting to resume playback by seeking to the current time.`),
            this.tech_.trigger({
                type: "usage",
                name: "vhs-unknown-waiting"
            })))
        }
        techWaiting_() {
            var e, t = this.seekable(), i = this.tech_.currentTime();
            return !!this.tech_.seeking() || (this.beforeSeekableWindow_(t, i) ? (t = t.end(t.length - 1),
            this.logger_(`Fell out of live window at time ${i}. Seeking to live point (seekable end) ` + t),
            this.resetTimeUpdate_(),
            this.tech_.setCurrentTime(t),
            this.tech_.trigger({
                type: "usage",
                name: "vhs-live-resync"
            }),
            !0) : (t = this.tech_.vhs.playlistController_.sourceUpdater_,
            e = this.tech_.buffered(),
            this.videoUnderflow_({
                audioBuffered: t.audioBuffered(),
                videoBuffered: t.videoBuffered(),
                currentTime: i
            }) ? (this.resetTimeUpdate_(),
            this.tech_.setCurrentTime(i),
            this.tech_.trigger({
                type: "usage",
                name: "vhs-video-underflow"
            }),
            !0) : 0 < (t = sl(e, i)).length && (this.logger_(`Stopped at ${i} and seeking to ` + t.start(0)),
            this.resetTimeUpdate_(),
            this.skipTheGap_(i),
            !0)))
        }
        afterSeekableWindow_(e, t, i, n=!1) {
            if (!e.length)
                return !1;
            let s = e.end(e.length - 1) + cl;
            return t > (!i.endList && n ? e.end(e.length - 1) + 3 * i.targetDuration : s)
        }
        beforeSeekableWindow_(e, t) {
            return !!(e.length && 0 < e.start(0) && t < e.start(0) - this.liveRangeSafeTimeDelta)
        }
        videoUnderflow_({videoBuffered: e, audioBuffered: t, currentTime: i}) {
            if (e) {
                let r;
                var n, s;
                return e.length && t.length ? (n = nl(e, i - 3),
                s = nl(e, i),
                (t = nl(t, i)).length && !s.length && n.length && (r = {
                    start: n.end(0),
                    end: t.end(0)
                })) : sl(e, i).length || (r = this.gapFromVideoUnderflow_(e, i)),
                !!r && (this.logger_(`Encountered a gap in video from ${r.start} to ${r.end}. Seeking to current time ` + i),
                !0)
            }
        }
        skipTheGap_(e) {
            var t = this.tech_.buffered()
              , i = this.tech_.currentTime();
            t = sl(t, i);
            this.resetTimeUpdate_(),
            0 !== t.length && i === e && (this.logger_("skipTheGap_:", "currentTime:", i, "scheduled currentTime:", e, "nextRange start:", t.start(0)),
            this.tech_.setCurrentTime(t.start(0) + dl),
            this.tech_.trigger({
                type: "usage",
                name: "vhs-gap-skip"
            }))
        }
        gapFromVideoUnderflow_(e, t) {
            var i = function(e) {
                if (e.length < 2)
                    return il();
                var t = [];
                for (let s = 1; s < e.length; s++) {
                    var i = e.end(s - 1)
                      , n = e.start(s);
                    t.push([i, n])
                }
                return il(t)
            }(e);
            for (let e = 0; e < i.length; e++) {
                var n = i.start(e)
                  , s = i.end(e);
                if (t - n < 4 && 2 < t - n)
                    return {
                        start: n,
                        end: s
                    }
            }
            return null
        }
    }
    const Lc = {
        errorInterval: 30,
        getSource(e) {
            return e(this.tech({
                IWillNotUseThisInPlugins: !0
            }).currentSource_ || this.currentSource())
        }
    }
      , Mc = function(e, t) {
        let i = 0
          , n = 0;
        function s(t) {
            null != t && (n = e.duration() !== 1 / 0 && e.currentTime() || 0,
            e.one("loadedmetadata", l),
            e.src(t),
            e.trigger({
                type: "usage",
                name: "vhs-error-reload"
            }),
            e.play())
        }
        function r() {
            if (Date.now() - i < 1e3 * o.errorInterval)
                e.trigger({
                    type: "usage",
                    name: "vhs-error-reload-canceled"
                });
            else {
                if (o.getSource && "function" == typeof o.getSource)
                    return i = Date.now(),
                    o.getSource.call(e, s);
                Es.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")
            }
        }
        function a() {
            e.off("loadedmetadata", l),
            e.off("error", r),
            e.off("dispose", a)
        }
        const o = tl(Lc, t)
          , l = (e.ready(( () => {
            e.trigger({
                type: "usage",
                name: "vhs-error-reload-initialized"
            })
        }
        )),
        function() {
            n && e.currentTime(n)
        }
        );
        e.on("error", r),
        e.on("dispose", a),
        e.reloadSourceOnError = function(t) {
            a(),
            Mc(e, t)
        }
    };
    function Dc(e, t) {
        var i = t.media();
        let n = -1;
        for (let t = 0; t < e.length; t++)
            if (e[t].id === i.id) {
                n = t;
                break
            }
        e.selectedIndex_ = n,
        e.trigger({
            selectedIndex: n,
            type: "change"
        })
    }
    const Rc = {
        PlaylistLoader: $l,
        Playlist: Al,
        utils: Zn,
        STANDARD_PLAYLIST_SELECTOR: jd,
        INITIAL_PLAYLIST_SELECTOR: function() {
            var e = this.playlists.main.playlists.filter(Al.isEnabled);
            Nd(e, ( (e, t) => _d(e, t))),
            e = e.filter((e => !!yd(this.playlists.main, e).video));
            return e[0] || null
        },
        lastBandwidthSelector: jd,
        movingAverageBandwidthSelector: function(e) {
            let t = -1
              , i = -1;
            if (e < 0 || 1 < e)
                throw new Error("Moving average bandwidth decay must be between 0 and 1.");
            return function() {
                var n = this.useDevicePixelRatio && window.devicePixelRatio || 1;
                return t < 0 && (t = this.systemBandwidth,
                i = this.systemBandwidth),
                0 < this.systemBandwidth && this.systemBandwidth !== i && (t = e * this.systemBandwidth + (1 - e) * t,
                i = this.systemBandwidth),
                Bd(this.playlists.main, t, parseInt(bd(this.tech_.el(), "width"), 10) * n, parseInt(bd(this.tech_.el(), "height"), 10) * n, this.limitRenditionByPlayerDimensions, this.playlistController_)
            }
        },
        comparePlaylistBandwidth: _d,
        comparePlaylistResolution: function(e, t) {
            let i, n;
            return i = (i = e.attributes.RESOLUTION && e.attributes.RESOLUTION.width ? e.attributes.RESOLUTION.width : i) || window.Number.MAX_VALUE,
            n = (n = t.attributes.RESOLUTION && t.attributes.RESOLUTION.width ? t.attributes.RESOLUTION.width : n) || window.Number.MAX_VALUE,
            i === n && e.attributes.BANDWIDTH && t.attributes.BANDWIDTH ? e.attributes.BANDWIDTH - t.attributes.BANDWIDTH : i - n
        },
        xhr: zl()
    }
      , Nc = (Object.keys(sd).forEach((e => {
        Object.defineProperty(Rc, e, {
            get: () => (Es.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),
            sd[e]),
            set(t) {
                Es.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),
                "number" != typeof t || t < 0 ? Es.log.warn(`value of Vhs.${e} must be greater than or equal to 0`) : sd[e] = t
            }
        })
    }
    )),
    "videojs-vhs")
      , Bc = (Rc.canPlaySource = function() {
        return Es.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")
    }
    ,
    ({player: e, sourceKeySystems: t, audioMedia: i, mainPlaylists: n}) => {
        if (!e.eme.initializeMediaKeys)
            return Promise.resolve();
        var s;
        i = i ? n.concat([i]) : n,
        n = i,
        s = Object.keys(t),
        i = n.reduce(( (e, t) => {
            var i;
            return t.contentProtection && (i = s.reduce(( (e, i) => {
                var n = t.contentProtection[i];
                return n && n.pssh && (e[i] = {
                    pssh: n.pssh
                }),
                e
            }
            ), {}),
            Object.keys(i).length) && e.push(i),
            e
        }
        ), []);
        const r = []
          , a = [];
        return i.forEach((t => {
            a.push(new Promise(( (t, i) => {
                e.tech_.one("keysessioncreated", t)
            }
            ))),
            r.push(new Promise(( (i, n) => {
                e.eme.initializeMediaKeys({
                    keySystems: t
                }, (e => {
                    e ? n(e) : i()
                }
                ))
            }
            )))
        }
        )),
        Promise.race([Promise.all(r), Promise.race(a)])
    }
    )
      , jc = () => {
        if (!window.localStorage)
            return null;
        var e = window.localStorage.getItem(Nc);
        if (!e)
            return null;
        try {
            return JSON.parse(e)
        } catch (e) {
            return null
        }
    }
    ;
    Rc.supportsNativeHls = function() {
        if (!document || !document.createElement)
            return !1;
        const e = document.createElement("video");
        return !!Es.getTech("Html5").isSupported() && ["application/vnd.apple.mpegurl", "audio/mpegurl", "audio/x-mpegurl", "application/x-mpegurl", "video/x-mpegurl", "video/mpegurl", "application/mpegurl"].some((function(t) {
            return /maybe|probably/i.test(e.canPlayType(t))
        }
        ))
    }(),
    Rc.supportsNativeDash = !!(document && document.createElement && Es.getTech("Html5").isSupported()) && /maybe|probably/i.test(document.createElement("video").canPlayType("application/dash+xml")),
    Rc.supportsTypeNatively = e => "hls" === e ? Rc.supportsNativeHls : "dash" === e && Rc.supportsNativeDash,
    Rc.isSupported = function() {
        return Es.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")
    }
    ;
    class Fc extends (Es.getComponent("Component")) {
        constructor(e, t, i) {
            if (super(t, i.vhs),
            "number" == typeof i.initialBandwidth && (this.options_.bandwidth = i.initialBandwidth),
            this.logger_ = el("VhsHandler"),
            t.options_ && t.options_.playerId && (i = Es.getPlayer(t.options_.playerId),
            this.player_ = i),
            this.tech_ = t,
            this.source_ = e,
            this.stats = {},
            this.ignoreNextSeekingEvent_ = !1,
            this.setOptions_(),
            this.options_.overrideNative && t.overrideNativeAudioTracks && t.overrideNativeVideoTracks)
                t.overrideNativeAudioTracks(!0),
                t.overrideNativeVideoTracks(!0);
            else if (this.options_.overrideNative && (t.featuresNativeVideoTracks || t.featuresNativeAudioTracks))
                throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");
            this.on(document, ["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "MSFullscreenChange"], (e => {
                var t = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;
                t && t.contains(this.tech_.el()) ? this.playlistController_.fastQualityChange_() : this.playlistController_.checkABR_()
            }
            )),
            this.on(this.tech_, "seeking", (function() {
                this.ignoreNextSeekingEvent_ ? this.ignoreNextSeekingEvent_ = !1 : this.setCurrentTime(this.tech_.currentTime())
            }
            )),
            this.on(this.tech_, "error", (function() {
                this.tech_.error() && this.playlistController_ && this.playlistController_.pauseLoading()
            }
            )),
            this.on(this.tech_, "play", this.play)
        }
        setOptions_() {
            var e;
            this.options_.withCredentials = this.options_.withCredentials || !1,
            this.options_.limitRenditionByPlayerDimensions = !1 !== this.options_.limitRenditionByPlayerDimensions,
            this.options_.useDevicePixelRatio = this.options_.useDevicePixelRatio || !1,
            this.options_.useBandwidthFromLocalStorage = void 0 !== this.source_.useBandwidthFromLocalStorage ? this.source_.useBandwidthFromLocalStorage : this.options_.useBandwidthFromLocalStorage || !1,
            this.options_.useNetworkInformationApi = this.options_.useNetworkInformationApi || !1,
            this.options_.useDtsForTimestampOffset = this.options_.useDtsForTimestampOffset || !1,
            this.options_.customTagParsers = this.options_.customTagParsers || [],
            this.options_.customTagMappers = this.options_.customTagMappers || [],
            this.options_.cacheEncryptionKeys = this.options_.cacheEncryptionKeys || !1,
            this.options_.llhls = !1 !== this.options_.llhls,
            this.options_.bufferBasedABR = this.options_.bufferBasedABR || !1,
            "number" != typeof this.options_.playlistExclusionDuration && (this.options_.playlistExclusionDuration = 300),
            "number" != typeof this.options_.bandwidth && this.options_.useBandwidthFromLocalStorage && ((e = jc()) && e.bandwidth && (this.options_.bandwidth = e.bandwidth,
            this.tech_.trigger({
                type: "usage",
                name: "vhs-bandwidth-from-local-storage"
            })),
            e) && e.throughput && (this.options_.throughput = e.throughput,
            this.tech_.trigger({
                type: "usage",
                name: "vhs-throughput-from-local-storage"
            })),
            "number" != typeof this.options_.bandwidth && (this.options_.bandwidth = sd.INITIAL_BANDWIDTH),
            this.options_.enableLowInitialPlaylist = this.options_.enableLowInitialPlaylist && this.options_.bandwidth === sd.INITIAL_BANDWIDTH,
            ["withCredentials", "useDevicePixelRatio", "limitRenditionByPlayerDimensions", "bandwidth", "customTagParsers", "customTagMappers", "cacheEncryptionKeys", "playlistSelector", "initialPlaylistSelector", "bufferBasedABR", "liveRangeSafeTimeDelta", "llhls", "useNetworkInformationApi", "useDtsForTimestampOffset", "exactManifestTimings", "leastPixelDiffSelector"].forEach((e => {
                void 0 !== this.source_[e] && (this.options_[e] = this.source_[e])
            }
            )),
            this.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions,
            this.useDevicePixelRatio = this.options_.useDevicePixelRatio
        }
        src(e, t) {
            e && (this.setOptions_(),
            this.options_.src = 0 === (e = this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,") ? JSON.parse(e.substring(e.indexOf(",") + 1)) : e,
            this.options_.tech = this.tech_,
            this.options_.externVhs = Rc,
            this.options_.sourceType = zs(t),
            this.options_.seekTo = e => {
                this.tech_.setCurrentTime(e)
            }
            ,
            this.playlistController_ = new Pc(this.options_),
            e = tl({
                liveRangeSafeTimeDelta: cl
            }, this.options_, {
                seekable: () => this.seekable(),
                media: () => this.playlistController_.media(),
                playlistController: this.playlistController_
            }),
            this.playbackWatcher_ = new Oc(e),
            this.playlistController_.on("error", ( () => {
                var e = Es.players[this.tech_.options_.playerId];
                let t = this.playlistController_.error;
                "object" != typeof t || t.code ? "string" == typeof t && (t = {
                    message: t,
                    code: 3
                }) : t.code = 3,
                e.error(t)
            }
            )),
            t = this.options_.bufferBasedABR ? Rc.movingAverageBandwidthSelector(.55) : Rc.STANDARD_PLAYLIST_SELECTOR,
            this.playlistController_.selectPlaylist = (this.selectPlaylist || t).bind(this),
            this.playlistController_.selectInitialPlaylist = Rc.INITIAL_PLAYLIST_SELECTOR.bind(this),
            this.playlists = this.playlistController_.mainPlaylistLoader_,
            this.mediaSource = this.playlistController_.mediaSource,
            Object.defineProperties(this, {
                selectPlaylist: {
                    get() {
                        return this.playlistController_.selectPlaylist
                    },
                    set(e) {
                        this.playlistController_.selectPlaylist = e.bind(this)
                    }
                },
                throughput: {
                    get() {
                        return this.playlistController_.mainSegmentLoader_.throughput.rate
                    },
                    set(e) {
                        this.playlistController_.mainSegmentLoader_.throughput.rate = e,
                        this.playlistController_.mainSegmentLoader_.throughput.count = 1
                    }
                },
                bandwidth: {
                    get() {
                        let e = this.playlistController_.mainSegmentLoader_.bandwidth;
                        var t = window.navigator.connection || window.navigator.mozConnection || window.navigator.webkitConnection;
                        return this.options_.useNetworkInformationApi && t && (e = 1e7 <= (t = 1e3 * t.downlink * 1e3) && 1e7 <= e ? Math.max(e, t) : t),
                        e
                    },
                    set(e) {
                        this.playlistController_.mainSegmentLoader_.bandwidth = e,
                        this.playlistController_.mainSegmentLoader_.throughput = {
                            rate: 0,
                            count: 0
                        }
                    }
                },
                systemBandwidth: {
                    get() {
                        var e = 1 / (this.bandwidth || 1);
                        let t;
                        return t = 0 < this.throughput ? 1 / this.throughput : 0,
                        Math.floor(1 / (e + t))
                    },
                    set() {
                        Es.log.error('The "systemBandwidth" property is read-only')
                    }
                }
            }),
            this.options_.bandwidth && (this.bandwidth = this.options_.bandwidth),
            this.options_.throughput && (this.throughput = this.options_.throughput),
            Object.defineProperties(this.stats, {
                bandwidth: {
                    get: () => this.bandwidth || 0,
                    enumerable: !0
                },
                mediaRequests: {
                    get: () => this.playlistController_.mediaRequests_() || 0,
                    enumerable: !0
                },
                mediaRequestsAborted: {
                    get: () => this.playlistController_.mediaRequestsAborted_() || 0,
                    enumerable: !0
                },
                mediaRequestsTimedout: {
                    get: () => this.playlistController_.mediaRequestsTimedout_() || 0,
                    enumerable: !0
                },
                mediaRequestsErrored: {
                    get: () => this.playlistController_.mediaRequestsErrored_() || 0,
                    enumerable: !0
                },
                mediaTransferDuration: {
                    get: () => this.playlistController_.mediaTransferDuration_() || 0,
                    enumerable: !0
                },
                mediaBytesTransferred: {
                    get: () => this.playlistController_.mediaBytesTransferred_() || 0,
                    enumerable: !0
                },
                mediaSecondsLoaded: {
                    get: () => this.playlistController_.mediaSecondsLoaded_() || 0,
                    enumerable: !0
                },
                mediaAppends: {
                    get: () => this.playlistController_.mediaAppends_() || 0,
                    enumerable: !0
                },
                mainAppendsToLoadedData: {
                    get: () => this.playlistController_.mainAppendsToLoadedData_() || 0,
                    enumerable: !0
                },
                audioAppendsToLoadedData: {
                    get: () => this.playlistController_.audioAppendsToLoadedData_() || 0,
                    enumerable: !0
                },
                appendsToLoadedData: {
                    get: () => this.playlistController_.appendsToLoadedData_() || 0,
                    enumerable: !0
                },
                timeToLoadedData: {
                    get: () => this.playlistController_.timeToLoadedData_() || 0,
                    enumerable: !0
                },
                buffered: {
                    get: () => pl(this.tech_.buffered()),
                    enumerable: !0
                },
                currentTime: {
                    get: () => this.tech_.currentTime(),
                    enumerable: !0
                },
                currentSource: {
                    get: () => this.tech_.currentSource_,
                    enumerable: !0
                },
                currentTech: {
                    get: () => this.tech_.name_,
                    enumerable: !0
                },
                duration: {
                    get: () => this.tech_.duration(),
                    enumerable: !0
                },
                main: {
                    get: () => this.playlists.main,
                    enumerable: !0
                },
                playerDimensions: {
                    get: () => this.tech_.currentDimensions(),
                    enumerable: !0
                },
                seekable: {
                    get: () => pl(this.tech_.seekable()),
                    enumerable: !0
                },
                timestamp: {
                    get: () => Date.now(),
                    enumerable: !0
                },
                videoPlaybackQuality: {
                    get: () => this.tech_.getVideoPlaybackQuality(),
                    enumerable: !0
                }
            }),
            this.tech_.one("canplay", this.playlistController_.setupFirstPlay.bind(this.playlistController_)),
            this.tech_.on("bandwidthupdate", ( () => {
                if (this.options_.useBandwidthFromLocalStorage) {
                    var e = {
                        bandwidth: this.bandwidth,
                        throughput: Math.round(this.throughput)
                    };
                    if (window.localStorage) {
                        var t = (t = jc()) ? tl(t, e) : e;
                        try {
                            window.localStorage.setItem(Nc, JSON.stringify(t))
                        } catch (e) {
                            return
                        }
                    }
                }
            }
            )),
            this.playlistController_.on("selectedinitialmedia", ( () => {
                var e;
                (e = this).representations = () => {
                    var t = e.playlistController_.main();
                    return (t = Pl(t) ? e.playlistController_.getAudioTrackPlaylists_() : t.playlists) ? t.filter((e => !wl(e))).map(( (t, i) => new Ac(e,t,t.id))) : []
                }
            }
            )),
            this.playlistController_.sourceUpdater_.on("createdsourcebuffers", ( () => {
                this.setupEme_()
            }
            )),
            this.on(this.playlistController_, "progress", (function() {
                this.tech_.trigger("progress")
            }
            )),
            this.on(this.playlistController_, "firstplay", (function() {
                this.ignoreNextSeekingEvent_ = !0
            }
            )),
            this.setupQualityLevels_(),
            this.tech_.el()) && (this.mediaSourceUrl_ = window.URL.createObjectURL(this.playlistController_.mediaSource),
            this.tech_.src(this.mediaSourceUrl_))
        }
        createKeySessions_() {
            var e = this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;
            this.logger_("waiting for EME key session creation"),
            Bc({
                player: this.player_,
                sourceKeySystems: this.source_.keySystems,
                audioMedia: e && e.media(),
                mainPlaylists: this.playlists.main.playlists
            }).then(( () => {
                this.logger_("created EME key session"),
                this.playlistController_.sourceUpdater_.initializedEme()
            }
            )).catch((e => {
                this.logger_("error while creating EME key session", e),
                this.player_.error({
                    message: "Failed to initialize media keys for EME",
                    code: 3
                })
            }
            ))
        }
        handleWaitingForKey_() {
            this.logger_("waitingforkey fired, attempting to create any new key sessions"),
            this.createKeySessions_()
        }
        setupEme_() {
            var e = this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;
            e = ( ({player: e, sourceKeySystems: t, media: i, audioMedia: n}) => (t = ( (e, t, i) => {
                if (!e)
                    return e;
                let n = {};
                t && t.attributes && t.attributes.CODECS && (n = Md(Ks(t.attributes.CODECS))),
                i && i.attributes && i.attributes.CODECS && (n.audio = i.attributes.CODECS);
                var s = Qs(n.video)
                  , r = Qs(n.audio)
                  , a = {};
                for (const i in e)
                    a[i] = {},
                    r && (a[i].audioContentType = r),
                    s && (a[i].videoContentType = s),
                    t.contentProtection && t.contentProtection[i] && t.contentProtection[i].pssh && (a[i].pssh = t.contentProtection[i].pssh),
                    "string" == typeof e[i] && (a[i].url = e[i]);
                return tl(e, a)
            }
            )(t, i, n),
            !(!t || (e.currentSource().keySystems = t) && !e.eme && (Es.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),
            1))))({
                player: this.player_,
                sourceKeySystems: this.source_.keySystems,
                media: this.playlists.media(),
                audioMedia: e && e.media()
            });
            this.player_.tech_.on("keystatuschange", (e => {
                if ("output-restricted" === e.status && (e = this.playlistController_.main()) && e.playlists) {
                    const t = [];
                    e.playlists.forEach((e => {
                        e && e.attributes && e.attributes.RESOLUTION && 720 <= e.attributes.RESOLUTION.height && (!e.excludeUntil || e.excludeUntil < 1 / 0) && (e.excludeUntil = 1 / 0,
                        t.push(e))
                    }
                    )),
                    t.length && (Es.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.', ...t),
                    this.playlistController_.fastQualityChange_())
                }
            }
            )),
            this.handleWaitingForKey_ = this.handleWaitingForKey_.bind(this),
            this.player_.tech_.on("waitingforkey", this.handleWaitingForKey_),
            11 !== Es.browser.IE_VERSION && e ? this.createKeySessions_() : this.playlistController_.sourceUpdater_.initializedEme()
        }
        setupQualityLevels_() {
            var e = Es.players[this.tech_.options_.playerId];
            e && e.qualityLevels && !this.qualityLevels_ && (this.qualityLevels_ = e.qualityLevels(),
            this.playlistController_.on("selectedinitialmedia", ( () => {
                var e, t;
                e = this.qualityLevels_,
                (t = this).representations().forEach((t => {
                    e.addQualityLevel(t)
                }
                )),
                Dc(e, t.playlists)
            }
            )),
            this.playlists.on("mediachange", ( () => {
                Dc(this.qualityLevels_, this.playlists)
            }
            )))
        }
        static version() {
            return {
                "@videojs/http-streaming": "3.0.0",
                "mux.js": "6.2.0",
                "mpd-parser": "1.0.1",
                "m3u8-parser": "6.0.0",
                "aes-decrypter": "4.0.1"
            }
        }
        version() {
            return this.constructor.version()
        }
        canChangeType() {
            return uc.canChangeType()
        }
        play() {
            this.playlistController_.play()
        }
        setCurrentTime(e) {
            this.playlistController_.setCurrentTime(e)
        }
        duration() {
            return this.playlistController_.duration()
        }
        seekable() {
            return this.playlistController_.seekable()
        }
        dispose() {
            this.playbackWatcher_ && this.playbackWatcher_.dispose(),
            this.playlistController_ && this.playlistController_.dispose(),
            this.qualityLevels_ && this.qualityLevels_.dispose(),
            this.tech_ && this.tech_.vhs && delete this.tech_.vhs,
            this.mediaSourceUrl_ && window.URL.revokeObjectURL && (window.URL.revokeObjectURL(this.mediaSourceUrl_),
            this.mediaSourceUrl_ = null),
            this.tech_ && this.tech_.off("waitingforkey", this.handleWaitingForKey_),
            super.dispose()
        }
        convertToProgramTime(e, t) {
            return ( ({playlist: e, time: t, callback: i}) => {
                var n, s;
                if (i)
                    return e && void 0 !== t ? (e = ( (e, t) => {
                        if (!t || !t.segments || 0 === t.segments.length)
                            return null;
                        let i, n = 0;
                        for (let s = 0; s < t.segments.length && (i = t.segments[s],
                        !(e <= (n = i.videoTimingInfo ? i.videoTimingInfo.transmuxedPresentationEnd : n + i.duration))); s++)
                            ;
                        var s = t.segments[t.segments.length - 1];
                        if (s.videoTimingInfo && s.videoTimingInfo.transmuxedPresentationEnd < e)
                            return null;
                        if (e > n) {
                            if (e > n + .25 * s.duration)
                                return null;
                            i = s
                        }
                        return {
                            segment: i,
                            estimatedStart: i.videoTimingInfo ? i.videoTimingInfo.transmuxedPresentationStart : n - i.duration,
                            type: i.videoTimingInfo ? "accurate" : "estimate"
                        }
                    }
                    )(t, e)) ? "estimate" === e.type ? i({
                        message: "Accurate programTime could not be determined. Please seek to e.seekTime and try again",
                        seekTime: e.estimatedStart
                    }) : (n = {
                        mediaSeconds: t
                    },
                    (s = (e = e.segment).dateTimeObject ? (s = e.videoTimingInfo.transmuxerPrependedSeconds,
                    t -= e.videoTimingInfo.transmuxedPresentationStart + s,
                    new Date(e.dateTimeObject.getTime() + 1e3 * t)) : null) && (n.programDateTime = s.toISOString()),
                    i(null, n)) : i({
                        message: "valid programTime was not found"
                    }) : i({
                        message: "getProgramTime: playlist and time must be provided"
                    });
                throw new Error("getProgramTime: callback must be provided")
            }
            )({
                playlist: this.playlistController_.media(),
                time: e,
                callback: t
            })
        }
        seekToProgramTime(e, t, i=!0, n=2) {
            return Zl({
                programTime: e,
                playlist: this.playlistController_.media(),
                retryCount: n,
                pauseAfterSeek: i,
                seekTo: this.options_.seekTo,
                tech: this.options_.tech,
                callback: t
            })
        }
    }
    const Uc = {
        name: "videojs-http-streaming",
        VERSION: "3.0.0",
        canHandleSource: (e, t={}) => (t = tl(Es.options, t),
        Uc.canPlayType(e.type, t)),
        handleSource: (e, t, i={}) => (i = tl(Es.options, i),
        t.vhs = new Fc(e,t,i),
        t.vhs.xhr = zl(),
        t.vhs.src(e.src, e.type),
        t.vhs),
        canPlayType(e, t={}) {
            var {vhs: {overrideNative: t=!Es.browser.IS_ANY_SAFARI}={}} = tl(Es.options, t);
            return !(e = zs(e)) || Rc.supportsTypeNatively(e) && !t ? "" : "maybe"
        }
    };
    return $s("avc1.4d400d,mp4a.40.2") && Es.getTech("Html5").registerSourceHandler(Uc, 0),
    Es.VhsHandler = Fc,
    Es.VhsSourceHandler = Uc,
    Es.Vhs = Rc,
    Es.use || Es.registerComponent("Vhs", Rc),
    Es.options.vhs = Es.options.vhs || {},
    Es.getPlugin && Es.getPlugin("reloadSourceOnError") || Es.registerPlugin("reloadSourceOnError", (function(e) {
        Mc(this, e)
    }
    )),
    Es
}
)),
function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? module.exports = e : e(jQuery)
}((function(e) {
    function t(t) {
        var a = t || window.event
          , o = l.call(arguments, 1)
          , d = 0
          , u = 0
          , h = 0
          , p = 0
          , f = 0
          , m = 0;
        if ((t = e.event.fix(a)).type = "mousewheel",
        "detail"in a && (h = -1 * a.detail),
        "wheelDelta"in a && (h = a.wheelDelta),
        "wheelDeltaY"in a && (h = a.wheelDeltaY),
        "wheelDeltaX"in a && (u = -1 * a.wheelDeltaX),
        "axis"in a && a.axis === a.HORIZONTAL_AXIS && (u = -1 * h,
        h = 0),
        d = 0 === h ? u : h,
        "deltaY"in a && (d = h = -1 * a.deltaY),
        "deltaX"in a && (u = a.deltaX,
        0 === h && (d = -1 * u)),
        0 !== h || 0 !== u) {
            if (1 === a.deltaMode) {
                var g = e.data(this, "mousewheel-line-height");
                d *= g,
                h *= g,
                u *= g
            } else if (2 === a.deltaMode) {
                var v = e.data(this, "mousewheel-page-height");
                d *= v,
                h *= v,
                u *= v
            }
            if (p = Math.max(Math.abs(h), Math.abs(u)),
            (!r || r > p) && (r = p,
            n(a, p) && (r /= 40)),
            n(a, p) && (d /= 40,
            u /= 40,
            h /= 40),
            d = Math[d >= 1 ? "floor" : "ceil"](d / r),
            u = Math[u >= 1 ? "floor" : "ceil"](u / r),
            h = Math[h >= 1 ? "floor" : "ceil"](h / r),
            c.settings.normalizeOffset && this.getBoundingClientRect) {
                var y = this.getBoundingClientRect();
                f = t.clientX - y.left,
                m = t.clientY - y.top
            }
            return t.deltaX = u,
            t.deltaY = h,
            t.deltaFactor = r,
            t.offsetX = f,
            t.offsetY = m,
            t.deltaMode = 0,
            o.unshift(t, d, u, h),
            s && clearTimeout(s),
            s = setTimeout(i, 200),
            (e.event.dispatch || e.event.handle).apply(this, o)
        }
    }
    function i() {
        r = null
    }
    function n(e, t) {
        return c.settings.adjustOldDeltas && "mousewheel" === e.type && t % 120 == 0
    }
    var s, r, a = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], o = "onwheel"in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"], l = Array.prototype.slice;
    if (e.event.fixHooks)
        for (var d = a.length; d; )
            e.event.fixHooks[a[--d]] = e.event.mouseHooks;
    var c = e.event.special.mousewheel = {
        version: "3.1.12",
        setup: function() {
            if (this.addEventListener)
                for (var i = o.length; i; )
                    this.addEventListener(o[--i], t, !1);
            else
                this.onmousewheel = t;
            e.data(this, "mousewheel-line-height", c.getLineHeight(this)),
            e.data(this, "mousewheel-page-height", c.getPageHeight(this))
        },
        teardown: function() {
            if (this.removeEventListener)
                for (var i = o.length; i; )
                    this.removeEventListener(o[--i], t, !1);
            else
                this.onmousewheel = null;
            e.removeData(this, "mousewheel-line-height"),
            e.removeData(this, "mousewheel-page-height")
        },
        getLineHeight: function(t) {
            var i = e(t)
              , n = i["offsetParent"in e.fn ? "offsetParent" : "parent"]();
            return n.length || (n = e("body")),
            parseInt(n.css("fontSize"), 10) || parseInt(i.css("fontSize"), 10) || 16
        },
        getPageHeight: function(t) {
            return e(t).height()
        },
        settings: {
            adjustOldDeltas: !0,
            normalizeOffset: !0
        }
    };
    e.fn.extend({
        mousewheel: function(e) {
            return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
        },
        unmousewheel: function(e) {
            return this.unbind("mousewheel", e)
        }
    })
}
)),
function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof exports ? module.exports = e : e(jQuery)
}((function(e) {
    function t(t) {
        var a = t || window.event
          , o = l.call(arguments, 1)
          , d = 0
          , u = 0
          , h = 0
          , p = 0
          , f = 0
          , m = 0;
        if ((t = e.event.fix(a)).type = "mousewheel",
        "detail"in a && (h = -1 * a.detail),
        "wheelDelta"in a && (h = a.wheelDelta),
        "wheelDeltaY"in a && (h = a.wheelDeltaY),
        "wheelDeltaX"in a && (u = -1 * a.wheelDeltaX),
        "axis"in a && a.axis === a.HORIZONTAL_AXIS && (u = -1 * h,
        h = 0),
        d = 0 === h ? u : h,
        "deltaY"in a && (d = h = -1 * a.deltaY),
        "deltaX"in a && (u = a.deltaX,
        0 === h && (d = -1 * u)),
        0 !== h || 0 !== u) {
            if (1 === a.deltaMode) {
                var g = e.data(this, "mousewheel-line-height");
                d *= g,
                h *= g,
                u *= g
            } else if (2 === a.deltaMode) {
                var v = e.data(this, "mousewheel-page-height");
                d *= v,
                h *= v,
                u *= v
            }
            if (p = Math.max(Math.abs(h), Math.abs(u)),
            (!r || r > p) && (r = p,
            n(a, p) && (r /= 40)),
            n(a, p) && (d /= 40,
            u /= 40,
            h /= 40),
            d = Math[d >= 1 ? "floor" : "ceil"](d / r),
            u = Math[u >= 1 ? "floor" : "ceil"](u / r),
            h = Math[h >= 1 ? "floor" : "ceil"](h / r),
            c.settings.normalizeOffset && this.getBoundingClientRect) {
                var y = this.getBoundingClientRect();
                f = t.clientX - y.left,
                m = t.clientY - y.top
            }
            return t.deltaX = u,
            t.deltaY = h,
            t.deltaFactor = r,
            t.offsetX = f,
            t.offsetY = m,
            t.deltaMode = 0,
            o.unshift(t, d, u, h),
            s && clearTimeout(s),
            s = setTimeout(i, 200),
            (e.event.dispatch || e.event.handle).apply(this, o)
        }
    }
    function i() {
        r = null
    }
    function n(e, t) {
        return c.settings.adjustOldDeltas && "mousewheel" === e.type && t % 120 == 0
    }
    var s, r, a = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], o = "onwheel"in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"], l = Array.prototype.slice;
    if (e.event.fixHooks)
        for (var d = a.length; d; )
            e.event.fixHooks[a[--d]] = e.event.mouseHooks;
    var c = e.event.special.mousewheel = {
        version: "3.1.12",
        setup: function() {
            if (this.addEventListener)
                for (var i = o.length; i; )
                    this.addEventListener(o[--i], t, !1);
            else
                this.onmousewheel = t;
            e.data(this, "mousewheel-line-height", c.getLineHeight(this)),
            e.data(this, "mousewheel-page-height", c.getPageHeight(this))
        },
        teardown: function() {
            if (this.removeEventListener)
                for (var i = o.length; i; )
                    this.removeEventListener(o[--i], t, !1);
            else
                this.onmousewheel = null;
            e.removeData(this, "mousewheel-line-height"),
            e.removeData(this, "mousewheel-page-height")
        },
        getLineHeight: function(t) {
            var i = e(t)
              , n = i["offsetParent"in e.fn ? "offsetParent" : "parent"]();
            return n.length || (n = e("body")),
            parseInt(n.css("fontSize"), 10) || parseInt(i.css("fontSize"), 10) || 16
        },
        getPageHeight: function(t) {
            return e(t).height()
        },
        settings: {
            adjustOldDeltas: !0,
            normalizeOffset: !0
        }
    };
    e.fn.extend({
        mousewheel: function(e) {
            return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
        },
        unmousewheel: function(e) {
            return this.unbind("mousewheel", e)
        }
    })
}
)),
function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : "undefined" != typeof module && module.exports ? module.exports = e : e(jQuery, window, document)
}((function(e) {
    var t, i, n;
    t = "function" == typeof define && define.amd,
    i = "undefined" != typeof module && module.exports,
    n = "https:" == document.location.protocol ? "https:" : "http:",
    t || (i ? require("jquery-mousewheel")(e) : e.event.special.mousewheel || e("head").append(decodeURI("%3Cscript src=" + n + "//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),
    function() {
        var t, i = "mCustomScrollbar", n = "mCS", s = ".mCustomScrollbar", r = {
            setTop: 0,
            setLeft: 0,
            axis: "y",
            scrollbarPosition: "inside",
            scrollInertia: 950,
            autoDraggerLength: !0,
            alwaysShowScrollbar: 0,
            snapOffset: 0,
            mouseWheel: {
                enable: !0,
                scrollAmount: "auto",
                axis: "y",
                deltaFactor: "auto",
                disableOver: ["select", "option", "keygen", "datalist", "textarea"]
            },
            scrollButtons: {
                scrollType: "stepless",
                scrollAmount: "auto"
            },
            keyboard: {
                enable: !0,
                scrollType: "stepless",
                scrollAmount: "auto"
            },
            contentTouchScroll: 25,
            documentTouchScroll: !0,
            advanced: {
                autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
                updateOnContentResize: !0,
                updateOnImageLoad: "auto",
                autoUpdateTimeout: 60
            },
            theme: "light",
            callbacks: {
                onTotalScrollOffset: 0,
                onTotalScrollBackOffset: 0,
                alwaysTriggerOffsets: !0
            }
        }, a = 0, o = {}, l = window.attachEvent && !window.addEventListener ? 1 : 0, d = !1, c = ["mCSB_dragger_onDrag", "mCSB_scrollTools_onDrag", "mCS_img_loaded", "mCS_disabled", "mCS_destroyed", "mCS_no_scrollbar", "mCS-autoHide", "mCS-dir-rtl", "mCS_no_scrollbar_y", "mCS_no_scrollbar_x", "mCS_y_hidden", "mCS_x_hidden", "mCSB_draggerContainer", "mCSB_buttonUp", "mCSB_buttonDown", "mCSB_buttonLeft", "mCSB_buttonRight"], u = {
            init: function(t) {
                t = e.extend(!0, {}, r, t);
                var i = h.call(this);
                if (t.live) {
                    var l = t.liveSelector || this.selector || s
                      , d = e(l);
                    if ("off" === t.live)
                        return void f(l);
                    o[l] = setTimeout((function() {
                        d.mCustomScrollbar(t),
                        "once" === t.live && d.length && f(l)
                    }
                    ), 500)
                } else
                    f(l);
                return t.setWidth = t.set_width ? t.set_width : t.setWidth,
                t.setHeight = t.set_height ? t.set_height : t.setHeight,
                t.axis = t.horizontalScroll ? "x" : m(t.axis),
                t.scrollInertia = t.scrollInertia > 0 && t.scrollInertia < 17 ? 17 : t.scrollInertia,
                "object" != typeof t.mouseWheel && 1 == t.mouseWheel && (t.mouseWheel = {
                    enable: !0,
                    scrollAmount: "auto",
                    axis: "y",
                    preventDefault: !1,
                    deltaFactor: "auto",
                    normalizeDelta: !1,
                    invert: !1
                }),
                t.mouseWheel.scrollAmount = t.mouseWheelPixels ? t.mouseWheelPixels : t.mouseWheel.scrollAmount,
                t.mouseWheel.normalizeDelta = t.advanced.normalizeMouseWheelDelta ? t.advanced.normalizeMouseWheelDelta : t.mouseWheel.normalizeDelta,
                t.scrollButtons.scrollType = g(t.scrollButtons.scrollType),
                p(t),
                e(i).each((function() {
                    var i = e(this);
                    if (!i.data(n)) {
                        i.data(n, {
                            idx: ++a,
                            opt: t,
                            scrollRatio: {
                                y: null,
                                x: null
                            },
                            overflowed: null,
                            contentReset: {
                                y: null,
                                x: null
                            },
                            bindEvents: !1,
                            tweenRunning: !1,
                            sequential: {},
                            langDir: i.css("direction"),
                            cbOffsets: null,
                            trigger: null,
                            poll: {
                                size: {
                                    o: 0,
                                    n: 0
                                },
                                img: {
                                    o: 0,
                                    n: 0
                                },
                                change: {
                                    o: 0,
                                    n: 0
                                }
                            }
                        });
                        var s = i.data(n)
                          , r = s.opt
                          , o = i.data("mcs-axis")
                          , l = i.data("mcs-scrollbar-position")
                          , d = i.data("mcs-theme");
                        o && (r.axis = o),
                        l && (r.scrollbarPosition = l),
                        d && (r.theme = d,
                        p(r)),
                        v.call(this),
                        s && r.callbacks.onCreate && "function" == typeof r.callbacks.onCreate && r.callbacks.onCreate.call(this),
                        e("#mCSB_" + s.idx + "_container img:not(." + c[2] + ")").addClass(c[2]),
                        u.update.call(null, i)
                    }
                }
                ))
            },
            update: function(t, i) {
                var s = t || h.call(this);
                return e(s).each((function() {
                    var t = e(this);
                    if (t.data(n)) {
                        var s = t.data(n)
                          , r = s.opt
                          , a = e("#mCSB_" + s.idx + "_container")
                          , o = e("#mCSB_" + s.idx)
                          , l = [e("#mCSB_" + s.idx + "_dragger_vertical"), e("#mCSB_" + s.idx + "_dragger_horizontal")];
                        if (!a.length)
                            return;
                        s.tweenRunning && X(t),
                        i && s && r.callbacks.onBeforeUpdate && "function" == typeof r.callbacks.onBeforeUpdate && r.callbacks.onBeforeUpdate.call(this),
                        t.hasClass(c[3]) && t.removeClass(c[3]),
                        t.hasClass(c[4]) && t.removeClass(c[4]),
                        o.css("max-height", "none"),
                        o.height() !== t.height() && o.css("max-height", t.height()),
                        b.call(this),
                        "y" === r.axis || r.advanced.autoExpandHorizontalScroll || a.css("width", y(a)),
                        s.overflowed = k.call(this),
                        P.call(this),
                        r.autoDraggerLength && T.call(this),
                        w.call(this),
                        C.call(this);
                        var d = [Math.abs(a[0].offsetTop), Math.abs(a[0].offsetLeft)];
                        "x" !== r.axis && (s.overflowed[0] ? l[0].height() > l[0].parent().height() ? x.call(this) : (Y(t, d[0].toString(), {
                            dir: "y",
                            dur: 0,
                            overwrite: "none"
                        }),
                        s.contentReset.y = null) : (x.call(this),
                        "y" === r.axis ? E.call(this) : "yx" === r.axis && s.overflowed[1] && Y(t, d[1].toString(), {
                            dir: "x",
                            dur: 0,
                            overwrite: "none"
                        }))),
                        "y" !== r.axis && (s.overflowed[1] ? l[1].width() > l[1].parent().width() ? x.call(this) : (Y(t, d[1].toString(), {
                            dir: "x",
                            dur: 0,
                            overwrite: "none"
                        }),
                        s.contentReset.x = null) : (x.call(this),
                        "x" === r.axis ? E.call(this) : "yx" === r.axis && s.overflowed[0] && Y(t, d[0].toString(), {
                            dir: "y",
                            dur: 0,
                            overwrite: "none"
                        }))),
                        i && s && (2 === i && r.callbacks.onImageLoad && "function" == typeof r.callbacks.onImageLoad ? r.callbacks.onImageLoad.call(this) : 3 === i && r.callbacks.onSelectorChange && "function" == typeof r.callbacks.onSelectorChange ? r.callbacks.onSelectorChange.call(this) : r.callbacks.onUpdate && "function" == typeof r.callbacks.onUpdate && r.callbacks.onUpdate.call(this)),
                        V.call(this)
                    }
                }
                ))
            },
            scrollTo: function(t, i) {
                if (void 0 !== t && null != t) {
                    var s = h.call(this);
                    return e(s).each((function() {
                        var s = e(this);
                        if (s.data(n)) {
                            var r = s.data(n)
                              , a = r.opt
                              , o = {
                                trigger: "external",
                                scrollInertia: a.scrollInertia,
                                scrollEasing: "mcsEaseInOut",
                                moveDragger: !1,
                                timeout: 60,
                                callbacks: !0,
                                onStart: !0,
                                onUpdate: !0,
                                onComplete: !0
                            }
                              , l = e.extend(!0, {}, o, i)
                              , d = q.call(this, t)
                              , c = l.scrollInertia > 0 && l.scrollInertia < 17 ? 17 : l.scrollInertia;
                            d[0] = W.call(this, d[0], "y"),
                            d[1] = W.call(this, d[1], "x"),
                            l.moveDragger && (d[0] *= r.scrollRatio.y,
                            d[1] *= r.scrollRatio.x),
                            l.dur = se() ? 0 : c,
                            setTimeout((function() {
                                null !== d[0] && void 0 !== d[0] && "x" !== a.axis && r.overflowed[0] && (l.dir = "y",
                                l.overwrite = "all",
                                Y(s, d[0].toString(), l)),
                                null !== d[1] && void 0 !== d[1] && "y" !== a.axis && r.overflowed[1] && (l.dir = "x",
                                l.overwrite = "none",
                                Y(s, d[1].toString(), l))
                            }
                            ), l.timeout)
                        }
                    }
                    ))
                }
            },
            stop: function() {
                var t = h.call(this);
                return e(t).each((function() {
                    var t = e(this);
                    t.data(n) && X(t)
                }
                ))
            },
            disable: function(t) {
                var i = h.call(this);
                return e(i).each((function() {
                    var i = e(this);
                    i.data(n) && (i.data(n),
                    V.call(this, "remove"),
                    E.call(this),
                    t && x.call(this),
                    P.call(this, !0),
                    i.addClass(c[3]))
                }
                ))
            },
            destroy: function() {
                var t = h.call(this);
                return e(t).each((function() {
                    var s = e(this);
                    if (s.data(n)) {
                        var r = s.data(n)
                          , a = r.opt
                          , o = e("#mCSB_" + r.idx)
                          , l = e("#mCSB_" + r.idx + "_container")
                          , d = e(".mCSB_" + r.idx + "_scrollbar");
                        a.live && f(a.liveSelector || e(t).selector),
                        V.call(this, "remove"),
                        E.call(this),
                        x.call(this),
                        s.removeData(n),
                        J(this, "mcs"),
                        d.remove(),
                        l.find("img." + c[2]).removeClass(c[2]),
                        o.replaceWith(l.contents()),
                        s.removeClass(i + " _" + n + "_" + r.idx + " " + c[6] + " " + c[7] + " " + c[5] + " " + c[3]).addClass(c[4])
                    }
                }
                ))
            }
        }, h = function() {
            return "object" != typeof e(this) || e(this).length < 1 ? s : this
        }, p = function(t) {
            var i = ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"]
              , n = ["rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"]
              , s = ["minimal", "minimal-dark"]
              , r = ["minimal", "minimal-dark"]
              , a = ["minimal", "minimal-dark"];
            t.autoDraggerLength = !(e.inArray(t.theme, i) > -1) && t.autoDraggerLength,
            t.autoExpandScrollbar = !(e.inArray(t.theme, n) > -1) && t.autoExpandScrollbar,
            t.scrollButtons.enable = !(e.inArray(t.theme, s) > -1) && t.scrollButtons.enable,
            t.autoHideScrollbar = e.inArray(t.theme, r) > -1 || t.autoHideScrollbar,
            t.scrollbarPosition = e.inArray(t.theme, a) > -1 ? "outside" : t.scrollbarPosition
        }, f = function(e) {
            o[e] && (clearTimeout(o[e]),
            J(o, e))
        }, m = function(e) {
            return "yx" === e || "xy" === e || "auto" === e ? "yx" : "x" === e || "horizontal" === e ? "x" : "y"
        }, g = function(e) {
            return "stepped" === e || "pixels" === e || "step" === e || "click" === e ? "stepped" : "stepless"
        }, v = function() {
            var t = e(this)
              , s = t.data(n)
              , r = s.opt
              , a = r.autoExpandScrollbar ? " " + c[1] + "_expand" : ""
              , o = ["<div id='mCSB_" + s.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + s.idx + "_scrollbar mCS-" + r.theme + " mCSB_scrollTools_vertical" + a + "'><div class='" + c[12] + "'><div id='mCSB_" + s.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>", "<div id='mCSB_" + s.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + s.idx + "_scrollbar mCS-" + r.theme + " mCSB_scrollTools_horizontal" + a + "'><div class='" + c[12] + "'><div id='mCSB_" + s.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"]
              , l = "yx" === r.axis ? "mCSB_vertical_horizontal" : "x" === r.axis ? "mCSB_horizontal" : "mCSB_vertical"
              , d = "yx" === r.axis ? o[0] + o[1] : "x" === r.axis ? o[1] : o[0]
              , u = "yx" === r.axis ? "<div id='mCSB_" + s.idx + "_container_wrapper' class='mCSB_container_wrapper' />" : ""
              , h = r.autoHideScrollbar ? " " + c[6] : ""
              , p = "x" !== r.axis && "rtl" === s.langDir ? " " + c[7] : "";
            r.setWidth && t.css("width", r.setWidth),
            r.setHeight && t.css("height", r.setHeight),
            r.setLeft = "y" !== r.axis && "rtl" === s.langDir ? "989999px" : r.setLeft,
            t.addClass(i + " _" + n + "_" + s.idx + h + p).wrapInner("<div id='mCSB_" + s.idx + "' class='mCustomScrollBox mCS-" + r.theme + " " + l + "'><div id='mCSB_" + s.idx + "_container' class='mCSB_container' style='position:relative; top:" + r.setTop + "; left:" + r.setLeft + ";' dir='" + s.langDir + "' /></div>");
            var f = e("#mCSB_" + s.idx)
              , m = e("#mCSB_" + s.idx + "_container");
            "y" === r.axis || r.advanced.autoExpandHorizontalScroll || m.css("width", y(m)),
            "outside" === r.scrollbarPosition ? ("static" === t.css("position") && t.css("position", "relative"),
            t.css("overflow", "visible"),
            f.addClass("mCSB_outside").after(d)) : (f.addClass("mCSB_inside").append(d),
            m.wrap(u)),
            _.call(this);
            var g = [e("#mCSB_" + s.idx + "_dragger_vertical"), e("#mCSB_" + s.idx + "_dragger_horizontal")];
            g[0].css("min-height", g[0].height()),
            g[1].css("min-width", g[1].width())
        }, y = function(t) {
            var i = [t[0].scrollWidth, Math.max.apply(Math, t.children().map((function() {
                return e(this).outerWidth(!0)
            }
            )).get())]
              , n = t.parent().width();
            return i[0] > n ? i[0] : i[1] > n ? i[1] : "100%"
        }, b = function() {
            var t = e(this).data(n)
              , i = t.opt
              , s = e("#mCSB_" + t.idx + "_container");
            if (i.advanced.autoExpandHorizontalScroll && "y" !== i.axis) {
                s.css({
                    width: "auto",
                    "min-width": 0,
                    "overflow-x": "scroll"
                });
                var r = Math.ceil(s[0].scrollWidth);
                3 === i.advanced.autoExpandHorizontalScroll || 2 !== i.advanced.autoExpandHorizontalScroll && r > s.parent().width() ? s.css({
                    width: r,
                    "min-width": "100%",
                    "overflow-x": "inherit"
                }) : s.css({
                    "overflow-x": "inherit",
                    position: "absolute"
                }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({
                    width: Math.ceil(s[0].getBoundingClientRect().right + .4) - Math.floor(s[0].getBoundingClientRect().left),
                    "min-width": "100%",
                    position: "relative"
                }).unwrap()
            }
        }, _ = function() {
            var t = e(this).data(n)
              , i = t.opt
              , s = e(".mCSB_" + t.idx + "_scrollbar:first")
              , r = ie(i.scrollButtons.tabindex) ? "tabindex='" + i.scrollButtons.tabindex + "'" : ""
              , a = ["<a href='#' class='" + c[13] + "' " + r + " />", "<a href='#' class='" + c[14] + "' " + r + " />", "<a href='#' class='" + c[15] + "' " + r + " />", "<a href='#' class='" + c[16] + "' " + r + " />"]
              , o = ["x" === i.axis ? a[2] : a[0], "x" === i.axis ? a[3] : a[1], a[2], a[3]];
            i.scrollButtons.enable && s.prepend(o[0]).append(o[1]).next(".mCSB_scrollTools").prepend(o[2]).append(o[3])
        }, T = function() {
            var t = e(this).data(n)
              , i = e("#mCSB_" + t.idx)
              , s = e("#mCSB_" + t.idx + "_container")
              , r = [e("#mCSB_" + t.idx + "_dragger_vertical"), e("#mCSB_" + t.idx + "_dragger_horizontal")]
              , a = [i.height() / s.outerHeight(!1), i.width() / s.outerWidth(!1)]
              , o = [parseInt(r[0].css("min-height")), Math.round(a[0] * r[0].parent().height()), parseInt(r[1].css("min-width")), Math.round(a[1] * r[1].parent().width())]
              , d = l && o[1] < o[0] ? o[0] : o[1]
              , c = l && o[3] < o[2] ? o[2] : o[3];
            r[0].css({
                height: d,
                "max-height": r[0].parent().height() - 10
            }).find(".mCSB_dragger_bar").css({
                "line-height": o[0] + "px"
            }),
            r[1].css({
                width: c,
                "max-width": r[1].parent().width() - 10
            })
        }, w = function() {
            var t = e(this).data(n)
              , i = e("#mCSB_" + t.idx)
              , s = e("#mCSB_" + t.idx + "_container")
              , r = [e("#mCSB_" + t.idx + "_dragger_vertical"), e("#mCSB_" + t.idx + "_dragger_horizontal")]
              , a = [s.outerHeight(!1) - i.height(), s.outerWidth(!1) - i.width()]
              , o = [a[0] / (r[0].parent().height() - r[0].height()), a[1] / (r[1].parent().width() - r[1].width())];
            t.scrollRatio = {
                y: o[0],
                x: o[1]
            }
        }, S = function(e, t, i) {
            var n = i ? c[0] + "_expanded" : ""
              , s = e.closest(".mCSB_scrollTools");
            "active" === t ? (e.toggleClass(c[0] + " " + n),
            s.toggleClass(c[1]),
            e[0]._draggable = e[0]._draggable ? 0 : 1) : e[0]._draggable || ("hide" === t ? (e.removeClass(c[0]),
            s.removeClass(c[1])) : (e.addClass(c[0]),
            s.addClass(c[1])))
        }, k = function() {
            var t = e(this).data(n)
              , i = e("#mCSB_" + t.idx)
              , s = e("#mCSB_" + t.idx + "_container")
              , r = null == t.overflowed ? s.height() : s.outerHeight(!1)
              , a = null == t.overflowed ? s.width() : s.outerWidth(!1)
              , o = s[0].scrollHeight
              , l = s[0].scrollWidth;
            return o > r && (r = o),
            l > a && (a = l),
            [r > i.height(), a > i.width()]
        }, x = function() {
            var t = e(this)
              , i = t.data(n)
              , s = i.opt
              , r = e("#mCSB_" + i.idx)
              , a = e("#mCSB_" + i.idx + "_container")
              , o = [e("#mCSB_" + i.idx + "_dragger_vertical"), e("#mCSB_" + i.idx + "_dragger_horizontal")];
            if (X(t),
            ("x" !== s.axis && !i.overflowed[0] || "y" === s.axis && i.overflowed[0]) && (o[0].add(a).css("top", 0),
            Y(t, "_resetY")),
            "y" !== s.axis && !i.overflowed[1] || "x" === s.axis && i.overflowed[1]) {
                var l = dx = 0;
                "rtl" === i.langDir && (l = r.width() - a.outerWidth(!1),
                dx = Math.abs(l / i.scrollRatio.x)),
                a.css("left", l),
                o[1].css("left", dx),
                Y(t, "_resetX")
            }
        }, C = function() {
            function t() {
                i = setTimeout((function() {
                    e.event.special.mousewheel ? (clearTimeout(i),
                    M.call(s[0])) : t()
                }
                ), 100)
            }
            var i, s = e(this), r = s.data(n), a = r.opt;
            r.bindEvents || (I.call(this),
            a.contentTouchScroll && O.call(this),
            L.call(this),
            a.mouseWheel.enable && t(),
            j.call(this),
            U.call(this),
            a.advanced.autoScrollOnFocus && F.call(this),
            a.scrollButtons.enable && $.call(this),
            a.keyboard.enable && H.call(this),
            r.bindEvents = !0)
        }, E = function() {
            var t = e(this)
              , i = t.data(n)
              , s = i.opt
              , r = n + "_" + i.idx
              , a = ".mCSB_" + i.idx + "_scrollbar"
              , o = e("#mCSB_" + i.idx + ",#mCSB_" + i.idx + "_container,#mCSB_" + i.idx + "_container_wrapper," + a + " ." + c[12] + ",#mCSB_" + i.idx + "_dragger_vertical,#mCSB_" + i.idx + "_dragger_horizontal," + a + ">a")
              , l = e("#mCSB_" + i.idx + "_container");
            s.advanced.releaseDraggableSelectors && o.add(e(s.advanced.releaseDraggableSelectors)),
            s.advanced.extraDraggableSelectors && o.add(e(s.advanced.extraDraggableSelectors)),
            i.bindEvents && (e(document).add(e(!R() || top.document)).unbind("." + r),
            o.each((function() {
                e(this).unbind("." + r)
            }
            )),
            clearTimeout(t[0]._focusTimeout),
            J(t[0], "_focusTimeout"),
            clearTimeout(i.sequential.step),
            J(i.sequential, "step"),
            clearTimeout(l[0].onCompleteTimeout),
            J(l[0], "onCompleteTimeout"),
            i.bindEvents = !1)
        }, P = function(t) {
            var i = e(this)
              , s = i.data(n)
              , r = s.opt
              , a = e("#mCSB_" + s.idx + "_container_wrapper")
              , o = a.length ? a : e("#mCSB_" + s.idx + "_container")
              , l = [e("#mCSB_" + s.idx + "_scrollbar_vertical"), e("#mCSB_" + s.idx + "_scrollbar_horizontal")]
              , d = [l[0].find(".mCSB_dragger"), l[1].find(".mCSB_dragger")];
            "x" !== r.axis && (s.overflowed[0] && !t ? (l[0].add(d[0]).add(l[0].children("a")).css("display", "block"),
            o.removeClass(c[8] + " " + c[10])) : (r.alwaysShowScrollbar ? (2 !== r.alwaysShowScrollbar && d[0].css("display", "none"),
            o.removeClass(c[10])) : (l[0].css("display", "none"),
            o.addClass(c[10])),
            o.addClass(c[8]))),
            "y" !== r.axis && (s.overflowed[1] && !t ? (l[1].add(d[1]).add(l[1].children("a")).css("display", "block"),
            o.removeClass(c[9] + " " + c[11])) : (r.alwaysShowScrollbar ? (2 !== r.alwaysShowScrollbar && d[1].css("display", "none"),
            o.removeClass(c[11])) : (l[1].css("display", "none"),
            o.addClass(c[11])),
            o.addClass(c[9]))),
            s.overflowed[0] || s.overflowed[1] ? i.removeClass(c[5]) : i.addClass(c[5])
        }, A = function(t) {
            var i = t.type
              , n = t.target.ownerDocument !== document && null !== frameElement ? [e(frameElement).offset().top, e(frameElement).offset().left] : null
              , s = R() && t.target.ownerDocument !== top.document && null !== frameElement ? [e(t.view.frameElement).offset().top, e(t.view.frameElement).offset().left] : [0, 0];
            switch (i) {
            case "pointerdown":
            case "MSPointerDown":
            case "pointermove":
            case "MSPointerMove":
            case "pointerup":
            case "MSPointerUp":
                return n ? [t.originalEvent.pageY - n[0] + s[0], t.originalEvent.pageX - n[1] + s[1], !1] : [t.originalEvent.pageY, t.originalEvent.pageX, !1];
            case "touchstart":
            case "touchmove":
            case "touchend":
                var r = t.originalEvent.touches[0] || t.originalEvent.changedTouches[0]
                  , a = t.originalEvent.touches.length || t.originalEvent.changedTouches.length;
                return t.target.ownerDocument !== document ? [r.screenY, r.screenX, a > 1] : [r.pageY, r.pageX, a > 1];
            default:
                return n ? [t.pageY - n[0] + s[0], t.pageX - n[1] + s[1], !1] : [t.pageY, t.pageX, !1]
            }
        }, I = function() {
            function t(e, t, n, s) {
                if (p[0].idleTimer = c.scrollInertia < 233 ? 250 : 0,
                i.attr("id") === h[1])
                    var r = "x"
                      , l = (i[0].offsetLeft - t + s) * o.scrollRatio.x;
                else
                    r = "y",
                    l = (i[0].offsetTop - e + n) * o.scrollRatio.y;
                Y(a, l.toString(), {
                    dir: r,
                    drag: !0
                })
            }
            var i, s, r, a = e(this), o = a.data(n), c = o.opt, u = n + "_" + o.idx, h = ["mCSB_" + o.idx + "_dragger_vertical", "mCSB_" + o.idx + "_dragger_horizontal"], p = e("#mCSB_" + o.idx + "_container"), f = e("#" + h[0] + ",#" + h[1]), m = c.advanced.releaseDraggableSelectors ? f.add(e(c.advanced.releaseDraggableSelectors)) : f, g = c.advanced.extraDraggableSelectors ? e(!R() || top.document).add(e(c.advanced.extraDraggableSelectors)) : e(!R() || top.document);
            f.bind("contextmenu." + u, (function(e) {
                e.preventDefault()
            }
            )).bind("mousedown." + u + " touchstart." + u + " pointerdown." + u + " MSPointerDown." + u, (function(t) {
                if (t.stopImmediatePropagation(),
                t.preventDefault(),
                ee(t)) {
                    d = !0,
                    l && (document.onselectstart = function() {
                        return !1
                    }
                    ),
                    N.call(p, !1),
                    X(a);
                    var n = (i = e(this)).offset()
                      , o = A(t)[0] - n.top
                      , u = A(t)[1] - n.left
                      , h = i.height() + n.top
                      , f = i.width() + n.left;
                    h > o && o > 0 && f > u && u > 0 && (s = o,
                    r = u),
                    S(i, "active", c.autoExpandScrollbar)
                }
            }
            )).bind("touchmove." + u, (function(e) {
                e.stopImmediatePropagation(),
                e.preventDefault();
                var n = i.offset()
                  , a = A(e)[0] - n.top
                  , o = A(e)[1] - n.left;
                t(s, r, a, o)
            }
            )),
            e(document).add(g).bind("mousemove." + u + " pointermove." + u + " MSPointerMove." + u, (function(e) {
                if (i) {
                    var n = i.offset()
                      , a = A(e)[0] - n.top
                      , o = A(e)[1] - n.left;
                    if (s === a && r === o)
                        return;
                    t(s, r, a, o)
                }
            }
            )).add(m).bind("mouseup." + u + " touchend." + u + " pointerup." + u + " MSPointerUp." + u, (function() {
                i && (S(i, "active", c.autoExpandScrollbar),
                i = null),
                d = !1,
                l && (document.onselectstart = null),
                N.call(p, !0)
            }
            ))
        }, O = function() {
            function i(e) {
                if (!te(e) || d || A(e)[2])
                    t = 0;
                else {
                    t = 1,
                    w = 0,
                    S = 0,
                    c = 1,
                    k.removeClass("mCS_touch_action");
                    var i = I.offset();
                    u = A(e)[0] - i.top,
                    h = A(e)[1] - i.left,
                    B = [A(e)[0], A(e)[1]]
                }
            }
            function s(e) {
                if (te(e) && !d && !A(e)[2] && (C.documentTouchScroll || e.preventDefault(),
                e.stopImmediatePropagation(),
                (!S || w) && c)) {
                    g = Q();
                    var t = P.offset()
                      , i = A(e)[0] - t.top
                      , n = A(e)[1] - t.left
                      , s = "mcsLinearOut";
                    if (L.push(i),
                    M.push(n),
                    B[2] = Math.abs(A(e)[0] - B[0]),
                    B[3] = Math.abs(A(e)[1] - B[1]),
                    x.overflowed[0])
                        var r = O[0].parent().height() - O[0].height()
                          , a = u - i > 0 && i - u > -r * x.scrollRatio.y && (2 * B[3] < B[2] || "yx" === C.axis);
                    if (x.overflowed[1])
                        var o = O[1].parent().width() - O[1].width()
                          , p = h - n > 0 && n - h > -o * x.scrollRatio.x && (2 * B[2] < B[3] || "yx" === C.axis);
                    a || p ? (U || e.preventDefault(),
                    w = 1) : (S = 1,
                    k.addClass("mCS_touch_action")),
                    U && e.preventDefault(),
                    _ = "yx" === C.axis ? [u - i, h - n] : "x" === C.axis ? [null, h - n] : [u - i, null],
                    I[0].idleTimer = 250,
                    x.overflowed[0] && l(_[0], D, s, "y", "all", !0),
                    x.overflowed[1] && l(_[1], D, s, "x", N, !0)
                }
            }
            function r(e) {
                if (!te(e) || d || A(e)[2])
                    t = 0;
                else {
                    t = 1,
                    e.stopImmediatePropagation(),
                    X(k),
                    m = Q();
                    var i = P.offset();
                    p = A(e)[0] - i.top,
                    f = A(e)[1] - i.left,
                    L = [],
                    M = []
                }
            }
            function a(e) {
                if (te(e) && !d && !A(e)[2]) {
                    c = 0,
                    e.stopImmediatePropagation(),
                    w = 0,
                    S = 0,
                    v = Q();
                    var t = P.offset()
                      , i = A(e)[0] - t.top
                      , n = A(e)[1] - t.left;
                    if (!(v - g > 30)) {
                        var s = "mcsEaseOut"
                          , r = 2.5 > (b = 1e3 / (v - m))
                          , a = r ? [L[L.length - 2], M[M.length - 2]] : [0, 0];
                        y = r ? [i - a[0], n - a[1]] : [i - p, n - f];
                        var u = [Math.abs(y[0]), Math.abs(y[1])];
                        b = r ? [Math.abs(y[0] / 4), Math.abs(y[1] / 4)] : [b, b];
                        var h = [Math.abs(I[0].offsetTop) - y[0] * o(u[0] / b[0], b[0]), Math.abs(I[0].offsetLeft) - y[1] * o(u[1] / b[1], b[1])];
                        _ = "yx" === C.axis ? [h[0], h[1]] : "x" === C.axis ? [null, h[1]] : [h[0], null],
                        T = [4 * u[0] + C.scrollInertia, 4 * u[1] + C.scrollInertia];
                        var k = parseInt(C.contentTouchScroll) || 0;
                        _[0] = u[0] > k ? _[0] : 0,
                        _[1] = u[1] > k ? _[1] : 0,
                        x.overflowed[0] && l(_[0], T[0], s, "y", N, !1),
                        x.overflowed[1] && l(_[1], T[1], s, "x", N, !1)
                    }
                }
            }
            function o(e, t) {
                var i = [1.5 * t, 2 * t, t / 1.5, t / 2];
                return e > 90 ? t > 4 ? i[0] : i[3] : e > 60 ? t > 3 ? i[3] : i[2] : e > 30 ? t > 8 ? i[1] : t > 6 ? i[0] : t > 4 ? t : i[2] : t > 8 ? t : i[3]
            }
            function l(e, t, i, n, s, r) {
                e && Y(k, e.toString(), {
                    dur: t,
                    scrollEasing: i,
                    dir: n,
                    overwrite: s,
                    drag: r
                })
            }
            var c, u, h, p, f, m, g, v, y, b, _, T, w, S, k = e(this), x = k.data(n), C = x.opt, E = n + "_" + x.idx, P = e("#mCSB_" + x.idx), I = e("#mCSB_" + x.idx + "_container"), O = [e("#mCSB_" + x.idx + "_dragger_vertical"), e("#mCSB_" + x.idx + "_dragger_horizontal")], L = [], M = [], D = 0, N = "yx" === C.axis ? "none" : "all", B = [], j = I.find("iframe"), F = ["touchstart." + E + " pointerdown." + E + " MSPointerDown." + E, "touchmove." + E + " pointermove." + E + " MSPointerMove." + E, "touchend." + E + " pointerup." + E + " MSPointerUp." + E], U = void 0 !== document.body.style.touchAction && "" !== document.body.style.touchAction;
            I.bind(F[0], (function(e) {
                i(e)
            }
            )).bind(F[1], (function(e) {
                s(e)
            }
            )),
            P.bind(F[0], (function(e) {
                r(e)
            }
            )).bind(F[2], (function(e) {
                a(e)
            }
            )),
            j.length && j.each((function() {
                e(this).bind("load", (function() {
                    R(this) && e(this.contentDocument || this.contentWindow.document).bind(F[0], (function(e) {
                        i(e),
                        r(e)
                    }
                    )).bind(F[1], (function(e) {
                        s(e)
                    }
                    )).bind(F[2], (function(e) {
                        a(e)
                    }
                    ))
                }
                ))
            }
            ))
        }, L = function() {
            function i() {
                return window.getSelection ? window.getSelection().toString() : document.selection && "Control" != document.selection.type ? document.selection.createRange().text : 0
            }
            function s(e, t, i) {
                c.type = i && r ? "stepped" : "stepless",
                c.scrollAmount = 10,
                z(a, e, t, "mcsLinearOut", i ? 60 : null)
            }
            var r, a = e(this), o = a.data(n), l = o.opt, c = o.sequential, u = n + "_" + o.idx, h = e("#mCSB_" + o.idx + "_container"), p = h.parent();
            h.bind("mousedown." + u, (function() {
                t || r || (r = 1,
                d = !0)
            }
            )).add(document).bind("mousemove." + u, (function(e) {
                if (!t && r && i()) {
                    var n = h.offset()
                      , a = A(e)[0] - n.top + h[0].offsetTop
                      , d = A(e)[1] - n.left + h[0].offsetLeft;
                    a > 0 && a < p.height() && d > 0 && d < p.width() ? c.step && s("off", null, "stepped") : ("x" !== l.axis && o.overflowed[0] && (0 > a ? s("on", 38) : a > p.height() && s("on", 40)),
                    "y" !== l.axis && o.overflowed[1] && (0 > d ? s("on", 37) : d > p.width() && s("on", 39)))
                }
            }
            )).bind("mouseup." + u + " dragend." + u, (function() {
                t || (r && (r = 0,
                s("off", null)),
                d = !1)
            }
            ))
        }, M = function() {
            function t(t, n) {
                if (X(i),
                !B(i, t.target)) {
                    var a = "auto" !== r.mouseWheel.deltaFactor ? parseInt(r.mouseWheel.deltaFactor) : l && t.deltaFactor < 100 ? 100 : t.deltaFactor || 100
                      , c = r.scrollInertia;
                    if ("x" === r.axis || "x" === r.mouseWheel.axis)
                        var u = "x"
                          , h = [Math.round(a * s.scrollRatio.x), parseInt(r.mouseWheel.scrollAmount)]
                          , p = "auto" !== r.mouseWheel.scrollAmount ? h[1] : h[0] >= o.width() ? .9 * o.width() : h[0]
                          , f = Math.abs(e("#mCSB_" + s.idx + "_container")[0].offsetLeft)
                          , m = d[1][0].offsetLeft
                          , g = d[1].parent().width() - d[1].width()
                          , v = "y" === r.mouseWheel.axis ? t.deltaY || n : t.deltaX;
                    else
                        u = "y",
                        h = [Math.round(a * s.scrollRatio.y), parseInt(r.mouseWheel.scrollAmount)],
                        p = "auto" !== r.mouseWheel.scrollAmount ? h[1] : h[0] >= o.height() ? .9 * o.height() : h[0],
                        f = Math.abs(e("#mCSB_" + s.idx + "_container")[0].offsetTop),
                        m = d[0][0].offsetTop,
                        g = d[0].parent().height() - d[0].height(),
                        v = t.deltaY || n;
                    "y" === u && !s.overflowed[0] || "x" === u && !s.overflowed[1] || ((r.mouseWheel.invert || t.webkitDirectionInvertedFromDevice) && (v = -v),
                    r.mouseWheel.normalizeDelta && (v = 0 > v ? -1 : 1),
                    (v > 0 && 0 !== m || 0 > v && m !== g || r.mouseWheel.preventDefault) && (t.stopImmediatePropagation(),
                    t.preventDefault()),
                    t.deltaFactor < 5 && !r.mouseWheel.normalizeDelta && (p = t.deltaFactor,
                    c = 17),
                    Y(i, (f - v * p).toString(), {
                        dir: u,
                        dur: c
                    }))
                }
            }
            if (e(this).data(n)) {
                var i = e(this)
                  , s = i.data(n)
                  , r = s.opt
                  , a = n + "_" + s.idx
                  , o = e("#mCSB_" + s.idx)
                  , d = [e("#mCSB_" + s.idx + "_dragger_vertical"), e("#mCSB_" + s.idx + "_dragger_horizontal")]
                  , c = e("#mCSB_" + s.idx + "_container").find("iframe");
                c.length && c.each((function() {
                    e(this).bind("load", (function() {
                        R(this) && e(this.contentDocument || this.contentWindow.document).bind("mousewheel." + a, (function(e, i) {
                            t(e, i)
                        }
                        ))
                    }
                    ))
                }
                )),
                o.bind("mousewheel." + a, (function(e, i) {
                    t(e, i)
                }
                ))
            }
        }, D = new Object, R = function(t) {
            var i = !1
              , n = !1
              , s = null;
            if (void 0 === t ? n = "#empty" : void 0 !== e(t).attr("id") && (n = e(t).attr("id")),
            !1 !== n && void 0 !== D[n])
                return D[n];
            if (t) {
                try {
                    s = (t.contentDocument || t.contentWindow.document).body.innerHTML
                } catch (e) {}
                i = null !== s
            } else {
                try {
                    s = top.document.body.innerHTML
                } catch (e) {}
                i = null !== s
            }
            return !1 !== n && (D[n] = i),
            i
        }, N = function(e) {
            var t = this.find("iframe");
            if (t.length) {
                var i = e ? "auto" : "none";
                t.css("pointer-events", i)
            }
        }, B = function(t, i) {
            var s = i.nodeName.toLowerCase()
              , r = t.data(n).opt.mouseWheel.disableOver
              , a = ["select", "textarea"];
            return e.inArray(s, r) > -1 && !(e.inArray(s, a) > -1 && !e(i).is(":focus"))
        }, j = function() {
            var t, i = e(this), s = i.data(n), r = n + "_" + s.idx, a = e("#mCSB_" + s.idx + "_container"), o = a.parent();
            e(".mCSB_" + s.idx + "_scrollbar ." + c[12]).bind("mousedown." + r + " touchstart." + r + " pointerdown." + r + " MSPointerDown." + r, (function(i) {
                d = !0,
                e(i.target).hasClass("mCSB_dragger") || (t = 1)
            }
            )).bind("touchend." + r + " pointerup." + r + " MSPointerUp." + r, (function() {
                d = !1
            }
            )).bind("click." + r, (function(n) {
                if (t && (t = 0,
                e(n.target).hasClass(c[12]) || e(n.target).hasClass("mCSB_draggerRail"))) {
                    X(i);
                    var r = e(this)
                      , l = r.find(".mCSB_dragger");
                    if (r.parent(".mCSB_scrollTools_horizontal").length > 0) {
                        if (!s.overflowed[1])
                            return;
                        var d = "x"
                          , u = n.pageX > l.offset().left ? -1 : 1
                          , h = Math.abs(a[0].offsetLeft) - u * (.9 * o.width())
                    } else {
                        if (!s.overflowed[0])
                            return;
                        d = "y",
                        u = n.pageY > l.offset().top ? -1 : 1,
                        h = Math.abs(a[0].offsetTop) - u * (.9 * o.height())
                    }
                    Y(i, h.toString(), {
                        dir: d,
                        scrollEasing: "mcsEaseInOut"
                    })
                }
            }
            ))
        }, F = function() {
            var t = e(this)
              , i = t.data(n)
              , s = i.opt
              , r = n + "_" + i.idx
              , a = e("#mCSB_" + i.idx + "_container")
              , o = a.parent();
            a.bind("focusin." + r, (function() {
                var i = e(document.activeElement)
                  , n = a.find(".mCustomScrollBox").length
                  , r = 0;
                i.is(s.advanced.autoScrollOnFocus) && (X(t),
                clearTimeout(t[0]._focusTimeout),
                t[0]._focusTimer = n ? (r + 17) * n : 0,
                t[0]._focusTimeout = setTimeout((function() {
                    var e = [ne(i)[0], ne(i)[1]]
                      , n = [a[0].offsetTop, a[0].offsetLeft]
                      , l = [n[0] + e[0] >= 0 && n[0] + e[0] < o.height() - i.outerHeight(!1), n[1] + e[1] >= 0 && n[0] + e[1] < o.width() - i.outerWidth(!1)]
                      , d = "yx" !== s.axis || l[0] || l[1] ? "all" : "none";
                    "x" === s.axis || l[0] || Y(t, e[0].toString(), {
                        dir: "y",
                        scrollEasing: "mcsEaseInOut",
                        overwrite: d,
                        dur: r
                    }),
                    "y" === s.axis || l[1] || Y(t, e[1].toString(), {
                        dir: "x",
                        scrollEasing: "mcsEaseInOut",
                        overwrite: d,
                        dur: r
                    })
                }
                ), t[0]._focusTimer))
            }
            ))
        }, U = function() {
            var t = e(this).data(n)
              , i = n + "_" + t.idx
              , s = e("#mCSB_" + t.idx + "_container").parent();
            s.bind("scroll." + i, (function() {
                0 === s.scrollTop() && 0 === s.scrollLeft() || e(".mCSB_" + t.idx + "_scrollbar").css("visibility", "hidden")
            }
            ))
        }, $ = function() {
            var t = e(this)
              , i = t.data(n)
              , s = i.opt
              , r = i.sequential
              , a = n + "_" + i.idx
              , o = ".mCSB_" + i.idx + "_scrollbar";
            e(o + ">a").bind("contextmenu." + a, (function(e) {
                e.preventDefault()
            }
            )).bind("mousedown." + a + " touchstart." + a + " pointerdown." + a + " MSPointerDown." + a + " mouseup." + a + " touchend." + a + " pointerup." + a + " MSPointerUp." + a + " mouseout." + a + " pointerout." + a + " MSPointerOut." + a + " click." + a, (function(n) {
                function a(e, i) {
                    r.scrollAmount = s.scrollButtons.scrollAmount,
                    z(t, e, i)
                }
                if (n.preventDefault(),
                ee(n)) {
                    var o = e(this).attr("class");
                    switch (r.type = s.scrollButtons.scrollType,
                    n.type) {
                    case "mousedown":
                    case "touchstart":
                    case "pointerdown":
                    case "MSPointerDown":
                        if ("stepped" === r.type)
                            return;
                        d = !0,
                        i.tweenRunning = !1,
                        a("on", o);
                        break;
                    case "mouseup":
                    case "touchend":
                    case "pointerup":
                    case "MSPointerUp":
                    case "mouseout":
                    case "pointerout":
                    case "MSPointerOut":
                        if ("stepped" === r.type)
                            return;
                        d = !1,
                        r.dir && a("off", o);
                        break;
                    case "click":
                        if ("stepped" !== r.type || i.tweenRunning)
                            return;
                        a("on", o)
                    }
                }
            }
            ))
        }, H = function() {
            function t(t) {
                function n(e, t) {
                    a.type = r.keyboard.scrollType,
                    a.scrollAmount = r.keyboard.scrollAmount,
                    "stepped" === a.type && s.tweenRunning || z(i, e, t)
                }
                switch (t.type) {
                case "blur":
                    s.tweenRunning && a.dir && n("off", null);
                    break;
                case "keydown":
                case "keyup":
                    var o = t.keyCode ? t.keyCode : t.which
                      , l = "on";
                    if ("x" !== r.axis && (38 === o || 40 === o) || "y" !== r.axis && (37 === o || 39 === o)) {
                        if ((38 === o || 40 === o) && !s.overflowed[0] || (37 === o || 39 === o) && !s.overflowed[1])
                            return;
                        "keyup" === t.type && (l = "off"),
                        e(document.activeElement).is(u) || (t.preventDefault(),
                        t.stopImmediatePropagation(),
                        n(l, o))
                    } else if (33 === o || 34 === o) {
                        if ((s.overflowed[0] || s.overflowed[1]) && (t.preventDefault(),
                        t.stopImmediatePropagation()),
                        "keyup" === t.type) {
                            X(i);
                            var h = 34 === o ? -1 : 1;
                            if ("x" === r.axis || "yx" === r.axis && s.overflowed[1] && !s.overflowed[0])
                                var p = "x"
                                  , f = Math.abs(d[0].offsetLeft) - h * (.9 * c.width());
                            else
                                p = "y",
                                f = Math.abs(d[0].offsetTop) - h * (.9 * c.height());
                            Y(i, f.toString(), {
                                dir: p,
                                scrollEasing: "mcsEaseInOut"
                            })
                        }
                    } else
                        35 !== o && 36 !== o || e(document.activeElement).is(u) || ((s.overflowed[0] || s.overflowed[1]) && (t.preventDefault(),
                        t.stopImmediatePropagation()),
                        "keyup" !== t.type) || ("x" === r.axis || "yx" === r.axis && s.overflowed[1] && !s.overflowed[0] ? (p = "x",
                        f = 35 === o ? Math.abs(c.width() - d.outerWidth(!1)) : 0) : (p = "y",
                        f = 35 === o ? Math.abs(c.height() - d.outerHeight(!1)) : 0),
                        Y(i, f.toString(), {
                            dir: p,
                            scrollEasing: "mcsEaseInOut"
                        }))
                }
            }
            var i = e(this)
              , s = i.data(n)
              , r = s.opt
              , a = s.sequential
              , o = n + "_" + s.idx
              , l = e("#mCSB_" + s.idx)
              , d = e("#mCSB_" + s.idx + "_container")
              , c = d.parent()
              , u = "input,textarea,select,datalist,keygen,[contenteditable='true']"
              , h = d.find("iframe")
              , p = ["blur." + o + " keydown." + o + " keyup." + o];
            h.length && h.each((function() {
                e(this).bind("load", (function() {
                    R(this) && e(this.contentDocument || this.contentWindow.document).bind(p[0], (function(e) {
                        t(e)
                    }
                    ))
                }
                ))
            }
            )),
            l.attr("tabindex", "0").bind(p[0], (function(e) {
                t(e)
            }
            ))
        }, z = function(t, i, s, r, a) {
            function o(e) {
                u.snapAmount && (h.scrollAmount = u.snapAmount instanceof Array ? "x" === h.dir[0] ? u.snapAmount[1] : u.snapAmount[0] : u.snapAmount);
                var i = "stepped" !== h.type
                  , n = a || (e ? i ? m / 1.5 : g : 1e3 / 60)
                  , s = e ? i ? 7.5 : 40 : 2.5
                  , l = [Math.abs(p[0].offsetTop), Math.abs(p[0].offsetLeft)]
                  , c = [d.scrollRatio.y > 10 ? 10 : d.scrollRatio.y, d.scrollRatio.x > 10 ? 10 : d.scrollRatio.x]
                  , f = "x" === h.dir[0] ? l[1] + h.dir[1] * (c[1] * s) : l[0] + h.dir[1] * (c[0] * s)
                  , v = "x" === h.dir[0] ? l[1] + h.dir[1] * parseInt(h.scrollAmount) : l[0] + h.dir[1] * parseInt(h.scrollAmount)
                  , y = "auto" !== h.scrollAmount ? v : f
                  , b = r || (e ? i ? "mcsLinearOut" : "mcsEaseInOut" : "mcsLinear")
                  , _ = !!e;
                return e && 17 > n && (y = "x" === h.dir[0] ? l[1] : l[0]),
                Y(t, y.toString(), {
                    dir: h.dir[0],
                    scrollEasing: b,
                    dur: n,
                    onComplete: _
                }),
                e ? void (h.dir = !1) : (clearTimeout(h.step),
                void (h.step = setTimeout((function() {
                    o()
                }
                ), n)))
            }
            function l() {
                clearTimeout(h.step),
                J(h, "step"),
                X(t)
            }
            var d = t.data(n)
              , u = d.opt
              , h = d.sequential
              , p = e("#mCSB_" + d.idx + "_container")
              , f = "stepped" === h.type
              , m = u.scrollInertia < 26 ? 26 : u.scrollInertia
              , g = u.scrollInertia < 1 ? 17 : u.scrollInertia;
            switch (i) {
            case "on":
                if (h.dir = [s === c[16] || s === c[15] || 39 === s || 37 === s ? "x" : "y", s === c[13] || s === c[15] || 38 === s || 37 === s ? -1 : 1],
                X(t),
                ie(s) && "stepped" === h.type)
                    return;
                o(f);
                break;
            case "off":
                l(),
                (f || d.tweenRunning && h.dir) && o(!0)
            }
        }, q = function(t) {
            var i = e(this).data(n).opt
              , s = [];
            return "function" == typeof t && (t = t()),
            t instanceof Array ? s = t.length > 1 ? [t[0], t[1]] : "x" === i.axis ? [null, t[0]] : [t[0], null] : (s[0] = t.y ? t.y : t.x || "x" === i.axis ? null : t,
            s[1] = t.x ? t.x : t.y || "y" === i.axis ? null : t),
            "function" == typeof s[0] && (s[0] = s[0]()),
            "function" == typeof s[1] && (s[1] = s[1]()),
            s
        }, W = function(t, i) {
            if (null != t && void 0 !== t) {
                var s = e(this)
                  , r = s.data(n)
                  , a = r.opt
                  , o = e("#mCSB_" + r.idx + "_container")
                  , l = o.parent()
                  , d = typeof t;
                i || (i = "x" === a.axis ? "x" : "y");
                var c = "x" === i ? o.outerWidth(!1) - l.width() : o.outerHeight(!1) - l.height()
                  , h = "x" === i ? o[0].offsetLeft : o[0].offsetTop
                  , p = "x" === i ? "left" : "top";
                switch (d) {
                case "function":
                    return t();
                case "object":
                    if (!(m = t.jquery ? t : e(t)).length)
                        return;
                    return "x" === i ? ne(m)[1] : ne(m)[0];
                case "string":
                case "number":
                    if (ie(t))
                        return Math.abs(t);
                    if (-1 !== t.indexOf("%"))
                        return Math.abs(c * parseInt(t) / 100);
                    if (-1 !== t.indexOf("-="))
                        return Math.abs(h - parseInt(t.split("-=")[1]));
                    if (-1 !== t.indexOf("+=")) {
                        var f = h + parseInt(t.split("+=")[1]);
                        return f >= 0 ? 0 : Math.abs(f)
                    }
                    if (-1 !== t.indexOf("px") && ie(t.split("px")[0]))
                        return Math.abs(t.split("px")[0]);
                    if ("top" === t || "left" === t)
                        return 0;
                    if ("bottom" === t)
                        return Math.abs(l.height() - o.outerHeight(!1));
                    if ("right" === t)
                        return Math.abs(l.width() - o.outerWidth(!1));
                    if ("first" === t || "last" === t) {
                        var m = o.find(":" + t);
                        return "x" === i ? ne(m)[1] : ne(m)[0]
                    }
                    return e(t).length ? "x" === i ? ne(e(t))[1] : ne(e(t))[0] : (o.css(p, t),
                    void u.update.call(null, s[0]))
                }
            }
        }, V = function(t) {
            function i() {
                return clearTimeout(h[0].autoUpdate),
                0 === o.parents("html").length ? void (o = null) : void (h[0].autoUpdate = setTimeout((function() {
                    return d.advanced.updateOnSelectorChange && (l.poll.change.n = r(),
                    l.poll.change.n !== l.poll.change.o) ? (l.poll.change.o = l.poll.change.n,
                    void a(3)) : d.advanced.updateOnContentResize && (l.poll.size.n = o[0].scrollHeight + o[0].scrollWidth + h[0].offsetHeight + o[0].offsetHeight + o[0].offsetWidth,
                    l.poll.size.n !== l.poll.size.o) ? (l.poll.size.o = l.poll.size.n,
                    void a(1)) : !d.advanced.updateOnImageLoad || "auto" === d.advanced.updateOnImageLoad && "y" === d.axis || (l.poll.img.n = h.find("img").length,
                    l.poll.img.n === l.poll.img.o) ? void ((d.advanced.updateOnSelectorChange || d.advanced.updateOnContentResize || d.advanced.updateOnImageLoad) && i()) : (l.poll.img.o = l.poll.img.n,
                    void h.find("img").each((function() {
                        s(this)
                    }
                    )))
                }
                ), d.advanced.autoUpdateTimeout))
            }
            function s(t) {
                function i(e, t) {
                    return function() {
                        return t.apply(e, arguments)
                    }
                }
                function n() {
                    this.onload = null,
                    e(t).addClass(c[2]),
                    a(2)
                }
                if (e(t).hasClass(c[2]))
                    a();
                else {
                    var s = new Image;
                    s.onload = i(s, n),
                    s.src = t.src
                }
            }
            function r() {
                !0 === d.advanced.updateOnSelectorChange && (d.advanced.updateOnSelectorChange = "*");
                var e = 0
                  , t = h.find(d.advanced.updateOnSelectorChange);
                return d.advanced.updateOnSelectorChange && t.length > 0 && t.each((function() {
                    e += this.offsetHeight + this.offsetWidth
                }
                )),
                e
            }
            function a(e) {
                clearTimeout(h[0].autoUpdate),
                u.update.call(null, o[0], e)
            }
            var o = e(this)
              , l = o.data(n)
              , d = l.opt
              , h = e("#mCSB_" + l.idx + "_container");
            return t ? (clearTimeout(h[0].autoUpdate),
            void J(h[0], "autoUpdate")) : void i()
        }, G = function(e, t, i) {
            return Math.round(e / t) * t - i
        }, X = function(t) {
            var i = t.data(n);
            e("#mCSB_" + i.idx + "_container,#mCSB_" + i.idx + "_container_wrapper,#mCSB_" + i.idx + "_dragger_vertical,#mCSB_" + i.idx + "_dragger_horizontal").each((function() {
                Z.call(this)
            }
            ))
        }, Y = function(t, i, s) {
            function r(e) {
                return l && d.callbacks[e] && "function" == typeof d.callbacks[e]
            }
            function a() {
                return [d.callbacks.alwaysTriggerOffsets || _ >= T[0] + k, d.callbacks.alwaysTriggerOffsets || -x >= _]
            }
            function o() {
                var e = [p[0].offsetTop, p[0].offsetLeft]
                  , i = [y[0].offsetTop, y[0].offsetLeft]
                  , n = [p.outerHeight(!1), p.outerWidth(!1)]
                  , r = [h.height(), h.width()];
                t[0].mcs = {
                    content: p,
                    top: e[0],
                    left: e[1],
                    draggerTop: i[0],
                    draggerLeft: i[1],
                    topPct: Math.round(100 * Math.abs(e[0]) / (Math.abs(n[0]) - r[0])),
                    leftPct: Math.round(100 * Math.abs(e[1]) / (Math.abs(n[1]) - r[1])),
                    direction: s.dir
                }
            }
            var l = t.data(n)
              , d = l.opt
              , c = {
                trigger: "internal",
                dir: "y",
                scrollEasing: "mcsEaseOut",
                drag: !1,
                dur: d.scrollInertia,
                overwrite: "all",
                callbacks: !0,
                onStart: !0,
                onUpdate: !0,
                onComplete: !0
            }
              , u = [(s = e.extend(c, s)).dur, s.drag ? 0 : s.dur]
              , h = e("#mCSB_" + l.idx)
              , p = e("#mCSB_" + l.idx + "_container")
              , f = p.parent()
              , m = d.callbacks.onTotalScrollOffset ? q.call(t, d.callbacks.onTotalScrollOffset) : [0, 0]
              , g = d.callbacks.onTotalScrollBackOffset ? q.call(t, d.callbacks.onTotalScrollBackOffset) : [0, 0];
            if (l.trigger = s.trigger,
            0 === f.scrollTop() && 0 === f.scrollLeft() || (e(".mCSB_" + l.idx + "_scrollbar").css("visibility", "visible"),
            f.scrollTop(0).scrollLeft(0)),
            "_resetY" !== i || l.contentReset.y || (r("onOverflowYNone") && d.callbacks.onOverflowYNone.call(t[0]),
            l.contentReset.y = 1),
            "_resetX" !== i || l.contentReset.x || (r("onOverflowXNone") && d.callbacks.onOverflowXNone.call(t[0]),
            l.contentReset.x = 1),
            "_resetY" !== i && "_resetX" !== i) {
                if (!l.contentReset.y && t[0].mcs || !l.overflowed[0] || (r("onOverflowY") && d.callbacks.onOverflowY.call(t[0]),
                l.contentReset.x = null),
                !l.contentReset.x && t[0].mcs || !l.overflowed[1] || (r("onOverflowX") && d.callbacks.onOverflowX.call(t[0]),
                l.contentReset.x = null),
                d.snapAmount) {
                    var v = d.snapAmount instanceof Array ? "x" === s.dir ? d.snapAmount[1] : d.snapAmount[0] : d.snapAmount;
                    i = G(i, v, d.snapOffset)
                }
                switch (s.dir) {
                case "x":
                    var y = e("#mCSB_" + l.idx + "_dragger_horizontal")
                      , b = "left"
                      , _ = p[0].offsetLeft
                      , T = [h.width() - p.outerWidth(!1), y.parent().width() - y.width()]
                      , w = [i, 0 === i ? 0 : i / l.scrollRatio.x]
                      , k = m[1]
                      , x = g[1]
                      , C = k > 0 ? k / l.scrollRatio.x : 0
                      , E = x > 0 ? x / l.scrollRatio.x : 0;
                    break;
                case "y":
                    y = e("#mCSB_" + l.idx + "_dragger_vertical"),
                    b = "top",
                    _ = p[0].offsetTop,
                    T = [h.height() - p.outerHeight(!1), y.parent().height() - y.height()],
                    w = [i, 0 === i ? 0 : i / l.scrollRatio.y],
                    k = m[0],
                    x = g[0],
                    C = k > 0 ? k / l.scrollRatio.y : 0,
                    E = x > 0 ? x / l.scrollRatio.y : 0
                }
                w[1] < 0 || 0 === w[0] && 0 === w[1] ? w = [0, 0] : w[1] >= T[1] ? w = [T[0], T[1]] : w[0] = -w[0],
                t[0].mcs || (o(),
                r("onInit") && d.callbacks.onInit.call(t[0])),
                clearTimeout(p[0].onCompleteTimeout),
                K(y[0], b, Math.round(w[1]), u[1], s.scrollEasing),
                !l.tweenRunning && (0 === _ && w[0] >= 0 || _ === T[0] && w[0] <= T[0]) || K(p[0], b, Math.round(w[0]), u[0], s.scrollEasing, s.overwrite, {
                    onStart: function() {
                        s.callbacks && s.onStart && !l.tweenRunning && (r("onScrollStart") && (o(),
                        d.callbacks.onScrollStart.call(t[0])),
                        l.tweenRunning = !0,
                        S(y),
                        l.cbOffsets = a())
                    },
                    onUpdate: function() {
                        s.callbacks && s.onUpdate && r("whileScrolling") && (o(),
                        d.callbacks.whileScrolling.call(t[0]))
                    },
                    onComplete: function() {
                        if (s.callbacks && s.onComplete) {
                            "yx" === d.axis && clearTimeout(p[0].onCompleteTimeout);
                            var e = p[0].idleTimer || 0;
                            p[0].onCompleteTimeout = setTimeout((function() {
                                r("onScroll") && (o(),
                                d.callbacks.onScroll.call(t[0])),
                                r("onTotalScroll") && w[1] >= T[1] - C && l.cbOffsets[0] && (o(),
                                d.callbacks.onTotalScroll.call(t[0])),
                                r("onTotalScrollBack") && w[1] <= E && l.cbOffsets[1] && (o(),
                                d.callbacks.onTotalScrollBack.call(t[0])),
                                l.tweenRunning = !1,
                                p[0].idleTimer = 0,
                                S(y, "hide")
                            }
                            ), e)
                        }
                    }
                })
            }
        }, K = function(e, t, i, n, s, r, a) {
            function o() {
                T.stop || (y || f.call(),
                y = Q() - v,
                l(),
                y >= T.time && (T.time = y > T.time ? y + h - (y - T.time) : y + h - 1,
                T.time < y + 1 && (T.time = y + 1)),
                T.time < n ? T.id = p(o) : g.call())
            }
            function l() {
                n > 0 ? (T.currVal = u(T.time, b, w, n, s),
                _[t] = Math.round(T.currVal) + "px") : _[t] = i + "px",
                m.call()
            }
            function d() {
                h = 1e3 / 60,
                T.time = y + h,
                p = window.requestAnimationFrame ? window.requestAnimationFrame : function(e) {
                    return l(),
                    setTimeout(e, .01)
                }
                ,
                T.id = p(o)
            }
            function c() {
                null != T.id && (window.requestAnimationFrame ? window.cancelAnimationFrame(T.id) : clearTimeout(T.id),
                T.id = null)
            }
            function u(e, t, i, n, s) {
                switch (s) {
                case "linear":
                case "mcsLinear":
                    return i * e / n + t;
                case "mcsLinearOut":
                    return e /= n,
                    e--,
                    i * Math.sqrt(1 - e * e) + t;
                case "easeInOutSmooth":
                    return 1 > (e /= n / 2) ? i / 2 * e * e + t : -i / 2 * (--e * (e - 2) - 1) + t;
                case "easeInOutStrong":
                    return 1 > (e /= n / 2) ? i / 2 * Math.pow(2, 10 * (e - 1)) + t : (e--,
                    i / 2 * (2 - Math.pow(2, -10 * e)) + t);
                case "easeInOut":
                case "mcsEaseInOut":
                    return 1 > (e /= n / 2) ? i / 2 * e * e * e + t : i / 2 * ((e -= 2) * e * e + 2) + t;
                case "easeOutSmooth":
                    return e /= n,
                    -i * (--e * e * e * e - 1) + t;
                case "easeOutStrong":
                    return i * (1 - Math.pow(2, -10 * e / n)) + t;
                default:
                    var r = (e /= n) * e
                      , a = r * e;
                    return t + i * (.499999999999997 * a * r + -2.5 * r * r + 5.5 * a + -6.5 * r + 4 * e)
                }
            }
            e._mTween || (e._mTween = {
                top: {},
                left: {}
            });
            var h, p, f = (a = a || {}).onStart || function() {}
            , m = a.onUpdate || function() {}
            , g = a.onComplete || function() {}
            , v = Q(), y = 0, b = e.offsetTop, _ = e.style, T = e._mTween[t];
            "left" === t && (b = e.offsetLeft);
            var w = i - b;
            T.stop = 0,
            "none" !== r && c(),
            d()
        }, Q = function() {
            return window.performance && window.performance.now ? window.performance.now() : window.performance && window.performance.webkitNow ? window.performance.webkitNow() : Date.now ? Date.now() : (new Date).getTime()
        }, Z = function() {
            var e = this;
            e._mTween || (e._mTween = {
                top: {},
                left: {}
            });
            for (var t = ["top", "left"], i = 0; i < t.length; i++) {
                var n = t[i];
                e._mTween[n].id && (window.requestAnimationFrame ? window.cancelAnimationFrame(e._mTween[n].id) : clearTimeout(e._mTween[n].id),
                e._mTween[n].id = null,
                e._mTween[n].stop = 1)
            }
        }, J = function(e, t) {
            try {
                delete e[t]
            } catch (i) {
                e[t] = null
            }
        }, ee = function(e) {
            return !(e.which && 1 !== e.which)
        }, te = function(e) {
            var t = e.originalEvent.pointerType;
            return !(t && "touch" !== t && 2 !== t)
        }, ie = function(e) {
            return !isNaN(parseFloat(e)) && isFinite(e)
        }, ne = function(e) {
            var t = e.parents(".mCSB_container");
            return [e.offset().top - t.offset().top, e.offset().left - t.offset().left]
        }, se = function() {
            function e() {
                var e = ["webkit", "moz", "ms", "o"];
                if ("hidden"in document)
                    return "hidden";
                for (var t = 0; t < e.length; t++)
                    if (e[t] + "Hidden"in document)
                        return e[t] + "Hidden";
                return null
            }
            var t = e();
            return !!t && document[t]
        };
        e.fn[i] = function(t) {
            return u[t] ? u[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof t && t ? void e.error("Method " + t + " does not exist") : u.init.apply(this, arguments)
        }
        ,
        e[i] = function(t) {
            return u[t] ? u[t].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof t && t ? void e.error("Method " + t + " does not exist") : u.init.apply(this, arguments)
        }
        ,
        e[i].defaults = r,
        window[i] = !0,
        e(window).bind("load", (function() {
            e(s)[i](),
            e.extend(e.expr[":"], {
                mcsInView: e.expr[":"].mcsInView || function(t) {
                    var i, n, s = e(t), r = s.parents(".mCSB_container");
                    if (r.length)
                        return i = r.parent(),
                        (n = [r[0].offsetTop, r[0].offsetLeft])[0] + ne(s)[0] >= 0 && n[0] + ne(s)[0] < i.height() - s.outerHeight(!1) && n[1] + ne(s)[1] >= 0 && n[1] + ne(s)[1] < i.width() - s.outerWidth(!1)
                }
                ,
                mcsInSight: e.expr[":"].mcsInSight || function(t, i, n) {
                    var s, r, a, o, l = e(t), d = l.parents(".mCSB_container"), c = "exact" === n[3] ? [[1, 0], [1, 0]] : [[.9, .1], [.6, .4]];
                    if (d.length)
                        return s = [l.outerHeight(!1), l.outerWidth(!1)],
                        a = [d[0].offsetTop + ne(l)[0], d[0].offsetLeft + ne(l)[1]],
                        r = [d.parent()[0].offsetHeight, d.parent()[0].offsetWidth],
                        o = [s[0] < r[0] ? c[0] : c[1], s[1] < r[1] ? c[0] : c[1]],
                        a[0] - r[0] * o[0][0] < 0 && a[0] + s[0] - r[0] * o[0][1] >= 0 && a[1] - r[1] * o[1][0] < 0 && a[1] + s[1] - r[1] * o[1][1] >= 0
                }
                ,
                mcsOverflow: e.expr[":"].mcsOverflow || function(t) {
                    var i = e(t).data(n);
                    if (i)
                        return i.overflowed[0] || i.overflowed[1]
                }
            })
        }
        ))
    }()
}
)),
function(e, t) {
    "object" == typeof exports ? module.exports = t(e) : "function" == typeof define && define.amd ? define([], t) : e.LazyLoad = t(e)
}("undefined" != typeof global ? global : this.window || this.global, (function(e) {
    "use strict";
    function t(e, t) {
        this.settings = n(i, t || {}),
        this.images = e || document.querySelectorAll(this.settings.selector),
        this.observer = null,
        this.init()
    }
    "function" == typeof define && define.amd && (e = window);
    const i = {
        src: "data-src",
        srcset: "data-srcset",
        selector: ".lazyload",
        root: null,
        rootMargin: "0px",
        threshold: 0
    }
      , n = function() {
        let e = {}
          , t = !1
          , i = 0
          , s = arguments.length;
        for ("[object Boolean]" === Object.prototype.toString.call(arguments[0]) && (t = arguments[0],
        i++); i < s; i++)
            !function(i) {
                for (let s in i)
                    Object.prototype.hasOwnProperty.call(i, s) && (t && "[object Object]" === Object.prototype.toString.call(i[s]) ? e[s] = n(!0, e[s], i[s]) : e[s] = i[s])
            }(arguments[i]);
        return e
    };
    if (t.prototype = {
        init: function() {
            if (!e.IntersectionObserver)
                return void this.loadImages();
            let t = this
              , i = {
                root: this.settings.root,
                rootMargin: this.settings.rootMargin,
                threshold: [this.settings.threshold]
            };
            this.observer = new IntersectionObserver((function(e) {
                Array.prototype.forEach.call(e, (function(e) {
                    if (e.isIntersecting) {
                        t.observer.unobserve(e.target);
                        let i = e.target.getAttribute(t.settings.src)
                          , n = e.target.getAttribute(t.settings.srcset);
                        "img" === e.target.tagName.toLowerCase() ? (i && (e.target.src = i),
                        n && (e.target.srcset = n)) : e.target.style.backgroundImage = "url(" + i + ")"
                    }
                }
                ))
            }
            ),i),
            Array.prototype.forEach.call(this.images, (function(e) {
                t.observer.observe(e)
            }
            ))
        },
        loadAndDestroy: function() {
            this.settings && (this.loadImages(),
            this.destroy())
        },
        loadImages: function() {
            if (!this.settings)
                return;
            let e = this;
            Array.prototype.forEach.call(this.images, (function(t) {
                let i = t.getAttribute(e.settings.src)
                  , n = t.getAttribute(e.settings.srcset);
                "img" === t.tagName.toLowerCase() ? (i && (t.src = i),
                n && (t.srcset = n)) : t.style.backgroundImage = "url('" + i + "')"
            }
            ))
        },
        destroy: function() {
            this.settings && (this.observer.disconnect(),
            this.settings = null)
        }
    },
    e.lazyload = function(e, i) {
        return new t(e,i)
    }
    ,
    e.jQuery) {
        const i = e.jQuery;
        i.fn.lazyload = function(e) {
            return (e = e || {}).attribute = e.attribute || "data-src",
            new t(i.makeArray(this),e),
            this
        }
    }
    return t
}
)),
document.addEventListener("DOMContentLoaded", ( () => {
    setTimeout(initCustomCodes, 5e3)
}
)),
document.addEventListener("scroll", initCustomCodesOnEvent),
document.addEventListener("mousemove", initCustomCodesOnEvent),
document.addEventListener("touchstart", initCustomCodesOnEvent),
jQuery(document).ready((function() {
    let e = $('meta[name="csrf-token"]').attr("content")
      , t = $("html").attr("lang");
    $("input.phone").inputmask({
        mask: "(999) 999-99-99",
        onBeforeMask: function(e, t) {
            let i = e;
            return i = i.replace(/[ +()-]/g, "").replace(/^380/, "0"),
            i
        }
    }),
    $("input.phone").on("input", (function() {
        let e = $(this).val().replace(/[ _()-]/g, "");
        e.startsWith("380") && $(this).val(e.replace(/^380/, "0"))
    }
    )),
    $(".open-popup").magnificPopup({
        mainClass: "my-mfp-zoom-in",
        removalDelay: 300,
        type: "inline",
        fixedContentPos: !0,
        closeMarkup: '<span class="mfp-close"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.06052 14.8179C0.474729 15.4037 0.474729 16.3534 1.06052 16.9392C1.6463 17.525 2.59605 17.525 3.18184 16.9392L16.5819 3.53918C17.1676 2.95339 17.1676 2.00364 16.5819 1.41786C15.9961 0.832069 15.0463 0.832069 14.4605 1.41786L1.06052 14.8179Z" fill="white"/><path d="M16.5818 14.8181C17.1676 15.4039 17.1676 16.3536 16.5818 16.9394C15.996 17.5252 15.0462 17.5252 14.4605 16.9394L1.06043 3.5394C0.474647 2.95361 0.474647 2.00387 1.06043 1.41808C1.64622 0.832295 2.59597 0.832296 3.18175 1.41808L16.5818 14.8181Z" fill="white"/></svg></span>'
    }),
    window.innerWidth > 1200 && ($(".main-scroll").mCustomScrollbar({
        scrollInertia: 0,
        mouseWheel: {
            scrollAmount: 40
        }
    }),
    $(".main-scroll").hover((function() {
        let e = window.scrollX
          , t = window.scrollY;
        window.onscroll = function() {
            window.scrollTo(e, t)
        }
    }
    ), (function() {
        window.onscroll = null
    }
    ))),
    $("img.lazyload").lazyload(),
    $("form input[required], form textarea[required]").on("input", (function() {
        $(this).removeClass("error")
    }
    )),
    $('form .select-city input[name="city_id"]').change((function() {
        let i = $(this)
          , n = i.val();
        $.ajax({
            type: "POST",
            url: "/ajax/list/studios-by-city",
            data: {
                _token: e,
                city_id: n
            }
        }).done((function(e) {
            let n = $.parseJSON(e)
              , s = "";
            n.length && $(n).each((function() {
                let e = "uk" == t ? this.address_uk : this.address_ru;
                s += `<span class="item" data-id="${this.id}">${e}</span>`
            }
            )),
            i.parents("form").find(".select-studio .dropdown").html(s),
            i.parents("form").find(".select-studio .selected .text").text(""),
            i.parents("form").find(".select-studio .selected .placeholder").show(),
            i.parents("form").find('.select-studio input[name="studio_id"]').val("")
        }
        )),
        i.parents("form").find(".select-service").length && $.ajax({
            type: "POST",
            url: "/ajax/list/services-by-city",
            data: {
                _token: e,
                city_id: n
            }
        }).done((function(e) {
            let n = $.parseJSON(e)
              , s = "";
            n.length && $(n).each((function() {
                let e = "uk" == t ? this.title_uk : this.title_ru;
                s += `<span class="item" data-id="${this.id}">${e}</span>`
            }
            )),
            i.parents("form").find(".select-service .dropdown").html(s),
            i.parents("form").find(".select-service .selected .text").text(""),
            i.parents("form").find(".select-service .selected .placeholder").show(),
            i.parents("form").find('.select-service input[name="service_id"]').val("")
        }
        ))
    }
    )),
    $('.open-popup[href="#signup-popup"], .open-popup[href="#send-resume-popup"]').click((function() {
        $($(this).attr("href")).find('input[name="form"]').val($(this).attr("data-form"))
    }
    )),
    $(".popup.review-popup .rating .star").click((function() {
        $(this).parents(".stars").find(".star").removeClass("active"),
        $(this).addClass("active").prevAll().addClass("active"),
        $(this).parents(".rating").find("input").val($(this).attr("data-num"))
    }
    )),
    $("form").submit((function(i) {
        i.preventDefault();
        let n = $(this)
          , s = ""
          , r = ""
          , a = "";
        "review-popup" == n.attr("id") ? (s = "/ajax/send/review",
        r = '<div class="popup"><p class="head">ÐÑÐºÑÑÐ¼Ð¾ ÐÐ°Ð¼ Ð·Ð° Ð·Ð°Ð»Ð¸ÑÐµÐ½Ð¸Ð¹ Ð²ÑÐ´Ð³ÑÐº!</p><p>ÐÑÑÐ»Ñ Ð¼Ð¾Ð´ÐµÑÐ°ÑÑÑ Ð²ÑÐ½ Ð±ÑÐ´Ðµ Ð¾Ð¿ÑÐ±Ð»ÑÐºÐ¾Ð²Ð°Ð½Ð¸Ð¹ Ð½Ð° ÑÐ°Ð¹ÑÑ</p></div>',
        a = '<div class="popup"><p class="head">ÐÐ»Ð°Ð³Ð¾Ð´Ð°ÑÐ¸Ð¼ ÐÐ°Ñ Ð·Ð° Ð¾ÑÑÐ°Ð²Ð»ÐµÐ½Ð½ÑÐ¹ Ð¾ÑÐ·ÑÐ²!</p><p>ÐÐ¾ÑÐ»Ðµ Ð¼Ð¾Ð´ÐµÑÐ°ÑÐ¸Ð¸ Ð¾Ð½ Ð±ÑÐ´ÐµÑ Ð¾Ð¿ÑÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°Ð½ Ð½Ð° ÑÐ°Ð¹ÑÐµ</p></div>') : "form-question-form" == n.attr("id") || "specialist-question-popup" == n.attr("id") ? (s = "/ajax/send/question",
        r = '<div class="popup"><p class="head">ÐÑÐºÑÑÐ¼Ð¾ ÐÐ°Ð¼ Ð·Ð° Ð·Ð°Ð¿Ð¸ÑÐ°Ð½Ð½Ñ!</p><p>Ð§ÐµÐºÐ°Ð¹ÑÐµ, Ð±ÑÐ´Ñ Ð»Ð°ÑÐºÐ°, Ð´Ð·Ð²ÑÐ½ÐºÐ° Ð²ÑÐ´ Ð½Ð°ÑÐ¾Ð³Ð¾ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑÐ° Ð· Ð²ÑÐ´Ð¿Ð¾Ð²ÑÐ´Ð´Ñ</p></div>',
        a = '<div class="popup"><p class="head">ÐÐ»Ð°Ð³Ð¾Ð´Ð°ÑÐ¸Ð¼ ÐÐ°Ñ Ð·Ð° Ð²Ð¾Ð¿ÑÐ¾Ñ!</p><p>ÐÐ¶Ð¸Ð´Ð°Ð¹ÑÐµ, Ð¿Ð¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð·Ð²Ð¾Ð½ÐºÐ° Ð¾Ñ Ð½Ð°ÑÐµÐ³Ð¾ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑÐ° Ñ Ð¾ÑÐ²ÐµÑÐ¾Ð¼</p></div>') : "send-resume-popup" == n.attr("id") ? (s = "/ajax/send/resume",
        r = '<div class="popup"><p class="head">ÐÐ°ÑÐµ ÑÐµÐ·ÑÐ¼Ðµ Ð½Ð°Ð´ÑÑÐ»Ð°Ð½Ð¾!</p><p>ÐÑÑÐ»Ñ ÑÐ¾Ð·Ð³Ð»ÑÐ´Ñ Ð¼Ð¸ Ð· ÐÐ°Ð¼Ð¸ Ð·Ð²\'ÑÐ¶ÐµÐ¼Ð¾ÑÑ</p></div>',
        a = '<div class="popup"><p class="head">ÐÐ°ÑÐµ ÑÐµÐ·ÑÐ¼Ðµ Ð¾ÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½Ð¾!</p><p>ÐÐ¾ÑÐ»Ðµ ÑÐ°ÑÑÐ¼Ð¾ÑÑÐµÐ½Ð¸Ñ Ð¼Ñ Ñ ÐÐ°Ð¼Ð¸ ÑÐ²ÑÐ¶ÐµÐ¼ÑÑ</p></div>') : (s = "/ajax/send/lead",
        r = '<div class="popup"><p class="head">ÐÐ°ÑÑ Ð·Ð°ÑÐ²ÐºÑ ÑÑÐ¿ÑÑÐ½Ð¾ Ð²ÑÐ´Ð¿ÑÐ°Ð²Ð»ÐµÐ½Ð¾!</p><p>Ð§ÐµÐºÐ°Ð¹ÑÐµ, Ð±ÑÐ´Ñ Ð»Ð°ÑÐºÐ°, Ð´Ð·Ð²ÑÐ½ÐºÐ° Ð²ÑÐ´ Ð½Ð°ÑÐ¾Ð³Ð¾ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑÐ°</p></div>',
        a = '<div class="popup"><p class="head">ÐÐ°ÑÐ° Ð·Ð°ÑÐ²ÐºÐ° ÑÑÐ¿ÐµÑÐ½Ð¾ Ð¾ÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½Ð°!</p><p>ÐÐ¶Ð¸Ð´Ð°Ð¹ÑÐµ, Ð¿Ð¾Ð¶Ð°Ð»ÑÐ¹ÑÑÐ°, Ð·Ð²Ð¾Ð½ÐºÐ° Ð¾Ñ Ð½Ð°ÑÐµÐ³Ð¾ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑÐ°</p></div>');
        let o = [];
        n.find("input[required], textarea[required]").each((function() {
            let e = $(this)
              , t = e.attr("name");
            if ("phone" == t) {
                e.val().replace(/[^0-9,\s]/g, "").replace(/\s/g, "").length < 10 && (e.addClass("error"),
                o.push(t))
            } else
                "studio_id" != t && "service_id" != t || 0 == e.val().length && (e.parents(".custom-select").addClass("error"),
                o.push(t))
        }
        )),
        setTimeout((function() {
            if (o.length)
                return !1;
            n.find(".button").prop("disabled", !0).addClass("load");
            let i = new FormData(n[0]);
            i.append("_token", e),
            "send-resume-popup" == n.attr("id") && n.find('input[name="resume"]')[0].files.length && i.append("resume", n.find('input[name="resume"]')[0].files[0]),
            $.ajax({
                type: "POST",
                url: s,
                data: i,
                processData: !1,
                contentType: !1
            }).done((function(e) {
                e.success && (n.find("input").val("").removeClass("error"),
                n.find("textarea").val("").removeClass("error"),
                n.find(".button").prop("disabled", !1).removeClass("load"),
                $.magnificPopup.open({
                    items: {
                        src: "uk" == t ? r : a
                    },
                    mainClass: "my-mfp-zoom-in",
                    removalDelay: 300,
                    type: "inline",
                    fixedContentPos: !0,
                    closeMarkup: '<span class="mfp-close"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.06052 14.8179C0.474729 15.4037 0.474729 16.3534 1.06052 16.9392C1.6463 17.525 2.59605 17.525 3.18184 16.9392L16.5819 3.53918C17.1676 2.95339 17.1676 2.00364 16.5819 1.41786C15.9961 0.832069 15.0463 0.832069 14.4605 1.41786L1.06052 14.8179Z" fill="white"/><path d="M16.5818 14.8181C17.1676 15.4039 17.1676 16.3536 16.5818 16.9394C15.996 17.5252 15.0462 17.5252 14.4605 16.9394L1.06043 3.5394C0.474647 2.95361 0.474647 2.00387 1.06043 1.41808C1.64622 0.832295 2.59597 0.832296 3.18175 1.41808L16.5818 14.8181Z" fill="white"/></svg></span>'
                })),
                e.error || "review-popup" == n.attr("id") || "send-resume-popup" == n.attr("id") || (gtag("event", "ÑÐ¾ÑÐ¼Ð°_Ð¾ÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½Ð°__Ð»ÑÐ±Ð°Ñ_"),
                fbq("track", "Lead"))
            }
            ))
        }
        ), 0)
    }
    )),
    $("header .cities .selected").click((function() {
        $(this).parents(".cities").toggleClass("open")
    }
    )),
    $("header .cities .dropdown .item").click((function() {
        if ($(this).parents(".dropdown").find(".item").removeClass("active"),
        $(this).addClass("active"),
        $(this).parents(".cities").find(".selected .text .city").text($(this).find(".city").text()),
        $(this).parents(".cities").find(".selected .text .studios-count").text($(this).find(".studios-count").text()),
        $(this).parents(".cities").removeClass("open"),
        $(".page-stocks").length || $(".page-stock").length) {
            let t = $(this)
              , i = t.attr("data-id");
            return $.ajax({
                type: "POST",
                url: "/ajax/list/header-studios-by-city",
                data: {
                    _token: e,
                    city_id: i
                }
            }).done((function(e) {
                let i = e.city
                  , n = e.studios
                  , s = ""
                  , r = "";
                $("header .top-line .socials .telegram").attr("href", `tg://resolve?domain=${i.telegram}`),
                $("header .top-line .socials .viber").attr("href", `viber://chat?number=+38${i.viber}`),
                $("header .top-line .phone").attr("href", `tel:${i.phone}`),
                $("header .top-line .phone .phone-mask").text(i.phone_mask),
                n.length && $(n).each((function() {
                    s += `\n\t\t\t\t\t\t\t<div class="item" data-telegram="${this.telegram}" data-viber="${this.viber}" data-phone="${this.phone}" data-phone-mask="${this.phone_mask}">\n\t\t\t\t\t\t\t\t<p class="column address">${this.address}</p>\n\t\t\t\t\t\t\t\t<p class="column clock">${this.open_hours}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,
                    r += `\n\t\t\t\t\t\t\t<div class="studio">\n\t\t\t\t\t\t\t\t<div class="phone-messengers">\n\t\t\t\t\t\t\t\t\t<a href="tel:${this.phone}" class="phone">\n\t\t\t\t\t\t\t\t\t\t<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t\t\t<path d="M15.5173 12.6042C17.4419 13.375 18.8778 14.4051 19.9679 15.6157C20.2423 17.5782 18.7086 19.0143 17.3103 19.8978C13.9875 20.4843 9.27383 18.5218 5.37586 14.6231C1.4779 10.7207 -0.484243 6.00619 0.102143 2.69023C0.985482 1.28791 2.42138 -0.242239 4.38352 0.0322106C5.59388 1.12249 6.62381 2.55865 7.39438 4.48355C7.52218 4.80312 7.45077 5.17156 7.21396 5.42345C6.82679 5.837 6.1314 6.53629 5.05636 7.43859C4.78572 7.66416 4.71806 8.05516 4.89096 8.36344C5.64274 9.70185 6.61629 10.9989 7.80786 12.1907C8.99943 13.3825 10.2962 14.36 11.6306 15.1119C11.9389 15.2848 12.3298 15.2209 12.5553 14.9465C13.4575 13.8712 14.1566 13.1719 14.5701 12.7885C14.8295 12.5479 15.1941 12.4764 15.5173 12.6042Z" fill="#E44DAE"></path>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t<span>${this.phone_mask}</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<div class="messengers">\n\t\t\t\t\t\t\t\t\t\t<a href="tg://resolve?domain=${this.telegram}" rel="nofollow" class="messenger">\n\t\t\t\t\t\t\t\t\t\t\t<svg width="11" height="9" viewBox="0 0 11 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M4.12373 4.37106C3.77365 4.6007 3.42857 4.83034 3.07849 5.0551C2.94846 5.13816 2.79843 5.16259 2.64839 5.17236C2.38333 5.19679 2.12828 5.1577 1.87322 5.07953C1.3331 4.91829 0.797978 4.74728 0.262858 4.57138C0.0328061 4.4981 -0.0272074 4.24891 0.132829 4.0779C0.262858 3.94109 0.432896 3.8678 0.602934 3.7994C0.862993 3.69191 1.12305 3.58442 1.38811 3.48181C1.66817 3.36943 1.94824 3.26194 2.2283 3.14956C2.62339 2.98832 4.83889 2.09908 5.54905 1.8108C6.07417 1.59582 6.59928 1.38083 7.1244 1.17074C7.60451 0.975298 8.08462 0.784744 8.56472 0.584419C8.79478 0.491585 9.01983 0.393865 9.24988 0.310803C9.41492 0.252172 9.58996 0.232628 9.765 0.26683C9.96504 0.305917 10.0601 0.457383 10.0701 0.652823C10.0801 0.858034 10.0401 1.06325 10.0151 1.26846C9.97504 1.57627 9.92503 1.88409 9.88002 2.19191C9.775 2.86618 9.04483 7.33685 8.99482 7.65933C8.96982 7.83034 8.92481 7.98669 8.82478 8.12838C8.69976 8.30917 8.51972 8.39711 8.29967 8.37268C8.05961 8.34825 7.83956 8.26031 7.62952 8.15281C7.39946 8.03555 7.18942 7.88408 6.96937 7.74239C6.6793 7.55672 6.38423 7.37594 6.10417 7.18539C5.61406 6.85314 5.10895 6.53555 4.64884 6.15933C4.53882 6.07138 4.4488 5.96878 4.42379 5.8222C4.40379 5.70982 4.42379 5.60721 4.49381 5.50949C4.59383 5.37269 4.73386 5.2652 4.85889 5.15282C5.23398 4.8108 7.1044 3.07627 7.39446 2.78311C7.49448 2.68539 7.5695 2.56813 7.60951 2.43621C7.64952 2.30917 7.59451 2.25543 7.46448 2.27986C7.31945 2.30429 7.19442 2.37269 7.07439 2.44598C6.64929 2.68539 4.4488 4.15608 4.12373 4.37106Z" fill="white"></path>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t<a href="viber://chat?number=+38${this.viber}" rel="nofollow" class="messenger">\n\t\t\t\t\t\t\t\t\t\t\t<svg width="13" height="14" viewBox="0 0 13 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M10.8831 2.0231C9.2135 0.43173 3.5739 0.197212 1.58049 2.09569C0.681506 3.0226 0.368815 4.38504 0.329729 6.07134C0.296226 7.75763 0.251556 10.918 3.19979 11.7724V13.079C3.19979 13.079 3.17745 13.6094 3.51806 13.7155C3.90334 13.8384 4.08202 13.5927 5.28812 12.1576C7.30386 12.3307 8.85056 11.9343 9.02366 11.8729C9.43127 11.7389 11.7318 11.4318 12.1059 8.27134C12.4912 5.01042 11.916 2.95559 10.8831 2.0231ZM11.2237 8.03124C10.9054 10.6668 9.04041 10.8343 8.6998 10.9515C8.55462 11.0018 7.19218 11.348 5.48355 11.2363C5.48355 11.2363 4.21045 12.8277 3.814 13.2409C3.68557 13.3749 3.5404 13.3637 3.54598 13.0957C3.54598 12.9226 3.55715 10.9236 3.55715 10.9236C1.0612 10.2089 1.20638 7.51753 1.2343 6.11042C1.26222 4.70331 1.51907 3.54747 2.27846 2.77133C4.03177 1.1297 8.9734 1.49823 10.2353 2.68199C11.7709 4.04443 11.2181 7.90281 11.2237 8.03124Z" fill="white"></path>\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M6.18705 3.08398C5.98045 3.08398 5.98045 3.40784 6.18705 3.41343C7.80076 3.42459 9.13528 4.55252 9.14645 6.61851C9.14645 6.83628 9.46473 6.83628 9.46473 6.61851C9.44798 4.385 7.9962 3.09515 6.18705 3.08398Z" fill="white"></path>\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M8.31457 6.27244C8.30899 6.4902 8.62726 6.49579 8.63285 6.27802C8.66077 5.04959 7.90137 4.03893 6.4831 3.93284C6.2765 3.91609 6.25416 4.24553 6.46076 4.26228C7.68919 4.3572 8.33691 5.19477 8.31457 6.27244Z" fill="white"></path>\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M7.97448 7.66828C7.70646 7.51193 7.43285 7.61244 7.32118 7.7632L7.08666 8.07031C6.9694 8.22666 6.74605 8.20432 6.74605 8.20432C5.11559 7.77437 4.68006 6.06574 4.68006 6.06574C4.68006 6.06574 4.65772 5.8368 4.80848 5.70838L5.10442 5.46269C5.2496 5.34543 5.34453 5.06624 5.19376 4.78706C4.79173 4.06117 4.52371 3.81548 4.3897 3.62563C4.24452 3.44695 4.02676 3.40228 3.80341 3.52512H3.79782C3.32879 3.79873 2.81508 4.31244 2.98259 4.83731C3.26178 5.39569 3.77549 7.16574 5.41153 8.50584C6.18209 9.13681 7.39935 9.79011 7.91864 9.94087L7.92423 9.94646C8.43235 10.114 8.9293 9.58351 9.19174 9.10331V9.09772C9.309 8.86321 9.26991 8.64544 9.09682 8.50026C8.79529 8.20432 8.33743 7.87488 7.97448 7.66828Z" fill="white"></path>\n\t\t\t\t\t\t\t\t\t\t\t\t<path d="M6.70083 5.13896C7.22012 5.16688 7.47139 5.44049 7.49931 5.99886C7.51047 6.21663 7.82317 6.19988 7.81758 5.98211C7.78408 5.25622 7.40438 4.84861 6.71758 4.80952C6.51098 4.80394 6.48864 5.12779 6.70083 5.13896Z" fill="white"></path>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p class="address">${this.address}</p>\n\t\t\t\t\t\t\t\t<p class="clock">${this.open_hours}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`
                }
                )),
                t.parents(".cities-studios").find(".studios .dropdown .items").html(s),
                t.parents(".cities-studios").find(".studios .selected .selected-address").text(""),
                t.parents(".cities-studios").find(".studios .selected .placeholder").show(),
                $("footer .top-line .studios").html(r)
            }
            )),
            !1
        }
    }
    )),
    $("header .studios").click((function() {
        $(this).toggleClass("open")
    }
    )),
    $("body").on("click", "header .studios .item", (function() {
        let e = $(this).find(".address").text();
        $(this).parents(".studios").find(".item").removeClass("active"),
        $(this).addClass("active"),
        $(this).parents(".studios").find(".selected .placeholder").hide(),
        $(this).parents(".studios").find(".selected .selected-address").text(e)
    }
    )),
    $("body").on("click", "header .studios .dropdown .item", (function() {
        let e = $(this).attr("data-telegram")
          , t = $(this).attr("data-viber")
          , i = $(this).attr("data-phone")
          , n = $(this).attr("data-phone-mask");
        $("header .top-line .socials .telegram").attr("href", "tg://resolve?domain=" + e),
        $("header .top-line .socials .viber").attr("href", "viber://chat?number=+38" + t),
        $("header .top-line .phone").attr("href", "tel:" + i),
        $("header .top-line .phone .phone-mask").text(n)
    }
    )),
    $(window).width() <= 991 && ($("header .top-line .burger-menu, header .menu-wrap .close, .mobmenu-overlay").click((function() {
        $("header .menu-wrap").toggleClass("open"),
        $("body").toggleClass("open-menu"),
        $(".mobmenu-overlay").toggleClass("open")
    }
    )),
    $("header .menu > li").click((function() {
        $(this).toggleClass("open"),
        $(this).find("> ul").slideToggle()
    }
    )),
    $("header .menu > li > ul > li > a > .arrow, header .menu > li > ul > li > span > .arrow").click((function() {
        return $(this).parent().parent("li").toggleClass("open"),
        $(this).parent().parent("li").find("> ul").slideToggle(),
        !1
    }
    ))),
    $(".custom-select .selected, .custom-select .overlay").click((function() {
        $(this).parents(".custom-select").toggleClass("open")
    }
    )),
    $("body").on("click", ".custom-select .dropdown .item", (function() {
        $(this).parents(".custom-select").removeClass("error");
        let e = $(this).text()
          , t = $(this).attr("data-id") || e;
        $(this).hasClass("active") || ($(this).parents(".dropdown").find(".item").removeClass("active"),
        $(this).addClass("active"),
        $(this).parents(".custom-select").find(".selected .placeholder").hide(),
        $(this).parents(".custom-select").find(".selected .text").text(e),
        $(this).parents(".custom-select").find("input").val(t).change()),
        $(this).parents(".custom-select").removeClass("open")
    }
    )),
    $(".main-slider").slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: !0,
        dots: !0,
        lazyLoad: "ondemand",
        prevArrow: '<div class="arrow arrow-prev"><svg width="14" height="23" viewBox="0 0 14 23" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.61518 13.0079L10.2344 22.3823C11.0794 23.2059 12.4714 23.2059 13.3165 22.3823C14.1616 21.5587 14.1616 20.2022 13.3165 19.3786L5.26321 11.5061L13.3662 3.63349C14.2113 2.8099 14.2113 1.4534 13.3662 0.629805C12.9436 0.218009 12.3719 0 11.8251 0C11.2783 0 10.7066 0.218009 10.2841 0.629805L0.61518 10.0042C-0.20506 10.8278 -0.20506 12.1843 0.61518 13.0079Z"/></svg></div>',
        nextArrow: '<div class="arrow arrow-next"><svg width="14" height="23" viewBox="0 0 14 23" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.3848 13.0079L3.76565 22.3823C2.92055 23.2059 1.52863 23.2059 0.683534 22.3823C-0.161562 21.5587 -0.161562 20.2022 0.683534 19.3786L8.7368 11.5061L0.633822 3.63349C-0.211273 2.8099 -0.211273 1.4534 0.633822 0.629805C1.05637 0.218009 1.62805 0 2.17488 0C2.72171 0 3.29339 0.218009 3.71593 0.629805L13.3848 10.0042C14.2051 10.8278 14.2051 12.1843 13.3848 13.0079Z"/></svg></div>'
    }),
    $(".tab-item").not(":first").hide(),
    $(".tab").click((function() {
        $(".tab").removeClass("active").eq($(this).index()).addClass("active"),
        $(".tab-item").hide().eq($(this).index()).fadeIn()
    }
    )).eq(0).addClass("active"),
    $(".page-service").length && (16 == $(".category-stocks").attr("data-service-stock") && $(".category-stocks .tab.gender-button:nth-child(2)").click(),
    $(".button-more-reviews").click((function() {
        let i = $(this);
        i.attr("disabled", !0);
        let n = i.attr("data-service-id")
          , s = i.attr("data-city-id")
          , r = i.attr("data-page");
        $.ajax({
            type: "POST",
            url: "/ajax/reviews/get-more",
            data: {
                _token: e,
                service_id: n,
                city_id: s,
                page: r
            }
        }).done((function(e) {
            if (i.attr("data-page", +r + 1),
            e.meta.current_page == e.meta.last_page && i.hide(),
            e.data.length) {
                let n = i.parents(".reviews").find(".items .review:first-child").clone()
                  , s = "";
                e.data.forEach((function(e) {
                    n.find(".top-line .name").text(e.name),
                    n.find(".date span").text(e.date),
                    n.find(".review-text").text(e["review_" + t]),
                    n.find(".ratings .rating-item").each((function(t) {
                        let i = e["rating_" + (t + 1)];
                        $(this).find(".stars .star").removeClass("full"),
                        $(this).find(".stars .star").each((function(e) {
                            e + 1 <= i && $(this).addClass("full")
                        }
                        ))
                    }
                    )),
                    s += n.prop("outerHTML")
                }
                )),
                i.parents(".reviews").find(".items").append(s),
                i.attr("disabled", !1)
            }
        }
        ))
    }
    ))),
    $(".slider-stories-reviews .slides").slick({
        slidesToShow: 3,
        slidesToScroll: 1,
        arrows: !0,
        dots: !0,
        dotsClass: "dots",
        appendDots: ".slider-stories-reviews .nav",
        appendArrows: ".slider-stories-reviews .nav",
        prevArrow: '<div class="arrow arrow-prev"><svg width="16" height="27" viewBox="0 0 16 27" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.710917 11.7503L11.7091 0.739783C12.6754 -0.227551 14.2669 -0.227551 15.2331 0.739783C16.1994 1.70712 16.1994 3.30037 15.2331 4.26771L6.02531 13.5143L15.29 22.7324C16.2562 23.6997 16.2562 25.293 15.29 26.2603C14.8068 26.744 14.1532 27.0001 13.528 27.0001C12.8743 27.0001 12.2491 26.744 11.766 26.2603L0.767756 15.2498C-0.255335 14.3109 -0.255335 12.7177 0.710917 11.7503Z" fill="#BBBABF"/></svg></div>',
        nextArrow: '<div class="arrow arrow-next"><svg width="16" height="27" viewBox="0 0 16 27" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.2891 11.7503L4.29086 0.739783C3.32461 -0.227551 1.73313 -0.227551 0.766879 0.739783C-0.199373 1.70712 -0.199373 3.30037 0.766879 4.26771L9.97469 13.5143L0.710041 22.7324C-0.256211 23.6997 -0.256211 25.293 0.710041 26.2603C1.19317 26.744 1.84681 27.0001 2.47203 27.0001C3.12567 27.0001 3.75089 26.744 4.23402 26.2603L15.2322 15.2498C16.2553 14.3109 16.2553 12.7177 15.2891 11.7503Z" fill="#BBBABF"/></svg></div>',
        infinite: !1,
        lazyLoad: "ondemand",
        responsive: [{
            breakpoint: 576,
            settings: {
                slidesToShow: 1
            }
        }, {
            breakpoint: 992,
            settings: {
                slidesToShow: 2
            }
        }]
    }),
    $(".slider-block-icon-text .slides").slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: !0,
        dots: !0,
        dotsClass: "dots",
        appendDots: ".slider-block-icon-text .nav",
        appendArrows: ".slider-block-icon-text .nav",
        prevArrow: '<div class="arrow arrow-prev"><svg width="16" height="27" viewBox="0 0 16 27" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.710917 11.7503L11.7091 0.739783C12.6754 -0.227551 14.2669 -0.227551 15.2331 0.739783C16.1994 1.70712 16.1994 3.30037 15.2331 4.26771L6.02531 13.5143L15.29 22.7324C16.2562 23.6997 16.2562 25.293 15.29 26.2603C14.8068 26.744 14.1532 27.0001 13.528 27.0001C12.8743 27.0001 12.2491 26.744 11.766 26.2603L0.767756 15.2498C-0.255335 14.3109 -0.255335 12.7177 0.710917 11.7503Z" fill="#BBBABF"/></svg></div>',
        nextArrow: '<div class="arrow arrow-next"><svg width="16" height="27" viewBox="0 0 16 27" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.2891 11.7503L4.29086 0.739783C3.32461 -0.227551 1.73313 -0.227551 0.766879 0.739783C-0.199373 1.70712 -0.199373 3.30037 0.766879 4.26771L9.97469 13.5143L0.710041 22.7324C-0.256211 23.6997 -0.256211 25.293 0.710041 26.2603C1.19317 26.744 1.84681 27.0001 2.47203 27.0001C3.12567 27.0001 3.75089 26.744 4.23402 26.2603L15.2322 15.2498C16.2553 14.3109 16.2553 12.7177 15.2891 11.7503Z" fill="#BBBABF"/></svg></div>',
        infinite: !1
    }),
    $(".before-after-photo-slider .slider-big").slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: !0,
        prevArrow: '<div class="arrow arrow-prev"><svg width="14" height="23" viewBox="0 0 14 23" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.61518 13.0079L10.2344 22.3823C11.0794 23.2059 12.4714 23.2059 13.3165 22.3823C14.1616 21.5587 14.1616 20.2022 13.3165 19.3786L5.26321 11.5061L13.3662 3.63349C14.2113 2.8099 14.2113 1.4534 13.3662 0.629805C12.9436 0.218009 12.3719 0 11.8251 0C11.2783 0 10.7066 0.218009 10.2841 0.629805L0.61518 10.0042C-0.20506 10.8278 -0.20506 12.1843 0.61518 13.0079Z"/></svg></div>',
        nextArrow: '<div class="arrow arrow-next"><svg width="14" height="23" viewBox="0 0 14 23" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.3848 13.0079L3.76565 22.3823C2.92055 23.2059 1.52863 23.2059 0.683534 22.3823C-0.161562 21.5587 -0.161562 20.2022 0.683534 19.3786L8.7368 11.5061L0.633822 3.63349C-0.211273 2.8099 -0.211273 1.4534 0.633822 0.629805C1.05637 0.218009 1.62805 0 2.17488 0C2.72171 0 3.29339 0.218009 3.71593 0.629805L13.3848 10.0042C14.2051 10.8278 14.2051 12.1843 13.3848 13.0079Z"/></svg></div>',
        fade: !0,
        lazyLoad: "ondemand",
        asNavFor: ".before-after-photo-slider .slider-small"
    }),
    $(".before-after-photo-slider .slider-small").slick({
        slidesToShow: 3,
        slidesToScroll: 1,
        asNavFor: ".before-after-photo-slider .slider-big",
        arrows: !0,
        prevArrow: '<div class="arrow arrow-prev"><svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.395473 6.95103L6.57923 0.4297C7.1225 -0.143232 8.01731 -0.143232 8.56059 0.429701C9.10386 1.00263 9.10386 1.94629 8.56059 2.51922L3.38349 7.99579L8.59254 13.4724C9.13582 14.0453 9.13582 14.9889 8.59254 15.5619C8.3209 15.8483 7.95339 16 7.60186 16C7.25033 16 6.88282 15.8483 6.61118 15.5619L0.395473 9.04055C-0.131824 8.46761 -0.131823 7.52396 0.395473 6.95103Z"/></svg></div>',
        nextArrow: '<div class="arrow arrow-next"><svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.60453 6.95103L2.42077 0.429701C1.8775 -0.143232 0.98269 -0.143232 0.439415 0.429701C-0.103861 1.00263 -0.103861 1.94629 0.439415 2.51922L5.61651 7.99579L0.407458 13.4724C-0.135817 14.0453 -0.135817 14.9889 0.407458 15.5619C0.679096 15.8483 1.04661 16 1.39814 16C1.74967 16 2.11718 15.8483 2.38882 15.5619L8.60453 9.04055C9.13182 8.46761 9.13182 7.52396 8.60453 6.95103Z"/></svg></div>',
        centerMode: !0,
        focusOnSelect: !0,
        lazyLoad: "ondemand",
        responsive: [{
            breakpoint: 992,
            settings: {
                slidesToShow: 2
            }
        }]
    }),
    $(".page-device").length && $(".video .show-more").click((function() {
        let t = $(this)
          , i = t.attr("data-device-id")
          , n = t.attr("data-offset");
        $.ajax({
            type: "POST",
            url: "/ajax/device-videos",
            data: {
                _token: e,
                device_id: i,
                offset: n
            }
        }).done((function(e) {
            if ((e = JSON.parse(e)).next_count ? t.attr("data-offset", +n + 2) : t.hide(),
            e.videos.length) {
                let i = "";
                e.videos.forEach((function(e) {
                    i += `\n\t\t\t\t\t\t\t<video class="video-item video-js vjs-theme-forest" controls="controls" data-setup="{}">\n\t\t\t\t\t\t\t\t<source src="${e.video}" />\n\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t`
                }
                )),
                t.parents(".video").find(".items").append(i),
                t.parents(".video").find(".items .video-item").each((function(e, t) {
                    videojs(t)
                }
                ))
            }
        }
        ))
    }
    )),
    $(".page-interior").length && ($(".interior-slider").slick({
        slidesToShow: 3,
        slidesToScroll: 1,
        arrows: !0,
        lazyLoad: "ondemand",
        prevArrow: '<div class="arrow arrow-prev"><svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.395473 6.95103L6.57923 0.4297C7.1225 -0.143232 8.01731 -0.143232 8.56059 0.429701C9.10386 1.00263 9.10386 1.94629 8.56059 2.51922L3.38349 7.99579L8.59254 13.4724C9.13582 14.0453 9.13582 14.9889 8.59254 15.5619C8.3209 15.8483 7.95339 16 7.60186 16C7.25033 16 6.88282 15.8483 6.61118 15.5619L0.395473 9.04055C-0.131824 8.46761 -0.131823 7.52396 0.395473 6.95103Z"/></svg></div>',
        nextArrow: '<div class="arrow arrow-next"><svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.60453 6.95103L2.42077 0.429701C1.8775 -0.143232 0.98269 -0.143232 0.439415 0.429701C-0.103861 1.00263 -0.103861 1.94629 0.439415 2.51922L5.61651 7.99579L0.407458 13.4724C-0.135817 14.0453 -0.135817 14.9889 0.407458 15.5619C0.679096 15.8483 1.04661 16 1.39814 16C1.74967 16 2.11718 15.8483 2.38882 15.5619L8.60453 9.04055C9.13182 8.46761 9.13182 7.52396 8.60453 6.95103Z"/></svg></div>',
        responsive: [{
            breakpoint: 992,
            settings: {
                slidesToShow: 2
            }
        }, {
            breakpoint: 576,
            settings: {
                slidesToShow: 1
            }
        }]
    }),
    $('.select-cities input[name="city"]').change((function() {
        let i = $(this).val();
        $.ajax({
            type: "POST",
            url: "/ajax/list/interiors-by-city",
            data: {
                _token: e,
                city_id: i
            }
        }).done((function(e) {
            let i = "";
            e.forEach((function(e) {
                e.interiors.length && (i += `\n\t\t\t\t\t\t<div class="item">\n\t\t\t\t\t\t\t<p class="address">\n\t\t\t\t\t\t\t\t<svg class="icon" width="24" height="28" viewBox="0 0 24 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t<path d="M12 0C5.4 0 0 5.4 0 12C0 21.5 11.1 27.6 11.5 27.9C11.8 28.1 12.2 28.1 12.5 27.9C13 27.6 24 21.5 24 12C24 5.4 18.6 0 12 0ZM12 19C8.1 19 5 15.9 5 12C5 8.1 8.1 5 12 5C15.9 5 19 8.1 19 12C19 15.9 15.9 19 12 19Z"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t${e["address_" + t]}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<a href="tel:${e.phone}" class="phone">\n\t\t\t\t\t\t\t\t<svg class="icon" width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t<path d="M13.1897 10.7136C14.8256 11.3687 16.0461 12.2443 16.9727 13.2733C17.2059 14.9415 15.9023 16.1622 14.7138 16.9132C11.8894 17.4117 7.88275 15.7436 4.56948 12.4297C1.25621 9.1126 -0.411607 5.10526 0.0868219 2.2867C0.837659 1.09472 2.05817 -0.205903 3.72599 0.027379C4.7548 0.954116 5.63024 2.17485 6.28523 3.81102C6.39386 4.08265 6.33315 4.39582 6.13186 4.60993C5.80277 4.96145 5.21169 5.55584 4.2979 6.3228C4.06786 6.51454 4.01035 6.84688 4.15732 7.10893C4.79633 8.24658 5.62385 9.34907 6.63668 10.3621C7.64951 11.3751 8.75181 12.206 9.88605 12.8451C10.148 12.9921 10.4803 12.9378 10.672 12.7045C11.4388 11.7905 12.0331 11.1962 12.3846 10.8702C12.605 10.6657 12.915 10.605 13.1897 10.7136Z"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t${e.phone_mask}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<div class="interior-slider">\n\t\t\t\t\t`,
                e.interiors.forEach((function(n) {
                    i += `\n\t\t\t\t\t\t\t<a href="${n.image}" class="slide" data-fancybox="gallery-${e.id}">\n\t\t\t\t\t\t\t\t<img src="${n.preview}" alt="${n["image_alt_" + t]}">\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t`
                }
                )),
                i += "\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t")
            }
            )),
            $(".interior .items").html(i),
            $(".interior-slider").slick({
                slidesToShow: 3,
                slidesToScroll: 1,
                arrows: !0,
                prevArrow: '<div class="arrow arrow-prev"><svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.395473 6.95103L6.57923 0.4297C7.1225 -0.143232 8.01731 -0.143232 8.56059 0.429701C9.10386 1.00263 9.10386 1.94629 8.56059 2.51922L3.38349 7.99579L8.59254 13.4724C9.13582 14.0453 9.13582 14.9889 8.59254 15.5619C8.3209 15.8483 7.95339 16 7.60186 16C7.25033 16 6.88282 15.8483 6.61118 15.5619L0.395473 9.04055C-0.131824 8.46761 -0.131823 7.52396 0.395473 6.95103Z"/></svg></div>',
                nextArrow: '<div class="arrow arrow-next"><svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.60453 6.95103L2.42077 0.429701C1.8775 -0.143232 0.98269 -0.143232 0.439415 0.429701C-0.103861 1.00263 -0.103861 1.94629 0.439415 2.51922L5.61651 7.99579L0.407458 13.4724C-0.135817 14.0453 -0.135817 14.9889 0.407458 15.5619C0.679096 15.8483 1.04661 16 1.39814 16C1.74967 16 2.11718 15.8483 2.38882 15.5619L8.60453 9.04055C9.13182 8.46761 9.13182 7.52396 8.60453 6.95103Z"/></svg></div>',
                responsive: [{
                    breakpoint: 992,
                    settings: {
                        slidesToShow: 2
                    }
                }, {
                    breakpoint: 576,
                    settings: {
                        slidesToShow: 1
                    }
                }]
            })
        }
        ))
    }
    ))),
    Fancybox.bind("[data-fancybox]", {}),
    $(".faq-item .answer").hide().prev().click((function() {
        $(this).parents(".items").find(".answer").not(this).slideUp().parents(".faq-item").removeClass("active"),
        $(this).next().not(":visible").slideDown().parents(".faq-item").addClass("active")
    }
    )),
    $(".page-service .contraindications .contraindication-item .item-text").prev().click((function() {
        $(this).parents(".items").find(".item-text").not(this).slideUp().parents(".contraindication-item").removeClass("active"),
        $(this).next().not(":visible").slideDown().parents(".contraindication-item").addClass("active")
    }
    )),
    $(".block-price .price-category .head .arrow").click((function() {
        $(this).parents(".price-category").toggleClass("active")
    }
    )),
    $(".block-price .price-category .price-services .item .line .arrow-small").click((function() {
        $(this).parents(".item").toggleClass("active")
    }
    )),
    $(".send-resume-popup .resume input").change((function() {
        let e = $(this).val().split("\\").pop();
        $(this).siblings("span").html(e)
    }
    )),
    $("img").bind("contextmenu", (function() {
        return !1
    }
    )),
    Share = {
        url: $('meta[property="og:url"]').attr("content"),
        telegram: function() {
            url = "https://t.me/share/url?",
            url += "url=" + encodeURIComponent(this.url),
            Share.popup(url)
        },
        viber: function() {
            url = "viber://forward?",
            url += "text=" + encodeURIComponent(this.url),
            Share.popup(url)
        },
        popup: function(e) {
            window.open(e, "", "toolbar=0,status=0,width=626,height=436")
        }
    }
}
)),
document.querySelectorAll(".page-contacts").length)
    function initMap() {
        let e = new google.maps.Map(document.querySelector("#map"),{
            zoom: 8,
            center: {
                lat: 46.481147,
                lng: 30.724141
            }
        })
          , t = {
            path: "M17.3913 0C7.82609 0 0 7.71429 0 17.1429C0 30.7143 16.087 39.4286 16.6667 39.8571C17.1014 40.1429 17.6812 40.1429 18.1159 39.8571C18.8406 39.4286 34.7826 30.7143 34.7826 17.1429C34.7826 7.71429 26.9565 0 17.3913 0ZM17.3913 27.1429C11.7391 27.1429 7.24638 22.7143 7.24638 17.1429C7.24638 11.5714 11.7391 7.14286 17.3913 7.14286C23.0435 7.14286 27.5362 11.5714 27.5362 17.1429C27.5362 22.7143 23.0435 27.1429 17.3913 27.1429Z",
            fillColor: "#E44DAE",
            fillOpacity: 1,
            strokeWeight: 0,
            scale: 1,
            anchor: new google.maps.Point(0,20)
        }
          , i = new google.maps.LatLngBounds;
        document.querySelectorAll(".contacts .items .item").forEach((function(n) {
            let s = new google.maps.LatLng(parseFloat(n.getAttribute("data-lat")),parseFloat(n.getAttribute("data-lng")));
            !function(i) {
                let n = new google.maps.Marker({
                    position: i.coordinates,
                    map: e,
                    icon: t
                });
                if (i.info) {
                    let t = new google.maps.InfoWindow({
                        content: i.info
                    });
                    n.addListener("click", (function() {
                        t.open(e, n)
                    }
                    ))
                }
            }({
                coordinates: s,
                info: `\n\t\t\t\t\t<p class="address">${n.querySelector(".address").innerText}</p>\n\t\t\t\t\t<p class="open-hours">${n.querySelector(".open-hours").innerText}</p>\n\t\t\t\t\t<p class="phone">${n.querySelector(".phone").innerText}</p>\n\t\t\t\t`
            }),
            i.extend(s)
        }
        )),
        e.fitBounds(i, 0);
        let n = !0;
        google.maps.event.addListener(e, "zoom_changed", (function() {
            !0 === n && e.getZoom() > 13 && (e.setZoom(13),
            n = !1)
        }
        ))
    }
